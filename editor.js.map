{"version":3,"file":"editor.js","mappings":";4OAAA,mBACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,UAIMA,EAAK,CACPC,OAAQ,IAAI,UACZC,MAAO,IAAI,UACXC,KAAM,IAAI,UACVC,QAAS,CACLC,MAAc,EACdC,UAAc,EACdC,QAAc,EACdC,WAAc,YACdC,SAAc,EACdC,aAAc,EACdC,OAAQ,OACRC,UAAW,KACXC,WAAc,KAElBC,MAAO,SAASC,EAAaC,GACzB,GAAmB,iBAARD,EACP,MAAM,IAAIE,MAAM,iCAEpB,IAAIC,EAAQ,IAAIC,KAAKhB,KAAKiB,MAAML,EAAKI,KAAMH,GAE3C,OADAG,KAAKhB,KAAKkB,QAAQH,GACXA,EAAMI,SAIfC,EAAQvB,EAAGC,OAAOuB,MASxB,SAASC,EAAOC,GACZ,OAAOA,EACFC,QAAQ,MAAO,OACfA,QAAQ,MAAO,QAGxB,SAASC,EAAUF,EAAcG,EAAkBX,aAE/C,SAASY,EAAIC,GACTF,EAAOG,KAAK,GAAG,KAAKC,OAAOf,EAAMgB,SAASH,KAG9CL,EAAMS,QAAuB,QAAb,EAAAT,EAAMS,eAAO,eAAER,QAAQ,MAAO,MAC9C,MAAMS,EAAkC,QAAxB,EAAAV,EAAMW,QAAQ,kBAAU,eAAEV,QAAQ,MAAO,MACnDW,EAAOb,EAA4B,QAArB,EAAAC,EAAMW,QAAQ,eAAO,QAAI,IAC7C,OAAQX,EAAMa,MACd,IAAK,SACD,IAAK,MAAMC,KAASd,EAAMe,SACtBb,EAAUY,EAAOX,EAAQX,GAE7B,MACJ,IAAK,OACD,IAAIiB,EAAUT,EAAMS,QAChBA,EAAQO,OAAS,KACZ,IAAAC,cAAaR,EAAQS,WAAWT,EAAQO,OAAS,MAClDP,GAAoB,KAExBL,EAAI,SAASL,EAAOU,SAExB,MACJ,IAAK,YAEGL,EADW,MAAXM,EACI,SAASE,iBAET,qBAAqBF,aAAmBE,mBAEhDpB,EAAMgB,QACNhB,EAAM2B,MAAMb,KAAKM,GACjB,MACJ,IAAK,cAEGR,EADW,MAAXM,EACI,YAAYE,MAEZ,aAAaF,0BAAgCE,YAErD,MACJ,IAAK,eAEGR,EADW,MAAXM,EACI,kBAEA,aAAaA,iBAErBlB,EAAMgB,QACN,MACJ,IAAK,gBACL,IAAK,kBACDJ,EAAI,QAAQJ,EAAMS,YAClB,MACJ,IAAK,aACDL,EAAIJ,EAAMS,SACV,MACJ,QACI,OAAQT,EAAMoB,SACd,KAAK,EACDhB,EAAI,SAASJ,EAAMqB,kBACnB7B,EAAMgB,QACN,MACJ,KAAM,EACFhB,EAAMgB,QACNJ,EAAI,QACJ,MACJ,KAAK,EACiB,aAAdJ,EAAMa,MACc,IAAbb,EAAMqB,KACbjB,EAAI,WAAWJ,EAAMqB,WASrC,SAAgBC,EAAcjC,EAAakC,EAAwB/B,GAC/D,IAAIgC,EAAahC,EAAMgB,MACvB,IAAI,MAAMiB,KAASnD,EAAGc,MAAMsC,EAAWrC,GAAM,IACzCa,EAAUuB,EAAOF,EAAc/B,GAEnC,KAAOA,EAAMgB,MAAQgB,GACjBtB,EAAU,IAAI,UAAM,gBAAiB,IAAK,GAAIqB,EAAc/B,GAIpE,SAASkC,EAAWrC,GAChB,IAAIsC,EAAM,EACNC,EAAM,GACV,KAAOD,EAAMtC,EAAI2B,QAAQ,CACrB,IAEIa,EACAC,EAHAC,EAAK1C,EAAI2C,QAAQ,KAAML,GACvBM,EAAK5C,EAAI2C,QAAQ,KAAML,GAG3B,GAAII,GAAM,EACND,EAAQC,EACRF,EAAS,SACN,MAAII,GAAM,GAGV,CACHL,GAAOvC,EAAI6C,UAAUP,GACrB,MAJAG,EAAQG,EACRJ,EAAS,KAKbD,GAAOvC,EAAI6C,UAAUP,EAAKG,GAC1B,IAAIK,EAAM9C,EAAI2C,QAAQH,EAAQF,EAAM,GAChCQ,EAAM,EACNA,EAAM9C,EAAI2B,OAEVmB,GAAY,EAGhBP,GAAOvC,EAAI6C,UAAUJ,EAAOK,GAAKlC,QAAQ,MAAO,MAChD0B,EAAMQ,EAEV,OAAOP,EAlIX/B,EAAMuC,QAAQ,CAAC,OAAQ,QAAS,aAChCvC,EAAMS,KAAK,eAAgB,WAC3BT,EAAMS,KAAK,gBAAiB,WAC5BT,EAAMS,KAAK,aAAc,WACzBT,EAAMS,KAAK,eAAgB,WAC3BT,EAAMS,KAAK,WAAY,WACvBhC,EAAGE,MAAMsB,MAAMsC,QAAQ,CAAC,cAmFxB,iBAAsB/C,GAAe,OAAOf,EAAGc,MAAMsC,EAAWrC,GAAM,KAEtE,kBA0CA,sBAA2BgD,GACvB,IAAIC,EAAYD,EAAME,aAAa,aAC/BC,EAA+B,KACnC,MAAMC,EAAgB,CAAC,8BACvBA,EAAInC,KAAK,YAAYP,EAAOsC,EAAME,aAAa,aAC/CE,EAAInC,KAAK,gBACT,IAAK,IAAIoC,EAAI,EAAGA,EAAIL,EAAMtB,SAASC,OAAQ0B,IAAK,CAC5C,IAAIC,EAAON,EAAMtB,SAAS2B,GAC1B,GAAmC,mBAA/BC,EAAKC,QAAQC,cAAoC,CAC7CP,IAAcK,EAAKJ,aAAa,SAChCC,EAAgBG,EAAKJ,aAAa,SAEtCE,EAAInC,KAAK,OAAOP,EAAO4C,EAAKJ,aAAa,kBACzC,IAAIO,EAAOH,EAAKJ,aAAa,QAAQQ,MAAM,KACvB,IAAhBD,EAAK9B,QAA4B,KAAZ8B,EAAK,KAC1BA,EAAO,IAEXL,EAAInC,KAAK,gBAAgBwC,EAAKE,KAAIC,GAAK,KAAKlD,EAAOkD,gBAAeC,KAAK,WACvET,EAAInC,KAAK,mBAAmBqC,EAAKJ,aAAa,iBAC9CE,EAAInC,KAAK,4BACT,IAAIa,EAAkB,GACtBG,EAAcqB,EAAKQ,YAAaV,EAAK,CAACjC,MAAO,EAAGW,UAChDsB,EAAInC,KAAK,YACTmC,EAAInC,KAAK,iBAAiBa,EAAM6B,KAAIC,GAAK,IAAIlD,EAAOkD,QAAOC,KAAK,UAChET,EAAInC,KAAK,SAMjB,OAHAmC,EAAInC,KAAK,KACTmC,EAAInC,KAAK,mBAAmBP,EAAOyC,OAE5BC,EAAIS,KAAK,yGCxMpB,gBAEA,UAEME,EAAM,IAAIC,YACVC,EAAe,gBAErB,SAASC,EAAMC,EAAcnE,EAAac,EAAsBsD,GAC5D,GAAI,EAAAC,QAAQC,cAAcH,EAAGJ,EAAIQ,OAAOvE,IAAO,CAC3C,IAAIwE,EAAW,EAAAC,IAAIC,eAAeP,EAAG,EAAAM,IAAIE,WAAWR,KAC/CS,EAAGC,EAAMC,GAAON,EAASO,MAAMd,GACpCnD,EAAOG,KAAK,CAER+D,KAAM,CAACC,GAAI,EAAGJ,KAAMT,EAAI,GAAKc,OAAOL,GAAQ,GAC5CM,GAAI,CAACF,GAAI,EAAGJ,KAAMT,EAAI,GAAKc,OAAOL,IAClCO,SAAU,QACVC,QAASP,KAerB,SAASQ,EAAQlD,EAActB,EAAsBqD,EAAcoB,EAC/DpF,GAGA,SAASqF,IACL,GAAc,MAAVD,EACA,MAAO,CAAC,EAAG,GAEf,IAAIvF,EAAMuF,EAAOnE,QACbyD,EAAO,EACPY,EAAa,EACbrB,EAAMhC,EAAMsD,KAChB,IAAK,IAAIrC,EAAI,EAAGA,EAAIe,EAAKf,IACI,IAArBrD,EAAI6B,WAAWwB,KACfwB,IACAY,EAAapC,GAGrB,MAAO,CAACwB,EAAOU,EAAO5B,IAAM,GAAKxD,EAAMwF,WAAYvB,EAAMqB,GAG7D,SAASG,YAGL,OADAzF,EAAM0F,mBAjCd,SAAoB7F,EAAa8F,GAC7B,IAAIC,EAAQ,EACZ,IAAK,IAAI1C,EAAI,EAAGA,EAAIrD,EAAI2B,OAAQ0B,IA+B+B,IA9BvDrD,EAAI6B,WAAWwB,IACf0C,IAGR,OAAOA,EA0BwBC,CAAwB,QAAb,EAAA5D,EAAMhB,eAAO,QAAI,IACnC,QAAb,EAAAgB,EAAMhB,eAAO,eAAER,QAAQ,MAAO,MAGzC,OAAQwB,EAAMZ,MACd,IAAK,SACD,IAAK,MAAMC,KAASW,EAAMV,SACtB4D,EAAQ7D,EAAOX,EAAQqD,EAAG/B,EAAOjC,GAErC,MACJ,IAAK,aACD+D,EAAMC,EAAGyB,IAAkB9E,EAAQ0E,KACnC,MACJ,IAAK,gBACL,IAAK,kBACDtB,EAAMC,EAAG,QAAQyB,OAAqB9E,EAAQ0E,KAC9C,MACJ,IAAK,eACDtB,EAAMC,EAAG,aAAayB,uBAAqC9E,EAAQ0E,KAGvErF,EAAMwF,YAAcxF,EAAM0F,kBAC1B1F,EAAM0F,kBAAoB,EAmB9B,sBAA2BI,EAAaC,GACpC,OAAO9E,IAEH,IAAI+C,EAAI,EAAAE,QAAQ8B,gBAChB,EAAAC,OAAOC,cAAclC,GACrB,IAAK,IAAImC,IAAS,CAAC,MAAO,OAAQ,MAAO,OAAQ,SAAU,QAAS,cAChE,EAAA7B,IAAI8B,aAAapC,EAAGmC,GAAOnC,GAAK,IAEpC,IAAIrD,EAAuB,GAC3BoD,EAAMC,EAAG8B,EAAKnF,EAAQ,CAAC,EAAG,IAE1BoD,EAAMC,EA1Bd,SAA2B+B,GACvB,OAAIA,EACO,GAAGM,OACNN,EAASO,QAAOC,GAAKA,EAAEjD,KAAKkD,SAAS,aAChCH,OAAON,EAASO,QAAOC,GAAKA,EAAEjD,KAAKkD,SAAS,aAChDhD,KAAI+C,IACD,IAAIE,EAAS,GAEb,OADA,IAAA3E,eAAcyE,EAAEG,KAAMD,EAAQ,CAACzF,MAAO,EAAGW,MAAO,KACzC8E,EAAO/C,KAAK,UACnBA,KAAK,MAEN,GAeEiD,CAAkBZ,KAAapF,EAAQ,CAAC,EAAG,IAGpD,IAAK,IAAIiG,KAAKjG,EACViG,EAAE/B,KAAO,CAACC,GAAI,EAAGJ,KAAM,GACvBkC,EAAE5B,GAAK,CAACF,GAAI,EAAGJ,KAAM,GAGzB,IAAI1E,EAAQ,CAACwF,WAAY,EAAGE,kBAAmB,GAC/C,IAAI,IAAIzD,KAAS,IAAArC,OAAMqB,GACnBkE,EAAQlD,EAAOtB,EAAQqD,EAAG,KAAMhE,GAEpC,OAAOW,gFCrHf,mBAAyBX,EAAoB6G,GAEzC,GAAwC,KAApC7G,EAAMH,IAAI6B,WAAW1B,EAAMiE,KAAuB,CAGlD,MAAM6C,EAAY9G,EAAMI,OAAOJ,EAAMI,OAAOoB,OAAS,GACrD,IAAIN,EAWJ,OAVI4F,GAAgC,iBAAlBA,EAAUzF,MAA6C,mBAAlByF,EAAUzF,KAK7DH,EAAU,MAHVlB,EAAMI,OAAO2G,OAAO/G,EAAMI,OAAOoB,OAAS,EAAG,GAC7CN,EAAU4F,EAAU7F,SAKxBjB,EAAMc,KAAK,eAAgB,GAAI,GAAGkG,MAAQ,CAAC,CAAC,UAAW9F,IACvDlB,EAAMiE,OACC,EAGX,OAAwC,KAApCjE,EAAMH,IAAI6B,WAAW1B,EAAMiE,OAC3BjE,EAAMc,KAAK,gBAAiB,GAAId,EAAMgB,OAAS,EAAI,GAAK,GACxDhB,EAAMiE,OACC,gFCvBf,mBAAyBjE,EAAoB6G,GAGzC,IAAK7G,EAAMH,IAAIoH,WAAW,KAAMjH,EAAMiE,KAClC,OAAO,EAEX,MAAMiD,EAAYlH,EAAMH,IAAI2C,QAAQ,KAAMxC,EAAMiE,IAJ3B,GAKrB,IAAIkD,EAAkBC,EAClBF,EAAY,GACZC,EAAWnH,EAAMH,IAAI2B,OACrB4F,EAAYpH,EAAMH,IAAI2B,SAEtB2F,EAAWD,EACXE,EAAYF,EAXK,GAarB,IAAIG,EAAMrH,EAAMc,KAAK,kBAAmB,GAAI,GAI5C,OAHAuG,EAAIpG,QAAUjB,EAAMH,IAAIyH,MAAMtH,EAAMiE,IAdf,EAcmCkD,GACxDE,EAAI9B,KAAOvF,EAAMiE,IACjBjE,EAAMiE,IAAMmD,GACL,+ECnBX,mBAAyBpH,EAAoB6G,GAGzC,IAAK7G,EAAMH,IAAIoH,WAAW,KAAMjH,EAAMiE,KAClC,OAAO,EAGX,MAAMsD,EAAWvH,EAAMiE,IALF,EAMfuD,EAASxH,EAAMyH,OACrB,IAgCIC,EAhCAC,EAASJ,EACTK,GAAW,EACXC,GAAW,EACf,KAAOF,EAASH,IAAWxH,EAAMH,IAAIoH,WAAW,KAAMU,KAGjC,IAAbE,GAAkB7H,EAAMH,IAAIoH,WAAW,KAAMU,GAC7CE,EAAUF,EACH3H,EAAMH,IAAIoH,WAAW,KAAMU,KAClCC,EAAUD,GAEdA,IAGJ,GAAIA,IAAWH,EAEX,OAAO,GAGM,IAAbI,IAA+B,IAAbC,IAEAA,EAAUN,EACVI,GAAUC,EA7BX,GAgCbA,GAAW,EAEXC,GAAW,IAMF,IAAbD,GACAF,EAAS1H,EAAMH,IAAIyH,MAAMM,EAzCR,EAyCgCD,GAAQG,OACzD9H,EAAMiE,IAAMsD,EACZvH,EAAMyH,OAASG,IACK,IAAbC,GACPH,EAAS1H,EAAMH,IAAIyH,MAAMC,EAAUM,GAASC,OAC5C9H,EAAMiE,IAAM4D,EA9CK,EA+CjB7H,EAAMyH,OAASE,IAEfD,EAAS1H,EAAMH,IAAIyH,MAAMC,EAAUI,GAAQG,OAC3C9H,EAAMiE,IAAMsD,EACZvH,EAAMyH,OAASE,GAInB,MAAMb,EAAY9G,EAAMI,OAAOJ,EAAMI,OAAOoB,OAAS,GACrD,IAAIN,EAsBJ,OArBI4F,GAAgC,iBAAlBA,EAAUzF,MAA6C,mBAAlByF,EAAUzF,KAK7DH,EAAU,MAHVlB,EAAMI,OAAO2G,OAAO/G,EAAMI,OAAOoB,OAAS,EAAG,GAC7CN,EAAU4F,EAAU7F,UAMP,IAAb2G,GAAqE,IAAnD5H,EAAMH,IAAIyH,MAAMtH,EAAMiE,IAAKjE,EAAMyH,QAAQK,OAC3D9H,EAAMc,KAAK,cAAe,GAAI,GAAGkG,MAAQ,CAAE,CAAC,OAAQU,GAAS,CAAC,UAAWxG,KAGzElB,EAAMc,KAAK,YAAa,IAAK,GAAGkG,MAAQ,CAAE,CAAC,OAAQU,GAAS,CAAC,UAAWxG,IACxElB,EAAMlB,GAAGC,OAAOgJ,SAAS/H,GACzBA,EAAMc,KAAK,aAAc,KAAM,IAInCd,EAAMiE,IAAM0D,EA5ES,EA6ErB3H,EAAMyH,OAASD,GACR,+EChFX,mBAAyBxH,EAAoB6G,GAGzC,IAAK7G,EAAMH,IAAIoH,WAAW,KAAMjH,EAAMiE,KAClC,OAAO,EAEX,MAAMiD,EAAYlH,EAAMH,IAAI2C,QAAQ,KAAMxC,EAAMiE,IAJ3B,GAKrB,IAAIkD,EAAkBC,EAClBF,EAAY,GACZC,EAAWnH,EAAMH,IAAI2B,OACrB4F,EAAYpH,EAAMH,IAAI2B,SAEtB2F,EAAWD,EACXE,EAAYF,EAXK,GAarB,IAAIG,EAAMrH,EAAMc,KAAK,aAAc,GAAI,GAIvC,OAHAuG,EAAIpG,QAAUjB,EAAMH,IAAIyH,MAAMtH,EAAMiE,IAdf,EAcmCkD,GACxDE,EAAI9B,KAAOvF,EAAMiE,IACjBjE,EAAMiE,IAAMmD,GACL,8BCnBX,SAASY,EAASC,GACd,OAAgB,KAATA,GAAkBA,GAAQ,IAAQA,GAAQ,IAAUA,GAAQ,IAAQA,GAAQ,IAGvF,SAASC,EAAiBD,GACtB,OAAOD,EAASC,IAAUA,GAAQ,IAAQA,GAAQ,GAGtD,SAASE,EAAmBnI,EAAoBW,GAC5C,IAAI2B,EAAQtC,EAAMiE,IAClB,GAAuC,IAAnCjE,EAAMH,IAAI6B,WAAW1B,EAAMiE,KAC3B,OAAO,EAEX,IAAK+D,EAAShI,EAAMH,IAAI6B,WAAW1B,EAAMiE,IAAM,IAC3C,OAAO,EAEXjE,EAAMiE,MACN,GACIjE,EAAMiE,YACDjE,EAAMiE,IAAMjE,EAAMH,IAAI2B,QAAU0G,EAAiBlI,EAAMH,IAAI6B,WAAW1B,EAAMiE,OAErF,OADAtD,EAAOG,KAAKd,EAAMH,IAAIyH,MAAMhF,EAAOtC,EAAMiE,OAClC,EAGX,SAASmE,EAAepI,EAAoBW,EAAkB0H,EAAe1F,GACzE,GAAI3C,EAAMH,IAAI6B,WAAW1B,EAAMiE,MAAQoE,EACnC,OAAO,EAEX,IAGIJ,EAHA3F,EAAQtC,EAAMiE,IACdA,EAAMjE,EAAMiE,IACZjD,EAAQ,EAEZ,GACIiD,IACAgE,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACxBgE,GAAQI,EACRrH,IACOiH,GAAQtF,GACf3B,UAECA,EAAQ,GAAa,IAARiH,GAAgBhE,EAAMjE,EAAMH,IAAI2B,QACtD,OAAa,GAATR,IACAhB,EAAMiE,IAAMA,EAAM,EAClBtD,EAAOG,KAAKd,EAAMH,IAAIyH,MAAMhF,EAAOtC,EAAMiE,OAClC,GAKf,SAASqE,EAAiBtI,EAAoBW,GAC1C,IAAKX,EAAMH,IAAIoH,WAAW,KAAMjH,EAAMiE,KAClC,OAAO,EAEX,IAAIsE,EAAQvI,EAAMH,IAAI2C,QAAQ,KAAMxC,EAAMiE,IAAM,GAChD,QAAIsE,EAAQ,IAGZ5H,EAAOG,KAAK,gBACZH,EAAOG,KAAKd,EAAMH,IAAIyH,MAAMtH,EAAMiE,IAAM,EAAGsE,IAC3C5H,EAAOG,KAAK,SACZd,EAAMiE,IAAMsE,EAAQ,EACb,qDAGX,mBAAyBvI,EAAoB6G,GAEzC,GAAwC,KAApC7G,EAAMH,IAAI6B,WAAW1B,EAAMiE,KAC3B,OAAO,EAEX,IAAK+D,EAAShI,EAAMH,IAAI6B,WAAW1B,EAAMiE,IAAM,IAC3C,OAAO,EAEX,MAAM3B,EAAQtC,EAAMiE,IAAMjE,EAAMiE,IAAM,EACtC,GACIjE,EAAMiE,YACDiE,EAAiBlI,EAAMH,IAAI6B,WAAW1B,EAAMiE,OACrD,IAAItD,EAAS,CAACX,EAAMH,IAAIyH,MAAMhF,EAAOtC,EAAMiE,MAC3C,KAAOkE,EAAmBnI,EAAOW,IAC1ByH,EAAepI,EAAOW,EAAQ,GAAM,KACpCyH,EAAepI,EAAOW,EAAQ,IAAM,MACpC2H,EAAiBtI,EAAOW,KAI/B,IAAI0G,EAAMrH,EAAMc,KAAK,gBAAiB,GAAI,GAG1C,OAFAuG,EAAIpG,QAAUN,EAAO+C,KAAK,IAC1B2D,EAAI9B,KAAOjD,GACJ,2KC1FX,OACA,QACA,QACA,QACA,QAIA,QACA,mBACA,UACA,YAEA,aAEA,SAASkG,EAAaC,EAAY5I,GAC9B,IAAI6I,EAAiBC,SAASC,cAAc,SAASH,KAChDC,IACDA,EAAiBC,SAASE,cAAc,SACxCH,EAAeI,aAAa,KAAML,GAClCE,SAASI,KAAKC,YAAYN,IAE9BA,EAAeO,UAAYpJ,EAG/B2I,EAAa,UAAW,WACxBA,EAAa,cAAe,WA0C5BU,OAAOC,WAAWC,WAAW,YAxC7B,SAASC,EAAYC,GACjB,IAAIC,EAAUL,OAAOC,WAAWK,WAAWF,EAAQ,CACnDhH,MAAO,CACH,CAACmH,MAAO,OAAQxH,MAAO,MAAOyH,KAAM,CAACC,KAAM,MAAOhH,IAAK,SACvD,CAAC8G,MAAO,OAAQxH,MAAO,MAAOyH,KAAM,CAACC,KAAM,MAAOhH,IAAK,SACvD,CAAC8G,MAAO,iBAAkBxH,MAAO,aAAcnB,KAAM,cACrD,CAAC2I,MAAO,mBAAoBxH,MAAO,CAAC,UAAW,OAAQ,UAAW,YAClE,CAACwH,MAAO,8BAA+BxH,MAAO,CAAC,UAAW,OAAQ,YAClE,CAACwH,MAAO,OAAQxH,MAAO,WACvB,CAACwH,MAAO,gBAAiBxH,MAAO,CAAC,UAAW,OAAQ,YACpD,CAACwH,MAAO,OAAQxH,MAAO,WACvB,CAACwH,MAAO,KAAMxH,MAAO,WACrB,CAACwH,MAAO,OAAQxH,MAAO,OACvB,CAACwH,MAAO,kBACR,CAACA,MAAO,SAAUC,KAAM,CAACC,KAAM,WAAYhH,IAAK,qBAAsBiH,YAAY,KAEtFC,WAAY,CACR,CAACC,KAAK,EAAMC,KAAK,GACjB,CAACN,MAAO,KAAMxH,MAAO,UAAWyH,KAAM,CAACC,KAAM,MAAOhH,IAAK,OACzD,CAAC8G,MAAO,YAAaxH,MAAO,CAAC,cAAe,YAAa+H,KAAM,cAC/D,CAACP,MAAO,KAAMxH,MAAO,UAAWyH,KAAM,CAACC,KAAM,MAAOhH,IAAK,OACzD,CAAC8G,MAAO,KAAMxH,MAAO,UAAWyH,KAAM,CAACC,KAAM,MAAOhH,IAAK,OACzD,CAAC8G,MAAO,GAAIM,KAAK,MAGjBE,EAAMZ,EAAoBY,GAE9B,GAAUC,MAAND,EAAiB,CACjBA,EAAGE,UAAU,QAAQ,GACrBF,EAAGE,UAAU,eAAe,GAC5BF,EAAGE,UAAU,kBAAkB,GAC/BF,EAAGE,UAAU,aAAc,GAE3B,IAAK,IAAIC,KAAMH,EAAWI,UAAUC,OAChCF,EAAEH,GAGV,OAAOV,KAKXL,OAAOC,WAAWoB,eAAe,OAAQ,YAAY,IAAAC,YAAW,WAC5D,KAAK,YAAC,OAA8E,QAA9E,EAAoE,QAApE,EAA6D,QAA7D,EAAoD,QAApD,EAAC7B,SAASC,cAAc,4BAA4B,eAAE6B,eAAO,eAAE5H,aAAK,eAAEkD,gBAAQ,QAAI,mBC7DzF,SAASoD,GACV,aACA,IAAIuB,EAAY,0BAsBhB,SAASC,EAAGC,GACNA,EAAIC,YAAYD,EAAIC,WAAWC,YAAYF,GASjD,SAASG,EAAed,EAAIe,EAAG/J,EAASkC,GACtC,IAAI8H,EA9BN,SAAqBhB,EAAIe,EAAG/J,GAC1B,IAAIiK,EAAKvC,SAASE,cAAc,OAQhC,SAASsC,EAASH,GAChB,IAAKE,EAAGL,WAAY,OAAO1B,EAAWiC,IAAIzC,SAAU,YAAawC,GACjED,EAAGG,MAAMC,IAAMC,KAAKC,IAAI,EAAGR,EAAES,QAAUP,EAAGQ,aAAe,GAAK,KAC9DR,EAAGG,MAAMM,KAAQX,EAAEY,QAAU,EAAK,KAKpC,OAfAV,EAAGW,UAAY,gCAAkC5B,EAAG/K,QAAQ4M,MAC5DZ,EAAGlC,YAAY/H,EAAQ8K,WAAU,IAC7B9B,EAAGjK,MAAMgM,KAAK9M,QAAQ+M,YACxBhC,EAAGiC,oBAAoBlD,YAAYkC,GAEnCvC,SAASwD,KAAKnD,YAAYkC,GAO5B/B,EAAWiD,GAAGzD,SAAU,YAAawC,GACrCA,EAASH,GACe,MAApBE,EAAGG,MAAMgB,UAAiBnB,EAAGG,MAAMgB,QAAU,GAC1CnB,EAaOoB,CAAYrC,EAAIe,EAAG/J,GACjC,SAASsL,IATX,IAAqBrB,EAUjB/B,EAAWiC,IAAIjI,EAAM,WAAYoJ,GAC7BtB,KAXaC,EAWUD,GAVrBJ,aACgB,MAApBK,EAAGG,MAAMgB,SAAiB1B,EAAGO,GACjCA,EAAGG,MAAMgB,QAAU,EACnBG,YAAW,WAAa7B,EAAGO,KAAQ,MAOID,EAAU,MAEjD,IAAIwB,EAAOC,aAAY,WACrB,GAAIzB,EAAS,IAAK,IAAI0B,EAAIxJ,GAAOwJ,EAAIA,EAAE9B,WAAY,CAEjD,GADI8B,GAAmB,IAAdA,EAAEC,WAAgBD,EAAIA,EAAEE,MAC7BF,GAAKhE,SAASwD,KAAM,OACxB,IAAKQ,EAAG,CAAEJ,IAAQ,OAEpB,IAAKtB,EAAS,OAAO6B,cAAcL,KAClC,KACHtD,EAAWiD,GAAGjJ,EAAM,WAAYoJ,GAGlC,SAASQ,EAAU9C,EAAI+C,EAAMC,GAM3B,IAAK,IAAIC,KALTjN,KAAKkN,OAAS,GACVH,aAAgBI,WAAUJ,EAAO,CAACK,eAAgBL,IACjDA,IAAiB,IAATA,IAAeA,EAAO,IACnC/M,KAAKf,QAAU,GACfe,KAAKqN,cAAgBN,EAAK9N,SAAW,GACpBqO,EAAUtN,KAAKf,QAAQgO,GAAQK,EAASL,GACzD,IAAK,IAAIA,KAAQF,EACXO,EAASC,eAAeN,GACR,MAAdF,EAAKE,KAAejN,KAAKf,QAAQgO,GAAQF,EAAKE,IACxCF,EAAK9N,UACfe,KAAKqN,cAAcJ,GAAQF,EAAKE,IAGpCjN,KAAKwN,QAAU,KACfxN,KAAKgN,UAAYA,EACjBhN,KAAKyN,YAAc,SAAS1C,IA6K9B,SAAqBf,EAAIe,GACvB,IAAItD,EAASsD,EAAEtD,QAAUsD,EAAE2C,WAC3B,GAAK,0BAA0BC,KAAKlG,EAAOmE,WAA3C,CAKA,IAJA,IAAIgC,EAAMnG,EAAOoG,wBAAyBvH,GAAKsH,EAAIlC,KAAOkC,EAAIE,OAAS,EAAGC,GAAKH,EAAIvC,IAAMuC,EAAII,QAAU,EACnGC,EAAQjE,EAAGkE,YAAYlE,EAAGmE,WAAW,CAACzC,KAAMpF,EAAG+E,IAAK0C,GAAI,WAExDK,EAAc,GACTnL,EAAI,EAAGA,EAAIgL,EAAM1M,SAAU0B,EAAG,CACrC,IAAIoL,EAAMJ,EAAMhL,GAAGqL,aACfD,GAAKD,EAAYvN,KAAKwN,GAExBD,EAAY7M,QArBlB,SAAuByI,EAAIoE,EAAarD,GAGtC,IAFA,IAAItD,EAASsD,EAAEtD,QAAUsD,EAAE2C,WACvB1C,EAAUtC,SAAS6F,yBACdtL,EAAI,EAAGA,EAAImL,EAAY7M,OAAQ0B,IAAK,CAC3C,IAAIoL,EAAMD,EAAYnL,GACtB+H,EAAQjC,YAAYyF,EAAkBH,IAExCvD,EAAed,EAAIe,EAAGC,EAASvD,GAcPgH,CAAczE,EAAIoE,EAAarD,IAxLtB0C,CAAYzD,EAAIe,IACjD/K,KAAK0O,WAAa,EAGpB,IAAIpB,EAAW,CACbqB,gBAAgB,EAChBC,UAAU,EACVC,MAAO,IACPC,cAAc,EACd1B,eAAgB,KAChB2B,OAAO,EACP/C,YAAa,KACbgD,iBAAkB,KAClBC,gBAAiB,MAGnB,SAASC,EAAWlF,GAClB,IAAIjK,EAAQiK,EAAGjK,MAAMgM,KACjBhM,EAAMiN,WAAWhD,EAAGmF,YAAY1E,GAChC1K,EAAMd,QAAQ0P,gBAMpB,SAAyB3E,GACvBA,EAAGoF,UAAS,SAAS3K,GACnB,IAAI4K,EAAM5K,EAAK6K,WAAa,+BAA+BC,KAAK9K,EAAK6K,WACjED,GAAKrF,EAAGwF,gBAAgB/K,EAAM,OAAQ4K,EAAI,OATdI,CAAgBzF,GAClD,IAAK,IAAI/G,EAAI,EAAGA,EAAIlD,EAAMmN,OAAO3L,SAAU0B,EACzClD,EAAMmN,OAAOjK,GAAGyM,QAClB3P,EAAMmN,OAAO3L,OAAS,EAUxB,SAASoO,EAAW3F,EAAI4F,EAAQ5K,EAAU6K,EAAUjB,GAClD,IAAIkB,EAASpH,SAASE,cAAc,OAAQmH,EAAQD,EAWpD,OAVAA,EAAOlE,UAAY,iDAAmD5G,EAClE6K,KACFE,EAAQD,EAAO/G,YAAYL,SAASE,cAAc,SAC5CgD,UAAY,0DAGJ,GAAZgD,GAAmB1F,EAAWiD,GAAG4D,EAAO,aAAa,SAAShF,GAChED,EAAed,EAAIe,EAAG6E,EAAQG,MAGzBD,EAiBT,SAAStB,EAAkBH,GACzB,IAAIrJ,EAAWqJ,EAAIrJ,SACdA,IAAUA,EAAW,SAC1B,IAAIgL,EAAMtH,SAASE,cAAc,OAOjC,OANAoH,EAAIpE,UAAY,mDAAqD5G,OACvC,IAAnBqJ,EAAI4B,YACbD,EAAIhH,UAAYqF,EAAI4B,YAEpBD,EAAIjH,YAAYL,SAASwH,eAAe7B,EAAIpJ,UAEvC+K,EAmBT,SAASG,EAAanG,GACpB,IAAIjK,EAAQiK,EAAGjK,MAAMgM,KACrB,GAAKhM,EAAL,CACA,IAAId,EAAUc,EAAMd,QAKhBmO,EAAiBnO,EAAQmO,gBAAkBpD,EAAGoG,UAAUlH,EAAWmH,IAAI,EAAG,GAAI,QAClF,GAAKjD,EACL,GAAInO,EAAQ8P,OAAS3B,EAAe2B,OA1BtC,SAAmB/E,EAAIoD,GACrB,IAAIrN,EAAQiK,EAAGjK,MAAMgM,KACjBvD,IAAOzI,EAAM2O,WACjB,SAAS4B,IACP9H,GAAM,EACNwB,EAAGmB,IAAI,SAAUmF,GAEnBtG,EAAGmC,GAAG,SAAUmE,GAChBlD,EAAepD,EAAGuG,YAAY,SAASnC,EAAaoC,GAClDxG,EAAGmB,IAAI,SAAUmF,GACbvQ,EAAM2O,YAAclG,IACpBgI,GAAQpC,aAAuBlF,IAAYkF,EAAcoC,GAC7DxG,EAAGyG,WAAU,WAAYC,EAAc1G,EAAIoE,SAC1CrO,EAAMsN,cAAerD,GActB2G,CAAU3G,EAAIoD,OACT,CACL,IAAIgB,EAAchB,EAAepD,EAAGuG,WAAYxQ,EAAMsN,cAAerD,GACrE,IAAKoE,EAAa,OACdA,EAAYwC,KAAMxC,EAAYwC,MAAK,SAASC,GAC9C7G,EAAGyG,WAAU,WAAYC,EAAc1G,EAAI6G,SAExC7G,EAAGyG,WAAU,WAAYC,EAAc1G,EAAIoE,QAIpD,SAASsC,EAAc1G,EAAI8G,GACzB,IAlEsBnK,EAAGoK,EAkErBhR,EAAQiK,EAAGjK,MAAMgM,KACrB,GAAKhM,EAAL,CACA,IAAId,EAAUc,EAAMd,QACpBiQ,EAAWlF,GAIX,IAFA,IAAIoE,EAlEN,SAAqBA,GAEnB,IADA,IAAI4C,EAAQ,GACH/N,EAAI,EAAGA,EAAImL,EAAY7M,SAAU0B,EAAG,CAC3C,IAAIoL,EAAMD,EAAYnL,GAAIwB,EAAO4J,EAAIzJ,KAAKH,MACzCuM,EAAMvM,KAAUuM,EAAMvM,GAAQ,KAAK5D,KAAKwN,GAE3C,OAAO2C,EA4DWC,CAAYH,GAErBrM,EAAO,EAAGA,EAAO2J,EAAY7M,SAAUkD,EAAM,CACpD,IAAIyM,EAAO9C,EAAY3J,GACvB,GAAKyM,EAAL,CAGA,IAAIjM,EAAU,GACdiM,EAAOA,EAAK7K,QAAO,SAAS8K,GAAQ,QAAOlM,EAAQ1C,QAAQ4O,EAAKlM,UAAY,IAAYA,EAAQpE,KAAKsQ,EAAKlM,YAK1G,IAHA,IAAImM,EAAc,KACdC,EAAWtR,EAAMiN,WAAatE,SAAS6F,yBAElCtL,EAAI,EAAGA,EAAIiO,EAAK3P,SAAU0B,EAAG,CACpC,IAAIoL,EAAM6C,EAAKjO,GACX+B,EAAWqJ,EAAIrJ,SACdA,IAAUA,EAAW,SAvFL+L,EAwFqB/L,EAA1CoM,EAvFK,UADazK,EAwFWyK,GAvFRzK,EACboK,EAwFJ9R,EAAQ+P,mBAAkBX,EAAMpP,EAAQ+P,iBAAiBX,IACzDtO,EAAMiN,WAAWqE,EAAStI,YAAYyF,EAAkBH,IAExDA,EAAItJ,IAAIhF,EAAMmN,OAAOrM,KAAKmJ,EAAGsH,SAASjD,EAAIzJ,KAAMyJ,EAAItJ,GAAI,CAC1D6G,UAAW,6CAA+C5G,EAC1DsJ,aAAcD,KAIdtO,EAAMiN,WACRhD,EAAGuH,gBAAgB9M,EAAMgG,EAAWkF,EAAW3F,EAAIqH,EAAUD,EAAahD,EAAY3J,GAAMlD,OAAS,EACtDtC,EAAQ2P,WAErD3P,EAAQ0P,gBACV3E,EAAGwH,aAAa/M,EAAM,OAvNT,wBAuNgC2M,IAE7CnS,EAAQgQ,iBAAiBhQ,EAAQgQ,gBAAgB6B,EAAsB1C,EAAapE,IAG1F,SAASyH,EAASzH,GAChB,IAAIjK,EAAQiK,EAAGjK,MAAMgM,KAChBhM,IACL2R,aAAa3R,EAAMyN,SACnBzN,EAAMyN,QAAUjB,YAAW,WAAW4D,EAAanG,KAAOjK,EAAMd,QAAQ4P,QA2B1E3F,EAAWyI,aAAa,QAAQ,GAAO,SAAS3H,EAAI4H,EAAKC,GAUvD,GATIA,GAAOA,GAAO3I,EAAW4I,OAC3B5C,EAAWlF,IACgC,IAAvCA,EAAGjK,MAAMgM,KAAK9M,QAAQ6P,cACxB9E,EAAGmB,IAAI,SAAUsG,GACnBvI,EAAWiC,IAAInB,EAAGiC,oBAAqB,YAAajC,EAAGjK,MAAMgM,KAAK0B,aAClEiE,aAAa1H,EAAGjK,MAAMgM,KAAKyB,gBACpBxD,EAAGjK,MAAMgM,MAGd6F,EAAK,CAEP,IADA,IAAIG,EAAU/H,EAAGgI,UAAU,WAAYC,GAAgB,EAC9ChP,EAAI,EAAGA,EAAI8O,EAAQxQ,SAAU0B,EAAO8O,EAAQ9O,IAAMwH,IAAWwH,GAAgB,GACtF,IAAIlS,EAAQiK,EAAGjK,MAAMgM,KAAO,IAAIe,EAAU9C,EAAI4H,EAAKK,GAC/ClS,EAAMd,QAAQ6P,cAChB9E,EAAGmC,GAAG,SAAUsF,GACY,GAA1B1R,EAAMd,QAAQ2P,UAA+C,UAA1B7O,EAAMd,QAAQ2P,UACnD1F,EAAWiD,GAAGnC,EAAGiC,oBAAqB,YAAalM,EAAM0N,aAE3D0C,EAAanG,OAIjBd,EAAWgJ,gBAAgB,eAAe,WACxC/B,EAAanQ,SAvRbmS,CAAIjJ,uBCCL,SAASA,GACZ,aAEAA,EAAWkJ,iBAAmB,SAASC,GAErC,IAAIC,EAASC,MAAMC,UAAUnL,MAAMoL,KAAKC,UAAW,GAEnD,SAASnQ,EAAQoQ,EAAQC,EAAShO,EAAMiO,GACtC,GAAsB,iBAAXD,EAAqB,CAC9B,IAAItK,EAAQqK,EAAOpQ,QAAQqQ,EAAShO,GACpC,OAAOiO,GAAavK,GAAS,EAAIA,EAAQsK,EAAQrR,OAAS+G,EAE5D,IAAIwK,EAAIF,EAAQrD,KAAK3K,EAAO+N,EAAOtL,MAAMzC,GAAQ+N,GACjD,OAAOG,EAAIA,EAAEC,MAAQnO,GAAQiO,EAAYC,EAAE,GAAGvR,OAAS,IAAM,EAG/D,MAAO,CACLyR,WAAY,WACV,MAAO,CACLX,MAAOnJ,EAAW8J,WAAWX,GAC7BY,YAAa,KACblD,MAAO,KACPmD,eAAe,IAInBC,UAAW,SAASpT,GAClB,MAAO,CACLsS,MAAOnJ,EAAWiK,UAAUd,EAAOtS,EAAMsS,OACzCY,YAAalT,EAAMkT,YACnBlD,MAAOhQ,EAAMkT,aAAe/J,EAAWiK,UAAUpT,EAAMkT,YAAYxJ,KAAM1J,EAAMgQ,OAC/EmD,cAAenT,EAAMmT,gBAIzBlR,MAAO,SAASoR,EAAQrT,GACtB,GAAKA,EAAMkT,YA2BJ,CACL,IAAII,EAAWtT,EAAMkT,YACrB,GADkCK,EAAaF,EAAOT,QACjDU,EAASE,OAASH,EAAOvJ,MAE5B,OADA9J,EAAMkT,YAAclT,EAAMgQ,MAAQ,KAC3B/P,KAAKgC,MAAMoR,EAAQrT,GAI5B,IAFIuI,EAAQ+K,EAASE,QAAUxT,EAAMmT,cACjC3Q,EAAQ+Q,EAAYD,EAASE,MAAOH,EAAOpP,IAAKqP,EAASG,kBAAoB,IACpEJ,EAAOpP,MAAQqP,EAASG,gBAGnC,OAFAJ,EAAOzO,MAAM0O,EAASE,OACtBxT,EAAMkT,YAAclT,EAAMgQ,MAAQ,KAC3BsD,EAASI,YAAeJ,EAASI,WAAa,IAAMJ,EAASI,WAAa,SAE/EnL,GAAS,IAAG8K,EAAOT,OAASW,EAAWjM,MAAM,EAAGiB,IACpD,IAAIoL,EAAaL,EAAS5J,KAAKzH,MAAMoR,EAAQrT,EAAMgQ,OAYnD,OAXIzH,GAAS,EAAG8K,EAAOT,OAASW,EACvBF,EAAOpP,IAAMoP,EAAO/Q,QAAOtC,EAAMmT,eAAgB,GAEtD5K,GAAS8K,EAAOpP,KAAOqP,EAASG,kBAClCzT,EAAMkT,YAAclT,EAAMgQ,MAAQ,MAEhCsD,EAASM,aACKD,EAAZA,EAAyBA,EAAa,IAAML,EAASM,WACvCN,EAASM,YAGtBD,EAnDP,IADA,IAAIE,EAASC,IAAUP,EAAaF,EAAOT,OAClC1P,EAAI,EAAGA,EAAIqP,EAAO/Q,SAAU0B,EAAG,CACtC,IACIqF,EADAwL,EAAQxB,EAAOrP,GAEnB,IADIqF,EAAQ/F,EAAQ+Q,EAAYQ,EAAMC,KAAMX,EAAOpP,OACtCoP,EAAOpP,IAAK,CAClB8P,EAAMN,iBAAiBJ,EAAOzO,MAAMmP,EAAMC,MAC/ChU,EAAMmT,gBAAkBY,EAAMN,gBAC9BzT,EAAMkT,YAAca,EAGpB,IAAIE,EAAc,EAClB,GAAI3B,EAAM4B,OAAQ,CAChB,IAAIC,EAAsB7B,EAAM4B,OAAOlU,EAAMsS,MAAO,GAAI,IACpD6B,IAAwBhL,EAAWiL,OAAMH,EAAcE,GAI7D,OADAnU,EAAMgQ,MAAQ7G,EAAW8J,WAAWc,EAAMrK,KAAMuK,GACzCF,EAAML,YAAeK,EAAML,WAAa,IAAMK,EAAML,WAAa,SACrD,GAAVnL,GAAeA,EAAQsL,IAChCA,EAAStL,GAGTsL,GAAUC,MAAUT,EAAOT,OAASW,EAAWjM,MAAM,EAAGuM,IAC5D,IAAIQ,EAAa/B,EAAMrQ,MAAMoR,EAAQrT,EAAMsS,OAE3C,OADIuB,GAAUC,MAAUT,EAAOT,OAASW,GACjCc,GA+BXH,OAAQ,SAASlU,EAAOsU,EAAW5P,GACjC,IAAIgF,EAAO1J,EAAMkT,YAAclT,EAAMkT,YAAYxJ,KAAO4I,EACxD,OAAK5I,EAAKwK,OACHxK,EAAKwK,OAAOlU,EAAMkT,YAAclT,EAAMgQ,MAAQhQ,EAAMsS,MAAOgC,EAAW5P,GADpDyE,EAAWiL,MAItCG,UAAW,SAASvU,GAClB,IAAI0J,EAAO1J,EAAMkT,YAAclT,EAAMkT,YAAYxJ,KAAO4I,EAIxD,GAHI5I,EAAK6K,WACP7K,EAAK6K,UAAUvU,EAAMkT,YAAclT,EAAMgQ,MAAQhQ,EAAMsS,OAEpDtS,EAAMkT,YAQ4B,OAA5BlT,EAAMkT,YAAYM,QAC3BxT,EAAMkT,YAAclT,EAAMgQ,MAAQ,WARlC,IAAK,IAAI9M,EAAI,EAAGA,EAAIqP,EAAO/Q,SAAU0B,EAAG,CACtC,IAAI6Q,EAAQxB,EAAOrP,GACA,OAAf6Q,EAAMC,OACRhU,EAAMkT,YAAca,EACpB/T,EAAMgQ,MAAQ7G,EAAW8J,WAAWc,EAAMrK,KAAMA,EAAKwK,OAASxK,EAAKwK,OAAOlU,EAAMsS,MAAO,GAAI,IAAM,MAQzGkC,cAAelC,EAAMkC,cAErBC,UAAW,SAASzU,GAClB,OAAOA,EAAMgQ,MAAQ,CAAChQ,MAAOA,EAAMgQ,MAAOtG,KAAM1J,EAAMkT,YAAYxJ,MAAQ,CAAC1J,MAAOA,EAAMsS,MAAO5I,KAAM4I,MAzHvGF,CAAIjJ,wBCUL,SAASA,GACZ,aAEAA,EAAWuL,YAAc,SAASC,EAAMC,EAASC,GAC/C,MAAO,CACL5B,WAAY,WACV,MAAO,CACL0B,KAAMxL,EAAW8J,WAAW0B,GAC5BC,QAASzL,EAAW8J,WAAW2B,GAC/BE,QAAS,EAAGC,QAAS,KACrBC,WAAY,EAAGC,WAAY,KAC3BC,WAAY,OAGhB9B,UAAW,SAASpT,GAClB,MAAO,CACL2U,KAAMxL,EAAWiK,UAAUuB,EAAM3U,EAAM2U,MACvCC,QAASzL,EAAWiK,UAAUwB,EAAS5U,EAAM4U,SAC7CE,QAAS9U,EAAM8U,QAASC,QAAS,KACjCC,WAAYhV,EAAMgV,WAAYC,WAAY,OAI9ChT,MAAO,SAASoR,EAAQrT,GAoBtB,OAnBIqT,GAAUrT,EAAMkV,YAChB3J,KAAK4J,IAAInV,EAAM8U,QAAS9U,EAAMgV,YAAc3B,EAAO/Q,SACrDtC,EAAMkV,WAAa7B,EACnBrT,EAAM8U,QAAU9U,EAAMgV,WAAa3B,EAAO/Q,OAGxC+Q,EAAO/Q,OAAStC,EAAM8U,UACxB9U,EAAM+U,QAAUJ,EAAK1S,MAAMoR,EAAQrT,EAAM2U,MACzC3U,EAAM8U,QAAUzB,EAAOpP,KAErBoP,EAAO/Q,OAAStC,EAAMgV,aACxB3B,EAAOpP,IAAMoP,EAAO/Q,MACpBtC,EAAMiV,WAAaL,EAAQ3S,MAAMoR,EAAQrT,EAAM4U,SAC/C5U,EAAMgV,WAAa3B,EAAOpP,KAE5BoP,EAAOpP,IAAMsH,KAAK4J,IAAInV,EAAM8U,QAAS9U,EAAMgV,YAInB,MAApBhV,EAAMiV,WAA2BjV,EAAM+U,QACjB,MAAjB/U,EAAM+U,SACN/U,EAAM4U,QAAQQ,eACdP,GAA0C,MAA/B7U,EAAM4U,QAAQQ,cACzBpV,EAAM+U,QAAU,IAAM/U,EAAMiV,WACzBjV,EAAMiV,YAGpBf,OAAQS,EAAKT,QAAU,SAASlU,EAAOsU,EAAW5P,GAChD,OAAOiQ,EAAKT,OAAOlU,EAAM2U,KAAML,EAAW5P,IAE5C8P,cAAeG,EAAKH,cAEpBC,UAAW,SAASzU,GAAS,MAAO,CAACA,MAAOA,EAAM2U,KAAMjL,KAAMiL,IAE9DJ,UAAW,SAASvU,GAClB,IAAIqV,EAAWC,EAIf,OAHIX,EAAKJ,YAAWc,EAAYV,EAAKJ,UAAUvU,EAAM2U,OACjDC,EAAQL,YAAWe,EAAeV,EAAQL,UAAUvU,EAAM4U,UAEvC,MAAhBU,EACLD,EACCR,GAAwB,MAAbQ,EAAoBA,EAAY,IAAMC,EAAeA,KAlErElD,CAAIjJ,wBCRL,SAASA,GACV,aAiDA,SAASoM,EAAYC,EAAQC,GAC3B,IAAKD,EAAOhI,eAAeiI,GACzB,MAAM,IAAI1V,MAAM,mBAAqB0V,EAAO,mBAGhD,SAASC,EAAQ7D,EAAK8D,GACpB,IAAK9D,EAAK,MAAO,OACjB,IAAI+D,EAAQ,GAQZ,OAPI/D,aAAegE,QACbhE,EAAIiE,aAAYF,EAAQ,KACxB/D,EAAIkE,UAASH,GAAS,KAC1B/D,EAAMA,EAAImE,QAEVnE,EAAMoE,OAAOpE,GAER,IAAIgE,SAAkB,IAAVF,EAAkB,GAAK,KAAO,MAAQ9D,EAAM,IAAK+D,GAatE,SAASM,EAAKC,EAAMX,IACdW,EAAKnM,MAAQmM,EAAKrV,OAAMyU,EAAYC,EAAQW,EAAKnM,MAAQmM,EAAKrV,MAClEb,KAAKwJ,MAAQiM,EAAQS,EAAK1M,OAC1BxJ,KAAKgC,MAbP,SAAiB4P,GACf,IAAKA,EAAK,OAAO,KACjB,GAAIA,EAAIuE,MAAO,OAAOvE,EACtB,GAAkB,iBAAPA,EAAiB,OAAOA,EAAIpR,QAAQ,MAAO,KAEtD,IADA,IAAI4V,EAAS,GACJnT,EAAI,EAAGA,EAAI2O,EAAIrQ,OAAQ0B,IAC9BmT,EAAOvV,KAAK+Q,EAAI3O,IAAM2O,EAAI3O,GAAGzC,QAAQ,MAAO,MAC9C,OAAO4V,EAMMC,CAAQH,EAAKlU,OAC1BhC,KAAKkW,KAAOA,EAGd,SAASI,EAAcf,EAAQlM,GAC7B,OAAO,SAAS+J,EAAQrT,GACtB,GAAIA,EAAMwW,QAAS,CACjB,IAAIC,EAAOzW,EAAMwW,QAAQE,QAGzB,OAF4B,GAAxB1W,EAAMwW,QAAQhV,SAAaxB,EAAMwW,QAAU,MAC/CnD,EAAOpP,KAAOwS,EAAK/P,KAAKlF,OACjBiV,EAAKxU,MAGd,GAAIjC,EAAM2W,MAAO,CACf,GAAI3W,EAAM2W,MAAMhU,KAAO0Q,EAAOzO,MAAM5E,EAAM2W,MAAMhU,KAAM,CACpD,IAAI0E,EAAMrH,EAAM2W,MAAMC,UAAY,KAElC,OADA5W,EAAM2W,MAAQ3W,EAAM6W,WAAa,KAC1BxP,EAEP,IAA4D0L,EAG5D,OAHI1L,EAAMrH,EAAM2W,MAAMjN,KAAKzH,MAAMoR,EAAQrT,EAAM6W,YAC3C7W,EAAM2W,MAAMG,UAAY/D,EAAI/S,EAAM2W,MAAMG,QAAQtH,KAAK6D,EAAO0D,cAC9D1D,EAAOpP,IAAMoP,EAAO/Q,MAAQyQ,EAAEC,OACzB3L,EAKX,IADA,IAAI2P,EAAWxB,EAAOxV,EAAMA,OACnBkD,EAAI,EAAGA,EAAI8T,EAASxV,OAAQ0B,IAAK,CACxC,IAAI+T,EAAOD,EAAS9T,GAChBgU,IAAYD,EAAKd,KAAKrM,KAAOuJ,EAAOvJ,QAAUuJ,EAAOzO,MAAMqS,EAAKxN,OACpE,GAAIyN,EAAS,CACPD,EAAKd,KAAKnM,KACZhK,EAAMA,MAAQiX,EAAKd,KAAKnM,KACfiN,EAAKd,KAAKrV,OAClBd,EAAMmX,QAAUnX,EAAMmX,MAAQ,KAAKrW,KAAKd,EAAMA,OAC/CA,EAAMA,MAAQiX,EAAKd,KAAKrV,MACfmW,EAAKd,KAAKpM,KAAO/J,EAAMmX,OAASnX,EAAMmX,MAAM3V,SACrDxB,EAAMA,MAAQA,EAAMmX,MAAMpN,OAGxBkN,EAAKd,KAAKzM,MACZ0N,EAAe9N,EAAQtJ,EAAOiX,EAAKd,KAAKzM,KAAMuN,EAAKhV,OACjDgV,EAAKd,KAAKjC,QACZlU,EAAMkU,OAAOpT,KAAKuS,EAAOgE,cAAgB/N,EAAOgO,YAC9CL,EAAKd,KAAKoB,QACZvX,EAAMkU,OAAOnK,MACf,IAAI9H,EAAQgV,EAAKhV,MAEjB,GADIA,GAASA,EAAMmU,QAAOnU,EAAQA,EAAMiV,IACpCA,EAAQ1V,OAAS,GAAKyV,EAAKhV,OAA8B,iBAAdgV,EAAKhV,MAAmB,CACrE,IAAK,IAAIuV,EAAI,EAAGA,EAAIN,EAAQ1V,OAAQgW,IAC9BN,EAAQM,KACTxX,EAAMwW,UAAYxW,EAAMwW,QAAU,KAAK1V,KAAK,CAAC4F,KAAMwQ,EAAQM,GAAIvV,MAAOgV,EAAKhV,MAAMuV,EAAI,KAE1F,OADAnE,EAAOoE,OAAOP,EAAQ,GAAG1V,QAAU0V,EAAQ,GAAKA,EAAQ,GAAG1V,OAAS,IAC7DS,EAAM,GACR,OAAIA,GAASA,EAAMyB,KACjBzB,EAAM,GAENA,GAKb,OADAoR,EAAOrJ,OACA,MAIX,SAAS0N,EAAI9Q,EAAGoK,GACd,GAAIpK,IAAMoK,EAAG,OAAO,EACpB,IAAKpK,GAAiB,iBAALA,IAAkBoK,GAAiB,iBAALA,EAAe,OAAO,EACrE,IAAI2G,EAAQ,EACZ,IAAK,IAAIzK,KAAQtG,EAAG,GAAIA,EAAE4G,eAAeN,GAAO,CAC9C,IAAK8D,EAAExD,eAAeN,KAAUwK,EAAI9Q,EAAEsG,GAAO8D,EAAE9D,IAAQ,OAAO,EAC9DyK,IAEF,IAAK,IAAIzK,KAAQ8D,EAAOA,EAAExD,eAAeN,IAAOyK,IAChD,OAAgB,GAATA,EAGT,SAASP,EAAe9N,EAAQtJ,EAAO2J,EAAM1H,GAC3C,IAAI2V,EACJ,GAAIjO,EAAKC,WAAY,IAAK,IAAIiO,EAAI7X,EAAM8X,iBAAkBD,IAAMD,EAAMC,EAAIA,EAAE7N,MACtEL,EAAKA,KAAO+N,EAAI/N,EAAKA,KAAMkO,EAAElO,MAAQA,EAAKD,MAAQmO,EAAEnO,QAAMkO,EAAOC,GACvE,IAAInO,EAAOkO,EAAOA,EAAKlO,KAAOC,EAAKD,MAAQP,EAAW4O,QAAQzO,EAAQK,EAAKA,MACvEqO,EAASJ,EAAOA,EAAK5X,MAAQmJ,EAAW8J,WAAWvJ,GACnDC,EAAKC,aAAegO,IACtB5X,EAAM8X,iBAAmB,CAACpO,KAAMA,EAAMC,KAAMA,EAAKA,KAAM3J,MAAOgY,EAAQhO,KAAMhK,EAAM8X,mBAEpF9X,EAAM6W,WAAamB,EACnBhY,EAAM2W,MAAQ,CAACjN,KAAMA,EACN/G,IAAKgH,EAAKhH,KAAO+S,EAAQ/L,EAAKhH,KAC9BmU,QAASnN,EAAKhH,MAAyB,IAAlBgH,EAAKsO,UAAsBvC,EAAQ/L,EAAKhH,KAAK,GAClEiU,SAAU3U,GAASA,EAAMyB,KAAOzB,EAAMA,EAAMT,OAAS,GAAKS,GAO3E,SAASiW,EAAe1C,EAAQjQ,GAC9B,OAAO,SAASvF,EAAOsU,EAAW5P,GAChC,GAAI1E,EAAM2W,OAAS3W,EAAM2W,MAAMjN,KAAKwK,OAClC,OAAOlU,EAAM2W,MAAMjN,KAAKwK,OAAOlU,EAAM6W,WAAYvC,EAAW5P,GAC9D,GAAoB,MAAhB1E,EAAMkU,QAAkBlU,EAAM2W,OAASpR,EAAK4S,kBARpD,SAAiBtG,EAAKuG,GACpB,IAAK,IAAIlV,EAAI,EAAGA,EAAIkV,EAAI5W,OAAQ0B,IAAK,GAAIkV,EAAIlV,KAAO2O,EAAK,OAAO,EAOMrP,CAAQxC,EAAMA,MAAOuF,EAAK4S,mBAAqB,EACjH,OAAOhP,EAAWiL,KAEpB,IAAInQ,EAAMjE,EAAMkU,OAAO1S,OAAS,EAAGnB,EAAQmV,EAAOxV,EAAMA,OACxDqY,EAAM,OAAS,CACb,IAAK,IAAInV,EAAI,EAAGA,EAAI7C,EAAMmB,OAAQ0B,IAAK,CACrC,IAAI+T,EAAO5W,EAAM6C,GACjB,GAAI+T,EAAKd,KAAKoB,SAA0C,IAAhCN,EAAKd,KAAKmC,kBAA6B,CAC7D,IAAIvF,EAAIkE,EAAKxN,MAAM+F,KAAK8E,GACxB,GAAIvB,GAAKA,EAAE,GAAI,CACb9O,KACIgT,EAAKjN,MAAQiN,EAAKnW,QAAMT,EAAQmV,EAAOyB,EAAKjN,MAAQiN,EAAKnW,OAC7DwT,EAAYA,EAAUhN,MAAMyL,EAAE,GAAGvR,QACjC,SAAS6W,IAIf,MAEF,OAAOpU,EAAM,EAAI,EAAIjE,EAAMkU,OAAOjQ,IAvMtCkF,EAAWoP,iBAAmB,SAAS9C,EAAMD,GAC3CrM,EAAWC,WAAWqM,GAAM,SAASnM,GACnC,OAAOH,EAAWK,WAAWF,EAAQkM,OAIzCrM,EAAWK,WAAa,SAASF,EAAQkM,GACvCD,EAAYC,EAAQ,SACpB,IAAIgD,EAAU,GAAIjT,EAAOiQ,EAAOjQ,MAAQ,GAAIkT,GAAiB,EAC7D,IAAK,IAAIzY,KAASwV,EAAQ,GAAIxV,GAASuF,GAAQiQ,EAAOhI,eAAexN,GAEnE,IADA,IAAI0Y,EAAOF,EAAQxY,GAAS,GAAI2Y,EAAOnD,EAAOxV,GACrCkD,EAAI,EAAGA,EAAIyV,EAAKnX,OAAQ0B,IAAK,CACpC,IAAIiT,EAAOwC,EAAKzV,GAChBwV,EAAK5X,KAAK,IAAIoV,EAAKC,EAAMX,KACrBW,EAAKjC,QAAUiC,EAAKoB,UAAQkB,GAAiB,GAGrD,IAAI/O,EAAO,CACTuJ,WAAY,WACV,MAAO,CAACjT,MAAO,QAASwW,QAAS,KACzBG,MAAO,KAAME,WAAY,KACzB3C,OAAQuE,EAAiB,GAAK,OAExCrF,UAAW,SAASpT,GAClB,IAAI4Y,EAAI,CAAC5Y,MAAOA,EAAMA,MAAOwW,QAASxW,EAAMwW,QACnCG,MAAO3W,EAAM2W,MAAOE,WAAY,KAChC3C,OAAQlU,EAAMkU,QAAUlU,EAAMkU,OAAO5M,MAAM,IAChDtH,EAAM6W,aACR+B,EAAE/B,WAAa1N,EAAWiK,UAAUpT,EAAM2W,MAAMjN,KAAM1J,EAAM6W,aAC1D7W,EAAMmX,QACRyB,EAAEzB,MAAQnX,EAAMmX,MAAM7P,MAAM,IAC9B,IAAK,IAAIsQ,EAAO5X,EAAM8X,iBAAkBF,EAAMA,EAAOA,EAAK5N,KACxD4O,EAAEd,iBAAmB,CAACpO,KAAMkO,EAAKlO,KACXC,KAAMiO,EAAKjO,KACX3J,MAAO4X,EAAK5X,OAASA,EAAM6W,WAAa+B,EAAE/B,WAAa1N,EAAWiK,UAAUwE,EAAKlO,KAAMkO,EAAK5X,OAC5FgK,KAAM4O,EAAEd,kBAChC,OAAOc,GAET3W,MAAOsU,EAAciC,EAASlP,GAC9BmL,UAAW,SAASzU,GAAS,OAAOA,EAAM2W,OAAS,CAACjN,KAAM1J,EAAM2W,MAAMjN,KAAM1J,MAAOA,EAAM6W,aACzF3C,OAAQgE,EAAeM,EAASjT,IAElC,GAAIA,EAAM,IAAK,IAAI2H,KAAQ3H,EAAUA,EAAKiI,eAAeN,KACvDxD,EAAKwD,GAAQ3H,EAAK2H,IACpB,OAAOxD,GAhDP0I,CAAIjJ,wBCCL,SAASA,GACZ,aAEAA,EAAWC,WAAW,YAAY,SAASyP,EAAOC,GAEhD,IAAIC,EAAW5P,EAAW4O,QAAQc,EAAO,aACrCG,EAAmC,QAAjBD,EAAStD,UAaKvL,IAAhC4O,EAAQG,sBACVH,EAAQG,qBAAsB,QAIG/O,IAA/B4O,EAAQI,qBACVJ,EAAQI,mBAAqB,QAGLhP,IAAtB4O,EAAQK,YAAyBL,EAAQK,WAAY,QAG3BjP,IAA1B4O,EAAQM,gBACVN,EAAQM,eAAgB,QAEJlP,IAAlB4O,EAAQO,QACVP,EAAQO,OAAQ,QAE0BnP,IAAxC4O,EAAQQ,8BACVR,EAAQQ,6BAA8B,QAEGpP,IAAvC4O,EAAQS,6BACVT,EAAQS,2BAA6B,mBAEnBrP,IAAhB4O,EAAQU,MACVV,EAAQU,KAAM,QAGmBtP,IAA/B4O,EAAQW,qBACVX,EAAQW,mBAAqB,IAE/B,IAAIC,EAAa,CACfC,OAAQ,SACR1R,KAAM,UACN2R,MAAO,QACPC,MAAO,aACPC,MAAO,aACPC,MAAO,UACPC,GAAI,KACJC,MAAO,QACPC,aAAc,iBACdC,YAAa,eACbC,WAAY,aACZC,WAAY,OACZC,UAAW,OACXC,SAAU,OACVC,SAAU,SACVC,GAAI,KACJC,OAAQ,SACRtB,cAAe,gBACfC,MAAO,WAGT,IAAK,IAAIsB,KAAajB,EAChBA,EAAWlM,eAAemN,IAAc7B,EAAQW,mBAAmBkB,KACrEjB,EAAWiB,GAAa7B,EAAQW,mBAAmBkB,IAIvD,IAAIC,EAAO,6BACPC,EAAS,+BACTC,EAAa,oBACbC,EAAcjC,EAAQkC,2BAA6B,QAAU,eAC7DC,EAAiB,8BACjBC,EAAS,2BACTC,EAAe,yCACfC,EAAY,sBACZC,EAAc,mpDAGlB,SAASC,EAAajI,EAAQrT,EAAOoK,GAEnC,OADApK,EAAMoK,EAAIpK,EAAMjB,OAASqL,EAClBA,EAAEiJ,EAAQrT,GAGnB,SAASub,EAAYlI,EAAQrT,EAAOoK,GAElC,OADApK,EAAMoK,EAAIpK,EAAMhB,MAAQoL,EACjBA,EAAEiJ,EAAQrT,GASnB,SAASuU,EAAUvU,GAejB,GAbAA,EAAMwb,WAAY,EAClBxb,EAAMwa,UAAW,EACjBxa,EAAMua,UAAW,EAEjBva,EAAMya,IAAK,EAEXza,EAAM0a,QAAS,EAEf1a,EAAMoZ,eAAgB,EAEtBpZ,EAAM4Z,MAAQ,EAEd5Z,EAAMyb,cAAe,EACjBzb,EAAMoK,GAAKsR,EAAW,CACxB,IAAIC,EAAO3C,EACX,IAAK2C,EAAM,CACT,IAAI3L,EAAQ7G,EAAWsL,UAAUsE,EAAU/Y,EAAM4b,WACjDD,EAA0B,OAAnB3L,EAAMtG,KAAK+L,MAA0C,OAAzBzF,EAAMhQ,MAAM6b,WAC3C7L,EAAMhQ,MAAM8b,SAAW9L,EAAMhQ,MAAM+H,SAASgU,SAE9CJ,IACF3b,EAAMoK,EAAI4R,EACVhc,EAAMhB,MAAQid,EACdjc,EAAM4b,UAAY,MAStB,OALA5b,EAAMkc,cAAgB,EACtBlc,EAAMmc,sBAAuB,EAE7Bnc,EAAMoc,SAAWpc,EAAMqc,SACvBrc,EAAMqc,SAAW,CAAChJ,OAAQ,MACnB,KAGT,SAAS4I,EAAY5I,EAAQrT,GAC3B,IA5CmB0E,EA4Cf4X,EAAmBjJ,EAAOkJ,WAAavc,EAAMqX,YAC7CmF,IA7Ce9X,EA6CmB1E,EAAMoc,SAAS/I,UA5CpC,KAAKzF,KAAKlJ,EAAKkO,QA6C5B6J,EAAyBzc,EAAMyb,aAC/BiB,EAAe1c,EAAMoc,SAASpC,GAC9B2C,GAAgC,IAAf3c,EAAM0Y,KACvBkE,GAAyB5c,EAAM6c,UAAU7c,EAAM6c,UAAUrb,OAAS,IAAM,GAAK,EAEjFxB,EAAMyb,cAAe,EAErB,IAAIqB,EAAkB9c,EAAMqX,YAE5B,GAA8B,OAA1BrX,EAAM+c,kBACR/c,EAAM+c,gBAAkB/c,EAAMqX,YAC1BsF,GAAgB,CAKlB,IAJA3c,EAAM0Y,KAAO,KAINoE,EAAkB9c,EAAM6c,UAAU7c,EAAM6c,UAAUrb,OAAS,IAChExB,EAAM6c,UAAU9S,MACZ/J,EAAM6c,UAAUrb,OAClBxB,EAAMqX,YAAcrX,EAAM6c,UAAU7c,EAAM6c,UAAUrb,OAAS,GAG7DxB,EAAM0Y,MAAO,GAGE,IAAf1Y,EAAM0Y,OACR1Y,EAAM+c,gBAAkBD,EAAkB9c,EAAM6c,UAAU7c,EAAM6c,UAAUrb,OAAS,IAMzF,IAAIwb,IACCR,GAAwBE,GAAiB1c,EAAMoc,SAASzC,QACvDgD,GAAmBF,GACpBzc,EAAMoc,SAASa,eAGhBC,IAAuB,IAAfld,EAAM0Y,MAAkBgE,GAAgBF,IAClDxc,EAAMqX,aAAeuF,GAAyBvJ,EAAOzO,MAAMgW,GAEzDhW,EAAQ,KACZ,GAAI5E,EAAM+c,iBAAmB,IAAMN,GAA0Bzc,EAAMoc,SAASa,eACvEjd,EAAMoc,SAASzC,QAAU6C,GAG5B,OAFAnJ,EAAO8J,YACPnd,EAAMyb,cAAe,EACd/B,EAAWzR,KACb,GAAIoL,EAAO+J,WAChB,OAAO,KACF,GAAId,GAAoBtc,EAAMqX,aAAeuF,IAA0BhY,EAAQyO,EAAOzO,MAAMmW,KAAiBnW,EAAM,GAAGpD,QAAU,EAMrI,OALAxB,EAAM4Z,MAAQ,EACd5Z,EAAM2Z,OAAS/U,EAAM,GAAGpD,OACxBxB,EAAMqc,SAAS1C,QAAS,EACpBb,EAAQG,sBAAqBjZ,EAAMoa,WAAa,UACpDpa,EAAMoK,EAAIpK,EAAMjB,OACTse,EAAQrd,GACV,GAAIA,EAAMqX,aAAeuF,GAAyBvJ,EAAOiK,IAAI,KAIlE,OAHAtd,EAAM4Z,MAAQ0C,EAAmB,EAAItc,EAAM4Z,MAAQ,EAC/Cd,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SACpD/G,EAAO+J,WACAC,EAAQrd,GACV,IAAKkd,IAASld,EAAMud,QAAUjB,GAAoBtc,EAAMqX,aAAeuF,IAA0BhY,EAAQyO,EAAOzO,MAAMiW,IAAU,CACrI,IAAI2C,EAAW5Y,EAAM,GAAK,KAAO,KAmBjC,OAjBA5E,EAAMqX,YAAcyF,EAAkBzJ,EAAO0D,UAAUvV,OACvDxB,EAAM0Y,MAAO,EACb1Y,EAAM4Z,MAAQ,EAGd5Z,EAAM6c,UAAU/b,KAAKd,EAAMqX,aAE3BrX,EAAMya,IAAK,EACXza,EAAM0a,QAAS,EACf1a,EAAMiI,MAAO,EACbjI,EAAMoZ,eAAgB,EAElBN,EAAQK,WAAa9F,EAAOzO,MAAMkW,GAAY,KAChD9a,EAAMyd,UAAW,GAEnBzd,EAAMoK,EAAIpK,EAAMjB,OACZ+Z,EAAQG,sBAAqBjZ,EAAMoa,WAAa,CAAC,OAAQ,QAAUoD,IAChEH,EAAQrd,GACV,OAAIsc,GAAoBtc,EAAMqX,aAAeuF,IAA0BhY,EAAQyO,EAAOzO,MAAMuW,GAAc,KAC/Gnb,EAAM4Z,MAAQ,EACd5Z,EAAM0d,YAAc,IAAI7H,OAAOjR,EAAM,GAAK,QAE1C5E,EAAM2d,UAAY7E,EAAQQ,6BA/N9B,SAAiB7D,GACf,GAAItM,EAAWyU,eAAgB,CAC7B,IAAIrV,EAAQY,EAAWyU,eAAenI,GAClClN,IAAOkN,EAAOlN,EAAMsV,MAAQtV,EAAMuV,MAAM,IAE9C,IAAIpU,EAAOP,EAAW4O,QAAQc,EAAOpD,GACrC,MAAoB,QAAb/L,EAAK+L,KAAiB,KAAO/L,EAyNuBqO,CAAQnT,EAAM,IAAMkU,EAAQS,4BACjFvZ,EAAM2d,YAAW3d,EAAM6W,WAAa1N,EAAW8J,WAAWjT,EAAM2d,YACpE3d,EAAMoK,EAAIpK,EAAMhB,MAAQ2X,EACpBmC,EAAQG,sBAAqBjZ,EAAMoa,WAAa,cACpDpa,EAAMiI,MAAQ,EACPoV,EAAQrd,IAKfA,EAAMud,UAEFP,GAA6BL,GAAoB3c,EAAM4Z,QAAwB,IAAf5Z,EAAM0Y,MACvE1Y,EAAMiI,MAASiV,GAAS9B,EAAUxN,KAAKyF,EAAOT,WAC9ChO,EAAQyO,EAAO0K,UAAU,MAAQnZ,EAAQA,EAAMA,MAAMqW,KAGlDjb,EAAMud,QAIVvd,EAAM2Z,OAAS3Z,EAAMud,OAErBvd,EAAMud,OAAS,EACflK,EAAO8J,YACHrE,EAAQG,sBAAqBjZ,EAAMoa,WAAa,YAPpDpa,EAAM2Z,OAA+B,KAAtB/U,EAAM,GAAGoZ,OAAO,GAAY,EAAI,EAC/Che,EAAMud,OAASvd,EAAM2Z,QAQvB3Z,EAAMqc,SAAS1C,QAAS,EACxB3Z,EAAMoK,EAAIpK,EAAMjB,OACTse,EAAQrd,IACNkd,GACT7J,EAAO8J,YACPnd,EAAMga,IAAK,EACXha,EAAMqc,SAASrC,IAAK,EACbN,EAAWM,IACS,MAAlB3G,EAAO4K,OACT3C,EAAajI,EAAQrT,EAAOke,GAG9B5C,EAAajI,EAAQrT,EAAOA,EAAMjB,QAG3C,SAAS2c,EAAUrI,EAAQrT,GACzB,IAAIqL,EAAQ0N,EAAS9W,MAAMoR,EAAQrT,EAAM4b,WACzC,IAAK5C,EAAiB,CACpB,IAAIhJ,EAAQ7G,EAAWsL,UAAUsE,EAAU/Y,EAAM4b,YACzB,OAAnB5L,EAAMtG,KAAK+L,MAA0C,OAAzBzF,EAAMhQ,MAAM6b,WACtC7L,EAAMhQ,MAAM8b,SAAW9L,EAAMhQ,MAAM+H,SAASgU,UAC9C/b,EAAMme,WAAa9K,EAAO0D,UAAUvU,QAAQ,MAAQ,KACvDxC,EAAMoK,EAAI4R,EACVhc,EAAMhB,MAAQid,EACdjc,EAAM4b,UAAY,MAGtB,OAAOvQ,EAGT,SAASsL,EAAMtD,EAAQrT,GACrB,IAKMoe,EALFC,EAAcre,EAAM6c,UAAU7c,EAAM6c,UAAUrb,OAAS,IAAM,EAC7D8c,EAAgBte,EAAMqX,YAAcgH,EACpCE,EAAkBF,EAAc,EACpC,OAAIre,EAAM0d,aAAe1d,EAAMqX,aAAekH,IAAoBD,GAAiBjL,EAAOzO,MAAM5E,EAAM0d,eAChG5E,EAAQG,sBAAqBjZ,EAAMoa,WAAa,cAE/CkE,IAAeF,EAAaf,EAAQrd,IACzCA,EAAM2d,UAAY3d,EAAM6W,WAAa,KACrC7W,EAAMhB,MAAQid,EACdjc,EAAMoK,EAAI4R,EACVhc,EAAM0d,YAAc,KACpB1d,EAAMiI,KAAO,EACbjI,EAAMqc,SAASY,eAAgB,EAC3BqB,EAAsB/C,EAAYlI,EAAQrT,EAAOA,EAAMhB,OACpDof,GACEpe,EAAM2d,UACR3d,EAAM2d,UAAU1b,MAAMoR,EAAQrT,EAAM6W,aAE3CxD,EAAO8J,YACAzD,EAAWzR,MAKtB,SAASoV,EAAQrd,GACf,IAAIwe,EAAS,GAEb,GAAIxe,EAAMoa,WAAY,CACpBoE,EAAO1d,KAAK4Y,EAAWU,YAES,iBAArBpa,EAAMoa,aAAyBpa,EAAMoa,WAAa,CAACpa,EAAMoa,aAEpE,IAAK,IAAIlX,EAAI,EAAGA,EAAIlD,EAAMoa,WAAW5Y,OAAQ0B,IAC3Csb,EAAO1d,KAAK4Y,EAAWU,WAAa,IAAMpa,EAAMoa,WAAWlX,IAE/B,WAAxBlD,EAAMoa,WAAWlX,IACnBsb,EAAO1d,KAAK4Y,EAAWU,WAAa,IAAMpa,EAAMoa,WAAWlX,GAAK,IAAMlD,EAAM2Z,QAKlD,UAAxB3Z,EAAMoa,WAAWlX,MACd4V,EAAQI,oBAAsBJ,EAAQI,oBAAsBlZ,EAAM4Z,MACrE4E,EAAO1d,KAAK4Y,EAAWU,WAAa,IAAMpa,EAAMoa,WAAWlX,GAAK,IAAMlD,EAAM4Z,OAE5E4E,EAAO1d,KAAK,UAMpB,GAAId,EAAMye,SAER,OADAD,EAAO1d,KAAK,QACL0d,EAAOhd,OAASgd,EAAO9a,KAAK,KAAO,KAE5C,GAAI1D,EAAM0e,WAER,OADAF,EAAO1d,KAAK,YACL0d,EAAOhd,OAASgd,EAAO9a,KAAK,KAAO,KA8B5C,GA3BI1D,EAAMwa,SACRgE,EAAO1d,KAAK4Y,EAAWc,SAAU,QAE7Bxa,EAAM0a,QAAU8D,EAAO1d,KAAK4Y,EAAWgB,QACvC1a,EAAMya,IAAM+D,EAAO1d,KAAK4Y,EAAWe,IACnCza,EAAMoZ,eAAiBoF,EAAO1d,KAAK4Y,EAAWN,eAC9CpZ,EAAMqZ,OAASmF,EAAO1d,KAAK4Y,EAAWL,OACtCrZ,EAAMua,UAAYiE,EAAO1d,KAAK4Y,EAAWa,UACzCva,EAAMiI,MAAQuW,EAAO1d,KAAK4Y,EAAWzR,MACrCjI,EAAMia,OAASuE,EAAO1d,KAAK4Y,EAAWO,OACtCja,EAAMka,cAAgBsE,EAAO1d,KAAK4Y,EAAWQ,aAAc,QAC3Dla,EAAMma,aAAeqE,EAAO1d,KAAK4Y,EAAWS,cAG9Cna,EAAM2Z,QAAU6E,EAAO1d,KAAK4Y,EAAWC,OAAQD,EAAWC,OAAS,IAAM3Z,EAAM2Z,QAE/E3Z,EAAM4Z,QACR4E,EAAO1d,KAAK4Y,EAAWE,QAGlBd,EAAQI,oBAAsBJ,EAAQI,oBAAsBlZ,EAAM4Z,MACrE4E,EAAO1d,KAAK4Y,EAAWE,MAAQ,IAAM5Z,EAAM4Z,OAE3C4E,EAAO1d,KAAK4Y,EAAWE,MAAQ,IAAMd,EAAQI,sBAI9B,IAAflZ,EAAM0Y,KAAgB,CACxB,IAAIiG,GAAW3e,EAAM6c,UAAUrb,OAAS,GAAK,EACxCmd,EAEkB,IAAZA,EACTH,EAAO1d,KAAK4Y,EAAWI,OAEvB0E,EAAO1d,KAAK4Y,EAAWK,OAJvByE,EAAO1d,KAAK4Y,EAAWG,OAc3B,OANI7Z,EAAMmc,qBACRqC,EAAO1d,KAAK,2BACHd,EAAMkc,eACfsC,EAAO1d,KAAK,mBAAqBd,EAAMkc,cAAgB,EAAI,IAAM,MAG5DsC,EAAOhd,OAASgd,EAAO9a,KAAK,KAAO,KAG5C,SAASkb,EAAWvL,EAAQrT,GAC1B,GAAIqT,EAAOzO,MAAMsW,GAAQ,GACvB,OAAOmC,EAAQrd,GAKnB,SAASgc,EAAa3I,EAAQrT,GAC5B,IAAIqL,EAAQrL,EAAM0G,KAAK2M,EAAQrT,GAC/B,QAAqB,IAAVqL,EACT,OAAOA,EAET,GAAIrL,EAAM0Y,KAER,OADA1Y,EAAM0Y,KAAO,KACN2E,EAAQrd,GAGjB,GAAIA,EAAMyd,SAMR,MALqD,MAAtCpK,EAAOzO,MAAMkW,GAAY,GAAM,GAChC9a,EAAMye,UAAW,EAC1Bze,EAAM0e,YAAa,EACpB5F,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QACpDpa,EAAMyd,UAAW,EACVJ,EAAQrd,GAMjB,GAHAA,EAAMye,UAAW,EACjBze,EAAM0e,YAAa,EAEf1e,EAAM2Z,QAAUtG,EAAOzO,MAAM,QAAQ,GAEvC,OADIkU,EAAQG,sBAAqBjZ,EAAMoa,WAAa,UAC7CiD,EAAQrd,GAGjB,IAAI8E,EAAKuO,EAAOrJ,OAGhB,GAAIhK,EAAMwb,UAAW,CACnBxb,EAAMwb,WAAY,EAClB,IAAIqD,EAAU/Z,EACH,MAAPA,IACF+Z,EAAU,KAGZ,IAAIpV,EAAQ,cADZoV,GAAWA,EAAQ,IAAIpe,QAAQ,yBAA0B,SACpB,yBAA2Boe,EAChE,GAAIxL,EAAOzO,MAAM,IAAIiR,OAAOpM,IAAQ,GAClC,OAAOiQ,EAAWc,SAKtB,GAAW,MAAP1V,EAAY,CACd,IAAIga,EAAqB9e,EAAMoa,WAC3BtB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QACpD/G,EAAO0L,SAAS,KAChB,IAAInZ,EAAQyN,EAAO0D,UAAUvV,OAC7B,GAAkB,GAAdxB,EAAMiI,MAAejI,EAAM4Z,OAAkB,GAAThU,EAGjC,IAAIA,GAAS5F,EAAMiI,KAAM,CAC9B,IAAIxE,EAAI4Z,EAAQrd,GAEhB,OADAA,EAAMiI,KAAO,EACNxE,EAGP,OADAzD,EAAMoa,WAAa0E,EACZzB,EAAQrd,GAPf,OADAA,EAAMiI,KAAOrC,EACNyX,EAAQrd,GASZ,GAAIA,EAAMiI,KACf,OAAOoV,EAAQrd,GAGjB,GAAW,OAAP8E,IACFuO,EAAOrJ,OACH8O,EAAQG,qBAAqB,CAC/B,IAAI5X,EAAOgc,EAAQrd,GACfgf,EAAmBtF,EAAWU,WAAa,UAC/C,OAAO/Y,EAAOA,EAAO,IAAM2d,EAAmBA,EAIlD,GAAW,MAAPla,GAAcuO,EAAOzO,MAAM,yBAAyB,GAItD,OAHA5E,EAAMma,aAAc,EACpBna,EAAMia,OAAQ,EACVnB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAC7CiD,EAAQrd,GAGjB,GAAW,MAAP8E,GAAc9E,EAAMma,aAAe9G,EAAOzO,MAAM,+BAA+B,GAIjF,OAHA5E,EAAMma,aAAc,EACpBna,EAAMka,cAAe,EACjBpB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAC7CiD,EAAQrd,GAGjB,GAAW,MAAP8E,GAAc9E,EAAMka,aAAc,CAChCpB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAChD/Y,EAAOgc,EAAQrd,GAInB,OAHAA,EAAMka,cAAe,EACrBla,EAAMia,OAAQ,EACdja,EAAMjB,OAASiB,EAAMoK,EAAIoQ,EAClBnZ,EAGT,GAAW,MAAPyD,IAAe9E,EAAMia,MACvB,OAAIja,EAAMua,UAAYlH,EAAOzO,MAAM,YACnC5E,EAAMua,UAAW,EACbzB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAFCiD,EAAQrd,GAM/D,GAAW,MAAP8E,GAAc9E,EAAMua,SAAU,CAC5BzB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QAChD/Y,EAAOgc,EAAQrd,GAGnB,OAFAA,EAAMua,UAAW,EACjBva,EAAMjB,OAASiB,EAAMoK,EAAIiJ,EAAOzO,MAAM,qBAAqB,GAAS4V,EAAWwB,EACxE3a,EAGT,GAAW,MAAPyD,GAAcuO,EAAOzO,MAAM,wCAAwC,GASrE,OARA5E,EAAMoK,EAAIpK,EAAMjB,OAASsb,EACrBvB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAChD/Y,EAAOgc,EAAQrd,IAEjBqB,GAAQ,IAERA,EAAO,GAEFA,EAAOqY,EAAWW,WAG3B,GAAW,MAAPvV,GAAcuO,EAAOzO,MAAM,8BAA8B,GAS3D,OARA5E,EAAMoK,EAAIpK,EAAMjB,OAASsb,EACrBvB,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SAChD/Y,EAAOgc,EAAQrd,IAEjBqB,GAAQ,IAERA,EAAO,GAEFA,EAAOqY,EAAWY,UAG3B,GAAIxB,EAAQU,KAAc,MAAP1U,GAAcuO,EAAOzO,MAAM,uFAAuF,GAAQ,CAC3I,IAAIjC,EAAM0Q,EAAOT,OAAOpQ,QAAQ,IAAK6Q,EAAOpP,KAC5C,IAAY,GAARtB,EAAW,CACb,IAAIsc,EAAO5L,EAAOT,OAAOlQ,UAAU2Q,EAAO/Q,MAAOK,GAC7C,uCAAuCiL,KAAKqR,KAAOjf,EAAMme,WAAY,GAI3E,OAFA9K,EAAOoE,OAAO,GACdzX,EAAM4b,UAAYzS,EAAW8J,WAAW8F,GACjCwC,EAAYlI,EAAQrT,EAAO0b,GAGpC,GAAI5C,EAAQU,KAAc,MAAP1U,GAAcuO,EAAOzO,MAAM,YAE5C,OADA5E,EAAMme,WAAY,EACX,MACF,GAAW,MAAPrZ,GAAqB,MAAPA,EAAY,CAEnC,IADA,IAAIoa,EAAM,EAAGC,EAAuB,GAAd9L,EAAOpP,IAAW,IAAMoP,EAAOT,OAAOoL,OAAO3K,EAAOpP,IAAM,GACzEib,EAAM,GAAK7L,EAAOiK,IAAIxY,IAAKoa,IAClC,IAAIE,EAAQ/L,EAAO4K,QAAU,IAEzBoB,GAAgB,KAAKzR,KAAKwR,MAAY/D,EAAYzN,KAAKwR,IAAU,KAAKxR,KAAKuR,IAAW9D,EAAYzN,KAAKuR,IACvGG,GAAiB,KAAK1R,KAAKuR,MAAa9D,EAAYzN,KAAKuR,IAAW,KAAKvR,KAAKwR,IAAU/D,EAAYzN,KAAKwR,IACzGG,EAAQ,KAAMC,EAAY,KAa9B,GAZIN,EAAM,IACHlf,EAAMya,KAAM4E,GAAwB,MAAPva,GAAewa,IAAiBjE,EAAYzN,KAAKuR,GAE1Enf,EAAMya,IAAM3V,IAAMwa,GAAyB,MAAPxa,GAAeua,IAAgBhE,EAAYzN,KAAKwR,KAC3FG,GAAQ,GAFRA,GAAQ,GAIRL,EAAM,IACHlf,EAAM0a,SAAU2E,GAAwB,MAAPva,GAAewa,IAAiBjE,EAAYzN,KAAKuR,GAE9Enf,EAAM0a,QAAU5V,IAAMwa,GAAyB,MAAPxa,GAAeua,IAAgBhE,EAAYzN,KAAKwR,KAC/FI,GAAY,GAFZA,GAAY,GAIC,MAAbA,GAA8B,MAATD,EAOvB,OANIzG,EAAQG,sBAAqBjZ,EAAMoa,WAAsB,MAATmF,EAAgB,SAAwB,MAAbC,EAAoB,KAAO,cAC5F,IAAVD,IAAgBvf,EAAMya,GAAK3V,IACb,IAAd0a,IAAoBxf,EAAM0a,OAAS5V,GACnCrB,EAAI4Z,EAAQrd,IACF,IAAVuf,IAAiBvf,EAAMya,IAAK,IACd,IAAd+E,IAAqBxf,EAAM0a,QAAS,GACjCjX,OAEJ,GAAW,MAAPqB,IACLuO,EAAOiK,IAAI,MAAQjK,EAAOiK,IAAI,MAAM,CACtC,GAAsB,MAAlBjK,EAAO4K,OACT,OAAOZ,EAAQrd,GAEfqT,EAAOoE,OAAO,GAKpB,GAAIqB,EAAQM,cACV,GAAW,MAAPtU,GAAcuO,EAAO0L,SAASja,GAAK,CACrC,GAAI9E,EAAMoZ,cAIR,OAHIN,EAAQG,sBAAqBjZ,EAAMoa,WAAa,iBAChD3W,EAAI4Z,EAAQrd,GAChBA,EAAMoZ,eAAgB,EACf3V,EACF,GAAI4P,EAAOzO,MAAM,UAAU,GAGhC,OAFA5E,EAAMoZ,eAAgB,EAClBN,EAAQG,sBAAqBjZ,EAAMoa,WAAa,iBAC7CiD,EAAQrd,QAEZ,GAAW,MAAP8E,GACLuO,EAAOzO,MAAM,MAAM,GAAO,CAC5B,GAAsB,MAAlByO,EAAO4K,OACT,OAAOZ,EAAQrd,GAEfqT,EAAOoE,OAAO,GAMtB,GAAIqB,EAAQO,OAAgB,MAAPvU,GAAcuO,EAAOzO,MAAM,qDAAsD,CACpG5E,EAAMqZ,OAAQ,EACVP,EAAQG,sBAAqBjZ,EAAMoa,WAAa,SACpD,IAAIqF,EAAUpC,EAAQrd,GAEtB,OADAA,EAAMqZ,OAAQ,EACPoG,EAWT,MARW,MAAP3a,IACEuO,EAAOzO,MAAM,QAAQ,GACvB5E,EAAMkc,gBACGlc,EAAMkc,gBACflc,EAAMmc,sBAAuB,IAI1BkB,EAAQrd,GAGjB,SAASqa,EAAWhH,EAAQrT,GAG1B,GAAW,MAFFqT,EAAOrJ,OAEA,CACdhK,EAAMoK,EAAIpK,EAAMjB,OAASid,EACrBlD,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QACpD,IAAI/Y,EAAOgc,EAAQrd,GAMnB,OALIqB,EACFA,GAAQ,IAERA,EAAO,GAEFA,EAAOqY,EAAWW,WAK3B,OAFAhH,EAAOzO,MAAM,UAAU,GAEhB8U,EAAWW,WAGpB,SAASG,EAASnH,EAAQrT,GAExB,GAAGqT,EAAO+J,WACR,OAAO,KAET,IAeyBsC,EAfrB5a,EAAKuO,EAAOrJ,OAChB,MAAW,MAAPlF,GAAqB,MAAPA,GAChB9E,EAAMoK,EAAIpK,EAAMjB,QAaO2gB,EAb2B,MAAP5a,EAAa,IAAM,IAczD,SAASuO,EAAQrT,GAGtB,GAFSqT,EAAOrJ,SAEL0V,EAAS,CAClB1f,EAAMoK,EAAIpK,EAAMjB,OAASid,EACrBlD,EAAQG,sBAAqBjZ,EAAMoa,WAAa,eACpD,IAAIuF,EAActC,EAAQrd,GAE1B,OADAA,EAAMwa,UAAW,EACVmF,EAKT,OAFAtM,EAAOzO,MAAMgb,EAAOF,IACpB1f,EAAMwa,UAAW,EACV6C,EAAQrd,KA1BX8Y,EAAQG,sBAAqBjZ,EAAMoa,WAAa,eACpDpa,EAAMwa,UAAW,EACV6C,EAAQrd,IAEV,QAGT,IAAI4f,EAAS,CACX,IAAK,oDACL,IAAK,qDAqBP,SAAS1B,EAAa7K,EAAQrT,GAC5B,OAAIqT,EAAOzO,MAAM,sBAAsB,IACrC5E,EAAMoK,EAAIyV,EACVxM,EAAOrJ,OACH8O,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QACpDpa,EAAMua,UAAW,EACV8C,EAAQrd,IAEVsb,EAAajI,EAAQrT,EAAOgc,GAGrC,SAAS6D,EAAmBxM,EAAQrT,GAClC,GAAIqT,EAAOzO,MAAM,MAAM,GAAO,CAC5B5E,EAAMoK,EAAIpK,EAAMjB,OAAS+gB,EACrBhH,EAAQG,sBAAqBjZ,EAAMoa,WAAa,QACpD,IAAIgE,EAAaf,EAAQrd,GAEzB,OADAA,EAAMua,UAAW,EACV6D,EAKT,OAFA/K,EAAOzO,MAAM,mBAAmB,GAEzB8U,EAAWa,SAGpB,SAASuF,EAAYzM,EAAQrT,GAE3B,OAAGqT,EAAO+J,WACD,MAGT/J,EAAOzO,MAAM,WAAW,QAEFsF,IAAlBmJ,EAAO4K,OACTje,EAAMwb,WAAY,EAElBnI,EAAOzO,MAAM,wEAAwE,GAEvF5E,EAAMoK,EAAIpK,EAAMjB,OAASid,EAClBtC,EAAWc,SAAW,QAG/B,IAAI9Q,EAAO,CACTuJ,WAAY,WACV,MAAO,CACL7I,EAAG6R,EAEHG,SAAU,CAAC/I,OAAQ,MACnBgJ,SAAU,CAAChJ,OAAQ,MAEnBrU,MAAOid,EACPL,UAAW,KACXvE,YAAa,EAEbtY,OAAQid,EACRtV,KAAMkY,EAENxE,YAAY,EACZG,UAAU,EACVC,UAAU,EACVgB,WAAW,EACXvT,KAAM,EACNwS,IAAI,EACJC,QAAQ,EACRf,OAAQ,EACR4D,OAAQ,EACRvD,IAAI,EACJyD,UAAU,EACV/E,MAAM,EACNmE,UAAW,GACXjD,MAAO,EACPsC,cAAe,EACfC,sBAAsB,EACtB/C,eAAe,EACfC,OAAO,EACPqE,YAAa,OAIjBtK,UAAW,SAASwF,GAClB,MAAO,CACLxO,EAAGwO,EAAExO,EAELgS,SAAUxD,EAAEwD,SACZC,SAAUzD,EAAEyD,SAEZrd,MAAO4Z,EAAE5Z,MACT4c,UAAWhD,EAAEgD,WAAazS,EAAWiK,UAAU2F,EAAUH,EAAEgD,WAC3DvE,YAAauB,EAAEvB,YAEfsG,UAAW/E,EAAE+E,UACb9G,WAAY+B,EAAE+E,UAAYxU,EAAWiK,UAAUwF,EAAE+E,UAAW/E,EAAE/B,YAAc,KAE5E9X,OAAQ6Z,EAAE7Z,OACV2H,KAAMkS,EAAElS,KACR0T,YAAY,EACZG,SAAU3B,EAAE2B,SACZiB,UAAW5C,EAAE4C,UACbhB,SAAU5B,EAAE4B,SACZvS,KAAM2Q,EAAE3Q,KACRwS,GAAI7B,EAAE6B,GACNC,OAAQ9B,EAAE8B,OACVtB,cAAeR,EAAEQ,cACjBC,MAAOT,EAAES,MACTM,OAAQf,EAAEe,OACV4D,OAAQ3E,EAAE2E,OACVvD,GAAIpB,EAAEoB,GACNyD,SAAU7E,EAAE6E,SACZ/E,KAAME,EAAEF,KACRmE,UAAWjE,EAAEiE,UAAUvV,MAAM,GAC7BsS,MAAOhB,EAAEgB,MACT6B,aAAc7C,EAAE6C,aAChBS,cAAetD,EAAEsD,cACjBC,qBAAsBvD,EAAEuD,qBACxBgC,UAAWvF,EAAEuF,UACbT,YAAa9E,EAAE8E,cAInBzb,MAAO,SAASoR,EAAQrT,GAKtB,GAFAA,EAAMoa,YAAa,EAEf/G,GAAUrT,EAAMqc,SAAShJ,OAAQ,CAInC,GAHArT,EAAM2Z,OAAS,EACf3Z,EAAMga,IAAK,EAEP3G,EAAOzO,MAAM,SAAS,GAExB,OADA2P,EAAUvU,GACH,KAaT,GAVAA,EAAMoc,SAAWpc,EAAMqc,SACvBrc,EAAMqc,SAAW,CAAChJ,OAAQA,GAG1BrT,EAAMyd,UAAW,EAGjBzd,EAAMkc,cAAgB,EACtBlc,EAAMmc,sBAAuB,GAExBnc,EAAM6W,aACT7W,EAAMoK,EAAIpK,EAAMhB,MACZgB,EAAMoK,GAAKsR,GAAW,CACxB,IAAIrE,EAAchE,EAAOzO,MAAM,QAAQ,GAAM,GAAGnE,QAAQ,MA9uBhD,QA8uBoEe,OAG5E,GAFAxB,EAAMqX,YAAcA,EACpBrX,EAAM+c,gBAAkB,KACpB1F,EAAc,EAAG,OAAO,MAIlC,OAAOrX,EAAMoK,EAAEiJ,EAAQrT,IAGzByU,UAAW,SAASzU,GAClB,OAAIA,EAAMhB,OAAS0c,EAAkB,CAAC1b,MAAOA,EAAM4b,UAAWlS,KAAMqP,GAChE/Y,EAAM6W,WAAmB,CAAC7W,MAAOA,EAAM6W,WAAYnN,KAAM1J,EAAM2d,WAC5D,CAAC3d,MAAOA,EAAO0J,KAAMA,IAG9BwK,OAAQ,SAASlU,EAAOsU,EAAW5P,GACjC,OAAI1E,EAAMhB,OAAS0c,GAAa3C,EAAS7E,OAAe6E,EAAS7E,OAAOlU,EAAM4b,UAAWtH,EAAW5P,GAChG1E,EAAM6W,YAAc7W,EAAM2d,UAAUzJ,OAAelU,EAAM2d,UAAUzJ,OAAOlU,EAAM6W,WAAYvC,EAAW5P,GACpGyE,EAAWiL,MAGpBG,UAAWA,EAEX8I,QAASA,EAET0C,kBAAmB,UACnBC,gBAAiB,SACjBC,cAAe,iBACfC,KAAM,YAER,OAAOxW,IACN,OAEHP,EAAWgX,WAAW,gBAAiB,YAEvChX,EAAWgX,WAAW,kBAAmB,YA12BrC/N,CAAIjJ,yCCHR,IAAIiX,EAaAC,EAcAC,EAbJ,GAZIF,EAD2B,mBAApBG,WAAW1b,KACD0b,WAAW1b,KAAK2b,KAAKD,YAErB,SAAS3Z,GACtB,IAAI1D,EAAI,EACJgc,EAAMtY,EAAEpF,OACRif,EAAI,IAAIF,WAAWrB,GACvB,KAAOA,EAAMhc,GAAGud,EAAEvd,GAAK0D,EAAE1D,KACzB,OAAOud,GAK2B,mBAA9B,IAAIF,YAAoB,QAChCF,EAAoB,SAASzH,EAAG8H,EAAGxd,GAC/B,OAAO0V,EAAEpW,QAAQke,EAAGxd,QAErB,CAEH,IAAIyd,EAAgB,GAAGne,QACvB,GAAiD,IAA7Cme,EAAcjO,KAAK,IAAI6N,WAAW,GAAI,GAAU,MAAMxgB,MAAM,oBAChEsgB,EAAoB,SAASzH,EAAG8H,EAAGxd,GAC/B,OAAOyd,EAAcjO,KAAKkG,EAAG8H,EAAGxd,IAMpCod,EADyB,mBAAlBC,WAAWK,GACHL,WAAWK,GAAGJ,KAAKD,YAEnB,WACX,OAAOH,EAAezN,YAI9B,MAAMkO,EAAe,SAASjI,GAC1B,OAAOA,aAAa2H,YAelBO,EAAwB,mDAkGxBC,EAAc,sFAAwFxd,MAAM,IAAIyd,QAAO,SAASD,EAAaE,GAE/I,OADAF,EAAYE,EAAEvf,WAAW,KAAM,EACxBqf,IACR,IAiBGG,EAAqB,GAErBC,EAAe,SAAStgB,EAAKugB,GAC/B,GAAmB,iBAARvgB,EAAkB,MAAM,IAAIwgB,UAAU,4CAEjD,GAAID,EAAO,CACP,IAAIE,EAASJ,EAAmBrgB,GAChC,GAAIggB,EAAaS,GAAS,OAAOA,EAGrC,IAAIpC,EAAMre,EAAIW,OACV+f,EAAa/O,MAAM0M,GACnBsC,EAAS,EACb,IAAK,IAAIte,EAAI,EAAGA,EAAIgc,IAAOhc,EAAG,CAC1B,IAAIue,EAAI5gB,EAAIa,WAAWwB,GACvB,GAAIue,GAAK,IACLF,EAAWC,KAAYC,OACpB,GAAIA,GAAK,KACZF,EAAWC,KAAY,IAAQC,GAAK,EACpCF,EAAWC,KAAY,IAAY,GAAJC,MAC5B,CAEH,GAAIA,GAAK,OAAUA,GAAK,OAAWve,EAAE,EAAKgc,EAAK,CAE3C,IAAIwB,EAAI7f,EAAIa,WAAWwB,EAAE,GACrBwd,GAAK,OAAUA,GAAK,QAEpBxd,IACAue,EAAmB,MAAdA,EAAI,OAAkBf,EAAI,MAGnCe,GAAK,OACLF,EAAWC,KAAY,IAAQC,GAAK,GACpCF,EAAWC,KAAY,IAASC,GAAK,EAAK,GAC1CF,EAAWC,KAAY,IAAY,GAAJC,IAE/BF,EAAWC,KAAY,IAAQC,GAAK,GACpCF,EAAWC,KAAY,IAASC,GAAK,GAAM,GAC3CF,EAAWC,KAAY,IAASC,GAAK,EAAK,GAC1CF,EAAWC,KAAY,IAAY,GAAJC,IAQ3C,OAJAF,EAAanB,EAAemB,GAExBH,IAAOF,EAAmBrgB,GAAO0gB,GAE9BA,GAcXG,EAAOC,QAAQvB,eAAoBA,EACnCsB,EAAOC,QAAQtB,kBAAoBA,EACnCqB,EAAOC,QAAQrB,aAAoBA,EACnCoB,EAAOC,QAAQd,aAAoBA,EACnCa,EAAOC,QAAQC,aAlMM,SAAShb,EAAGoK,GAC7B,GAAIpK,IAAMoK,EAAG,CACT,IAAIkO,EAAMtY,EAAEpF,OACZ,GAAI0d,IAAQlO,EAAExP,OAAQ,OAAO,EAE7B,IAAK,IAAI0B,EAAE,EAAGA,EAAEgc,EAAKhc,IACjB,GAAI0D,EAAE1D,KAAO8N,EAAE9N,GAAI,OAAO,EAElC,OAAO,GA2LXwe,EAAOC,QAAQE,YAvLK,SAASC,EAAOjd,EAAMG,EAAI+c,GAC1C,IAAKlB,EAAaiB,GAAQ,MAAM,IAAIT,UAAU,oCAG1Crc,OADO,IAAPA,EACK8c,EAAMtgB,OAEN+J,KAAK4J,IAAI2M,EAAMtgB,OAAQwD,GAGhC,IAAInE,EAAM,GACV,IAAK,IAAIqC,OAAY,IAAP2B,EAAcA,EAAK,EAAI3B,EAAI8B,GAAK,CAC1C,IAAIgd,EAAKF,EAAM5e,KACf,GAAI8e,EAAK,IAELnhB,GAAOoV,OAAOgM,aAAaD,QACxB,GAAIA,EAAK,KAAQA,EAAK,IAAM,CAC/B,IAAKD,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,SACJ,GAAImhB,GAAM,IAAM,CAEnB,GAAI9e,GAAK8B,EAAI,CACT,IAAK+c,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAIshB,EAAKL,EAAM5e,KACf,GAAkB,MAAV,IAAHif,GAAmB,CACpB,IAAKJ,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJA,GAAOoV,OAAOgM,eAAoB,GAALD,IAAc,IAAW,GAALG,SAC9C,GAAIH,GAAM,IAAM,CAEnB,GAAI9e,EAAE,GAAK8B,EAAI,CACX,IAAK+c,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAIshB,EAAKL,EAAM5e,KACf,GAAkB,MAAV,IAAHif,GAAmB,CACpB,IAAKJ,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAIuhB,EAAKN,EAAM5e,KACf,GAAkB,MAAV,IAAHkf,GAAmB,CACpB,IAAKL,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAI4gB,IAAW,GAALO,IAAc,MAAa,GAALG,IAAc,IAAW,GAALC,GACpD,GAAIX,GAAK,MACL5gB,GAAOoV,OAAOgM,aAAaR,OACxB,CACHA,GAAK,MACL,IAAIY,EAAiB,OAAXZ,GAAK,IACXa,EAAMb,EAAI,KAAS,MACvB5gB,GAAOoV,OAAOgM,aAAaI,EAAIC,QAEhC,CAEH,GAAIpf,EAAE,GAAK8B,EAAI,CACX,IAAK+c,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAIshB,EAAKL,EAAM5e,KACf,GAAkB,MAAV,IAAHif,GAAmB,CACpB,IAAKJ,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAIuhB,EAAKN,EAAM5e,KACf,GAAkB,MAAV,IAAHkf,GAAmB,CACpB,IAAKL,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAEJ,IAAI0hB,EAAKT,EAAM5e,KACf,GAAkB,MAAV,IAAHqf,GAAmB,CACpB,IAAKR,EAAkB,MAAMG,WAAWpB,GACxCjgB,GAAO,IACP,SAGJ,IAAI4gB,IAAW,EAALO,IAAc,MAAa,GAALG,IAAc,MAAa,GAALC,IAAc,IAAW,GAALG,GAC1Ed,GAAK,MACL,IAAIY,EAAiB,OAAXZ,GAAK,IACXa,EAAMb,EAAI,KAAS,MACvB5gB,GAAOoV,OAAOgM,aAAaI,EAAIC,IAGvC,OAAOzhB,GA2FX6gB,EAAOC,QAAQa,aAjFM,SAAS5b,GAC1B,IAAKia,EAAaja,GAAI,MAAM,IAAIya,UAAU,qCAC1C,IAAIzI,EAAI,GACR,IAAK,IAAI1V,EAAE,EAAGA,EAAE0D,EAAEpF,OAAQ0B,IAAK,CAC3B,IAAIwd,EAAI9Z,EAAE1D,GACN6d,EAAYL,GACZ9H,GAAK3C,OAAOgM,aAAavB,GAEzB9H,GAAK,KAAO8H,EAAE,GAAK,IAAI,IAAMA,EAAE+B,SAAS,IAGhD,OAAO7J,GAuEX8I,EAAOC,QAAQR,aAAoBA,EACnCO,EAAOC,QAAQe,gBAnBS,SAAS7hB,GAC7B,IAAKggB,EAAahgB,GAAM,CACpB,GAAmB,iBAARA,EAGP,MAAM,IAAIwgB,UAAU,kDAFpBxgB,EAAMsgB,EAAatgB,GAK3B,OAAOA,GAeX,MAAM8hB,EAAgBxB,EAAa,QAYnCO,EAAOC,QAAQgB,cAAsBA,EACrCjB,EAAOC,QAAQiB,kBAXa,IAY5BlB,EAAOC,QAAQkB,kBAXa,IAY5BnB,EAAOC,QAAQmB,gBAXa,IAY5BpB,EAAOC,QAAQoB,oBAXa,IAY5BrB,EAAOC,QAAQqB,YAVa,UAW5BtB,EAAOC,QAAQsB,YAVaD,YAW5BtB,EAAOC,QAAQuB,cAVaD,sDAW5BvB,EAAOC,QAAQwB,YAVa,kDAa5B,MAUMC,EAAiB,CACnBC,WAAqB,EACrBC,SAAoB,EACpBC,aAAoB,EACpBC,mBAAoB,EACpBC,YAAoB,EACpBC,YAAoB,EACpBC,WAAoB,EACpBC,cAAoB,EACpBC,cAAoB,EACpBC,YAAoB,EACpBC,YAAoB,GAGxBX,EAAeY,YAA2C,EAA7BZ,EAAeM,YAC5CN,EAAea,YAA2C,GAA7Bb,EAAeM,YAE5CN,EAAec,YAA2C,EAA7Bd,EAAeK,YAC5CL,EAAee,YAA2C,GAA7Bf,EAAeK,YAE5CL,EAAegB,SAA0C,EAA/BhB,EAAeQ,cACzCR,EAAeiB,SAA0C,GAA/BjB,EAAeQ,cACzCR,EAAekB,SAA0C,GAA/BlB,EAAeQ,cAMzC,MAqBM,cAAEW,GAAkB,EAAQ,MAC5BC,GAAqBD,EAAgB,IAiD3C7C,EAAOC,QAAQ8C,aAfU,EAgBzB/C,EAAOC,QAAQ+C,cAbU,EAczBhD,EAAOC,QAAQgD,aAfU,EAgBzBjD,EAAOC,QAAQiD,YAjBU,EAkBzBlD,EAAOC,QAAQkD,iBAfU,EAgBzBnD,EAAOC,QAAQmD,aAVO,EAWtBpD,EAAOC,QAAQoD,cARO,EAStBrD,EAAOC,QAAQqD,aAVO,EAWtBtD,EAAOC,QAAQsD,YAZO,EAatBvD,EAAOC,QAAQuD,aA7DM,GA8DrBxD,EAAOC,QAAQwD,aAA2B,EAC1CzD,EAAOC,QAAQyD,UAlFI,EAmFnB1D,EAAOC,QAAQ0D,WA5EI,EA6EnB3D,EAAOC,QAAQ2D,WAvEI,GAwEnB5D,EAAOC,QAAQ4D,UA7EI,EA8EnB7D,EAAOC,QAAQ6D,WA7EI,EA8EnB9D,EAAOC,QAAQ8D,UAlFI,EAmFnB/D,EAAOC,QAAQ+D,SAzEE,EA0EjBhE,EAAOC,QAAQgE,WAnFI,EAoFnBjE,EAAOC,QAAQiE,SAzEE,EA0EjBlE,EAAOC,QAAQkE,SA3EE,EA4EjBnE,EAAOC,QAAQmE,UAzFI,EA0FnBpE,EAAOC,QAAQoE,UA3FI,EA4FnBrE,EAAOC,QAAQqE,UA1FI,EA2FnBtE,EAAOC,QAAQsE,UArFI,GAsFnBvE,EAAOC,QAAQuE,UArFI,GAsFnBxE,EAAOC,QAAQwE,UAhGI,EAiGnBzE,EAAOC,QAAQyE,UAtFI,GAuFnB1E,EAAOC,QAAQ6C,kBAA0BA,EACzC9C,EAAOC,QAAQ0E,iBAtEa,EAuE5B3E,EAAOC,QAAQ2E,cAvEa,EAwE5B5E,EAAOC,QAAQ4E,oBAzEa,EA0E5B7E,EAAOC,QAAQyB,eAA0BA,EACzC1B,EAAOC,QAAQ6E,UAvEf,MACIC,cACIxmB,KAAKymB,MAAQC,IACb1mB,KAAKwV,KAAO,KACZxV,KAAK2mB,SAAW,KAChB3mB,KAAK4mB,KAAO,KACZ5mB,KAAK+V,OAAS,KACd/V,KAAK6mB,YAAcH,IACnB1mB,KAAK8mB,YAAcJ,IACnB1mB,KAAK+mB,gBAAkBL,IACvB1mB,KAAKgnB,KAAON,IACZ1mB,KAAKinB,QAAUP,IACf1mB,KAAKknB,SAAWR,IAChB1mB,KAAKmnB,WAAaT,IAClB1mB,KAAKonB,UAAY,KAEjBpnB,KAAKqnB,KAAO,OAwDpB5F,EAAOC,QAAQ4F,iBAjFU,SAASrkB,GAC9B,OAAOshB,EAAoBthB,GAiF/Bwe,EAAOC,QAAQ6F,cAhJO,CAClBC,OAAe,EACfC,UAAe,EACfC,WAAe,EACfC,cAAe,EACfC,WAAe,EACfC,YAAe,EACfC,WAAe,gCC7QnB,MAAM9oB,EAAO,EAAQ,MAErByiB,EAAOC,QAAQqG,gBAA0B/oB,EAAK+oB,gBAC9CtG,EAAOC,QAAQsG,kBAA0BhpB,EAAKgpB,kBAC9CvG,EAAOC,QAAQuG,gBAA0BjpB,EAAKipB,gBAC9CxG,EAAOC,QAAQwG,gBAA0BlpB,EAAKkpB,gBAC9CzG,EAAOC,QAAQyG,sBAA0BnpB,EAAKmpB,sBAC9C1G,EAAOC,QAAQ0G,sBAA0BppB,EAAKopB,sBAC9C3G,EAAOC,QAAQ2G,oBAA0BrpB,EAAKqpB,oBAC9C5G,EAAOC,QAAQ4G,wBAA0BtpB,EAAKspB,wBAE9C7G,EAAOC,QAAQC,aAAoB3iB,EAAK2iB,aACxCF,EAAOC,QAAQtB,kBAAoBphB,EAAKohB,kBACxCqB,EAAOC,QAAQrB,aAAoBrhB,EAAKqhB,aACxCoB,EAAOC,QAAQE,YAAoB5iB,EAAK4iB,YACxCH,EAAOC,QAAQR,aAAoBliB,EAAKkiB,aACxCO,EAAOC,QAAQa,aAAoBvjB,EAAKujB,aAExC,MAAMgG,EAAU,EAAQ,MAClBlkB,EAAU,EAAQ,MAClBJ,EAAU,EAAQ,MAClB+B,EAAU,EAAQ,MAExByb,EAAOC,QAAQ6G,QAAUA,EACzB9G,EAAOC,QAAQrd,IAAUA,EACzBod,EAAOC,QAAQzd,QAAUA,EACzBwd,EAAOC,QAAQ1b,OAAUA,kBC5BzB,MAAMwiB,EAAO,EAAQ,MAQfT,EAA0B,8BAC1BC,EAA0BC,0CAAiDF,EAAkB,eAAiBS,EAAKvF,cAEzHxB,EAAOC,QAAQqG,gBAA0BA,EACzCtG,EAAOC,QAAQsG,kBAA0BA,EACzCvG,EAAOC,QAAQuG,gBANiBC,gBAOhCzG,EAAOC,QAAQwG,gBARiB,cAShCzG,EAAOC,QAAQyG,sBAbiB,IAchC1G,EAAOC,QAAQ0G,sBAbiB,IAchC3G,EAAOC,QAAQ2G,oBAbiB,EAchC5G,EAAOC,QAAQ4G,wBAbiB,IAchC7G,EAAOC,QAAQd,aAA0B4H,EAAK5H,aAC9Ca,EAAOC,QAAQC,aAA0B6G,EAAK7G,aAC9CF,EAAOC,QAAQvB,eAA0BqI,EAAKrI,eAC9CsB,EAAOC,QAAQtB,kBAA0BoI,EAAKpI,kBAC9CqB,EAAOC,QAAQrB,aAA0BmI,EAAKnI,aAC9CoB,EAAOC,QAAQE,YAA0B4G,EAAK5G,YAC9CH,EAAOC,QAAQR,aAA0BsH,EAAKtH,aAC9CO,EAAOC,QAAQa,aAA0BiG,EAAKjG,aAC9Cd,EAAOC,QAAQe,gBAA0B+F,EAAK/F,gCCnC9C,MAAM,gBACFgG,EAAe,gBACfC,EAAe,aACfC,GACA,EAAQ,OACN,YACFC,GACA,EAAQ,OACN,gBACFb,EAAe,kBACfC,EAAiB,gBACjBC,EAAe,gBACfC,EAAe,sBACfC,EAAqB,sBACrBC,EAAqB,oBACrBC,EAAmB,wBACnBC,EAAuB,aACvBpH,GACA,EAAQ,MAuBZO,EAAOC,QAAQmH,gBArBS,SAAS9kB,GAkB7B,OAjBA6kB,EAAY7kB,EAAG,IACf2kB,EAAgB3kB,EAAGgkB,GACnBY,EAAa5kB,GAAI,EAAGmd,EAAa,YACjCwH,EAAgB3kB,EAAGikB,GACnBW,EAAa5kB,GAAI,EAAGmd,EAAa,cACjCwH,EAAgB3kB,EAAGkkB,GACnBU,EAAa5kB,GAAI,EAAGmd,EAAa,YACjCwH,EAAgB3kB,EAAGmkB,GACnBS,EAAa5kB,GAAI,EAAGmd,EAAa,YACjCwH,EAAgB3kB,EAAGokB,GACnBQ,EAAa5kB,GAAI,EAAGmd,EAAa,kBACjCwH,EAAgB3kB,EAAGqkB,GACnBO,EAAa5kB,GAAI,EAAGmd,EAAa,kBACjCuH,EAAgB1kB,EAAGskB,GACnBM,EAAa5kB,GAAI,EAAGmd,EAAa,gBACjCwH,EAAgB3kB,EAAGukB,GACnBK,EAAa5kB,GAAI,EAAGmd,EAAa,oBAC1B,gCCpCX,MAAM,YACFgE,EAAW,WACXG,EAAU,SACVI,EAAQ,SACRE,EAAQ,SACRC,EAAQ,UACRO,EAAS,kBACT5B,EAAiB,iBACjB6B,EAAgB,gBAChBvD,EACAM,gBAAgB,YACZW,EAAW,aACXR,EAAY,SACZe,EAAQ,cACRV,EAAa,SACbS,EAAQ,SACRD,EAAQ,mBACRZ,EAAkB,YAClBS,EAAW,SACXX,EAAQ,UACRD,EAAS,YACTa,EAAW,YACXC,EAAW,YACXH,EAAW,WACXL,EAAU,YACVG,EAAW,cACXD,GAEJ2D,eAAe,OAAEC,GAAQ,gBACzB/E,EAAe,aACfvB,GACA,EAAQ,OACN,UAAE4H,GAAc,EAAQ,MACxBC,EAAY,EAAQ,MACpBC,EAAY,EAAQ,OACpB,UAAEC,GAAc,EAAQ,MACxBC,EAAY,EAAQ,MACpBC,EAAY,EAAQ,MACpBC,EAAY,EAAQ,OACpB,WACFC,EAAU,SACVC,EAAQ,gBACRC,GACA,EAAQ,MACNC,EAAY,EAAQ,OACpB,cAAElF,GAAkB,EAAQ,MAC5BmF,EAAY,EAAQ,MACpBC,EAAY,EAAQ,OACpB,IAAEC,GAAQ,EAAQ,MAClBC,EAAYT,EAAQS,OACpBC,EAAYV,EAAQU,SAEpBC,EAAe,SAAS/lB,GAC1BA,EAAEsH,MACFyd,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,mBAG9B2e,EAAkB,SAASjmB,EAAG2I,GAChCoc,EAAU/kB,EAAG2I,EAAK3I,EAAEsH,IAAMtH,EAAEgmB,GAAGE,QAAU,qCAGvCC,EAAmB,SAASlJ,GAC9B,IAAKA,EAAG,MAAMI,UAAU,qBAGtB+I,EAA0B,SAASzd,GACrCwd,EAA8B,iBAANxd,IAAqB,EAAFA,KAASA,IAGlD0d,EAAU,SAASC,GACrB,OAAOA,IAAMlB,EAAQmB,gBAqBnBC,EAAa,SAASxmB,EAAG7B,GAC3B,IAAI6nB,EAAKhmB,EAAEgmB,GACX,GAAI7nB,EAAM,EAAG,CACT,IAAImoB,EAAIN,EAAGE,QAAU/nB,EAErB,OADA4mB,EAAU/kB,EAAG7B,GAAO6nB,EAAG1e,KAAO0e,EAAGE,QAAU,GAAI,sBAC3CI,GAAKtmB,EAAEsH,IAAY8d,EAAQmB,eACnBvmB,EAAEmT,MAAMmT,GACjB,OAAInoB,EAAMqiB,GACbuE,EAAU/kB,EAAW,IAAR7B,IAAcA,GAAO6B,EAAEsH,IAAK,iBAClCtH,EAAEmT,MAAMnT,EAAEsH,IAAMnJ,IAChBA,IAAQqiB,EACRxgB,EAAEymB,IAAIC,YAGb3B,EAAU/kB,GADV7B,EAAMqiB,EAAoBriB,IACNgnB,EAAMwB,SAAW,EAAG,2BACpCX,EAAGY,KAAKC,UACDzB,EAAQmB,eAERpoB,GAAO6nB,EAAGY,KAAK9I,MAAMgJ,UAAYd,EAAGY,KAAK9I,MAAMiJ,QAAQ5oB,EAAM,GAAKinB,EAAQmB,iBAMvFS,GAAc,SAAShnB,EAAG7B,GAC5B,IAAI6nB,EAAKhmB,EAAEgmB,GACX,GAAI7nB,EAAM,EAAG,CACT,IAAImoB,EAAIN,EAAGE,QAAU/nB,EAErB,OADA4mB,EAAU/kB,EAAG7B,GAAO6nB,EAAG1e,KAAO0e,EAAGE,QAAU,GAAI,sBAC3CI,GAAKtmB,EAAEsH,IAAY,KACXgf,EACT,GAAInoB,EAAMqiB,EAEb,OADAuE,EAAU/kB,EAAW,IAAR7B,IAAcA,GAAO6B,EAAEsH,IAAK,iBAClCtH,EAAEsH,IAAMnJ,EAEf,MAAMpC,MAAM,gCA8DdkrB,GAAa,SAASjnB,EAAG7B,GAC3B,IACI+oB,EADAN,EAAO5mB,EAAEgmB,GAAGE,QAEZ/nB,GAAO,GACP4mB,EAAU/kB,EAAG7B,GAAO6B,EAAEmnB,YAAcP,EAAO,GAAI,qBAC/CM,EAASN,EAAO,EAAIzoB,IAEpB4mB,EAAU/kB,IAAK7B,EAAM,IAAM6B,EAAEsH,KAAOsf,EAAO,GAAI,mBAC/CM,EAASlnB,EAAEsH,IAAMnJ,EAAM,GAE3B8mB,EAAImC,WAAWpnB,EAAGknB,IAGhBG,GAAU,SAASrnB,EAAG2I,GACxBse,GAAWjnB,GAAI2I,EAAI,IAGjB2e,GAAU,SAAStnB,EAAGa,EAAMG,GAC9B,KAAOH,EAAOG,EAAIH,IAAQG,IAAM,CAC5B,IAAIumB,EAASvnB,EAAEmT,MAAMtS,GACjB2mB,EAAO,IAAI3B,EAAO0B,EAAOlqB,KAAMkqB,EAAOzJ,OAC1CsH,EAAQqC,UAAUznB,EAAGa,EAAMG,GAC3BokB,EAAQsC,SAAS1nB,EAAGgB,EAAIwmB,KAQ1BG,GAAa,SAAS3nB,EAAG7B,EAAKwK,GAChC,IAAIlJ,EAAIO,EAAEsH,IAAM,EACZsgB,EAAOZ,GAAYhnB,EAAG7B,GACtB0V,EAAI7T,EAAEmT,MAAMyU,GAChB7C,EAAU/kB,EAAGqmB,EAAQxS,IAAM1V,EAAMqiB,EAAmB,0BACpDuE,EAAU/kB,GAAI2I,GAAK,EAAIA,GAAKA,IAAOlJ,EAAImoB,EAAO,EAAI,eAClD,IAAI7Y,EAAIpG,GAAK,EAAIlJ,EAAIkJ,EAAIif,EAAOjf,EAAI,EACpC2e,GAAQtnB,EAAG4nB,EAAM7Y,GACjBuY,GAAQtnB,EAAG+O,EAAI,EAAG/O,EAAEsH,IAAM,GAC1BggB,GAAQtnB,EAAG4nB,EAAM5nB,EAAEsH,IAAM,IAGvBugB,GAAW,SAAS7nB,EAAG8nB,EAASC,GAClC,IAAIlnB,EAAO2lB,EAAWxmB,EAAG8nB,GACzBtB,EAAWxmB,EAAG+nB,GAAOC,QAAQnnB,IA6F3BonB,GAAmB,SAASjoB,EAAGkoB,EAAIvf,GAGrC,GAFAwd,EAA+B,mBAAP+B,GACxB9B,EAAwBzd,GACd,IAANA,EACA3I,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOxF,EAAU6H,OACrC,CACDjC,EAAgBjmB,EAAG2I,GACnBoc,EAAU/kB,EAAG2I,GAAKwc,EAAMwB,SAAU,2BAClC,IAAIwB,EAAK,IAAIrC,EAAS9lB,EAAGkoB,EAAIvf,GAC7B,IAAK,IAAIzJ,EAAE,EAAGA,EAAEyJ,EAAGzJ,IACfipB,EAAGpB,QAAQ7nB,GAAG8oB,QAAQhoB,EAAEmT,MAAMnT,EAAEsH,IAAMqB,EAAIzJ,IAC9C,IAAK,IAAIA,EAAE,EAAGA,EAAEyJ,EAAGzJ,WACRc,EAAEmT,QAAQnT,EAAEsH,KACnBqB,EAAE,KACA3I,EAAEsH,IACRtH,EAAEmT,MAAMnT,EAAEsH,KAAK8gB,YAAYD,GAE/BpC,EAAa/lB,IAGXqoB,GAAoBJ,GAEpBK,GAAoB,SAAStoB,EAAGkoB,GAClCD,GAAiBjoB,EAAGkoB,EAAI,IAGtBK,GAAqBD,GA6BrBE,GAAY,SAASxoB,EAAGP,EAAGgpB,GAC7B,IAAI5rB,EAAM0oB,EAASvlB,EAAG0e,EAAgB+J,IACtCxC,EAAgBjmB,EAAG,GACnBolB,EAAQsD,aAAa1oB,EAAGnD,GACxBkoB,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBAChCoe,EAAIiD,SAAS3oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEmT,MAAMnT,EAAEsH,IAAM,WAEhDtH,EAAEmT,QAAQnT,EAAEsH,YACZtH,EAAEmT,QAAQnT,EAAEsH,MAGjBshB,GAAgB,SAAS5oB,EAAGyR,GAC9B+W,GAAUxoB,EAAG2lB,EAAOkD,YAAY7oB,EAAEymB,IAAIC,WAAW5I,MAAOuE,GAAmB5Q,IAyFzEqX,GAAY,SAAS9oB,EAAGP,EAAGgpB,GAC7B,IAAI5rB,EAAM0oB,EAASvlB,EAAG0e,EAAgB+J,IAItC,OAHArD,EAAQsD,aAAa1oB,EAAGnD,GACxBkoB,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBAChCoe,EAAIqD,cAAc/oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEsH,IAAM,GAC7CtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SAGxBC,GAAc,SAASjpB,EAAG7B,EAAKwK,GACjC,IAAIlJ,EAAI+mB,EAAWxmB,EAAG7B,GAKtB,OAJAioB,EAAwBzd,GACxBoc,EAAU/kB,EAAGP,EAAEypB,YAAa,kBAC5B9D,EAAQ+D,UAAUnpB,EAAG2lB,EAAOkD,YAAYppB,EAAEqe,MAAOnV,IACjDoc,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBACzBtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SAoBxBI,GAAkB,SAASppB,EAAGqpB,EAAQC,GACxC,IAAI7pB,EAAI,IAAI2lB,EAAQS,OAAOlG,EAAYgG,EAAO4D,SAASvpB,IACvDA,EAAEmT,MAAMnT,EAAEsH,KAAO7H,EACjBsmB,EAAa/lB,IAcXwpB,GAAc,SAASxpB,EAAGypB,EAAI9gB,GAEhC,OADAyd,EAAwBzd,GACjB8gB,EAAGC,SACN,KAAKpJ,EAAU,CACX,IAAIla,EAAIqjB,EAAG3L,MACX,OAAM,GAAKnV,GAAKA,GAAKvC,EAAE0gB,UAChB,CACHrV,KAAM0L,EAAa,IAAI,GACvBtP,IAAKzH,EAAE2gB,QAAQpe,EAAE,IAHqB,KAM9C,KAAKyX,EAAU,CACX,IAAIha,EAAIqjB,EAAG3L,MACPjK,EAAIzN,EAAEyN,EACV,KAAM,GAAKlL,GAAKA,GAAKkL,EAAE8V,SAASnsB,QAAS,OAAO,KAChD,IAAIiU,EAAOoC,EAAE8V,SAAShhB,EAAE,GAAG8I,KAC3B,MAAO,CACHA,KAAMA,EAAOA,EAAKmY,SAAWzM,EAAa,cAAc,GACxDtP,IAAKzH,EAAEyjB,OAAOlhB,EAAE,IAGxB,QAAS,OAAO,OAuGlBmhB,GAAgB,SAAS9pB,EAAG7B,GAC9B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GAEtB,IAAKmoB,EAAEyD,aAAc,CACjB,IAAKrE,EAAIsE,QAAQ1D,GACb,OAAO,KAEXlB,EAAQ6E,cAAcjqB,EAAGsmB,GAE7B,OAAOA,EAAE4D,UAGPC,GAAgBL,GA6ChBM,GAAiB,SAASpqB,EAAG7B,GAC/B,OAAOunB,EAAI2E,UAAU7D,EAAWxmB,EAAG7B,KAQjCmsB,GAAgB,SAAStqB,EAAG7B,GAC9B,OAAOunB,EAAI6E,SAAS/D,EAAWxmB,EAAG7B,KAuChCqsB,GAAO,IAAIC,QAwDXC,GAAS,SAAS1qB,EAAG2qB,GACvB1F,EAAI2F,iBAAiB5qB,EAAG2qB,EAAGzE,QAASyE,EAAGE,WAGrCC,GAAW,SAAS9qB,EAAG7B,GACzB,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAOkoB,EAAQC,GAAMA,EAAE0C,QAAU3J,GAsF/B0L,GAAoB5N,EAAa,KAuCjC6N,GAAe,SAAShrB,EAAEirB,EAAGC,GAC/BnG,EAAU/kB,EAAGkrB,IAAO/J,GAAgBnhB,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,KAAO,EAAO,EAC3D,sDAGF6jB,GAAY,SAASnrB,EAAGorB,EAAOP,EAAUQ,EAAK5C,GAChD1D,EAAU/kB,EAAS,OAANyoB,KAAgBzoB,EAAEgmB,GAAGsF,WAAajG,EAAOkG,UAAW,yCACjEtF,EAAgBjmB,EAAGorB,EAAQ,GAC3BrG,EAAU/kB,EAAGA,EAAEwrB,SAAW/H,EAAQ,wCAClCuH,GAAahrB,EAAGorB,EAAOP,GACvB,IAAIjE,EAAO5mB,EAAEsH,KAAO8jB,EAAQ,GAClB,OAAN3C,GAAwB,IAAVzoB,EAAEyrB,KAChBzrB,EAAEgmB,GAAG0F,IAAMjD,EACXzoB,EAAEgmB,GAAG2F,MAAQN,EACbpG,EAAI2G,UAAU5rB,EAAG4mB,EAAMiE,IAEvB5F,EAAI2F,iBAAiB5qB,EAAG4mB,EAAMiE,GAG9BA,IAAa1J,GAAenhB,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,MACzCtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,MAOfukB,GAAa,SAAS7rB,EAAGorB,EAAOP,EAAUiB,EAAST,EAAK5C,GAK1D,IAAI+C,EACA5E,EALJ7B,EAAU/kB,EAAS,OAANyoB,KAAgBzoB,EAAEgmB,GAAGsF,WAAajG,EAAOkG,UAAW,yCACjEtF,EAAgBjmB,EAAGorB,EAAQ,GAC3BrG,EAAU/kB,EAAGA,EAAEwrB,SAAW/H,EAAQ,wCAClCuH,GAAahrB,EAAGorB,EAAOP,GAInBjE,EADY,IAAZkF,EACO,EAEA9E,GAAYhnB,EAAG8rB,GAE1B,IAAI5F,EAAUlmB,EAAEsH,KAAO8jB,EAAQ,GAC/B,GAAU,OAAN3C,GAAczoB,EAAEyrB,IAAM,EAAG,CACzB,IAAIxO,EAAI,CACJiJ,QAASA,EACT2E,SAAUA,GAEdW,EAASvG,EAAI8G,WAAW/rB,EAAG0qB,GAAQzN,EAAGiJ,EAASU,OAC5C,CACH,IAAIZ,EAAKhmB,EAAEgmB,GACXA,EAAG0F,IAAMjD,EACTzC,EAAG2F,MAAQN,EAEXrF,EAAGgG,MAAQ9F,EACXF,EAAGiG,cAAgBjsB,EAAE8rB,QACrB9rB,EAAE8rB,QAAUlF,EACZZ,EAAGsF,aAAejG,EAAO6G,SAAWlsB,EAAEmsB,UACtCnG,EAAGsF,YAAcjG,EAAO+G,YACxBnH,EAAI2G,UAAU5rB,EAAGkmB,EAAS2E,GAC1B7E,EAAGsF,aAAejG,EAAO+G,YACzBpsB,EAAE8rB,QAAU9F,EAAGiG,cACfT,EAAS/H,EAMb,OAHIoH,IAAa1J,GAAenhB,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,MACzCtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,KAEVkkB,GAiDLa,GAAc,SAASrsB,EAAGssB,EAAM3jB,GAClC,IAAI8gB,EAAKjD,EAAWxmB,EAAGssB,GACvBvH,EAAU/kB,EAAGypB,EAAG8C,eAAgB,yBAChC,IAAInmB,EAAIqjB,EAAG3L,MAGX,OAFAsI,EAAwBzd,GACxBoc,EAAU/kB,EAAG,GAAK2I,GAAKA,GAAKvC,EAAEyN,EAAE8V,SAASnsB,OAAQ,yBAC1C,CACH4I,EAAGA,EACHlH,EAAGyJ,EAAI,IAgDf+U,EAAOC,QAAQoI,aAAwBA,EACvCrI,EAAOC,QAAQsI,gBAAwBA,EACvCvI,EAAOC,QAAQ6O,aAp7BM,SAASxsB,EAAG7B,GAC7B,OAAQA,EAAM,GAAKA,GAAOqiB,EACpBriB,EACC6B,EAAEsH,IAAMtH,EAAEgmB,GAAGE,QAAW/nB,GAk7BnCuf,EAAOC,QAAQ8O,UArOG,SAASzsB,EAAG0sB,GACtBA,IAAOtK,GAAasK,IAAOpL,EAC3B2E,EAAgBjmB,EAAG,IAEnBimB,EAAgBjmB,EAAG,GACnBolB,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAI,IACnCyd,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,mBAGpC8d,EAAQuH,WAAW3sB,EAAG0sB,EAAI1sB,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEmT,MAAMnT,EAAEsH,IAAM,WAC3EtH,EAAEmT,QAAQnT,EAAEsH,MA4NvBoW,EAAOC,QAAQiP,YArhCK,SAAS5sB,EAAG6sB,GAC5B,IAAI/e,EAAM9N,EAAEymB,IAAIqG,MAEhB,OADA9sB,EAAEymB,IAAIqG,MAAQD,EACP/e,GAmhCX4P,EAAOC,QAAQoP,kBAhhCW,SAAS/sB,EAAGgtB,GAClC,IAAIlf,EAAM9N,EAAEymB,IAAIwG,cAEhB,OADAjtB,EAAEymB,IAAIwG,cAAgBD,EACflf,GA8gCX4P,EAAOC,QAAQuP,SAzJE,SAASltB,EAAG2I,EAAG8T,GAC5B0O,GAAUnrB,EAAG2I,EAAG8T,EAAG,EAAG,OAyJ1BiB,EAAOC,QAAQwN,UAAwBA,GACvCzN,EAAOC,QAAQwP,eAr+BQ,SAASntB,EAAG2I,GAC/B,IAAIykB,EACApH,EAAKhmB,EAAEgmB,GAiBX,OAhBAjB,EAAU/kB,EAAG2I,GAAK,EAAG,gBACjB3I,EAAEmnB,WAAannB,EAAEsH,IAAMqB,EACvBykB,GAAM,EAEMptB,EAAEsH,IAAM+d,EAAOgI,YACf9M,EAAgB5X,EACxBykB,GAAM,GAENnI,EAAIqI,eAAettB,EAAG2I,GACtBykB,GAAM,GAIVA,GAAOpH,EAAG1e,IAAMtH,EAAEsH,IAAMqB,IACxBqd,EAAG1e,IAAMtH,EAAEsH,IAAMqB,GAEdykB,GAm9BX1P,EAAOC,QAAQ4P,YAlVK,SAASvtB,EAAGwtB,EAAQC,EAAQf,GAC5C,IAAIgB,EAAKlH,EAAWxmB,EAAGwtB,GACnBG,EAAKnH,EAAWxmB,EAAGytB,GAEnBvuB,EAAI,EAER,GAAImnB,EAAQqH,IAAOrH,EAAQsH,GACvB,OAAQjB,GACJ,KAAKhL,EAAUxiB,EAAIwmB,EAAIkI,cAAc5tB,EAAG0tB,EAAIC,GAAK,MACjD,KAAK9L,EAAU3iB,EAAIwmB,EAAImI,cAAc7tB,EAAG0tB,EAAIC,GAAK,MACjD,KAAK/L,EAAU1iB,EAAIwmB,EAAIoI,eAAe9tB,EAAG0tB,EAAIC,GAAK,MAClD,QAAS5I,EAAU/kB,GAAG,EAAO,kBAIrC,OAAOd,GAoUXwe,EAAOC,QAAQoQ,WApFI,SAAS/tB,EAAG2I,GAC3Bsd,EAAgBjmB,EAAG2I,GACfA,GAAK,EACL+c,EAAIsI,YAAYhuB,EAAG2I,GACR,IAANA,IACLyc,EAAQsD,aAAa1oB,EAAGslB,EAAWtlB,EAAGmd,EAAa,IAAI,KACvD4H,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,oBA+ExCoW,EAAOC,QAAQkK,SAAwBA,GACvCnK,EAAOC,QAAQyL,gBAAwBA,GACvC1L,EAAOC,QAAQsQ,SA3ME,SAASjuB,EAAGkuB,EAAQ/b,EAAMgc,GACvClI,EAAgBjmB,EAAG,GACnB,IAAIsmB,EAAItmB,EAAEmT,MAAMnT,EAAEsH,IAAK,GACvB,OAAIgf,EAAEiG,eACKrH,EAAUllB,EAAGsmB,EAAExI,MAAMjK,EAAGqa,EAAQ/b,EAAMgc,GAC1C,GAuMXzQ,EAAOC,QAAQyQ,UA5GG,SAASpuB,GACvBimB,EAAgBjmB,EAAG,GACnBglB,EAAOqJ,cAAcruB,IA2GzB0d,EAAOC,QAAQ2Q,OAhCA,aAiCf5Q,EAAOC,QAAQ4Q,cA/BO,WAElB,OADAC,QAAQC,KAAK,kCACN,GA8BX/Q,EAAOC,QAAQ+Q,kBAtBW,WAEtB,OADAF,QAAQC,KAAK,sCACN,GAqBX/Q,EAAOC,QAAQgR,aA3fM,SAAS3uB,EAAG7B,EAAKsqB,GAClC,OAAOK,GAAU9oB,EAAGwmB,EAAWxmB,EAAG7B,GAAMsqB,IA2f5C/K,EAAOC,QAAQiR,cA/eO,SAAS5uB,EAAGyR,GAC9B,OAAOqX,GAAU9oB,EAAG2lB,EAAOkD,YAAY7oB,EAAEymB,IAAIC,WAAW5I,MAAOuE,GAAmB5Q,IA+etFiM,EAAOC,QAAQkR,SAzfE,SAAS7uB,EAAG7B,EAAKwK,GAC9B,IAAIlJ,EAAI+mB,EAAWxmB,EAAG7B,GAKtB,OAJAioB,EAAwBzd,GACxB3I,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO1F,EAAaxX,GACzCod,EAAa/lB,GACb0lB,EAAIqD,cAAc/oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEsH,IAAM,GAC7CtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SAof9BtL,EAAOC,QAAQmR,iBApiBU,SAAS9uB,EAAG+uB,GACjC,IACIC,EADAC,EAAMzI,EAAWxmB,EAAG+uB,GAEpB3B,GAAM,EACV,OAAQ6B,EAAIjG,SACR,KAAKrJ,EACL,KAAKE,EACDmP,EAAKC,EAAInR,MAAMoR,UACf,MACJ,QACIF,EAAKhvB,EAAEymB,IAAIuI,GAAGC,EAAIjG,SAU1B,OANIgG,UACAhvB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOlG,EAAYqP,GACxCjJ,EAAa/lB,GACbotB,GAAM,GAGHA,GAihBX1P,EAAOC,QAAQwR,aArgBM,SAASnvB,EAAG7B,GAC7B,IAAIsB,EAAI+mB,EAAWxmB,EAAG7B,GAEtB,OADAunB,EAAIqD,cAAc/oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEsH,IAAM,GAC7CtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SAmgB9BtL,EAAOC,QAAQnd,WAn8BI,SAASR,GACxB,OAAOA,EAAEsH,KAAOtH,EAAEgmB,GAAGE,QAAU,IAm8BnCxI,EAAOC,QAAQyR,eA1kBQ,SAASpvB,EAAGqvB,EAAW1mB,GAC1C,IAAI2mB,EAAK9F,GAAYxpB,EAAGwmB,EAAWxmB,EAAGqvB,GAAY1mB,GAClD,GAAI2mB,EAAI,CACJ,IAAI7d,EAAO6d,EAAG7d,KACV5D,EAAMyhB,EAAGzhB,IAGb,OAFAuX,EAAQ+D,UAAUnpB,EAAG6N,GACrBkX,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBACzBmK,EAEX,OAAO,MAkkBXiM,EAAOC,QAAQ4R,iBAjhBU,SAASvvB,EAAG7B,GACjC,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGsmB,EAAEkJ,mBAAoB,0BACnC,IAAIC,EAAKnJ,EAAExI,MAAM4R,UAGjB,OAFA1vB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO4J,EAAGpyB,KAAMoyB,EAAG3R,OACxCiI,EAAa/lB,GACNA,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SA4gB9BtL,EAAOC,QAAQgS,WAz4BI,SAAS3vB,EAAG7B,GAC3BwpB,GAAW3nB,EAAG7B,EAAK,IAy4BvBuf,EAAOC,QAAQiS,cAjTO,SAAS5vB,EAAG2I,GAC9B,OAAOmiB,GAAS9qB,EAAG2I,KAAO4W,GAiT9B7B,EAAOC,QAAQkS,gBA3TS,SAAS7vB,EAAG7B,GAChC,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAOmoB,EAAEO,QAAQP,IAAMA,EAAEwJ,gBA0T7BpS,EAAOC,QAAQoS,eA7QQ,SAAS/vB,EAAG7B,GAC/B,OAAO2sB,GAAS9qB,EAAG7B,KAASyhB,GA6QhClC,EAAOC,QAAQqS,cApSO,SAAShwB,EAAG7B,GAC9B,OAAOqoB,EAAWxmB,EAAG7B,GAAK8xB,eAoS9BvS,EAAOC,QAAQuS,oBA3Qa,SAASlwB,EAAG7B,GACpC,OAAO2sB,GAAS9qB,EAAG7B,KAASqhB,GA2QhC9B,EAAOC,QAAQwS,UA1TG,SAASnwB,EAAG2I,GAC1B,OAAOmiB,GAAS9qB,EAAG2I,KAAO2W,GA0T9B5B,EAAOC,QAAQyS,WAnTI,SAASpwB,EAAG2I,GAC3B,OAAOmiB,GAAS9qB,EAAG2I,KAAO0W,GAmT9B3B,EAAOC,QAAQ0S,gBAhTS,SAASrwB,EAAG2I,GAChC,OAAOmiB,GAAS9qB,EAAG2I,IAAM,GAgT7B+U,EAAOC,QAAQ2S,aArSM,SAAStwB,EAAG7B,GAC7B,OAA4C,IAArCunB,EAAI6E,SAAS/D,EAAWxmB,EAAG7B,KAqStCuf,EAAOC,QAAQ4S,YAtYK,SAAS1c,EAAG7T,GAC5B,IAAIwwB,EAAIhG,GAAKiG,IAAI5c,GACjB,QAAK2c,IAES,OAANxwB,GAAgBA,EAAEymB,MAAQ+J,IAmYtC9S,EAAOC,QAAQ+S,aAnSM,SAAS1wB,EAAG7B,GAC7B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAOmoB,EAAEyD,cAAgBrE,EAAIsE,QAAQ1D,IAkSzC5I,EAAOC,QAAQgT,YAhTK,SAAS3wB,EAAG7B,GAC5B,OAAOqoB,EAAWxmB,EAAG7B,GAAK+qB,aAgT9BxL,EAAOC,QAAQiT,aA3RM,SAAS5wB,EAAG7B,GAC7B,OAAO2sB,GAAS9qB,EAAG7B,KAAS2hB,GA2RhCpC,EAAOC,QAAQkT,eAjSQ,SAAS7wB,EAAG7B,GAC/B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAOmoB,EAAEkJ,iBAAiBlJ,IAAMA,EAAEwK,qBAgStCpT,EAAOC,QAAQoT,QAzGC,SAAS/wB,EAAG7B,GACxB,IAAIsB,EAAI+mB,EAAWxmB,EAAG7B,GAClB6yB,EAAK,IAAInL,EACbH,EAAIuL,YAAYjxB,EAAGgxB,EAAIvxB,GACvBO,EAAEmT,MAAMnT,EAAEsH,KAAO0pB,EACjBjL,EAAa/lB,IAqGjB0d,EAAOC,QAAQuT,SA1PE,SAASlxB,EAAGmxB,EAAQhf,EAAMif,EAAW1rB,GAE7C0rB,EADAA,EACY1S,EAAgB0S,GADLrG,GAEf,OAATrlB,IAAeA,EAAOgZ,EAAgBhZ,IAC1C,IAAI2rB,EAAI,IAAIzL,EAAI5lB,EAAGmxB,EAAQhf,GACvBqZ,EAASvG,EAAIqM,qBAAqBtxB,EAAGqxB,EAAGD,EAAW1rB,GACvD,GAAI8lB,IAAW/H,EAAQ,CACnB,IAAIrd,EAAIpG,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAGwW,MAC3B,GAAI1X,EAAE0gB,WAAa,EAAG,CAElB,IAAIyK,EAAK5L,EAAOkD,YAAY7oB,EAAEymB,IAAIC,WAAW5I,MAAOuE,GAEpDjc,EAAEyjB,OAAO,GAAG7B,QAAQuJ,IAG5B,OAAO/F,GA4OX9N,EAAOC,QAAQ6T,aAnkBM,SAASxxB,GAC1BopB,GAAgBppB,IAmkBpB0d,EAAOC,QAAQ8T,gBA9nBS,SAASzxB,EAAG0xB,GAChC,IAAIjU,EALc,SAASzd,EAAG0xB,GAC9B,OAAO,IAAItM,EAAQuM,MAAM3xB,EAAG0xB,GAIpBE,CAAc5xB,EAAG0xB,GAGzB,OAFA1xB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAI8d,EAAQS,OAAOhG,EAAepC,GACnDsI,EAAa/lB,GACNyd,EAAEtL,MA2nBbuL,EAAOC,QAAQkU,SAtIE,SAAS7xB,EAAG7B,GACzB,IAAIsB,EAAI+mB,EAAWxmB,EAAG7B,GAItB,OAHA4mB,EAAU/kB,EAAGP,EAAEypB,YAAa,kBAC5BlpB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EACVF,EAAOmM,UAAU9xB,EAAGP,EAAEqe,MAAO9d,EAAEsH,IAAM,IAE5Cye,EAAa/lB,GACN,WAEAA,EAAEmT,MAAMnT,EAAEsH,YACVtH,EAAEmT,QAAQnT,EAAEsH,KACZ,IA4HfoW,EAAOC,QAAQoU,UApJG,SAAS/xB,EAAG2I,EAAG8T,EAAGrW,GAChC,OAAOylB,GAAW7rB,EAAG2I,EAAG8T,EAAGrW,EAAG,EAAG,OAoJrCsX,EAAOC,QAAQkO,WAAwBA,GACvCnO,EAAOC,QAAQ0J,QAAwBA,GACvC3J,EAAOC,QAAQqU,gBA/yBS,SAAShyB,EAAGgN,GAChChN,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOtG,IAAgBvS,GAC5C+Y,EAAa/lB,IA8yBjB0d,EAAOC,QAAQsK,iBAAwBA,GACvCvK,EAAOC,QAAQ2K,kBAAwBA,GACvC5K,EAAOC,QAAQsU,gBAn2BS,SAAUjyB,EAAGkyB,KAAQC,GAEzC,OADAD,EAAMxT,EAAgBwT,GACf9M,EAAQgN,kBAAkBpyB,EAAGkyB,EAAKC,IAk2B7CzU,EAAOC,QAAQ0U,oBAnyBa,SAASryB,GACjCipB,GAAYjpB,EAAGwgB,EAAmB6B,IAmyBtC3E,EAAOC,QAAQ+G,gBA74BS,SAAS1kB,EAAG2I,GAChCyd,EAAwBzd,GACxB3I,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO1F,EAAaxX,GACzCod,EAAa/lB,IA24BjB0d,EAAOC,QAAQ0K,kBAAwBA,GACvC3K,EAAOC,QAAQ4K,mBAAwBA,GACvC7K,EAAOC,QAAQ2U,sBAlzBe,SAAStyB,EAAG6T,GACtC7T,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOrG,EAAoB3L,GAChDkS,EAAa/lB,IAizBjB0d,EAAOC,QAAQgH,gBAn2BS,SAAU3kB,EAAG4U,GACjC,GAAIA,QACA5U,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOvG,EAAU,MACtCtf,EAAEsH,UACC,CACH6e,EAA8B,iBAANvR,GACxB,IAAI2d,EAAK/M,EAAgBxlB,EAAG4U,GAC5BwQ,EAAQsD,aAAa1oB,EAAGuyB,GACxB3d,EAAI2d,EAAG3I,SAIX,OAFA7E,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBAEzBsN,GAw1BX8I,EAAOC,QAAQ6U,gBA54BS,SAASxyB,EAAG4U,EAAGsG,GAEnC,IAAIqX,EAWJ,OAZAnM,EAAwBlL,GAEZ,IAARA,GACAtG,EAAIuI,EAAa,IAAI,GACrBoV,EAAKjN,EAAWtlB,EAAG4U,KAEnBA,EAAI8J,EAAgB9J,GACpBmQ,EAAU/kB,EAAG4U,EAAEpX,QAAU0d,EAAK,qCAC9BqX,EAAKhN,EAASvlB,EAAG4U,EAAE6d,SAAS,EAAGvX,KAEnCkK,EAAQsD,aAAa1oB,EAAGuyB,GACxBxN,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBACzBirB,EAAGzU,OAg4BdJ,EAAOC,QAAQ+U,YA95BK,SAAS1yB,GACzBA,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOvG,EAAU,MACtCyG,EAAa/lB,IA65BjB0d,EAAOC,QAAQgV,eA15BQ,SAAS3yB,EAAG2I,GAC/Bwd,EAA8B,iBAANxd,GACxB3I,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO3F,EAAavX,GACzCod,EAAa/lB,IAw5BjB0d,EAAOC,QAAQiV,eA/3BQ,SAAU5yB,EAAG4U,GAChC,GAAIA,QACA5U,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOvG,EAAU,MACtCtf,EAAEsH,UACC,CACH,IAAIirB,EAAKhN,EAASvlB,EAAG0e,EAAgB9J,IACrCwQ,EAAQsD,aAAa1oB,EAAGuyB,GACxB3d,EAAI2d,EAAG3I,SAGX,OADA7E,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBACzBsN,GAs3BX8I,EAAOC,QAAQkV,eAnzBQ,SAAS7yB,GAG5B,OAFAA,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO/F,EAAa9f,GACzC+lB,EAAa/lB,GACNA,EAAEymB,IAAIqM,aAAe9yB,GAizBhC0d,EAAOC,QAAQoV,cAx+BO,SAAS/yB,EAAG7B,GAC9BinB,EAAQ+D,UAAUnpB,EAAGwmB,EAAWxmB,EAAG7B,IACnC4mB,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,mBAu+BpCoW,EAAOC,QAAQqV,iBAr3BU,SAAUhzB,EAAGkyB,EAAKC,GAEvC,OADAD,EAAMxT,EAAgBwT,GACf9M,EAAQgN,kBAAkBpyB,EAAGkyB,EAAKC,IAo3B7CzU,EAAOC,QAAQsV,aA1SM,SAASjzB,EAAGwtB,EAAQC,GACrC,IAAIC,EAAKlH,EAAWxmB,EAAGwtB,GACnBG,EAAKnH,EAAWxmB,EAAGytB,GACvB,OAAOpH,EAAQqH,IAAOrH,EAAQsH,GAAMjI,EAAIkI,cAAc,KAAMF,EAAIC,GAAM,GAwS1EjQ,EAAOC,QAAQuV,WAvqBI,SAASlzB,EAAG7B,GAC3B,IAAIsB,EAAI+mB,EAAWxmB,EAAG7B,GAGtB,OAFA4mB,EAAU/kB,EAAGP,EAAEypB,UAAUzpB,GAAI,kBAC7B2lB,EAAQsC,SAAS1nB,EAAGA,EAAEsH,IAAM,EAAGqe,EAAOwN,SAASnzB,EAAGP,EAAEqe,MAAO9d,EAAEmT,MAAMnT,EAAEsH,IAAM,KACpEtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SAoqB9BtL,EAAOC,QAAQsL,YAAwBA,GACvCvL,EAAOC,QAAQyV,YAlrBK,SAASpzB,EAAG7B,EAAK0V,GACjC,IAAIpU,EAAI+mB,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGP,EAAEypB,YAAa,kBAC5B,IAAIT,EAAI,IAAI5C,EAAOrG,EAAoB3L,GAGvC,OAFAuR,EAAQ+D,UAAUnpB,EAAG2lB,EAAOwN,SAASnzB,EAAGP,EAAEqe,MAAO2K,IACjD1D,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,kBACzBtH,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG0hB,SA6qB9BtL,EAAOC,QAAQ0V,WAtfI,SAASrzB,EAAG7B,GAC3B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAQmoB,EAAEoD,SACN,KAAK1J,EACL,KAAKC,EACD,OAAOqG,EAAEgN,QACb,KAAKzT,EACD,OAAOyG,EAAExI,MAAM5C,IACnB,KAAKyE,EACD,OAAOgG,EAAO4N,UAAUjN,EAAExI,OAC9B,QACI,OAAO,IA4enBJ,EAAOC,QAAQ6V,WAxuBI,SAASxzB,EAAG7B,GAC3B8nB,EAAgBjmB,EAAG,GACnB,IAAIsmB,EAAIE,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGsmB,EAAE4C,YAAa,kBAC5B,IAAIT,EAAIzoB,EAAEmT,MAAMnT,EAAEsH,IAAM,GACpBoV,EAAI1c,EAAEmT,MAAMnT,EAAEsH,IAAM,GACxBqe,EAAO8N,aAAazzB,EAAGsmB,EAAExI,MAAO2K,EAAG/L,GACnCiJ,EAAO+N,kBAAkBpN,EAAExI,cACpB9d,EAAEmT,QAAQnT,EAAEsH,YACZtH,EAAEmT,QAAQnT,EAAEsH,MAguBvBoW,EAAOC,QAAQgW,YA7tBK,SAAS3zB,EAAG7B,EAAKwK,GACjCyd,EAAwBzd,GACxBsd,EAAgBjmB,EAAG,GACnB,IAAIsmB,EAAIE,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGsmB,EAAE4C,YAAa,kBAC5BvD,EAAOiO,YAAYtN,EAAExI,MAAOnV,EAAG3I,EAAEmT,MAAMnT,EAAEsH,IAAM,WACxCtH,EAAEmT,QAAQnT,EAAEsH,MAwtBvBoW,EAAOC,QAAQkW,YArtBK,SAAS7zB,EAAG7B,EAAK0V,GACjCoS,EAAgBjmB,EAAG,GACnB,IAAIsmB,EAAIE,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGsmB,EAAE4C,YAAa,kBAC5B,IAAIT,EAAI,IAAI5C,EAAOrG,EAAoB3L,GACnC6I,EAAI1c,EAAEmT,MAAMnT,EAAEsH,IAAM,GACxBqe,EAAO8N,aAAazzB,EAAGsmB,EAAExI,MAAO2K,EAAG/L,UAC5B1c,EAAEmT,QAAQnT,EAAEsH,MA+sBvBoW,EAAOC,QAAQvb,aA9lBM,SAASpC,EAAG2I,EAAGvC,GAChCkiB,GAAkBtoB,EAAGoG,GACrBwiB,GAAc5oB,EAAG2I,IA6lBrB+U,EAAOC,QAAQmW,WA/7BI,SAAS9zB,EAAG7B,GAC3BwpB,GAAW3nB,EAAG7B,GAAM,GACpBkpB,GAAQrnB,EAAG,IA87Bf0d,EAAOC,QAAQoW,YAv7BK,SAAS/zB,EAAG7B,GAC5B0pB,GAAS7nB,GAAI,EAAG7B,GAChBkpB,GAAQrnB,EAAG,IAs7Bf0d,EAAOC,QAAQgK,WAAwBA,GACvCjK,EAAOC,QAAQqW,cAxFO,WAElB,OADAxF,QAAQC,KAAK,kCACN,GAuFX/Q,EAAOC,QAAQiH,aAhwBM,SAAS5kB,EAAG7B,EAAKsqB,GAClCD,GAAUxoB,EAAGwmB,EAAWxmB,EAAG7B,GAAMsqB,IAgwBrC/K,EAAOC,QAAQiL,cAAwBA,GACvClL,EAAOC,QAAQsW,SA9vBE,SAASj0B,EAAG7B,EAAKwK,GAC9Byd,EAAwBzd,GACxBsd,EAAgBjmB,EAAG,GACnB,IAAIP,EAAI+mB,EAAWxmB,EAAG7B,GACtB6B,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAO1F,EAAaxX,GACzCod,EAAa/lB,GACb0lB,EAAIiD,SAAS3oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEmT,MAAMnT,EAAEsH,IAAM,WAEhDtH,EAAEmT,QAAQnT,EAAEsH,YACZtH,EAAEmT,QAAQnT,EAAEsH,MAsvBvBoW,EAAOC,QAAQuW,iBAtyBU,SAASl0B,EAAG+uB,GAEjC,IAAIC,EADJ/I,EAAgBjmB,EAAG,GAEnB,IAAIivB,EAAMzI,EAAWxmB,EAAG+uB,GAQxB,OAPI/uB,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG6sB,UACnBnF,EAAK,MAELjK,EAAU/kB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAG4hB,YAAa,kBAC7C8F,EAAKhvB,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAGwW,OAGpBmR,EAAIjG,SACR,KAAKnJ,EACL,KAAKF,EACDsP,EAAInR,MAAMoR,UAAYF,EACtB,MAEJ,QACIhvB,EAAEymB,IAAIuI,GAAGC,EAAIjG,SAAWgG,EAMhC,cADOhvB,EAAEmT,QAAQnT,EAAEsH,MACZ,GA+wBXoW,EAAOC,QAAQyW,aA5wBM,SAASp0B,EAAG7B,GAC7B8nB,EAAgBjmB,EAAG,GACnB,IAAIP,EAAI+mB,EAAWxmB,EAAG7B,GACtBunB,EAAIiD,SAAS3oB,EAAGP,EAAGO,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAItH,EAAEmT,MAAMnT,EAAEsH,IAAM,WAChDtH,EAAEmT,QAAQnT,EAAEsH,YACZtH,EAAEmT,QAAQnT,EAAEsH,MAwwBvBoW,EAAOC,QAAQsJ,WAAwBA,GACvCvJ,EAAOC,QAAQ0W,eA3nBQ,SAASr0B,EAAGqvB,EAAW1mB,GAC1C,IAAI8gB,EAAKjD,EAAWxmB,EAAGqvB,GACvBpJ,EAAgBjmB,EAAG,GACnB,IAAIs0B,EAAM9K,GAAYxpB,EAAGypB,EAAI9gB,GAC7B,GAAI2rB,EAAK,CACL,IAAI7iB,EAAO6iB,EAAI7iB,KAIf,OAHU6iB,EAAIzmB,IACVma,QAAQhoB,EAAEmT,MAAMnT,EAAEsH,IAAI,WACnBtH,EAAEmT,QAAQnT,EAAEsH,KACZmK,EAEX,OAAO,MAinBXiM,EAAOC,QAAQ4W,iBAxQU,SAASv0B,EAAG7B,GACjC8nB,EAAgBjmB,EAAG,GACnB,IAAIsmB,EAAIE,EAAWxmB,EAAG7B,GACtB4mB,EAAU/kB,EAAGsmB,EAAEkJ,mBAAoB,0BACnClJ,EAAExI,MAAM4R,UAAU1H,QAAQhoB,EAAEmT,MAAMnT,EAAEsH,IAAM,WACnCtH,EAAEmT,QAAQnT,EAAEsH,MAoQvBoW,EAAOC,QAAQ6W,WA7QI,SAASx0B,GACxB,OAAOA,EAAEwrB,QA6Qb9N,EAAOC,QAAQ8W,mBA/YY,SAASz0B,EAAG4U,GACnC,IAAIoc,EAAK,IAAInL,EACT6O,EAAKtP,EAAQuP,aAAa/f,EAAGoc,GAKjC,OAJW,IAAP0D,IACA10B,EAAEmT,MAAMnT,EAAEsH,KAAO0pB,EACjBjL,EAAa/lB,IAEV00B,GAyYXhX,EAAOC,QAAQiX,cA7iBO,SAAS50B,EAAG7B,GAE9B,OADQqoB,EAAWxmB,EAAG7B,GACZ02B,aA4iBdnX,EAAOC,QAAQmX,gBA3fS,SAAS90B,EAAG7B,GAChC,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAImoB,EAAEO,WAAaP,EAAEwJ,eAAuBxJ,EAAExI,MAClC,MAyfhBJ,EAAOC,QAAQoX,eAhhBQ,SAAS/0B,EAAG7B,GAC/B,IAAI62B,EAAKlL,GAAc9pB,EAAG7B,GAC1B,OAAO,IAAI82B,SAASD,EAAGE,OAAQF,EAAGG,WAAYH,EAAGI,aA+gBrD1X,EAAOC,QAAQ0X,cAvfO,SAASr1B,EAAG7B,GAC9B,IAAIwK,EAAIyhB,GAAepqB,EAAG7B,GAC1B,OAAa,IAANwK,EAAc,EAAIA,GAsf7B+U,EAAOC,QAAQyM,eAAwBA,GACvC1M,EAAOC,QAAQpd,eA/hBQ,SAASP,EAAG7B,GAC/B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GAEtB,IAAKmoB,EAAEyD,aAAc,CACjB,IAAKrE,EAAIsE,QAAQ1D,GACb,OAAO,KAEXlB,EAAQ6E,cAAcjqB,EAAGsmB,GAE7B,OAAOA,EAAEgP,YAuhBb5X,EAAOC,QAAQmM,cAAwBA,GACvCpM,EAAOC,QAAQ4X,aAlfM,SAASv1B,EAAG7B,GAC7B,IAAIwK,EAAI2hB,GAActqB,EAAG7B,GACzB,OAAa,IAANwK,EAAc,EAAIA,GAif7B+U,EAAOC,QAAQ2M,cAAwBA,GACvC5M,EAAOC,QAAQ6X,cA3dO,SAASx1B,EAAG7B,GAC9B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAQmoB,EAAEoD,SACN,KAAK/J,EACL,KAAKS,EACL,KAAKE,EACL,KAAKD,EACL,KAAKP,EACL,KAAKD,EACL,KAAKL,EACD,OAAO8G,EAAExI,MACb,QACI,OAAO,OAgdnBJ,EAAOC,QAAQ8X,YAnbK,SAASz1B,EAAG7B,GAC5B,IAAI6yB,EAAKxK,EAAWxmB,EAAG7B,GAEvB,OAbiB,SAASqyB,EAAGnzB,EAAMygB,GACnC,IAAI4X,EAAQ,SAAS11B,GACjB+kB,EAAU/kB,EAAGA,aAAaqlB,EAAOsQ,WAAanF,IAAMxwB,EAAEymB,IAAK,kCAC3DzmB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAIue,EAAOxoB,EAAMygB,GAClCiI,EAAa/lB,IAGjB,OADAwqB,GAAKoL,IAAIF,EAAOlF,GACTkF,EAMAG,CAAa71B,EAAEymB,IAAKuK,EAAG3zB,KAAM2zB,EAAGlT,QAib3CJ,EAAOC,QAAQwM,aAAwBA,GACvCzM,EAAOC,QAAQmY,aAneM,SAAS91B,EAAG7B,GAC7B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAOmoB,EAAEyP,aAAezP,EAAExI,MAAQ,MAketCJ,EAAOC,QAAQqY,eA/eQ,SAASh2B,EAAG7B,GAC/B,IAAImoB,EAAIE,EAAWxmB,EAAG7B,GACtB,OAAQmoB,EAAE0C,SACN,KAAKnJ,EACD,OAAOyG,EAAExI,MAAM3L,KACnB,KAAKqN,EACD,OAAO8G,EAAExI,MACb,QAAS,OAAO,OAyexBJ,EAAOC,QAAQmN,SAAwBA,GACvCpN,EAAOC,QAAQsY,aA5YM,SAASj2B,EAAGP,GAE7B,OADAslB,EAAU/kB,EAAGqf,GAAa5f,GAAKA,EAAIsgB,EAAa,eACzC0F,EAAIyQ,UAAUz2B,IA2YzBie,EAAOC,QAAQwY,cArJO,SAASn2B,EAAGssB,EAAM3jB,GACpC,IAAI8gB,EAAKjD,EAAWxmB,EAAGssB,GACvB,OAAQ7C,EAAGC,SACP,KAAKtJ,EAAU,CACX,IAAIgW,EAAM/J,GAAYrsB,EAAGssB,EAAM3jB,GAC/B,OAAOytB,EAAIhwB,EAAEyjB,OAAOuM,EAAIl3B,GAE5B,KAAKohB,EAAU,CACX,IAAIla,EAAIqjB,EAAG3L,MAEX,OADAiH,EAAU/kB,GAAM,EAAF2I,KAASA,GAAKA,EAAI,GAAKA,GAAKvC,EAAE0gB,UAAW,yBAChD1gB,EAAE2gB,QAAQpe,EAAI,GAEzB,QAEI,OADAoc,EAAU/kB,GAAG,EAAO,oBACb,OAwInB0d,EAAOC,QAAQ0Y,gBAnIS,SAASr2B,EAAGs2B,EAAOC,EAAIC,EAAOC,GAClD,IAAIC,EAAOrK,GAAYrsB,EAAGs2B,EAAOC,GAC7BI,EAAOtK,GAAYrsB,EAAGw2B,EAAOC,GAC7BG,EAAMD,EAAKvwB,EAAEyjB,OAAO8M,EAAKz3B,GAC7Bw3B,EAAKtwB,EAAEyjB,OAAO6M,EAAKx3B,GAAK03B,GAgI5BlZ,EAAOC,QAAQkZ,YAjoCK,SAAS72B,GACzB,OAAU,OAANA,EAAmB8e,EACX9e,EAAEymB,IAAIqQ,SAgoCtBpZ,EAAOC,QAAQoZ,UAnjCG,SAASl2B,EAAMG,EAAI2H,GACjC,GAAI9H,IAASG,EAAb,CACAilB,EAAgBplB,EAAM8H,GACtBoc,EAAUlkB,EAAMA,EAAK4lB,MAAQzlB,EAAGylB,IAAK,mCACrC1B,EAAUlkB,EAAMG,EAAGglB,GAAG1e,IAAMtG,EAAGsG,KAAOqB,EAAG,kBACzC9H,EAAKyG,KAAOqB,EACZ,IAAK,IAAIzJ,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnB8B,EAAGmS,MAAMnS,EAAGsG,KAAO,IAAI8d,EAAQS,OAC/BT,EAAQsC,SAAS1mB,EAAIA,EAAGsG,IAAKzG,EAAKsS,MAAMtS,EAAKyG,IAAMpI,WAC5C2B,EAAKsS,MAAMtS,EAAKyG,IAAMpI,GAC7B8B,EAAGsG,qCClKX,MAAM,gBACF0vB,GACA,EAAQ,OACN,WACFjT,EAAU,YACV5C,EAAW,kBACXX,EAAiB,cACjB7B,EAAa,aACbY,EAAY,mBACZC,EAAkB,SAClBF,EAAQ,UACRD,EAAS,YACTI,EAAW,YACXC,EAAW,WACXC,EAAU,gBACVb,EAAe,UACf0D,EAAS,aACTgK,EAAY,YACZI,EAAW,SACXM,EAAQ,eACRC,EAAc,WACdY,EAAU,SACVlG,EAAQ,gBACRuB,EAAe,UACfgF,EAAS,aACTO,EAAY,YACZsI,EAAW,iBACXnI,EAAgB,aAChBoI,EAAY,WACZ12B,EAAU,WACVmvB,EAAU,cACVK,EAAa,UACbG,EAAS,aACTG,EAAY,aACZI,EAAY,YACZC,EAAW,QACXI,EAAO,SACPG,EAAQ,aACRiG,EAAY,aACZ3F,EAAY,SACZK,EAAQ,UACRE,EAAS,QACT1K,EAAO,gBACP2K,EAAe,iBACf/J,EAAgB,kBAChBK,EAAiB,gBACjB2J,EAAe,gBACfvN,EAAe,gBACfC,EAAe,gBACf6N,EAAe,YACfE,EAAW,eACXE,EAAc,cACdG,EAAa,iBACbC,EAAgB,aAChBC,GAAY,WACZC,GAAU,YACVjK,GAAW,WACXoK,GAAU,YACVM,GAAW,WACXG,GAAU,aACVlP,GAAY,cACZgE,GAAa,iBACbsL,GAAgB,WAChBjN,GAAU,cACV2N,GAAa,cACbS,GAAa,eACbjL,GAAc,eACd7pB,GAAc,cACdupB,GAAa,aACbyL,GAAY,cACZjL,GAAa,cACbkL,GAAa,aACbrL,GAAY,eACZ6L,GAAc,SACdlL,GAAQ,aACRmL,GAAY,YACZY,IACA,EAAQ,OACN,gBACFnY,GAAe,aACfd,GAAY,aACZT,GAAY,aACZqB,IACA,EAAQ,MAGN4Y,GAAcrT,EAAW,EAGzBsT,GAAmBla,GAAa,WAGhCma,GAAoBna,GAAa,YAEjCoa,GAAiBpa,GAAa,SAI9Bqa,GAASra,GAAa,UACtBsa,GAAata,GAAa,cAE1Bua,GAAQ,IAAInb,WAAW,GAE7B,MAAMob,GACFlV,cACIxmB,KAAK+D,EAAI,KACT/D,KAAK+Q,EAAI0qB,GACTz7B,KAAK0M,EAAI,GAIjB,MAOMivB,GAAY,SAAS53B,EAAG63B,EAAQ76B,GAClC,GAAc,IAAVA,IAAgB2zB,EAAY3wB,GAAI,GAChC,OAAO,EAIX,IAFA0yB,EAAY1yB,GAEL6xB,EAAS7xB,GAAI,IAAI,CACpB,GAAI8qB,GAAS9qB,GAAI,KAAO0f,EAAa,CACjC,GAAIuT,GAAajzB,EAAG63B,GAAS,GAEzB,OADAxQ,EAAQrnB,EAAG,GACJ,EACJ,GAAI43B,GAAU53B,EAAG63B,EAAQ76B,EAAQ,GAKpC,OAJA82B,GAAW9zB,GAAI,GACf2kB,EAAgB3kB,EAAG,KACnB2vB,EAAW3vB,GAAI,GACf+tB,EAAW/tB,EAAG,GACP,EAGfqnB,EAAQrnB,EAAG,GAGf,OAAO,GAML83B,GAAqB,SAAS93B,EAAG+3B,GACnC,IAAIzwB,EAAM9G,EAAWR,GAGrB,GAFAi3B,EAAYj3B,EAAGmd,GAAa,KAAM4a,GAClCpJ,EAAa3uB,EAAGwgB,EAAmB6W,IAC/BO,GAAU53B,EAAGsH,EAAM,EAAG,GAAI,CAC1B,IAAImK,EAAO0Y,GAAanqB,GAAI,GAU5B,OATgB,KAAZyR,EAAK,IACO,KAAZA,EAAK,IACO,KAAZA,EAAK,KAELmhB,EAAe5yB,EAAGyR,EAAKghB,SAAS,IAChCqB,GAAW9zB,GAAI,IAEnB6nB,EAAS7nB,GAAI,EAAGsH,EAAM,GACtB+f,EAAQrnB,EAAG,GACJ,EAGP,OADAinB,GAAWjnB,EAAGsH,GACP,GAIT0wB,GAAe,SAASh4B,EAAG+3B,GACzBD,GAAmB93B,EAAG+3B,IACtB9F,EAAgBjyB,EAAGmd,GAAa,iBAAkBgN,GAAanqB,GAAI,IACnE8zB,GAAW9zB,GAAI,IAEa,IAAvB+3B,EAAGnV,SAASplB,OACjBy0B,EAAgBjyB,EAAGmd,GAAa,WAAY4a,EAAGnV,SAAUmV,EAAGtmB,MACvDsmB,EAAGlV,MAAuB,MAAfkV,EAAGlV,KAAK,GACxB8B,EAAgB3kB,EAAG,cACd+3B,EAAGlV,MAAuB,KAAfkV,EAAGlV,KAAK,GACxBoP,EAAgBjyB,EAAGmd,GAAa,oBAAqB4a,EAAG1U,UAAW0U,EAAGhV,aAEtE4B,EAAgB3kB,EAAG,MA8CrB8sB,GAAQ,SAAS9sB,GACnB,IAAIW,EAAM,gDAAkDJ,GAAeP,GAAI,GAAK,IACpF,MAAM,IAAIjE,MAAM4E,IAGds3B,GAAgB,SAASj4B,EAAGk4B,EAAKC,GACnC,IAAIJ,EAAK,IAAIvV,EAEb,OAAK0U,EAAal3B,EAAG,EAAG+3B,IAGxBd,EAAYj3B,EAAGmd,GAAa,KAAM4a,GAE9Bna,GAAama,EAAGnV,SAAUzF,GAAa,YAE3B,KADZ+a,EAEWE,GAAWp4B,EAAGmd,GAAa,iCAAkC4a,EAAGtmB,KAAM0mB,IAGrE,OAAZJ,EAAGtmB,OACHsmB,EAAGtmB,KAAOqmB,GAAmB93B,EAAG+3B,GAAM5N,GAAanqB,GAAI,GAAKmd,GAAa,MAEtEib,GAAWp4B,EAAGmd,GAAa,iCAAkC+a,EAAKH,EAAGtmB,KAAM0mB,KAbvEC,GAAWp4B,EAAGmd,GAAa,yBAA0B+a,EAAKC,IAgBnEE,GAAY,SAASr4B,EAAGk4B,EAAKI,GAC/B,IAAIC,EAEAA,EADAC,GAAkBx4B,EAAGk4B,EAAKV,MAAY9X,EAC5ByK,GAAanqB,GAAI,GACtB8qB,GAAS9qB,EAAGk4B,KAAS1Y,EAChBrC,GAAa,kBAAkB,GAE/Bsb,GAAcz4B,EAAGk4B,GAE/B,IAAIv3B,EAAMsxB,EAAgBjyB,EAAGmd,GAAa,uBAAwBmb,EAAOC,GACzE,OAAON,GAAcj4B,EAAGk4B,EAAKv3B,IAG3B+3B,GAAa,SAAS14B,EAAGhD,GAC3B,IAAI+6B,EAAK,IAAIvV,EACT0U,EAAal3B,EAAGhD,EAAO+6B,KACvBd,EAAYj3B,EAAGmd,GAAa,MAAM,GAAO4a,GACrCA,EAAGjV,YAAc,GACjBmP,EAAgBjyB,EAAGmd,GAAa,WAAY4a,EAAG1U,UAAW0U,EAAGjV,aAIrE8P,EAAe5yB,EAAGmd,GAAa,MAG7Bib,GAAa,SAASp4B,EAAGkyB,KAAQC,GAInC,OAHAuG,GAAW14B,EAAG,GACdgzB,EAAiBhzB,EAAGkyB,EAAKC,GACzBpE,EAAW/tB,EAAG,GACPouB,EAAUpuB,IAIf24B,GAAkB,SAAS34B,EAAG44B,EAAMz2B,EAAO6E,GAC7C,GAAI4xB,EAEA,OADA5G,EAAgBhyB,EAAG,GACZ,EACJ,CAEH,IAAIkB,EAAS23B,EAab,OAdAnG,EAAY1yB,GAERgH,GACA9F,EAAU8F,EAAE9F,QACZ23B,GAAS7xB,EAAE6xB,QAEX33B,EAAU,UACV23B,EAAQ,GAER12B,EACA8vB,EAAgBjyB,EAAGmd,GAAa,UAAWhb,EAAOgb,GAAajc,IAE/D0xB,EAAe5yB,EAAGmd,GAAajc,IACnCwjB,EAAgB1kB,EAAG64B,GACZ,IA4BTC,GAAoB,SAAS94B,EAAG2I,GAClC,OAAOgmB,EAAa3uB,EAAGwgB,EAAmB7X,IAqBxCowB,GAAiB,SAAS/4B,EAAG2qB,EAAI2N,GACnC,IAAIzkB,EAAImiB,GAAeh2B,EAAG2qB,GAC1B,OAAU,OAAN9W,GACIib,EAAiB9uB,EAAG2qB,IACpBmO,GAAkB94B,EAAGs4B,GAChBrF,GAAajzB,GAAI,GAAI,KACtB6T,EAAI,MACRwT,EAAQrnB,EAAG,GACJ6T,GAGR,MAiBLmlB,GAAY,SAASh5B,EAAGk4B,EAAKr6B,GAC/Bw6B,GAAUr4B,EAAGk4B,EAAKjC,GAAaj2B,EAAGnC,KAUhC46B,GAAgB,SAASz4B,EAAGd,GAC9B,OAAO+2B,GAAaj2B,EAAG8qB,GAAS9qB,EAAGd,KAiBjC+5B,GAAoB,SAASj5B,EAAGk4B,GAClC,IAAItjB,EAAIkV,GAAc9pB,EAAGk4B,GAEzB,OADItjB,SAA+BokB,GAAUh5B,EAAGk4B,EAAKxY,GAC9C9K,GAGLskB,GAAmBD,GAEnBE,GAAkB,SAASn5B,EAAGk4B,EAAKkB,GACrC,OAAItO,GAAS9qB,EAAGk4B,IAAQ,EACL,OAARkB,EAAe,KAAO1a,GAAgB0a,GACnCH,GAAkBj5B,EAAGk4B,IAGjCmB,GAAiBF,GASjBG,GAAmB,SAASt5B,EAAGk4B,GACjC,IAAIqB,EAAIjP,GAActqB,EAAGk4B,GAGzB,OAFU,IAANqB,GACAP,GAAUh5B,EAAGk4B,EAAKzY,GACf8Z,GAOLC,GAAoB,SAASx5B,EAAGk4B,GAClC,IAAIqB,EAAInP,GAAepqB,EAAGk4B,GAG1B,OAFU,IAANqB,GApBS,SAASv5B,EAAGk4B,GACrB5H,EAAatwB,EAAGk4B,GAChBD,GAAcj4B,EAAGk4B,EAAK/a,GAAa,wCAAwC,IAE3E6b,GAAUh5B,EAAGk4B,EAAKzY,GAiBlBga,CAASz5B,EAAGk4B,GACTqB,GAOLG,GAAoB,SAASC,EAAGjF,GAClC,IAAIkF,EAASD,EAAEhxB,EAAI+rB,EACnB,GAAIiF,EAAE3sB,EAAExP,OAASo8B,EAAQ,CACrB,IAAIC,EAAUtyB,KAAKC,IAAiB,EAAbmyB,EAAE3sB,EAAExP,OAAYo8B,GACnCE,EAAU,IAAIvd,WAAWsd,GAC7BC,EAAQlE,IAAI+D,EAAE3sB,GACd2sB,EAAE3sB,EAAI8sB,EAEV,OAAOH,EAAE3sB,EAAEylB,SAASkH,EAAEhxB,EAAGixB,IAGvBG,GAAgB,SAAS/5B,EAAG25B,GAC9BA,EAAE35B,EAAIA,EACN25B,EAAE3sB,EAAI0qB,IAYJsC,GAAkB,SAASL,EAAG/kB,EAAGqlB,GAC/BA,EAAI,IACJrlB,EAAI8J,GAAgB9J,GACZ8kB,GAAkBC,EAAGM,GAC3BrE,IAAIhhB,EAAE6d,SAAS,EAAGwH,IACpBC,GAAaP,EAAGM,KAIlBE,GAAiB,SAASR,EAAG/kB,GAC/BA,EAAI8J,GAAgB9J,GACpBolB,GAAgBL,EAAG/kB,EAAGA,EAAEpX,SAGtB48B,GAAkB,SAAST,GAC7BnH,EAAgBmH,EAAE35B,EAAG25B,EAAE3sB,EAAG2sB,EAAEhxB,GAE5BgxB,EAAEhxB,EAAI,EACNgxB,EAAE3sB,EAAI0qB,IAQJwC,GAAe,SAASP,EAAG/kB,GAC7B+kB,EAAEhxB,GAAKiM,GAeLylB,GAAW,SAASr6B,EAAGoG,EAAGuC,EAAG4wB,GAC/B,OAAOzO,GAAS9qB,EAAG2I,IAAM,EAAI4wB,EAAInzB,EAAEpG,EAAG2I,IAGpC2xB,GAAO,SAASt6B,EAAG2qB,GACrB,IAAI/V,EAAI+V,EAAG/b,OAEX,OADA+b,EAAG/b,OAAS,KACLgG,GAGL2lB,GAAmB,SAASv6B,EAAGw6B,EAAM9I,EAAMjgB,EAAM/L,GACnD,OAAOwrB,EAASlxB,EAAGs6B,GAAM,CAAC1rB,OAAQ4rB,GAAO/oB,EAAM/L,IAG7C+0B,GAAkB,SAASz6B,EAAG4U,EAAG8f,EAAI/rB,GACvC,OAAO4xB,GAAiBv6B,EAAG4U,EAAG8f,EAAI/rB,EAAG,OAGnC+xB,GAAkB,SAAS16B,EAAG4U,GAChC,OAAO6lB,GAAgBz6B,EAAG4U,EAAGA,EAAEpX,OAAQoX,IAOrC4jB,GAAoB,SAASx4B,EAAGivB,EAAKvM,GACvC,GAAKoM,EAAiB9uB,EAAGivB,GAEpB,CACD2D,EAAe5yB,EAAG0iB,GAClB,IAAIxb,EAAKgsB,GAAWlzB,GAAI,GAKxB,OAJIkH,IAAOoY,EACP+H,EAAQrnB,EAAG,GAEX8zB,GAAW9zB,GAAI,GACZkH,EARP,OAAOoY,GAYTqb,GAAgB,SAAS36B,EAAGivB,EAAKvM,GAEnC,OADAuM,EAAMzC,EAAaxsB,EAAGivB,GAClBuJ,GAAkBx4B,EAAGivB,EAAKvM,KAAWpD,IAGzCyT,EAAc/yB,EAAGivB,GACjB/B,EAASltB,EAAG,EAAG,IAER,IAYL46B,GAAMzd,GAAa,MACnB0d,GAAM1d,GAAa,MA8DnB2d,GAAgB,SAAS1mB,EAAK2mB,EAAQC,GACxC,IAAI97B,EAAI87B,IAAe,EACnBC,EAAKF,EAAOv9B,OACZy8B,EAAI7lB,EAAI5W,OAAS,EAAIy9B,EAEzBC,EAAM,KAAOh8B,EAAI+6B,EAAG/6B,IAAK,CACrB,IAAK,IAAIsU,EAAI,EAAGA,EAAIynB,EAAIznB,IACpB,GAAIY,EAAIlV,EAAEsU,KAAOunB,EAAOvnB,GACpB,SAAS0nB,EACjB,OAAOh8B,EAEX,OAAQ,GAqBNi8B,GAAmB,SAASn7B,EAAG7B,EAAKgE,GACtC,OAAIwsB,EAAa3uB,EAAG7B,EAAKgE,KAAWwd,IAGhC0H,EAAQrnB,EAAG,GACX7B,EAAMquB,EAAaxsB,EAAG7B,GACtBqzB,EAAaxxB,GACb+yB,EAAc/yB,GAAI,GAClB4kB,GAAa5kB,EAAG7B,EAAKgE,IACd,IASTi5B,GAAgB,SAASp7B,EAAGi6B,EAAGoB,GACjCC,GAAgBt7B,EAAGq7B,EAAKle,GAAa,qBAAqB,IAC1D,IAAK,IAAIrb,KAAOm4B,EAAG,CACf,IAAK,IAAI/6B,EAAI,EAAGA,EAAIm8B,EAAKn8B,IACrB6zB,EAAc/yB,GAAIq7B,GACtBpT,EAAiBjoB,EAAGi6B,EAAEn4B,GAAMu5B,GAC5BzW,GAAa5kB,IAAKq7B,EAAM,GAAIle,GAAarb,IAE7CulB,EAAQrnB,EAAGq7B,IAUTC,GAAkB,SAASt7B,EAAGu7B,EAAO56B,GAClCwsB,EAAentB,EAAGu7B,KACf56B,EACAy3B,GAAWp4B,EAAGmd,GAAa,uBAAwBxc,GAEnDy3B,GAAWp4B,EAAGmd,GAAa,kBAAkB,MAiDnDqe,GAAU,SAASx7B,EAAG6iB,EAAM4Y,EAAYC,GAC1C,IAAIC,EAAOD,EAAMx6B,QACb06B,EAAWzR,GAAanqB,EAAGy7B,GAAYhJ,SAAS,GAGpD,OAFAR,EAAgBjyB,EAAGmd,GAAa,oBAAqBA,GAAa0F,GAAO+Y,EAAUze,GAAawe,IAChG7H,GAAW9zB,EAAGy7B,GACPrE,IAGX,IAAIyE,GAEJ,MAAMC,GAAW,CAAC,IAAM,IAAM,KAyC9B,IAAIC,GAEgC,CAChC,MAAMC,EACFvZ,cACIxmB,KAAK0M,EAAIga,IACT1mB,KAAKmK,EAAI,KACTnK,KAAKu+B,KAAO,IAAIje,WAAW,MAC3BtgB,KAAKgE,IAAM,EACXhE,KAAKggC,SAAM,GAInB,MAAMC,EAAO,SAASl8B,EAAG2qB,GACrB,IAAIwR,EAAKxR,EAET,GAAa,OAATwR,EAAG/1B,GAAc+1B,EAAGxzB,EAAI,EAAG,CAC3B,IAAIyzB,EAAQD,EAAGxzB,EAGf,OAFAwzB,EAAGxzB,EAAI,EACPwzB,EAAG/1B,EAAI+1B,EAAG/1B,EAAEqsB,SAAS0J,EAAGl8B,KACjBk8B,EAAG3B,KAAK/H,SAAS,EAAG2J,GAG/B,IAAIh2B,EAAI+1B,EAAG/1B,EAEX,OADA+1B,EAAG/1B,EAAI,KACAA,GAGXy1B,GAAO,SAASM,GACZ,OAAOA,EAAGl8B,IAAMk8B,EAAG/1B,EAAE5I,OAAS2+B,EAAG/1B,EAAE+1B,EAAGl8B,OAAS,MAGnD87B,GAAiB,SAAS/7B,EAAG47B,EAAUl2B,GACnC,IAAIy2B,EAAK,IAAIH,EACTP,EAAaj7B,EAAWR,GAAK,EACjC,GAAiB,OAAb47B,EACA,MAAM,IAAI7/B,MAAM,mCACb,CACHk2B,EAAgBjyB,EAAGmd,GAAa,OAAQye,GACxC,IAAIS,EAAO7d,GAAaod,GACpBU,EAAM,IAAIC,eAUd,GATAD,EAAItsB,KAAK,MAAOqsB,GAAM,GAKA,oBAAXn3B,SACPo3B,EAAIE,aAAe,eAEvBF,EAAIG,SACAH,EAAI9Q,QAAU,KAAO8Q,EAAI9Q,QAAU,KAQnC,OADA2Q,EAAGF,IAAMK,EAAI9Q,OACNgQ,GAAQx7B,EAAG,OAAQy7B,EAAY,CAAEv6B,QAAS,GAAGo7B,EAAI9Q,WAAW8Q,EAAII,eAP3C,iBAAjBJ,EAAIK,SACXR,EAAG/1B,EAAI+W,GAAamf,EAAIK,UAExBR,EAAG/1B,EAAI,IAAImW,WAAW+f,EAAIK,UAOtC,IAAIC,EAhFQ,SAAST,GACzB,IAAIlf,EAtBQ,SAASkf,GAErB,IAAIlf,EADJkf,EAAGxzB,EAAI,EAEP,IAAIkL,EAAI,EACR,EAAG,CAEC,GADAoJ,EAAI4e,GAAKM,GACC,OAANlf,GAAcA,IAAM6e,GAASjoB,GAAI,OAAOoJ,EAC5CpJ,IACAsoB,EAAG3B,KAAK2B,EAAGxzB,KAAOsU,QACbpJ,EAAIioB,GAASt+B,QAEtB,OADA2+B,EAAGxzB,EAAI,EACAkzB,GAAKM,GAWJU,CAAQV,GAChB,GAAU,KAANlf,EAAkC,CAClC,GACIA,EAAI4e,GAAKM,SACJlf,GAAW,KAANA,GAEd,MAAO,CACH6f,SAAS,EACT7f,EAAG4e,GAAKM,IAGZ,MAAO,CACHW,SAAS,EACT7f,EAAGA,GAkEG8f,CAAYZ,GAElBS,EAAI3f,IAAM0B,EAAc,IAAMid,GAEvBgB,EAAIE,UACXX,EAAG3B,KAAK2B,EAAGxzB,KAAO,IAER,OAAVi0B,EAAI3f,IACJkf,EAAG3B,KAAK2B,EAAGxzB,KAAOi0B,EAAI3f,GAC1B,IAAIuO,EAAS0F,EAASlxB,EAAGk8B,EAAMC,EAAIhS,GAAanqB,GAAI,GAAI0F,GACpDs3B,EAAab,EAAGF,IACpB,OAAIe,GACA/V,GAAWjnB,EAAGy7B,GACPD,GAAQx7B,EAAG,OAAQy7B,EAAYuB,KAE1ClJ,GAAW9zB,EAAGy7B,GACPjQ,IAmFf,MAAMyR,GAAgB,SAASj9B,EAAG47B,GAC9B,OAAOG,GAAe/7B,EAAG47B,EAAU,OAyBjCsB,GAAqB,SAASl9B,EAAGm9B,EAAKzI,GACxC,IAAIhY,EAAIma,GAAY72B,GA74BD,IA84Bf00B,GACA0D,GAAWp4B,EAAGmd,GAAa,qDAC3BT,GAAKma,GAAY,MACjBuB,GAAWp4B,EAAGmd,GAAa,8BACtBT,IAAMygB,GACX/E,GAAWp4B,EAAGmd,GAAa,yDAA0DggB,EAAKzgB,IAQlGgB,EAAOC,QAAQyZ,YAAuBA,GACtC1Z,EAAOC,QAAQ4Z,eAAuBA,GACtC7Z,EAAOC,QAAQ0Z,iBAAuBA,GACtC3Z,EAAOC,QAAQyf,WAlSK,EAmSpB1f,EAAOC,QAAQ2Z,kBAAuBA,GACtC5Z,EAAOC,QAAQ0f,YAnSI,EAoSnB3f,EAAOC,QAAQga,YAAuBA,GACtCja,EAAOC,QAAQ2f,aA7gBM,SAAS3D,EAAG1c,GAC7Byc,GAAkBC,EAAG,GACrBA,EAAE3sB,EAAE2sB,EAAEhxB,KAAOsU,GA4gBjBS,EAAOC,QAAQqc,gBAAuBA,GACtCtc,EAAOC,QAAQuc,aAAuBA,GACtCxc,EAAOC,QAAQwc,eAAuBA,GACtCzc,EAAOC,QAAQ4f,cAngBO,SAAS5D,GAC3B,IAAI35B,EAAI25B,EAAE35B,EACN4U,EAAIuV,GAAanqB,GAAI,GACzBg6B,GAAgBL,EAAG/kB,EAAGA,EAAEpX,QACxB6pB,EAAQrnB,EAAG,IAggBf0d,EAAOC,QAAQ6f,cA3nBO,SAASx9B,EAAGy9B,EAAMvF,EAAKC,GACpCsF,GAAMxF,GAAcj4B,EAAGk4B,EAAKC,IA2nBrCza,EAAOC,QAAQsa,cAAuBA,GACtCva,EAAOC,QAAQoc,cAAuBA,GACtCrc,EAAOC,QAAQ+f,kBAnjBW,SAAS19B,EAAG25B,EAAGjF,GAErC,OADAqF,GAAc/5B,EAAG25B,GACVD,GAAkBC,EAAGjF,IAkjBhChX,EAAOC,QAAQgd,cAAuBA,GACtCjd,EAAOC,QAAQggB,cA5nBO,SAAS39B,EAAGk4B,GAC1BpN,GAAS9qB,EAAGk4B,KAAS7Y,GACrB4Y,GAAcj4B,EAAGk4B,EAAK/a,GAAa,kBAAkB,KA2nB7DO,EAAOC,QAAQ6b,kBAAuBA,GACtC9b,EAAOC,QAAQsb,kBAAuBA,GACtCvb,EAAOC,QAAQ2b,iBAAuBA,GACtC5b,EAAOC,QAAQigB,iBA3pBU,SAAS59B,EAAGk4B,EAAKkB,EAAKyE,GAC3C,IAAIpsB,EAAe,OAAR2nB,EAAeC,GAAer5B,EAAGk4B,EAAKkB,GAAOF,GAAiBl5B,EAAGk4B,GAC5E,IAAK,IAAIh5B,EAAI,EAAG2+B,EAAI3+B,GAAIA,IACpB,GAAI0e,GAAaigB,EAAI3+B,GAAIuS,GACrB,OAAOvS,EACf,OAAO+4B,GAAcj4B,EAAGk4B,EAAKjG,EAAgBjyB,EAAGmd,GAAa,uBAAwB1L,KAupBzFiM,EAAOC,QAAQ2d,gBAAuBA,GACtC5d,EAAOC,QAAQub,iBAAuBA,GACtCxb,EAAOC,QAAQmgB,eA9nBQ,SAAS99B,EAAGk4B,EAAKz4B,GAChCqrB,GAAS9qB,EAAGk4B,KAASz4B,GACrBu5B,GAAUh5B,EAAGk4B,EAAKz4B,IA6nB1Bie,EAAOC,QAAQogB,gBArqBS,SAAS/9B,EAAG2qB,EAAI2N,GACpC,IAAIzkB,EAAIklB,GAAe/4B,EAAG2qB,EAAI2N,GAE9B,OADU,OAANzkB,GAAYwkB,GAAUr4B,EAAG2qB,EAAI2N,GAC1BzkB,GAmqBX6J,EAAOC,QAAQqgB,kBA9BW,SAASh+B,GAC/Bk9B,GAAmBl9B,EAAG8e,EAx5BH,KAs7BvBpB,EAAOC,QAAQuf,mBAAuBA,GACtCxf,EAAOC,QAAQsgB,YAjEK,SAASj+B,EAAG47B,GAC5B,OAAQqB,GAAcj9B,EAAG47B,IAAa7J,EAAU/xB,EAAG,EAAGmhB,EAAa,IAiEvEzD,EAAOC,QAAQxd,cAxfO,SAASH,EAAG4U,GAC9B,OAAQ8lB,GAAgB16B,EAAG4U,IAAMmd,EAAU/xB,EAAG,EAAGmhB,EAAa,IAwflEzD,EAAOC,QAAQya,WAAuBA,GACtC1a,EAAOC,QAAQugB,gBAtuBS,SAASl+B,EAAGgH,GAChC,IAAI6b,EAAM+V,EACV,GAAU,OAAN5xB,EAIA,OAHAgrB,EAAgBhyB,EAAG,GACnB2kB,EAAgB3kB,EAAG,QACnB0kB,EAAgB1kB,EAAG,GACZ,EACJ,GAAIgH,EAAEwkB,OACT3I,EAAO,OACP+V,EAAO5xB,EAAEwkB,WACN,KAAIxkB,EAAEm3B,OAKT,OAAOxF,GAAgB34B,EAAG,EAAG,KAAMgH,GAJnC6b,EAAO,SACP+V,EAAO5xB,EAAEm3B,OAQb,OAHAzL,EAAY1yB,GACZ2kB,EAAgB3kB,EAAG6iB,GACnB6B,EAAgB1kB,EAAG44B,GACZ,GAmtBXlb,EAAOC,QAAQgb,gBAAuBA,GACtCjb,EAAOC,QAAQ6a,kBAAuBA,GACtC9a,EAAOC,QAAQmb,kBAAuBA,GACtCpb,EAAOC,QAAQwd,iBAAuBA,GACtCzd,EAAOC,QAAQygB,UA5YG,SAASp+B,EAAG4U,EAAGf,EAAG4I,GAChC,IAAI4hB,EACArxB,EAAI,IAAI2qB,GAEZ,IADAoC,GAAc/5B,EAAGgN,IACTqxB,EAAOvD,GAAclmB,EAAGf,KAAO,GACnCmmB,GAAgBhtB,EAAG4H,EAAGypB,GACtBlE,GAAentB,EAAGyP,GAClB7H,EAAIA,EAAE6d,SAAS4L,EAAOxqB,EAAErW,QAI5B,OAFA28B,GAAentB,EAAG4H,GAClBwlB,GAAgBptB,GACTmd,GAAanqB,GAAI,IAkY5B0d,EAAOC,QAAQ2gB,SAneE,SAASt+B,EAAG7B,GACzB4yB,EAAQ/wB,EAAG7B,GACX,IAAI87B,EAAI7P,GAAepqB,GAAI,GAI3B,OAHU,IAANi6B,GACA7B,GAAWp4B,EAAGmd,GAAa,mCAAmC,IAClEkK,EAAQrnB,EAAG,GACJi6B,GA8dXvc,EAAOC,QAAQ8c,gBAAuBA,GACtC/c,EAAOC,QAAQ4c,iBAAuBA,GACtC7c,EAAOC,QAAQsf,cAAuBA,GACtCvf,EAAOC,QAAQoe,eAAuBA,GACtCre,EAAOC,QAAQ+c,gBAAuBA,GACtChd,EAAOC,QAAQkH,YAhVK,SAAS7kB,EAAGi6B,GAC5B7Q,EAAgBppB,GAChBo7B,GAAcp7B,EAAGi6B,EAAG,IA+UxBvc,EAAOC,QAAQ4gB,iBArVU,SAASv+B,GAC9BopB,EAAgBppB,IAqVpB0d,EAAOC,QAAQ6gB,kBAztBW,SAASx+B,EAAGs4B,GAClC,OAAIQ,GAAkB94B,EAAGs4B,KAAWhZ,EACzB,GACX+H,EAAQrnB,EAAG,GACXopB,EAAgBppB,EAAG,EAAG,GACtB4yB,EAAe5yB,EAAGs4B,GAClB1T,GAAa5kB,GAAI,EAAGw3B,IACpBzE,EAAc/yB,GAAI,GAClB4kB,GAAa5kB,EAAGwgB,EAAmB8X,GAC5B,IAitBX5a,EAAOC,QAAQ3b,cAxqBO,WAClB,IAAIhC,EAAIm3B,IAER,OADIn3B,GAAG4sB,EAAY5sB,EAAG8sB,IACf9sB,GAsqBX0d,EAAOC,QAAQ0c,SAAuBA,GACtC3c,EAAOC,QAAQ8gB,gBAxmBS,SAASz+B,EAAGk4B,EAAKkB,GACrC,OAAOiB,GAASr6B,EAAGw5B,GAAmBtB,EAAKkB,IAwmB/C1b,EAAOC,QAAQwb,gBAAuBA,GACtCzb,EAAOC,QAAQ+gB,eArnBQ,SAAS1+B,EAAGk4B,EAAKkB,GACpC,OAAOiB,GAASr6B,EAAGs5B,GAAkBpB,EAAKkB,IAqnB9C1b,EAAOC,QAAQ0b,eAAuBA,GACtC3b,EAAOC,QAAQghB,gBAnlBS,SAAShF,GAC7B,OAAOD,GAAkBC,EAAG3C,IAmlBhCtZ,EAAOC,QAAQ+b,kBAAuBA,GACtChc,EAAOC,QAAQyc,gBAAuBA,GACtC1c,EAAOC,QAAQihB,oBApjBa,SAASjF,EAAGjF,GACpCwF,GAAaP,EAAGjF,GAChB0F,GAAgBT,IAmjBpBjc,EAAOC,QAAQkhB,SApVE,SAAS7+B,EAAGP,GACzB,IAAI22B,EACJ,OAAIjG,EAAUnwB,GAAI,IACdqnB,EAAQrnB,EAAG,IALA,IAQfP,EAAI+sB,EAAaxsB,EAAGP,GACpBwpB,GAAYjpB,EAAGP,EAAG,GAClB22B,EAAMf,GAAcr1B,GAAI,GACxBqnB,EAAQrnB,EAAG,GACC,IAARo2B,GACAnN,GAAYjpB,EAAGP,EAAG22B,GAClBzC,GAAY3zB,EAAGP,EAAG,IAGlB22B,EAAM/C,GAAWrzB,EAAGP,GAAK,EAC7Bk0B,GAAY3zB,EAAGP,EAAG22B,GACXA,IAoUX1Y,EAAOC,QAAQmhB,cAjcO,SAAS9+B,EAAG++B,EAASC,EAAOC,GAC9C9D,GAAiBn7B,EAAGwgB,EAAmB6W,IACvC1I,EAAa3uB,GAAI,EAAG++B,GACfnK,GAAc50B,GAAI,KACnBqnB,EAAQrnB,EAAG,GACXsoB,EAAkBtoB,EAAGg/B,GACrBpM,EAAe5yB,EAAG++B,GAClB7R,EAASltB,EAAG,EAAG,GACf+yB,EAAc/yB,GAAI,GAClB4kB,GAAa5kB,GAAI,EAAG++B,IAExBjL,GAAW9zB,GAAI,GACXi/B,IACAlM,EAAc/yB,GAAI,GAClB4oB,GAAc5oB,EAAG++B,KAobzBrhB,EAAOC,QAAQyd,cAAuBA,GACtC1d,EAAOC,QAAQuhB,kBA1tBW,SAASl/B,EAAGs4B,GAClCQ,GAAkB94B,EAAGs4B,GACrBpE,GAAiBl0B,GAAI,IAytBzB0d,EAAOC,QAAQob,eAAuBA,GACtCrb,EAAOC,QAAQwhB,eAhfQ,SAASn/B,EAAG7B,GAC/B,GAAIw8B,GAAc36B,EAAG7B,EAAKs5B,IACjB/G,EAAa1wB,GAAI,IAClBo4B,GAAWp4B,EAAGmd,GAAa,2CAG/B,OADQ2N,GAAS9qB,EAAG7B,IAEhB,KAAKshB,EACGuQ,EAAchwB,EAAG7B,GACjB8zB,EAAgBjyB,EAAG46B,GAAKvF,GAAcr1B,EAAG7B,IAEzC8zB,EAAgBjyB,EAAG66B,GAAKtF,GAAav1B,EAAG7B,IAC5C,MAEJ,KAAKuhB,EACDqT,EAAc/yB,EAAG7B,GACjB,MACJ,KAAKohB,EACDoF,EAAgB3kB,EAAI40B,GAAc50B,EAAG7B,GAAO,OAAS,SACrD,MACJ,KAAKmhB,EACDqF,EAAgB3kB,EAAG,OACnB,MACJ,QAAS,CACL,IAAIkH,EAAKsxB,GAAkBx4B,EAAG7B,EAAKq5B,IAC/B4H,EAAOl4B,IAAOwY,EAAcyK,GAAanqB,GAAI,GAAKy4B,GAAcz4B,EAAG7B,GACvE8zB,EAAgBjyB,EAAGmd,GAAa,UAAWiiB,EAAM5J,GAAcx1B,EAAG7B,IAC9D+I,IAAOoY,GACPwU,GAAW9zB,GAAI,GACnB,OAKZ,OAAO8pB,GAAc9pB,GAAI,IA+c7B0d,EAAOC,QAAQ0hB,eAn3BQ,SAASr/B,EAAGs/B,EAAI3+B,EAAK3D,GACxC,IAAI+6B,EAAK,IAAIvV,EACTlb,EAAM9G,EAAWR,GACjBu/B,EAlBU,SAASv/B,GACvB,IAAI+3B,EAAK,IAAIvV,EACTgd,EAAK,EACLC,EAAK,EAET,KAAOvI,EAAal3B,EAAGy/B,EAAI1H,IAAOyH,EAAKC,EAAIA,GAAM,EAEjD,KAAOD,EAAKC,GAAI,CACZ,IAAI1wB,EAAIxH,KAAKm4B,OAAOF,EAAKC,GAAI,GACzBvI,EAAal3B,EAAG+O,EAAGgpB,GAAKyH,EAAKzwB,EAAI,EAChC0wB,EAAK1wB,EAEd,OAAO0wB,EAAK,EAMDE,CAAUL,GACjB/I,EAAKgJ,EAAOviC,EAAQ4iC,GA3FZ,IA2F2C,EAKvD,IAJIj/B,GACAsxB,EAAgBjyB,EAAGmd,GAAa,QAASxc,GAC7C26B,GAAgBt7B,EAAG,GAAI,MACvB2kB,EAAgB3kB,EAAG,oBACZk3B,EAAaoI,EAAItiC,IAAS+6B,IAChB,GAATxB,KACA5R,EAAgB3kB,EAAG,WACnBhD,EAAQuiC,EAlGJ,GAkGqB,IAEzBtI,EAAYqI,EAAIniB,GAAa,QAAQ,GAAO4a,GAC5C9F,EAAgBjyB,EAAGmd,GAAa,WAAY4a,EAAG1U,WAC3C0U,EAAGjV,YAAc,GACjB6B,EAAgB3kB,EAAG,GAAG+3B,EAAGjV,gBAC7B6B,EAAgB3kB,EAAG,QACnBg4B,GAAah4B,EAAG+3B,GACZA,EAAG3U,YACHuB,EAAgB3kB,EAAG,yBACvB+tB,EAAW/tB,EAAGQ,EAAWR,GAAKsH,IAGtCymB,EAAW/tB,EAAGQ,EAAWR,GAAKsH,IA21BlCoW,EAAOC,QAAQ8a,cAAuBA,GACtC/a,EAAOC,QAAQkiB,WAvUI,SAAS7/B,EAAGP,EAAG22B,GAC1BA,GAAO,IACP32B,EAAI+sB,EAAaxsB,EAAGP,GACpBwpB,GAAYjpB,EAAGP,EAAG,GAClBk0B,GAAY3zB,EAAGP,EAAG22B,GAClB1R,EAAgB1kB,EAAGo2B,GACnBzC,GAAY3zB,EAAGP,EAAG,KAkU1Bie,EAAOC,QAAQ+a,WAAuBA,GACtChb,EAAOC,QAAQmiB,qBAnGc,WACzB,IAAK,IAAI5gC,EAAE,EAAGA,EAAEyP,UAAUnR,OAAQ0B,IAAK,CACnC,IAAI0D,EAAI+L,UAAUzP,GAGd,EAAG,CAGC,IAAIud,EAAI,uBAAuBjR,KAAK5I,GACpC4rB,QAAQkN,MAAMjf,EAAE,IAChB7Z,EAAI6Z,EAAE,SACK,KAAN7Z,kCCr+BrB,MAAM,YACFue,EAAW,OACXsC,EAAM,cACN7D,EAAa,SACbN,EAAQ,UACRD,EAAS,YACTI,EAAW,YACXC,EAAW,WACXC,EAAU,YACVX,EAAW,UACX0E,EAAS,SACTwJ,EAAQ,UACR/B,EAAS,WACT4C,EAAU,UACVK,EAAS,cACTQ,EAAa,SACbC,EAAQ,iBACRC,EAAgB,WAChBtuB,EAAU,WACVmvB,EAAU,UACVQ,EAAS,WACTC,EAAU,aACVM,EAAY,SACZQ,EAAQ,SACRW,EAAQ,WACRhG,EAAU,QACVxE,EAAO,gBACP2K,EAAe,kBACf1J,EAAiB,oBACjB+J,EAAmB,gBACnB3N,EAAe,gBACfC,EAAe,YACf+N,EAAW,eACXE,EAAc,cACdG,EAAa,aACbE,EAAY,WACZC,EAAU,WACVG,EAAU,WACVG,EAAU,WACVM,EAAU,YACVC,EAAW,WACXpM,EAAU,aACV/C,EAAY,iBACZsP,EAAgB,WAChBjN,EAAU,eACVoN,EAAc,mBACdI,EAAkB,cAClBG,EAAa,cACb9K,EAAa,aACbK,EAAY,SACZW,EAAQ,aACRmL,GACA,EAAQ,OACN,cACFuH,GAAa,cACbG,GAAa,kBACbnE,GAAiB,iBACjBoE,GAAgB,gBAChBtC,GAAe,eACfwC,GAAc,WACd1F,GAAU,kBACVI,GAAiB,iBACjB+B,GAAgB,cAChB0C,GAAa,eACblB,GAAc,gBACd0C,GAAe,eACfpF,GAAc,cACd+B,GAAa,eACb+D,GAAc,WACdzG,IACA,EAAQ,OACN,YACF7a,GAAW,aACXV,IACA,EAAQ,MAEZ,IAAI4iB,GACAC,GAEA,GAA2B,mBAAhBC,YAA4B,CACnC,IAAIzF,EAAO,GACP0F,EAAU,IAAID,YAAY,SAC9BF,GAAkB,SAASnrB,GACvB4lB,GAAQ0F,EAAQC,OAAOvrB,EAAG,CAACvF,QAAQ,KAEvC,IAAIqoB,EAAQ,IAAInb,WAAW,GAC3ByjB,GAAgB,WACZxF,GAAQ0F,EAAQC,OAAOzI,GACvBlJ,QAAQ4R,IAAI5F,GACZA,EAAO,QAER,CACH,IAAIA,EAAO,GACXuF,GAAkB,SAASnrB,GACvB,IAEIA,EAAIiJ,GAAYjJ,GAClB,MAAM5N,GAEJ,IAAIq5B,EAAO,IAAI9jB,WAAW3H,EAAEpX,QAC5B6iC,EAAKzK,IAAIhhB,GACTA,EAAIyrB,EAER7F,EAAK19B,KAAK8X,IAEdorB,GAAgB,WACZxR,QAAQ4R,IAAIhuB,MAAMoc,QAAQ4R,IAAK5F,GAC/BA,EAAO,IAWnB,MA6EM8F,GAAO,CACT,OAAQ,UAAW,UACnB,QAAS,OAAQ,WAAY,aAC7B,aACF9gC,KAAKwH,GAAMmW,GAAanW,KA4BpBu5B,GAAY,SAASvgC,GAGvB,OAFA89B,GAAe99B,EAAG,EAAG2f,GACrBsH,EAAWjnB,EAAG,GACV6xB,EAAS7xB,EAAG,GACL,GAEP0yB,EAAY1yB,GACL,IAWTwgC,GAAY,SAASxgC,GACvB,IAAId,EAAIs6B,GAAkBx5B,EAAG,GAAK,EAElC,OADA0kB,EAAgB1kB,EAAGd,GACZ2vB,EAAS7uB,EAAG,EAAGd,KAAOogB,EAAW,EAAI,GA0D1CmhB,GAAa,SAASzgC,GACxB,IAAIhD,EAAQyhC,GAAgBz+B,EAAG,EAAG,GAOlC,OANAinB,EAAWjnB,EAAG,GACV8qB,EAAS9qB,EAAG,KAAO0f,GAAe1iB,EAAQ,IAC1C07B,GAAW14B,EAAGhD,GACd+1B,EAAc/yB,EAAG,GACjB+tB,EAAW/tB,EAAG,IAEXouB,EAAUpuB,IAoCf0gC,GAAc,SAAS1gC,EAAGwrB,EAAQQ,GACpC,OAAIR,IAAW/H,GAAU+H,IAAW9H,GAChCsO,EAAgBhyB,EAAG,GACnB+yB,EAAc/yB,GAAI,GACX,GAEAQ,EAAWR,GAAKgsB,GA0BzB2U,GAAW,SAAS3gC,EAAGwrB,EAAQoV,GACjC,OAAIpV,IAAW/H,GACI,IAAXmd,IACA7N,EAAc/yB,EAAG4gC,GACZvM,EAAer0B,GAAI,EAAG,IACvBqnB,EAAQrnB,EAAG,IAEZ,IAEP0yB,EAAY1yB,GACZ2vB,EAAW3vB,GAAI,GACR,IAiBT6gC,GAAiB,SAAS7gC,EAAG2qB,GAI/B,OAHA2Q,GAAgBt7B,EAAG,EAAG,6BACtB+yB,EAAc/yB,EAAG,GACjBktB,EAASltB,EAAG,EAAG,GACXmwB,EAAUnwB,GAAI,IACdqnB,EAAQrnB,EAAG,GACJ,OACC0wB,EAAa1wB,GAAI,IACzBo4B,GAAWp4B,EAAGmd,GAAa,yCAC/B4W,EAAY/zB,EAjBK,GAkBVmqB,EAAanqB,EAlBH,KA8Cf8gC,GAAa,SAAS9gC,EAAG+gC,EAAIC,GAC/B,OAAOxgC,EAAWR,GAAK,GAYrBihC,GAAa,CACf,OAjJgB,SAASjhC,GACzB,OAAI40B,EAAc50B,EAAG,GACVQ,EAAWR,IAElB29B,GAAc39B,EAAG,GACjB8zB,EAAW9zB,EAAG,GACd2kB,EAAgB3kB,EAAG,qBACnBinB,EAAWjnB,EAAG,GACPygC,GAAWzgC,KA0ItB,eAvQwB,SAASA,GACjC49B,GAAiB59B,EAAG,EAAG,UAAWsgC,IAClC7B,GAAgBz+B,EAAG,EAAG,GACtBo4B,GAAWp4B,EAAGmd,GAAa,4BAqQ3B,OAZgB,SAASnd,GACzB,IAAImC,EAAQk3B,GAAer5B,EAAG,EAAG,MAEjC,OADAinB,EAAWjnB,EAAG,GACVi9B,GAAcj9B,EAAGmC,KAAWshB,EACrB2K,EAAUpuB,IACrBmrB,EAAUnrB,EAAG,EAAGmhB,EAAa,EAAG2f,IACzBA,GAAW9gC,KAOlB,MAAkBygC,GAClB,aAnUsB,SAASzgC,GAE/B,OADA29B,GAAc39B,EAAG,GACZ8uB,EAAiB9uB,EAAG,IAIzBw4B,GAAkBx4B,EAAG,EAAGmd,GAAa,eAAe,IAC7C,IAJHuV,EAAY1yB,GACL,IAgUX,OApNgB,SAASA,GAQzB,OAJA29B,GAAc39B,EAAG,GACjBsoB,EAAkBtoB,EAAGwgC,IACrBzN,EAAc/yB,EAAG,GACjB0kB,EAAgB1kB,EAAG,GACZ,GA6MP,KA7Cc,SAASA,GACvB,IAGIwrB,EAHA5W,EAAIuV,EAAanqB,EAAG,GACpB0F,EAAO2zB,GAAer5B,EAAG,EAAG,MAC5BlE,EAAOs0B,EAAWpwB,EAAG,GAAS,EAAJ,EAE9B,GAAU,OAAN4U,EAAY,CACZ,IAAIwc,EAAYiI,GAAer5B,EAAG,EAAG4U,GACrC4W,EAAS+O,GAAiBv6B,EAAG4U,EAAGA,EAAEpX,OAAQ4zB,EAAW1rB,OAClD,CACH,IAAI0rB,EAAYiI,GAAer5B,EAAG,EAAG,WACrC89B,GAAe99B,EAAG,EAAG4f,GACrBqH,EAAWjnB,EAhCE,GAiCbwrB,EAAS0F,EAASlxB,EAAG6gC,GAAgB,KAAMzP,EAAW1rB,GAE1D,OAAOi7B,GAAS3gC,EAAGwrB,EAAQ1vB,IAgC3B,SA7BkB,SAASkE,GAC3B,IAAImC,EAAQk3B,GAAer5B,EAAG,EAAG,MAC7B0F,EAAO2zB,GAAer5B,EAAG,EAAG,MAC5BlE,EAAOs0B,EAAWpwB,EAAG,GAAS,EAAJ,EAC1BwrB,EAASuQ,GAAe/7B,EAAGmC,EAAOuD,GACtC,OAAOi7B,GAAS3gC,EAAGwrB,EAAQ1vB,IAyB3B,KAAkBykC,GAClB,MAzOe,SAASvgC,GACxB,OA1Bc,SAASA,EAAGkhC,EAAQC,EAAQC,GAW1C,OAVAzD,GAAc39B,EAAG,GACbw4B,GAAkBx4B,EAAG,EAAGkhC,KAAY5hB,GACpCgJ,EAAkBtoB,EAAGohC,GACrBrO,EAAc/yB,EAAG,GAEZ0yB,EAAY1yB,KAEjB+yB,EAAc/yB,EAAG,GACjBktB,EAASltB,EAAG,EAAG,IAEZ,EAeAqhC,CAAUrhC,EAAGmd,GAAa,WAAW,GAAO,EAAGojB,KAyOtD,MAjHe,SAASvgC,GACxB29B,GAAc39B,EAAG,GACjBgyB,EAAgBhyB,EAAG,GACnB2vB,EAAW3vB,EAAG,GACd,IAAIwrB,EAASK,EAAW7rB,EAAGQ,EAAWR,GAAK,EAAGmhB,EAAa,EAAG,EAAGuf,IACjE,OAAOA,GAAY1gC,EAAGwrB,EAAQ,IA6G9B,MAnWe,SAASxrB,GACxB,IAAI2I,EAAInI,EAAWR,GACnB4uB,EAAc5uB,EAAGmd,GAAa,YAAY,IAC1C,IAAK,IAAIje,EAAI,EAAGA,GAAKyJ,EAAGzJ,IAAK,CACzB6zB,EAAc/yB,GAAI,GAClB+yB,EAAc/yB,EAAGd,GACjBguB,EAASltB,EAAG,EAAG,GACf,IAAI4U,EAAIkV,EAAc9pB,GAAI,GAC1B,GAAU,OAAN4U,EACA,OAAOwjB,GAAWp4B,EAAGmd,GAAa,+CAClCje,EAAI,GAAG6gC,GAAgB5iB,GAAa,OACxC4iB,GAAgBnrB,GAChByS,EAAQrnB,EAAG,GAGf,OADAggC,KACO,GAqVP,SAtTkB,SAAShgC,GAI3B,OAHA29B,GAAc39B,EAAG,GACjB29B,GAAc39B,EAAG,GACjBgyB,EAAgBhyB,EAAGizB,EAAajzB,EAAG,EAAG,IAC/B,GAmTP,OAzSgB,SAASA,GAKzB,OAJA89B,GAAe99B,EAAG,EAAG2f,GACrBge,GAAc39B,EAAG,GACjBinB,EAAWjnB,EAAG,GACdkzB,EAAWlzB,EAAG,GACP,GAqSP,OAjTgB,SAASA,GACzB,IAAIP,EAAIqrB,EAAS9qB,EAAG,GAGpB,OAFAw9B,GAAcx9B,EAAGP,IAAMkgB,GAAclgB,IAAMigB,EAAa,EAAG,4BAC3DgF,EAAgB1kB,EAAGqzB,EAAWrzB,EAAG,IAC1B,GA8SP,OAnSgB,SAASA,GAMzB,OALA89B,GAAe99B,EAAG,EAAG2f,GACrBge,GAAc39B,EAAG,GACjB29B,GAAc39B,EAAG,GACjBinB,EAAWjnB,EAAG,GACdwzB,EAAWxzB,EAAG,GACP,GA8RP,OArJgB,SAASA,GACzB,IAAI2I,EAAInI,EAAWR,GACnB,GAAI8qB,EAAS9qB,EAAG,KAAO0f,GAAyC,KAA1ByK,EAAanqB,EAAG,GAAG,GAErD,OADA0kB,EAAgB1kB,EAAG2I,EAAI,GAChB,EACJ,CACH,IAAIzJ,EAAIs6B,GAAkBx5B,EAAG,GAI7B,OAHId,EAAI,EAAGA,EAAIyJ,EAAIzJ,EACVA,EAAIyJ,IAAGzJ,EAAIyJ,GACpB60B,GAAcx9B,EAAG,GAAKd,EAAG,EAAG,sBACrByJ,EAAIzJ,IA4If,aAtUsB,SAASc,GAC/B,IAAIP,EAAIqrB,EAAS9qB,EAAG,GAGpB,OAFA89B,GAAe99B,EAAG,EAAG2f,GACrB6d,GAAcx9B,EAAGP,IAAM6f,GAAY7f,IAAMkgB,EAAY,EAAG,yBACpD6Y,GAAkBx4B,EAAG,EAAGmd,GAAa,eAAe,MAAWmC,EACxD8Y,GAAWp4B,EAAGmd,GAAa,yCACtC8J,EAAWjnB,EAAG,GACdk0B,EAAiBl0B,EAAG,GACb,IA+TP,SAzMkB,SAASA,GAC3B,GAAI8qB,EAAS9qB,EAAG,IAAM,EAAG,CAErB,GADA29B,GAAc39B,EAAG,GACb8qB,EAAS9qB,EAAG,KAAOyf,EAEnB,OADAwH,EAAWjnB,EAAG,GACP,EACJ,CACH,IAAI4U,EAAIuV,EAAanqB,EAAG,GACxB,GAAU,OAAN4U,GAAc6f,EAAmBz0B,EAAG4U,KAAOA,EAAEpX,OAAO,EACpD,OAAO,OAEZ,CACH,IAAImT,EAAO6oB,GAAkBx5B,EAAG,GAChC89B,GAAe99B,EAAG,EAAG0f,GACrB,IAAI9K,EAAIuV,EAAanqB,EAAG,GACxBw9B,GAAcx9B,EAAG,GAAK2Q,GAAQA,GAAQ,GAAI,EAAG,qBAC7C,IAAIhI,EA7BM,SAASiM,EAAGjE,GAC1B,IACIiE,EAAIiJ,GAAYjJ,GAClB,MAAO5N,GACL,OAAO,KAEX,IAAIyV,EAAI,wDAAwDjR,KAAKoJ,GACrE,IAAK6H,EAAG,OAAO,KACf,IAAIC,EAAI4kB,SAAS7kB,EAAE,GAAGA,EAAE,GAAI9L,GAC5B,OAAI4wB,MAAM7kB,GAAW,KACZ,EAAFA,EAmBK8kB,CAAU5sB,EAAGjE,GACrB,GAAU,OAANhI,EAEA,OADA+b,EAAgB1kB,EAAG2I,GACZ,EAKf,OADA+pB,EAAY1yB,GACL,GAkLP,SAzVkB,SAASA,GAI3B,OAHA29B,GAAc39B,EAAG,GACjBm/B,GAAen/B,EAAG,GAEX,GAsVP,KApRc,SAASA,GACvB,IAAIP,EAAIqrB,EAAS9qB,EAAG,GAGpB,OAFAw9B,GAAcx9B,EAAGP,IAAM4f,EAAW,EAAG,kBACrCuT,EAAe5yB,EAAGi2B,EAAaj2B,EAAGP,IAC3B,GAiRP,OA/GgB,SAASO,GACzB,IAAI2I,EAAInI,EAAWR,GACnB89B,GAAe99B,EAAG,EAAG4f,GACrBoS,EAAgBhyB,EAAG,GACnB+yB,EAAc/yB,EAAG,GACjB2nB,EAAW3nB,EAAG,EAAG,GACjB,IAAIwrB,EAASK,EAAW7rB,EAAG2I,EAAI,EAAGwY,EAAa,EAAG,EAAGuf,IACrD,OAAOA,GAAY1gC,EAAGwrB,EAAQ,KAwHlC9N,EAAOC,QAAQ8jB,aAbM,SAASzhC,GAU1B,OARAqyB,EAAoBryB,GACpBo7B,GAAcp7B,EAAGihC,GAAY,GAE7BlO,EAAc/yB,GAAI,GAClB4kB,EAAa5kB,GAAI,EAAGmd,GAAa,OAEjCwH,EAAgB3kB,EAAGgf,GACnB4F,EAAa5kB,GAAI,EAAGmd,GAAa,aAC1B,gCChfX,MAAM,YACFgE,EAAW,UACXC,EAAS,WACTC,EAAU,WACVC,EAAU,UACVC,EAAS,WACTC,EAAU,UACVC,EAAS,WACTE,EAAU,UACVG,EAAS,UACTG,EAAS,UACTC,EAAS,UACTE,EACAhD,gBAAgB,aACZG,EAAY,mBACZC,EAAkB,YAClBS,EAAW,SACXX,EAAQ,YACRY,EAAW,YACXC,EAAW,WACXR,GACH,aACDxC,GACA,EAAQ,OACN,WAAEukB,GAAe,EAAQ,MACzBC,EAAW,EAAQ,MACnBvc,EAAW,EAAQ,MACnBwc,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MACnBlc,EAAW,EAAQ,MACnBD,EAAW,EAAQ,MAEnBoc,EAAWF,EAASE,SACpBjc,EAAWT,EAAQS,OASnBkc,GAAW,EAEXC,EAAS,CACXC,QAAc,EACdC,QAAc,EACdC,QAAc,EACdC,QAAc,EACdC,QAAc,EACdC,QAAc,EACdC,SAAc,EACdC,SAAc,EACdC,QAAc,EACdC,SAAc,EACdC,QAAc,GACdC,QAAc,GACdC,WAAc,GACdC,OAAc,GACdC,OAAc,GACdC,OAAc,GACdC,OAAc,GACdC,OAAc,GACdC,OAAc,GACdC,QAAc,GACdC,OAAc,GACdC,aAAc,IAGZC,EAAQ,CACVC,UAAc,EACdC,SAAc,EACdC,QAAc,EACdC,QAAc,EACdC,YAAc,GAGZC,EAAW,SAAS78B,GACtB,OAAOA,EAAEvH,IAAMuH,EAAEZ,GAOf09B,EAAY,SAAS98B,EAAG+8B,GAC1B,IAAIC,EAAKnC,EAAQoC,QACjB,GAAIJ,EAAS78B,GACT,OAAO,EACX,OAAQA,EAAEyhB,GACN,KAAKub,EAAGE,MACJ,OAAIH,GACO,IAAIle,EAAO1F,EAAanZ,EAAEyW,EAAE0mB,MAG3C,KAAKH,EAAGI,MACJ,OAAIL,GACO,IAAIle,EAAO3F,EAAalZ,EAAEyW,EAAE4mB,MAG3C,QAAS,OAAO,IAUlBC,EAAW,SAASC,EAAI1jC,EAAM8H,GAChC,IAAI67B,EACAvK,EAAIp5B,EAAO8H,EAAI,EACnB,GAAI47B,EAAGE,GAAKF,EAAGG,aACXF,EAAWD,EAAGn+B,EAAEnC,KAAKsgC,EAAGE,GAAG,GACvBD,EAASG,SAAW7C,EAAS8C,YAAY,CACzC,IAAIC,EAAQL,EAASM,EACjBC,EAAKF,EAAQL,EAAS7K,EAC1B,GAAKkL,GAAShkC,GAAQA,GAAQkkC,EAAK,GAC1BlkC,GAAQgkC,GAASA,GAAS5K,EAAI,EAKnC,OAJI4K,EAAQhkC,IAAMA,EAAOgkC,GACrBE,EAAK9K,IAAGA,EAAI8K,GAChBnD,EAASoD,SAASR,EAAU3jC,QAC5B+gC,EAASqD,SAAST,EAAUvK,EAAIp5B,GAK5CqkC,EAAaX,EAAIzC,EAAS8C,WAAY/jC,EAAM8H,EAAI,EAAG,IAGjDw8B,EAAiB,SAASZ,EAAIv9B,GAChC,OAAOu9B,EAAGn+B,EAAEnC,KAAK+C,EAAEyW,EAAE2nB,OAOnBC,EAAU,SAASd,EAAIE,GACzB,IAAIa,EAASf,EAAGn+B,EAAEnC,KAAKwgC,GAAIc,IAC3B,OAAID,IAAWvD,EACJA,EAEA0C,EAAK,EAAIa,GAOlBE,EAAU,SAASjB,EAAIE,EAAIgB,GAC7B,IAAIC,EAAMnB,EAAGn+B,EAAEnC,KAAKwgC,GAChBa,EAASG,GAAQhB,EAAK,GAC1B/C,EAAW+D,IAAS1D,GAChBx6B,KAAKo+B,IAAIL,GAAU1D,EAASgE,YAC5BjE,EAAKkE,iBAAiBtB,EAAGuB,GAAI3oB,EAAa,8BAA8B,IAC5EykB,EAASmE,WAAWL,EAAKJ,IAMvBU,EAAc,SAASzB,EAAI0B,EAAIC,GACjC,GAAIA,IAAOnE,EAAS,OAAOkE,EACtB,GAAIA,IAAOlE,EACZkE,EAAKC,MACJ,CACD,IAAIxxB,EAAOuxB,EACPjgC,EAAOq/B,EAAQd,EAAI7vB,GACvB,KAAO1O,IAAS+7B,GACZrtB,EAAO1O,EACPA,EAAOq/B,EAAQd,EAAI7vB,GAEvB8wB,EAAQjB,EAAI7vB,EAAMwxB,GAGtB,OAAOD,GASLE,EAAY,SAAU5B,GACxB,IAAI6B,EAAM7B,EAAG6B,IACb7B,EAAG6B,IAAMrE,EACT,IAAIvuB,EAAI6yB,GAAc9B,EAAIzC,EAASwE,OAAQ,EAAGvE,GAE9C,OADAvuB,EAAIwyB,EAAYzB,EAAI/wB,EAAG4yB,GAChB5yB,GAkBL+yB,EAAW,SAAShC,EAAI7X,EAAIoY,EAAGnL,EAAG6M,GAEpC,OADAtB,EAAaX,EAAI7X,EAAIoY,EAAGnL,EAAG6M,GACpBL,EAAU5B,IAOfkC,EAAgB,SAASlC,GAE3B,OADAA,EAAGG,WAAaH,EAAGE,GACZF,EAAGE,IAQRiC,EAAuB,SAASnC,EAAIE,GACtC,OAAIA,GAAM,GAAK7C,EAAS+E,UAAUpC,EAAGn+B,EAAEnC,KAAKwgC,EAAK,GAAGE,QACzCF,EAAK,EAELA,GAETmC,EAAiB,SAASrC,EAAIE,GAChC,OAAOF,EAAGn+B,EAAEnC,KAAKyiC,EAAqBnC,EAAIE,KAUxCoC,EAAe,SAAStC,EAAIplC,EAAM2nC,GACpC,IAAIrC,EAAKiC,EAAqBnC,EAAIplC,GAC9BD,EAAIqlC,EAAGn+B,EAAEnC,KAAKwgC,GAClB,OAAIvlC,EAAEylC,SAAW7C,EAASiF,aAEtBD,IAAQlF,EAASoF,QAAUF,IAAQ5nC,EAAEy6B,EACrCiI,EAASoD,SAAS9lC,EAAG4nC,GAIrBvC,EAAGn+B,EAAEnC,KAAKwgC,GAAM7C,EAASqF,WAAWnF,EAASoF,QAAShoC,EAAEy6B,EAAG,EAAGz6B,EAAEsnC,IAE7D,IAMLW,EAAe,SAAS5C,EAAI7vB,GAC9B,KAAOA,IAASqtB,EAASrtB,EAAO2wB,EAAQd,EAAI7vB,GACxCmyB,EAAatC,EAAI7vB,EAAMktB,EAASoF,SAQlCI,EAAe,SAAS7C,EAAI7vB,EAAM2yB,EAASP,EAAKQ,GAClD,KAAO5yB,IAASqtB,GAAS,CACrB,IAAI/7B,EAAOq/B,EAAQd,EAAI7vB,GACnBmyB,EAAatC,EAAI7vB,EAAMoyB,GACvBtB,EAAQjB,EAAI7vB,EAAM2yB,GAElB7B,EAAQjB,EAAI7vB,EAAM4yB,GACtB5yB,EAAO1O,IAkBTuhC,EAAmB,SAAShD,EAAI7vB,GAClC+xB,EAAclC,GACdA,EAAG6B,IAAMJ,EAAYzB,EAAIA,EAAG6B,IAAK1xB,IAQ/B8yB,EAAiB,SAASjD,EAAI7vB,EAAMhR,GAClCA,IAAW6gC,EAAGE,GACd8C,EAAiBhD,EAAI7vB,IAErBgtB,EAAWh+B,EAAS6gC,EAAGE,IACvB2C,EAAa7C,EAAI7vB,EAAMhR,EAAQk+B,EAASoF,OAAQtjC,KAsBlD+jC,EAAY,SAASlD,EAAIrlC,GAC3B,IAAIkH,EAAIm+B,EAAGn+B,EAKX,OApDiB,SAASm+B,GAC1B6C,EAAa7C,EAAIA,EAAG6B,IAAK7B,EAAGE,GAAI7C,EAASoF,OAAQzC,EAAGE,IACpDF,EAAG6B,IAAMrE,EA8CT2F,CAAanD,GAEbn+B,EAAEnC,KAAKsgC,EAAGE,IAAMvlC,EAChBkH,EAAEuhC,SAASpD,EAAGE,IAAMF,EAAGuB,GAAG8B,SACnBrD,EAAGE,MAORS,EAAe,SAASX,EAAIje,EAAG1jB,EAAGoK,EAAGiQ,GAKvC,OAJAykB,EAAWE,EAASiG,UAAUvhB,KAAOsb,EAASkG,MAC9CpG,EAAWE,EAASmG,SAASzhB,KAAOsb,EAASoG,QAAgB,IAANh7B,GACvD00B,EAAWE,EAASqG,SAAS3hB,KAAOsb,EAASoG,QAAgB,IAAN/qB,GACvDykB,EAAW9+B,GAAKg/B,EAASsG,UAAYl7B,GAAK40B,EAASuG,UAAYlrB,GAAK2kB,EAASwG,UACtEX,EAAUlD,EAAI3C,EAASqF,WAAW3gB,EAAG1jB,EAAGoK,EAAGiQ,KAMhDorB,GAAe,SAAS9D,EAAIje,EAAG1jB,EAAG0lC,GAIpC,OAHA5G,EAAWE,EAASiG,UAAUvhB,KAAOsb,EAAS2G,MAAQ3G,EAASiG,UAAUvhB,KAAOsb,EAAS4G,OACzF9G,EAAWE,EAASqG,SAAS3hB,KAAOsb,EAASoG,QAC7CtG,EAAW9+B,GAAKg/B,EAASsG,UAAYI,GAAM1G,EAAS6G,WAC7ChB,EAAUlD,EAAI3C,EAAS8G,WAAWpiB,EAAG1jB,EAAG0lC,KAG7CjC,GAAgB,SAAS9B,EAAGje,EAAEwe,EAAES,GAClC,OAAO8C,GAAa9D,EAAIje,EAAGwe,EAAG,EAAQlD,EAASgE,aAM7C+C,GAAe,SAASpE,EAAI3hC,GAE9B,OADA8+B,EAAW9+B,GAAKg/B,EAASgH,WAClBnB,EAAUlD,EAAI3C,EAASiH,UAAU/G,EAASgH,YAAalmC,KAQ5DmmC,GAAa,SAASxE,EAAIuC,EAAKre,GACjC,GAAIA,GAAKmZ,EAAS6G,UACd,OAAOJ,GAAa9D,EAAIzC,EAASkH,SAAUlC,EAAKre,GAC/C,CACD,IAAI5U,EAAIw0B,GAAa9D,EAAIzC,EAASmH,UAAWnC,EAAK,GAElD,OADA6B,GAAapE,EAAI9b,GACV5U,IAQTq1B,GAAkB,SAAS3E,EAAI57B,GACjC,IAAIwgC,EAAW5E,EAAG6E,QAAUzgC,EACxBwgC,EAAW5E,EAAGn+B,EAAEijC,eACZF,GA5WI,KA6WJxH,EAAKkE,iBAAiBtB,EAAGuB,GAAI3oB,EAAa,mDAAmD,IACjGonB,EAAGn+B,EAAEijC,aAAeF,IAOtBG,GAAmB,SAAS/E,EAAI57B,GAClCugC,GAAgB3E,EAAI57B,GACpB47B,EAAG6E,SAAWzgC,GAOZygC,GAAU,SAAS7E,EAAIuC,IACpBlF,EAAS2H,IAAIzC,IAAQA,GAAOvC,EAAGiF,UAChCjF,EAAG6E,UACH1H,EAAWoF,IAAQvC,EAAG6E,WAOxBK,GAAU,SAASlF,EAAIv9B,GACrBA,EAAEyhB,IAAMoZ,EAAQoC,QAAQyF,WACxBN,GAAQ7E,EAAIv9B,EAAEyW,EAAE2nB,OAOlBuE,GAAW,SAASpF,EAAIqF,EAAIC,GAC9B,IAAIC,EAAMF,EAAGnhB,IAAMoZ,EAAQoC,QAAQyF,UAAaE,EAAGnsB,EAAE2nB,MAAQ,EACzD2E,EAAMF,EAAGphB,IAAMoZ,EAAQoC,QAAQyF,UAAaG,EAAGpsB,EAAE2nB,MAAQ,EACzD0E,EAAKC,GACLX,GAAQ7E,EAAIuF,GACZV,GAAQ7E,EAAIwF,KAGZX,GAAQ7E,EAAIwF,GACZX,GAAQ7E,EAAIuF,KAYdE,GAAO,SAASzF,EAAI0F,EAAKvtB,GAC3B,IAAItW,EAAIm+B,EAAGn+B,EACPjI,EAAMwnB,EAAOwN,SAASoR,EAAGvkC,EAAGukC,EAAGuB,GAAGoE,EAAGD,GACzC,GAAI9rC,EAAI8xB,cAAe,CACnB,IAAIxH,EAAItqB,EAAI2f,MAEZ,GAAI2K,EAAI8b,EAAG4F,IAAM/jC,EAAEqiB,EAAEA,GAAGiB,UAAYhN,EAAEgN,SAAWtjB,EAAEqiB,EAAEA,GAAG3K,QAAUpB,EAAEoB,MAChE,OAAO2K,EAGf,IAAIA,EAAI8b,EAAG4F,GAIX,OAHAxkB,EAAO8N,aAAa8Q,EAAGvkC,EAAGukC,EAAGuB,GAAGoE,EAAGD,EAAK,IAAI7kB,EAAQS,OAAO1F,EAAasI,IACxEriB,EAAEqiB,EAAEA,GAAK/L,EACT6nB,EAAG4F,KACI1hB,GAiBL2hB,GAAY,SAAS7F,EAAI57B,GAC3B,IAAI8f,EAAI,IAAI5C,EAAOrG,EAAoB7W,GACnC2d,EAAI,IAAIT,EAAO1F,EAAaxX,GAChC,OAAOqhC,GAAKzF,EAAI9b,EAAGnC,IAMjB+jB,GAAe,SAAS9F,EAAI9nB,GAC9B,IAAI6J,EAAI,IAAIT,EAAO3F,EAAazD,GAChC,OAAOutB,GAAKzF,EAAIje,EAAGA,IAOjBgkB,GAAQ,SAAS/F,EAAIv3B,GACvB,IAAIsZ,EAAI,IAAIT,EAAOtG,EAAcvS,GACjC,OAAOg9B,GAAKzF,EAAIje,EAAGA,IAmBjBikB,GAAkB,SAAShG,EAAIv9B,EAAG6jB,GACpC,IAAImZ,EAAKnC,EAAQoC,QACjB,GAAIj9B,EAAEyhB,IAAMub,EAAGwG,MACX5I,EAAS6I,SAAStF,EAAeZ,EAAIv9B,GAAI6jB,EAAW,QAEnD,GAAI7jB,EAAEyhB,IAAMub,EAAG0G,QAAS,CACzB,IAAIjG,EAAKU,EAAeZ,EAAIv9B,GAC5B46B,EAASqD,SAASR,EAAI5Z,EAAW,GACjC+W,EAASoD,SAASP,EAAIF,EAAG6E,SACzBE,GAAiB/E,EAAI,QAEpB7C,EAAW7W,IAAa1J,IAiB3BwpB,GAAiB,SAASpG,EAAIv9B,GAChC,IAAIg9B,EAAKnC,EAAQoC,QACbj9B,EAAEyhB,IAAMub,EAAGwG,OAEX9I,EAAuC,IAA5ByD,EAAeZ,EAAIv9B,GAAGw/B,GACjCx/B,EAAEyhB,EAAIub,EAAG0F,UACT1iC,EAAEyW,EAAE2nB,KAAOD,EAAeZ,EAAIv9B,GAAG89B,GAC1B99B,EAAEyhB,IAAMub,EAAG0G,UAClB9I,EAASqD,SAASE,EAAeZ,EAAIv9B,GAAI,GACzCA,EAAEyhB,EAAIub,EAAG4G,aAOXC,GAAqB,SAAStG,EAAIv9B,GACpC,IAAIg9B,EAAKnC,EAAQoC,QAEjB,OAAQj9B,EAAEyhB,GACN,KAAKub,EAAG8G,OACJ9jC,EAAEyhB,EAAKub,EAAG0F,UACV,MAEJ,KAAK1F,EAAG+G,OACJ/jC,EAAEyW,EAAE2nB,KAAOF,EAAaX,EAAIzC,EAASkJ,YAAa,EAAGhkC,EAAEyW,EAAE2nB,KAAM,GAC/Dp+B,EAAEyhB,EAAIub,EAAG4G,WACT,MAEJ,KAAK5G,EAAGiH,SAAU,CACd,IAAIve,EACJ0c,GAAQ7E,EAAIv9B,EAAEyW,EAAEytB,IAAI/sC,KAChB6I,EAAEyW,EAAEytB,IAAIC,KAAOnH,EAAG8G,QAClB1B,GAAQ7E,EAAIv9B,EAAEyW,EAAEytB,IAAIzrC,GACpBitB,EAAKoV,EAASsJ,cAEd1J,EAAW16B,EAAEyW,EAAEytB,IAAIC,KAAOnH,EAAG+G,QAC7Bre,EAAKoV,EAASuJ,aAElBrkC,EAAEyW,EAAE2nB,KAAOF,EAAaX,EAAI7X,EAAI,EAAG1lB,EAAEyW,EAAEytB,IAAIzrC,EAAGuH,EAAEyW,EAAEytB,IAAI/sC,KACtD6I,EAAEyhB,EAAIub,EAAG4G,WACT,MAEJ,KAAK5G,EAAG0G,QAAS,KAAK1G,EAAGwG,MACrBG,GAAepG,EAAIv9B,KAOzBskC,GAAgB,SAAS/G,EAAIO,EAAG93B,EAAGu+B,GAErC,OADA9E,EAAclC,GACPW,EAAaX,EAAIzC,EAAS0J,YAAa1G,EAAG93B,EAAGu+B,IAOlDE,GAAgB,SAASlH,EAAIv9B,EAAG8/B,GAClC,IAAI9C,EAAKnC,EAAQoC,QAEjB,OADA4G,GAAmBtG,EAAIv9B,GACfA,EAAEyhB,GACN,KAAKub,EAAG0H,KACJpH,EAASC,EAAIuC,EAAK,GAClB,MAEJ,KAAK9C,EAAG2H,OAAQ,KAAK3H,EAAG4H,MACpB1G,EAAaX,EAAIzC,EAAS0J,YAAa1E,EAAK9/B,EAAEyhB,IAAMub,EAAG4H,MAAO,GAC9D,MAEJ,KAAK5H,EAAG6H,GACJ9C,GAAWxE,EAAIuC,EAAK9/B,EAAEyW,EAAE2nB,MACxB,MAEJ,KAAKpB,EAAGI,MACJ2E,GAAWxE,EAAIuC,EAAKuD,GAAa9F,EAAIv9B,EAAEyW,EAAE4mB,OACzC,MAEJ,KAAKL,EAAGE,MACJ6E,GAAWxE,EAAIuC,EAAKsD,GAAU7F,EAAIv9B,EAAEyW,EAAE0mB,OACtC,MAEJ,KAAKH,EAAG4G,WAAY,CAChB,IAAInG,EAAKU,EAAeZ,EAAIv9B,GAC5B46B,EAASoD,SAASP,EAAIqC,GACtB,MAEJ,KAAK9C,EAAG0F,UACA5C,IAAQ9/B,EAAEyW,EAAE2nB,MACZF,EAAaX,EAAIzC,EAASgK,QAAShF,EAAK9/B,EAAEyW,EAAE2nB,KAAM,GACtD,MAEJ,QAEI,YADA1D,EAAW16B,EAAEyhB,IAAMub,EAAG+H,MAI9B/kC,EAAEyW,EAAE2nB,KAAO0B,EACX9/B,EAAEyhB,EAAIub,EAAG0F,WAMPsC,GAAmB,SAASzH,EAAIv9B,GAC9BA,EAAEyhB,IAAMoZ,EAAQoC,QAAQyF,YACxBJ,GAAiB/E,EAAI,GACrBkH,GAAclH,EAAIv9B,EAAGu9B,EAAG6E,QAAQ,KAQlC6C,GAAa,SAAS1H,EAAI7vB,GAC5B,KAAOA,IAASqtB,EAASrtB,EAAO2wB,EAAQd,EAAI7vB,GAExC,GADQkyB,EAAerC,EAAI7vB,GACrBiwB,SAAW7C,EAASiF,WAAY,OAAO,EAEjD,OAAO,GAULmF,GAAU,SAAS3H,EAAIv9B,EAAG8/B,GAC5B,IAAI9C,EAAKnC,EAAQoC,QAIjB,GAHAwH,GAAclH,EAAIv9B,EAAG8/B,GACjB9/B,EAAEyhB,IAAMub,EAAG+H,OACX/kC,EAAEvH,EAAIumC,EAAYzB,EAAIv9B,EAAEvH,EAAGuH,EAAEyW,EAAE2nB,OAC/BvB,EAAS78B,GAAI,CACb,IAAImlC,EACAtR,EAAMkH,EACNqK,EAAMrK,EACV,GAAIkK,GAAW1H,EAAIv9B,EAAEvH,IAAMwsC,GAAW1H,EAAIv9B,EAAEZ,GAAI,CAC5C,IAAIimC,EAAMrlC,EAAEyhB,IAAMub,EAAG+H,KAAQhK,EAAUoE,EAAU5B,GACjD1J,EAAMyQ,GAAc/G,EAAIuC,EAAK,EAAG,GAChCsF,EAAMd,GAAc/G,EAAIuC,EAAK,EAAG,GAChCS,EAAiBhD,EAAI8H,GAEzBF,EAAQ1F,EAAclC,GACtB6C,EAAa7C,EAAIv9B,EAAEZ,EAAG+lC,EAAOrF,EAAKjM,GAClCuM,EAAa7C,EAAIv9B,EAAEvH,EAAG0sC,EAAOrF,EAAKsF,GAEtCplC,EAAEZ,EAAIY,EAAEvH,EAAIsiC,EACZ/6B,EAAEyW,EAAE2nB,KAAO0B,EACX9/B,EAAEyhB,EAAIub,EAAG0F,WAOP4C,GAAmB,SAAS/H,EAAIv9B,GAClC6jC,GAAmBtG,EAAIv9B,GACvByiC,GAAQlF,EAAIv9B,GACZsiC,GAAiB/E,EAAI,GACrB2H,GAAQ3H,EAAIv9B,EAAGu9B,EAAG6E,QAAU,IAQ1BmD,GAAkB,SAAShI,EAAIv9B,GAEjC,GADA6jC,GAAmBtG,EAAIv9B,GACnBA,EAAEyhB,IAAMoZ,EAAQoC,QAAQyF,UAAW,CACnC,IAAK7F,EAAS78B,GACV,OAAOA,EAAEyW,EAAE2nB,KACf,GAAIp+B,EAAEyW,EAAE2nB,MAAQb,EAAGiF,QAEf,OADA0C,GAAQ3H,EAAIv9B,EAAGA,EAAEyW,EAAE2nB,MACZp+B,EAAEyW,EAAE2nB,KAInB,OADAkH,GAAiB/H,EAAIv9B,GACdA,EAAEyW,EAAE2nB,MAgBToH,GAAe,SAASjI,EAAIv9B,GAC1B68B,EAAS78B,GACTulC,GAAgBhI,EAAIv9B,GAEpB6jC,GAAmBtG,EAAIv9B,IASzBylC,GAAc,SAASlI,EAAIv9B,GAC7B,IAAIg9B,EAAKnC,EAAQoC,QACbyI,GAAK,EAET,OADAF,GAAajI,EAAIv9B,GACTA,EAAEyhB,GACN,KAAKub,EAAG4H,MAAO5kC,EAAEyW,EAAE2nB,KAAOkF,GAAM/F,GAAI,GAAOmI,GAAK,EAAM,MACtD,KAAK1I,EAAG2H,OAAQ3kC,EAAEyW,EAAE2nB,KAAOkF,GAAM/F,GAAI,GAAQmI,GAAK,EAAM,MACxD,KAAK1I,EAAG0H,KAAM1kC,EAAEyW,EAAE2nB,KAnQb,SAASb,GAClB,IAAI7nB,EAAI,IAAImJ,EAAOvG,EAAU,MACzBmJ,EAAI,IAAI5C,EAAOlG,EAAY4kB,EAAGuB,GAAGoE,GAErC,OAAOF,GAAKzF,EAAI9b,EAAG/L,GA+PUiwB,CAAKpI,GAAKmI,GAAK,EAAM,MAC9C,KAAK1I,EAAGE,MAAOl9B,EAAEyW,EAAE2nB,KAAOgF,GAAU7F,EAAIv9B,EAAEyW,EAAE0mB,MAAOuI,GAAK,EAAM,MAC9D,KAAK1I,EAAGI,MAAOp9B,EAAEyW,EAAE2nB,KAAOiF,GAAa9F,EAAIv9B,EAAEyW,EAAE4mB,MAAOqI,GAAK,EAAM,MACjE,KAAK1I,EAAG6H,GAAIa,GAAK,EAIrB,OAAIA,IACA1lC,EAAEyhB,EAAIub,EAAG6H,GACL7kC,EAAEyW,EAAE2nB,MAAQxD,EAASgL,YACdhL,EAASiL,MAAM7lC,EAAEyW,EAAE2nB,MAI3BmH,GAAgBhI,EAAIv9B,IA+CzB8lC,GAAkB,SAASvI,EAAIv9B,GACjC,IAAIy9B,EAAKmC,EAAerC,EAAIv9B,EAAEyW,EAAE2nB,MAChC1D,EAAWE,EAAS+E,UAAUlC,EAAGE,SAAWF,EAAGE,SAAW7C,EAASiF,YAActC,EAAGE,SAAW7C,EAASoF,SACxGtF,EAASoD,SAASP,GAAMA,EAAI,IAS1BsI,GAAa,SAASxI,EAAIv9B,EAAGy2B,GAC/B,GAAIz2B,EAAEyhB,IAAMoZ,EAAQoC,QAAQ2G,WAAY,CACpC,IAAIoC,EAAK7H,EAAeZ,EAAIv9B,GAC5B,GAAIgmC,EAAGrI,SAAW7C,EAASmL,OAEvB,OADA1I,EAAGE,KACI8B,EAAShC,EAAIzC,EAASoF,QAAS8F,EAAGrT,EAAG,GAAI8D,GAMxD,OAFAuO,GAAiBzH,EAAIv9B,GACrByiC,GAAQlF,EAAIv9B,GACLu/B,EAAShC,EAAIzC,EAASiF,WAAYnF,EAASoF,OAAQhgC,EAAEyW,EAAE2nB,KAAM3H,IAMlEyP,GAAgB,SAAS3I,EAAIv9B,GAC/B,IACIy9B,EADAT,EAAKnC,EAAQoC,QAGjB,OADA4G,GAAmBtG,EAAIv9B,GACfA,EAAEyhB,GACN,KAAKub,EAAG+H,KACJe,GAAgBvI,EAAIv9B,GACpBy9B,EAAKz9B,EAAEyW,EAAE2nB,KACT,MAEJ,KAAKpB,EAAG6H,GAAI,KAAK7H,EAAGI,MAAO,KAAKJ,EAAGE,MAAO,KAAKF,EAAG4H,MAC9CnH,EAAK1C,EACL,MAEJ,QACI0C,EAAKsI,GAAWxI,EAAIv9B,EAAG,GAI/BA,EAAEZ,EAAI4/B,EAAYzB,EAAIv9B,EAAEZ,EAAGq+B,GAC3B8C,EAAiBhD,EAAIv9B,EAAEvH,GACvBuH,EAAEvH,EAAIsiC,GAMJoL,GAAiB,SAAS5I,EAAIv9B,GAChC,IACIy9B,EADAT,EAAKnC,EAAQoC,QAGjB,OADA4G,GAAmBtG,EAAIv9B,GACfA,EAAEyhB,GACN,KAAKub,EAAG+H,KACJtH,EAAKz9B,EAAEyW,EAAE2nB,KACT,MAEJ,KAAKpB,EAAG0H,KAAM,KAAK1H,EAAG2H,OAClBlH,EAAK1C,EACL,MAEJ,QACI0C,EAAKsI,GAAWxI,EAAIv9B,EAAG,GAI/BA,EAAEvH,EAAIumC,EAAYzB,EAAIv9B,EAAEvH,EAAGglC,GAC3B8C,EAAiBhD,EAAIv9B,EAAEZ,GACvBY,EAAEZ,EAAI27B,GAuEJqL,GAAe,SAAS1gB,EAAIkd,EAAIC,GAClC,IACIwD,EAAIC,EADJtJ,EAAKnC,EAAQoC,QAEjB,KAAMoJ,EAAKvJ,EAAU8F,GAAI,OAAY0D,EAAKxJ,EAAU+F,GAAI,MAnB5C,SAASnd,EAAI2gB,EAAIC,GAC7B,OAAQ5gB,GACJ,KAAKrL,EAAY,KAAKE,EAAW,KAAKC,EACtC,KAAKS,EAAW,KAAKC,EAAW,KAAKZ,EACjC,OAA8B,IAAtBoE,EAAI2E,UAAUgjB,KAAuC,IAAtB3nB,EAAI2E,UAAUijB,GAEzD,KAAK7rB,EAAW,KAAKE,EAAY,KAAKG,EAClC,OAAqB,IAAbwrB,EAAGxvB,MACf,QAAS,OAAO,GAW+CyvB,CAAQ7gB,EAAI2gB,EAAIC,GAC/E,OAAO,EACX,IAAIlgB,EAAM,IAAIvH,EAEd,GADAT,EAAQuH,WAAW,KAAMD,EAAI2gB,EAAIC,EAAIlgB,GACjCA,EAAI6C,cACJ2Z,EAAGnhB,EAAIub,EAAGE,MACV0F,EAAGnsB,EAAE0mB,KAAO/W,EAAItP,UAEf,CACD,IAAInV,EAAIykB,EAAItP,MACZ,GAAIyjB,MAAM54B,IAAY,IAANA,EACZ,OAAO,EACXihC,EAAGnhB,EAAIub,EAAGI,MACVwF,EAAGnsB,EAAE4mB,KAAO17B,EAEhB,OAAO,GAyBL6kC,GAAgB,SAASjJ,EAAI7X,EAAIkd,EAAIC,EAAInpC,GAC3C,IAAI+sC,EAAMhB,GAAYlI,EAAIsF,GACtB6D,EAAMjB,GAAYlI,EAAIqF,GAC1BD,GAASpF,EAAIqF,EAAIC,GACjBD,EAAGnsB,EAAE2nB,KAAOF,EAAaX,EAAI7X,EAAI,EAAGghB,EAAKD,GACzC7D,EAAGnhB,EAAIoZ,EAAQoC,QAAQ2G,WACvB+C,GAAapJ,EAAI7jC,IA4JfitC,GAAe,SAASpJ,EAAI7jC,GAC9B6jC,EAAGn+B,EAAEuhC,SAASpD,EAAGE,GAAK,GAAK/jC,GA0B/Bgd,EAAOC,QAAQqkB,OAAqBA,EACpCtkB,EAAOC,QAAQokB,QAAqBA,EACpCrkB,EAAOC,QAAQ4lB,MAAqBA,EACpC7lB,EAAOC,QAAQwnB,eAAqBA,EACpCznB,EAAOC,QAAQurB,gBAAqBA,GACpCxrB,EAAOC,QAAQ8pB,UAAqBA,EACpC/pB,EAAOC,QAAQunB,aAAqBA,EACpCxnB,EAAOC,QAAQ0qB,aAAqBA,GACpC3qB,EAAOC,QAAQ0oB,cAAqBA,GACpC3oB,EAAOC,QAAQorB,WAAqBA,GACpCrrB,EAAOC,QAAQqoB,YAAqBA,EACpCtoB,EAAOC,QAAQktB,mBAAqBA,GACpCntB,EAAOC,QAAQ8uB,YAAqBA,GACpC/uB,EAAOC,QAAQ4uB,gBAAqBA,GACpC7uB,EAAOC,QAAQiwB,kBAneW,SAASrJ,EAAIv9B,IAC/BA,EAAEyhB,IAAMoZ,EAAQoC,QAAQ8G,QAAUlH,EAAS78B,KAC3CulC,GAAgBhI,EAAIv9B,IAke5B0W,EAAOC,QAAQ2uB,iBAAqBA,GACpC5uB,EAAOC,QAAQ6uB,aAAqBA,GACpC9uB,EAAOC,QAAQgwB,aAAqBA,GACpCjwB,EAAOC,QAAQ8oB,cAAqBA,EACpC/oB,EAAOC,QAAQwvB,eAAqBA,GACpCzvB,EAAOC,QAAQuvB,cAAqBA,GACpCxvB,EAAOC,QAAQkwB,aA3RM,SAAStJ,EAAI9kC,EAAGgpB,GACjC,IAAIub,EAAKnC,EAAQoC,QACjBvC,GAAYmC,EAASpkC,KAAOoiC,EAAQiM,UAAUruC,EAAEgpB,IAAMhpB,EAAEgpB,IAAMub,EAAG+G,SACjEtrC,EAAEge,EAAEytB,IAAIzrC,EAAIA,EAAEge,EAAE2nB,KAChB3lC,EAAEge,EAAEytB,IAAI/sC,IAAMsuC,GAAYlI,EAAI9b,GAC9BhpB,EAAEge,EAAEytB,IAAIC,GAAM1rC,EAAEgpB,IAAMub,EAAG+G,OAAU/G,EAAG+G,OAAS/G,EAAG8G,OAClDrrC,EAAEgpB,EAAIub,EAAGiH,UAsRbvtB,EAAOC,QAAQowB,WA3II,SAASxJ,EAAI7X,EAAIhQ,GAChC,OAAQgQ,GACJ,KAAKsV,EAAOoB,QACR8J,GAAc3I,EAAI7nB,GAClB,MAEJ,KAAKslB,EAAOqB,OACR8J,GAAe5I,EAAI7nB,GACnB,MAEJ,KAAKslB,EAAOa,WACRyJ,GAAiB/H,EAAI7nB,GACrB,MAEJ,KAAKslB,EAAOC,QAAS,KAAKD,EAAOE,QACjC,KAAKF,EAAOG,QAAS,KAAKH,EAAOM,QAAS,KAAKN,EAAOO,SACtD,KAAKP,EAAOI,QAAS,KAAKJ,EAAOK,QACjC,KAAKL,EAAOQ,SAAU,KAAKR,EAAOS,QAAS,KAAKT,EAAOU,SACvD,KAAKV,EAAOW,QAAS,KAAKX,EAAOY,QACxBkB,EAAUpnB,GAAG,IACd+vB,GAAYlI,EAAI7nB,GAEpB,MAEJ,QACI+vB,GAAYlI,EAAI7nB,KAmH5BgB,EAAOC,QAAQysB,UAAqBA,GACpC1sB,EAAOC,QAAQwoB,UAAqBA,EACpCzoB,EAAOC,QAAQqwB,YAthCK,SAASzJ,EAAI9kC,GAC7B,OAAO+nC,EAAejD,EAAI4B,EAAU5B,GAAK9kC,IAshC7Cie,EAAOC,QAAQ2mB,SAAqBA,EACpC5mB,EAAOC,QAAQ0sB,aAAqBA,GACpC3sB,EAAOC,QAAQswB,gBAz5BS,SAAS1J,EAAI7vB,EAAM1X,GAEvC,IADAA,IACO0X,IAASqtB,EAASrtB,EAAO2wB,EAAQd,EAAI7vB,GAAO,CAC/C,IAAIw5B,EAAM3J,EAAGn+B,EAAEnC,KAAKyQ,GACpBgtB,EAAWwM,EAAIvJ,SAAW7C,EAASwE,SAAqB,IAAV4H,EAAIpJ,GAAWoJ,EAAIpJ,GAAK9nC,IACtE4kC,EAASoD,SAASkJ,EAAKlxC,KAq5B/B0gB,EAAOC,QAAQ6pB,eAAqBA,EACpC9pB,EAAOC,QAAQ4pB,iBAAqBA,EACpC7pB,EAAOC,QAAQwwB,YA/GK,SAAS5J,EAAI7X,EAAIkd,EAAIC,EAAInpC,GACzC,IAAIsjC,EAAKnC,EAAQoC,QACjB,OAAQvX,GACJ,KAAKsV,EAAOoB,QACR1B,EAAWkI,EAAGnqC,IAAMsiC,GACpB8I,GAAmBtG,EAAIsF,GACvBA,EAAGzjC,EAAI4/B,EAAYzB,EAAIsF,EAAGzjC,EAAGwjC,EAAGxjC,GAChCwjC,EAAG5oC,GAAG6oC,GACN,MAEJ,KAAK7H,EAAOqB,OACR3B,EAAWkI,EAAGxjC,IAAM27B,GACpB8I,GAAmBtG,EAAIsF,GACvBA,EAAGpqC,EAAIumC,EAAYzB,EAAIsF,EAAGpqC,EAAGmqC,EAAGnqC,GAChCmqC,EAAG5oC,GAAG6oC,GACN,MAEJ,KAAK7H,EAAOa,WAAY,CACpB2J,GAAajI,EAAIsF,GACjB,IAAIqE,EAAM/I,EAAeZ,EAAIsF,GACzBA,EAAGphB,IAAMub,EAAG4G,YAAcsD,EAAIvJ,SAAW7C,EAASsM,WAClD1M,EAAWkI,EAAGnsB,EAAE2nB,OAAS8I,EAAIvU,EAAI,GACjC8P,GAAQlF,EAAIqF,GACZhI,EAASqD,SAASiJ,EAAKtE,EAAGnsB,EAAE2nB,MAC5BwE,EAAGnhB,EAAIub,EAAG4G,WAAYhB,EAAGnsB,EAAE2nB,KAAOyE,EAAGpsB,EAAE2nB,OAGvCkH,GAAiB/H,EAAIsF,GACrB2D,GAAcjJ,EAAIzC,EAASsM,UAAWxE,EAAIC,EAAInpC,IAElD,MAEJ,KAAKshC,EAAOC,QAAS,KAAKD,EAAOE,QAAS,KAAKF,EAAOG,QAAS,KAAKH,EAAOM,QAC3E,KAAKN,EAAOO,SAAU,KAAKP,EAAOI,QAAS,KAAKJ,EAAOK,QACvD,KAAKL,EAAOQ,SAAU,KAAKR,EAAOS,QAAS,KAAKT,EAAOU,SACvD,KAAKV,EAAOW,QAAS,KAAKX,EAAOY,QACxBwK,GAAa1gB,EAAKtL,EAAWwoB,EAAIC,IAClC2D,GAAcjJ,EAAI7X,EAAKoV,EAASuM,OAAQzE,EAAIC,EAAInpC,GACpD,MAEJ,KAAKshC,EAAOc,OAAQ,KAAKd,EAAOe,OAAQ,KAAKf,EAAOgB,OACpD,KAAKhB,EAAOiB,OAAQ,KAAKjB,EAAOkB,OAAQ,KAAKlB,EAAOmB,QAxI3C,SAASoB,EAAI+J,EAAK1E,EAAIC,GACnC,IAEI6D,EAFA1J,EAAKnC,EAAQoC,QAGb2F,EAAGnhB,IAAMub,EAAG6H,GACZ6B,EAAM9L,EAASiL,MAAMjD,EAAGnsB,EAAE2nB,OAE1B1D,EAAWkI,EAAGnhB,IAAMub,EAAG0F,WACvBgE,EAAM9D,EAAGnsB,EAAE2nB,MAGf,IAAIqI,EAAMhB,GAAYlI,EAAIsF,GAE1B,OADAF,GAASpF,EAAIqF,EAAIC,GACTyE,GACJ,KAAKtM,EAAOiB,OACR2G,EAAGnsB,EAAE2nB,KAAOmB,EAAShC,EAAIzC,EAASyM,MAAO,EAAGb,EAAKD,GACjD,MAEJ,KAAKzL,EAAOkB,OAAQ,KAAKlB,EAAOmB,OAAQ,CAEpC,IAAIzW,EAAM4hB,EAAMtM,EAAOiB,OAAUnB,EAASyM,MAC1C3E,EAAGnsB,EAAE2nB,KAAOmB,EAAShC,EAAI7X,EAAI,EAAG+gB,EAAKC,GACrC,MAEJ,QAAS,CACL,IAAIhhB,EAAM4hB,EAAMtM,EAAOc,OAAUhB,EAASyM,MAC1C3E,EAAGnsB,EAAE2nB,KAAOmB,EAAShC,EAAI7X,EAAI,EAAGghB,EAAKD,GACrC,OAGR7D,EAAGnhB,EAAIub,EAAG+H,KA2GFyC,CAASjK,EAAI7X,EAAIkd,EAAIC,GAK7B,OAAOD,GAiEXlsB,EAAOC,QAAQ8wB,YA3KK,SAASlK,EAAI7X,EAAI1lB,EAAGtG,GACpC,IAAIguC,EAAK,IAAI7M,EAAQ8M,QAKrB,OAJAD,EAAGjmB,EAAIoZ,EAAQoC,QAAQC,MACvBwK,EAAGjxB,EAAE0mB,KAAOuK,EAAGjxB,EAAE4mB,KAAOqK,EAAGjxB,EAAE2nB,KAAO,EACpCsJ,EAAGjvC,EAAIsiC,EACP2M,EAAGtoC,EAAI27B,EACCrV,GACJ,KAAK6W,EAAMC,UAAW,KAAKD,EAAME,SAC7B,GAAI2J,GAAa1gB,EAAKtK,EAAWpb,EAAG0nC,GAChC,MAER,KAAKnL,EAAMI,SA9EE,SAASY,EAAI7X,EAAI1lB,EAAGtG,GACrC,IAAI+b,EAAI8vB,GAAgBhI,EAAIv9B,GAC5ByiC,GAAQlF,EAAIv9B,GACZA,EAAEyW,EAAE2nB,KAAOF,EAAaX,EAAI7X,EAAI,EAAGjQ,EAAG,GACtCzV,EAAEyhB,EAAIoZ,EAAQoC,QAAQ2G,WACtB+C,GAAapJ,EAAI7jC,GA0ETkuC,CAAarK,EAAI7X,EAAKoV,EAAS+M,OAAQ7nC,EAAGtG,GAC1C,MACJ,KAAK6iC,EAAMG,SA5KH,SAASa,EAAIv9B,GACzB,IAAIg9B,EAAKnC,EAAQoC,QAEjB,OADA4G,GAAmBtG,EAAIv9B,GACfA,EAAEyhB,GACN,KAAKub,EAAG0H,KAAM,KAAK1H,EAAG2H,OAClB3kC,EAAEyhB,EAAIub,EAAG4H,MACT,MAEJ,KAAK5H,EAAG6H,GAAI,KAAK7H,EAAGI,MAAO,KAAKJ,EAAGE,MAAO,KAAKF,EAAG4H,MAC9C5kC,EAAEyhB,EAAIub,EAAG2H,OACT,MAEJ,KAAK3H,EAAG+H,KACJe,GAAgBvI,EAAIv9B,GACpB,MAEJ,KAAKg9B,EAAG4G,WACR,KAAK5G,EAAG0F,UACJsC,GAAiBzH,EAAIv9B,GACrByiC,GAAQlF,EAAIv9B,GACZA,EAAEyW,EAAE2nB,KAAOF,EAAaX,EAAIzC,EAASmL,OAAQ,EAAGjmC,EAAEyW,EAAE2nB,KAAM,GAC1Dp+B,EAAEyhB,EAAIub,EAAG4G,WAKjB,CAAE,IAAIpjB,EAAOxgB,EAAEZ,EAAGY,EAAEZ,EAAIY,EAAEvH,EAAGuH,EAAEvH,EAAI+nB,EACnC2f,EAAa5C,EAAIv9B,EAAEZ,GACnB+gC,EAAa5C,EAAIv9B,EAAEvH,GAgJKqvC,CAAQvK,EAAIv9B,KA8JxC0W,EAAOC,QAAQ2rB,iBAAqBA,GACpC5rB,EAAOC,QAAQoxB,SAxhCE,SAASxK,EAAIyK,EAAOC,GACjC/J,EAAaX,EAAIzC,EAASoN,UAAWF,EAAOC,EAAO,EAAG,IAwhC1DvxB,EAAOC,QAAQwxB,UA5aG,SAAS5K,EAAIv9B,EAAGijC,GAC9BsC,GAAgBhI,EAAIv9B,GACpB,IAAIooC,EAAOpoC,EAAEyW,EAAE2nB,KACfqE,GAAQlF,EAAIv9B,GACZA,EAAEyW,EAAE2nB,KAAOb,EAAG6E,QACdpiC,EAAEyhB,EAAIoZ,EAAQoC,QAAQyF,UACtBJ,GAAiB/E,EAAI,GACrBW,EAAaX,EAAIzC,EAASuN,QAASroC,EAAEyW,EAAE2nB,KAAMgK,EAAM3C,GAAYlI,EAAI0F,IACnER,GAAQlF,EAAI0F,IAqahBvsB,EAAOC,QAAQ2xB,aApDM,SAAS/K,EAAI5zB,EAAM4+B,EAAQC,GAC5C,IAAIvyB,GAAMsyB,EAAS,GAAG3N,EAAS6N,kBAAoB,EAC/CziC,EAAKwiC,IAAYruB,EAAe,EAAIquB,EACxC9N,EAAuB,IAAZ8N,GAAiBA,GAAW5N,EAAS6N,mBAC5CxyB,GAAK2kB,EAASwG,SACdlD,EAAaX,EAAIzC,EAAS4N,WAAY/+B,EAAM3D,EAAGiQ,GAC1CA,GAAK2kB,EAASgH,WACnB1D,EAAaX,EAAIzC,EAAS4N,WAAY/+B,EAAM3D,EAAG,GAC/C27B,GAAapE,EAAItnB,IAGjB0kB,EAAKkE,iBAAiBtB,EAAGuB,GAAI3oB,EAAa,wBAAwB,IACtEonB,EAAG6E,QAAUz4B,EAAO,GAyCxB+M,EAAOC,QAAQgyB,gBAtsBS,SAASpL,EAAIv9B,GACjCujC,GAAgBhG,EAAIv9B,EAAGma,IAssB3BzD,EAAOC,QAAQgtB,eAAqBA,GACpCjtB,EAAOC,QAAQ4sB,gBAAqBA,GACpC7sB,EAAOC,QAAQiyB,cA5cO,SAASrL,EAAIsL,EAAIC,GACnC,IAAI9L,EAAKnC,EAAQoC,QACjB,OAAQ4L,EAAGpnB,GACP,KAAKub,EAAG8G,OAGJ,OAFArB,GAAQlF,EAAIuL,QACZ5D,GAAQ3H,EAAIuL,EAAID,EAAGpyB,EAAE2nB,MAGzB,KAAKpB,EAAG+G,OAAQ,CACZ,IAAI/jC,EAAIulC,GAAgBhI,EAAIuL,GAC5B5K,EAAaX,EAAIzC,EAASiO,YAAa/oC,EAAG6oC,EAAGpyB,EAAE2nB,KAAM,GACrD,MAEJ,KAAKpB,EAAGiH,SAAU,CACd,IAAIve,EAAMmjB,EAAGpyB,EAAEytB,IAAIC,KAAOnH,EAAG8G,OAAUhJ,EAASkO,YAAclO,EAASmO,YACnEjpC,EAAIylC,GAAYlI,EAAIuL,GACxB5K,EAAaX,EAAI7X,EAAImjB,EAAGpyB,EAAEytB,IAAIzrC,EAAGowC,EAAGpyB,EAAEytB,IAAI/sC,IAAK6I,GAC/C,OAGRyiC,GAAQlF,EAAIuL,IAybhBpyB,EAAOC,QAAQuyB,aA1wBM,SAAS3L,EAAI3vB,GAC9B,IAAI0R,EAAI,IAAIT,EAAO5F,EAAarL,GAChC,OAAOo1B,GAAKzF,EAAIje,EAAGA,iCChevB,MAAM,OACF7C,EAAM,cACN7D,EAAa,YACbF,EAAW,UACXgE,EAAS,UACTlB,EAAS,eACT2K,EAAc,WACdY,EAAU,UACVK,EAAS,aACT8I,EAAY,WACZ12B,EAAU,WACVmvB,EAAU,gBACVwgB,EAAe,cACfC,EAAa,QACb/oB,EAAO,gBACP2K,EAAe,iBACf/J,EAAgB,gBAChBtD,EAAe,eACfkO,EAAc,cACdE,EAAa,WACbsd,EAAU,WACV7b,EAAU,aACVsB,EAAY,SACZhL,EAAQ,iBACRvH,EAAgB,UAChBwT,EAAS,UACTuZ,GACA,EAAQ,OACN,cACF9S,EAAa,eACbM,EAAc,YACdjZ,EAAW,WACX6T,GACA,EAAQ,MAEN6X,EAAQ,SAASvwC,GACnB,IAAIwwC,EAAK1a,EAAa91B,EAAG,GAEzB,OADAw9B,EAAcx9B,EAAGwwC,EAAI,EAAG,mBACjBA,GAGLC,EAAY,SAASzwC,EAAGwwC,EAAIE,GAC9B,IAAKvjB,EAAeqjB,EAAIE,GAEpB,OADA/rB,EAAgB3kB,EAAG,iCACX,EAGZ,GAAIw0B,EAAWgc,KAAQ/sB,GAA6B,IAAnBjjB,EAAWgwC,GAExC,OADA7rB,EAAgB3kB,EAAG,iCACX,EAGZ+2B,EAAU/2B,EAAGwwC,EAAIE,GACjB,IAAIllB,EAAS6kB,EAAWG,EAAIxwC,EAAG0wC,GAC/B,GAAIllB,IAAW/H,GAAU+H,IAAW9H,EAAW,CAC3C,IAAIitB,EAAOnwC,EAAWgwC,GACtB,OAAKrjB,EAAentB,EAAG2wC,EAAO,IAM9B5Z,EAAUyZ,EAAKxwC,EAAG2wC,GACXA,IANHtpB,EAAQmpB,EAAIG,GACZhsB,EAAgB3kB,EAAG,+BACX,GAOZ,OADA+2B,EAAUyZ,EAAIxwC,EAAG,IACT,GAkBV4wC,EAAe,SAAS5wC,GAC1B,IAAIwwC,EAAK1a,EAAa91B,EAAGujB,EAAiB,IACtC9G,EAAIg0B,EAAUzwC,EAAGwwC,EAAIhwC,EAAWR,IACpC,OAAIyc,EAAI,GACAqO,EAAS9qB,GAAI,KAAO0f,IACpBgZ,EAAW14B,EAAG,GACd2vB,EAAW3vB,GAAI,GACf+tB,EAAW/tB,EAAG,IAGXouB,EAAUpuB,IAGdyc,GAGLo0B,EAAgB,SAAS7wC,GAC3B89B,EAAe99B,EAAG,EAAG4f,GACrB,IAAIkxB,EAAKV,EAAcpwC,GAGvB,OAFA+yB,EAAc/yB,EAAG,GACjB+2B,EAAU/2B,EAAG8wC,EAAI,GACV,GAkDLC,EAAW,CACb,OAAeF,EACf,YAZmB,SAAS7wC,GAE5B,OADAgyB,EAAgBhyB,EAAGmwC,EAAgBnwC,IAC5B,GAWP,OAxFkB,SAASA,GAC3B,IAAIwwC,EAAKD,EAAMvwC,GACXyc,EAAIg0B,EAAUzwC,EAAGwwC,EAAIhwC,EAAWR,GAAK,GACzC,OAAIyc,EAAI,GACJuV,EAAgBhyB,EAAG,GACnB2vB,EAAW3vB,GAAI,GACR,IAEPgyB,EAAgBhyB,EAAG,GACnB2vB,EAAW3vB,IAAKyc,EAAI,IACbA,EAAI,IA+Ef,QATmB,SAASzc,GAE5B,OADAgyB,EAAgBhyB,EAAG6yB,EAAe7yB,IAC3B,GAQP,OA1CkB,SAASA,GAC3B,IAAIwwC,EAAKD,EAAMvwC,GACf,GAAIA,IAAMwwC,EAAI7rB,EAAgB3kB,EAAG,gBAE7B,OAAQw0B,EAAWgc,IACf,KAAK9sB,EACDiB,EAAgB3kB,EAAG,aACnB,MACJ,KAAKyjB,EAAQ,CACT,IAAIsU,EAAK,IAAIvV,EACT0U,EAAasZ,EAAI,EAAGzY,GAAM,EAC1BpT,EAAgB3kB,EAAG,UACK,IAAnBQ,EAAWgwC,GAChB7rB,EAAgB3kB,EAAG,QAEnB2kB,EAAgB3kB,EAAG,aACvB,MAEJ,QACI2kB,EAAgB3kB,EAAG,QAK/B,OAAO,GAmBP,KArDgB,SAASA,GAGzB,OAFA6wC,EAAc7wC,GACdioB,EAAiBjoB,EAAG4wC,EAAc,GAC3B,GAmDP,MAhDe,SAAS5wC,GACxB,OAAOswC,EAAUtwC,EAAGQ,EAAWR,MAuDnC0d,EAAOC,QAAQqzB,kBALW,SAAShxC,GAE/B,OADA6kB,EAAY7kB,EAAG+wC,GACR,gCCvKX,MAAM,aACFjwB,EAAY,cACZC,EAAa,aACbC,EAAY,YACZC,EAAW,kBACXT,EAAiB,cACjBZ,EAAa,SACbN,EAAQ,WACRK,EAAU,cACVE,EAAa,UACb2C,EAAS,SACT0K,EAAQ,eACRC,EAAc,YACd8jB,EAAW,iBACXC,EAAgB,gBAChBC,EAAe,YACfla,EAAW,aACXma,EAAY,iBACZtiB,EAAgB,aAChBoI,EAAY,eACZ9H,EAAc,iBACdG,EAAgB,WAChBI,EAAU,gBACVE,EAAe,eACfE,EAAc,gBACdM,EAAe,aACfO,EAAY,aACZY,EAAY,UACZO,EAAS,QACT1K,EAAO,gBACP2K,EAAe,gBACfC,EAAe,gBACfvN,EAAe,sBACf4N,EAAqB,gBACrB3N,EAAe,YACf+N,EAAW,eACXE,EAAc,cACdG,EAAa,YACbK,EAAW,YACXS,EAAW,WACXlM,EAAU,aACV/C,EAAY,YACZysB,EAAW,aACXC,EAAY,iBACZpd,EAAgB,WAChBjN,EAAU,eACVoN,EAAc,iBACdE,EAAgB,eAChBh0B,EAAc,YACdk1B,EAAW,aACXtL,EAAY,aACZ2L,EAAY,eACZE,GAAc,SACdlL,GAAQ,cACRqL,GAAa,gBACbE,GAAe,UACfU,IACA,EAAQ,OACN,cACFyG,GAAa,cACbvF,GAAa,cACb0F,GAAa,kBACbnE,GAAiB,iBACjBN,GAAgB,eAChB4E,GAAc,WACd1F,GAAU,gBACVqC,GAAe,YACf5V,GAAW,gBACX4Z,GAAe,eACfpF,GAAc,eACdgG,GAAc,qBACdS,IACA,EAAQ,MACN79B,GAAS,EAAQ,OACjB,kBACFoa,GAAiB,aACjBc,IACA,EAAQ,MAONo0B,GAAa,SAASvxC,EAAGs/B,EAAI32B,GAC3B3I,IAAMs/B,GAAOnS,EAAemS,EAAI32B,IAChCyvB,GAAWp4B,EAAGmd,GAAa,kBAAkB,KA+C/Cq0B,GAAY,SAASxxC,GACvB,OAAI4wB,EAAa5wB,EAAG,GACT,CACHk4B,IAAK,EACLuZ,OAAQ3b,EAAa91B,EAAG,IAGrB,CACHk4B,IAAK,EACLuZ,OAAQzxC,IAUd0xC,GAAW,SAAS1xC,EAAGyoB,EAAG/L,GAC5BkW,EAAe5yB,EAAG0c,GAClBkI,EAAa5kB,GAAI,EAAGyoB,IAGlBkpB,GAAW,SAAS3xC,EAAGyoB,EAAG/L,GAC5BgI,EAAgB1kB,EAAG0c,GACnBkI,EAAa5kB,GAAI,EAAGyoB,IAGlBmpB,GAAW,SAAS5xC,EAAGyoB,EAAG/L,GAC5BsV,EAAgBhyB,EAAG0c,GACnBkI,EAAa5kB,GAAI,EAAGyoB,IAWlBopB,GAAmB,SAAS7xC,EAAGs/B,EAAIn9B,GACjCnC,GAAKs/B,EACL3X,EAAW3nB,GAAI,EAAG,GAElB+2B,GAAUuI,EAAIt/B,EAAG,GACrB4kB,EAAa5kB,GAAI,EAAGmC,IA6GlB2vC,GAAa,SAAS9xC,EAAGywB,GAC3B,IAAI9nB,EAAI6wB,GAAkBx5B,EAAG,GAC7B89B,GAAe99B,EAAG,EAAG4f,GACrB,IAAInO,EAAOgf,EAAMrB,EAAepvB,EAAG,EAAG2I,GAAK0rB,EAAer0B,EAAG,EAAG2I,GAChE,OAAa,OAAT8I,EAAsB,GAC1BmhB,EAAe5yB,EAAGyR,GAClBke,EAAW3vB,IAAKywB,EAAI,IACbA,EAAM,IAiBXshB,GAAa,SAAS/xC,EAAGgyC,EAAMC,GACjC,IAAI5W,EAAM7B,GAAkBx5B,EAAGiyC,GAG/B,OAFAnU,GAAe99B,EAAGgyC,EAAMpyB,GACxB4d,GAAcx9B,EAAqC,OAAjCovB,EAAepvB,EAAGgyC,EAAM3W,GAAgB4W,EAAQ,yBAC3D5W,GAsBL6W,GAAU/0B,GAAa,aAAa,GAEpCg1B,GAAY,CAAC,OAAQ,SAAU,OAAQ,QAAS,aAAa3yC,KAAIwH,GAAKmW,GAAanW,KAMnForC,GAAQ,SAASpyC,EAAG+3B,GACtB3E,EAAYpzB,EAAGwgB,EAAmB0xB,IAClC,IACIxc,EADYM,GAAeh2B,GAAI,GACbywB,IAAIzwB,GACtB01B,IACAA,EAAM11B,GACN4yB,EAAe5yB,EAAGmyC,GAAUpa,EAAGrV,QAC3BqV,EAAGjV,aAAe,EAClB4B,EAAgB1kB,EAAG+3B,EAAGjV,aACrB4P,EAAY1yB,GACjBiC,GAAOy/B,WAAWzK,EAAYj3B,EAAGmd,GAAa,MAAO4a,IACrD7K,EAASltB,EAAG,EAAG,KA4FjBqyC,GAAQ,CACV,QApCe,SAASryC,GACxB,IACIs/B,EADSkS,GAAUxxC,GACPyxC,OACZjX,EAAO,IAAIje,WAAW,GACtB+1B,EAAOnB,EAAgB7R,GACvBiT,EAAOtB,EAAY3R,GAavB,OAZa,OAATiT,EACA7f,EAAY1yB,GACPuyC,IAASH,GACdztB,EAAgB3kB,EAAG,kBAEnBozB,EAAYpzB,EAAGwgB,EAAmB0xB,IAClBlc,GAAeh2B,GAAI,GACbywB,IAAI6O,EAC1B5J,CAAM11B,IAEV4yB,EAAe5yB,EAtDA,SAASsyC,EAAME,GAC9B,IAAItzC,EAAI,EAIR,OAHIozC,EAAOxxB,IAAc0xB,EAAMtzC,KAAO,IAClCozC,EAAOrxB,IAAauxB,EAAMtzC,KAAO,KACjCozC,EAAOtxB,IAAcwxB,EAAMtzC,KAAO,KAC/BszC,EAAM/f,SAAS,EAAGvzB,GAiDPuzC,CAAWH,EAAM9X,IACnC9V,EAAgB1kB,EAAGkxC,EAAiB5R,IAC7B,GAmBP,QAvQe,SAASt/B,GACxB,IAAI+3B,EAAK,IAAIvV,EACTivB,EAASD,GAAUxxC,GACnBk4B,EAAMuZ,EAAOvZ,IACboH,EAAKmS,EAAOA,OACZv2C,EAAUm+B,GAAer5B,EAAGk4B,EAAM,EAAG,UAEzC,GADAqZ,GAAWvxC,EAAGs/B,EAAI,GACdvP,EAAe/vB,EAAGk4B,EAAM,GACxBh9B,EAAU+2B,EAAgBjyB,EAAGmd,GAAa,OAAQjiB,GAClD63B,EAAc/yB,EAAGk4B,EAAM,GACvBnB,GAAU/2B,EAAGs/B,EAAI,QAEjB,IAAKpI,EAAaoI,EAAI9F,GAAkBx5B,EAAGk4B,EAAM,GAAIH,GAEjD,OADArF,EAAY1yB,GACL,EA+Bf,OA3BKi3B,EAAYqI,EAAIpkC,EAAS68B,IAC1BE,GAAcj4B,EAAGk4B,EAAM,EAAG,kBAC9B1G,EAAaxxB,GACTqc,GAAkBnhB,EAAS,KAA+B,IAC1Dw2C,GAAS1xC,EAAGmd,GAAa,UAAU,GAAO4a,EAAG/lB,QAC7C0/B,GAAS1xC,EAAGmd,GAAa,aAAa,GAAO4a,EAAG1U,WAChDsuB,GAAS3xC,EAAGmd,GAAa,eAAe,GAAO4a,EAAGhV,aAClD4uB,GAAS3xC,EAAGmd,GAAa,mBAAmB,GAAO4a,EAAG/U,iBACtD0uB,GAAS1xC,EAAGmd,GAAa,QAAQ,GAAO4a,EAAGlV,OAE3CxG,GAAkBnhB,EAAS,MAAgC,GAC3Dy2C,GAAS3xC,EAAGmd,GAAa,eAAe,GAAO4a,EAAGjV,aAClDzG,GAAkBnhB,EAAS,MAAgC,IAC3Dy2C,GAAS3xC,EAAGmd,GAAa,QAAQ,GAAO4a,EAAG9U,MAC3C0uB,GAAS3xC,EAAGmd,GAAa,WAAW,GAAO4a,EAAG7U,SAC9C0uB,GAAS5xC,EAAGmd,GAAa,YAAY,GAAO4a,EAAG5U,WAE/C9G,GAAkBnhB,EAAS,MAAgC,IAC3Dw2C,GAAS1xC,EAAGmd,GAAa,QAAQ,GAAO4a,EAAGtmB,MAC3CigC,GAAS1xC,EAAGmd,GAAa,YAAY,GAAO4a,EAAGnV,WAE/CvG,GAAkBnhB,EAAS,MAAgC,GAC3D02C,GAAS5xC,EAAGmd,GAAa,cAAc,GAAO4a,EAAG3U,YACjD/G,GAAkBnhB,EAAS,KAA+B,GAC1D22C,GAAiB7xC,EAAGs/B,EAAIniB,GAAa,eAAe,IACpDd,GAAkBnhB,EAAS,MAAgC,GAC3D22C,GAAiB7xC,EAAGs/B,EAAIniB,GAAa,QAAQ,IAC1C,GA2NP,SAxNgB,SAASnd,GACzB,IAAIyxC,EAASD,GAAUxxC,GACnBs/B,EAAKmS,EAAOA,OACZvZ,EAAMuZ,EAAOvZ,IACbH,EAAK,IAAIvV,EACTkwB,EAAOlZ,GAAkBx5B,EAAGk4B,EAAM,GACtC,GAAInI,EAAe/vB,EAAGk4B,EAAM,GAGxB,OAFAnF,EAAc/yB,EAAGk4B,EAAM,GACvBtF,EAAe5yB,EAAGoxC,EAAapxC,EAAG,KAAM0yC,IACjC,EACJ,CACH,IAAI11C,EAAQw8B,GAAkBx5B,EAAGk4B,EAAM,GACvC,IAAKhB,EAAaoI,EAAItiC,EAAO+6B,GACzB,OAAOE,GAAcj4B,EAAGk4B,EAAI,EAAG,sBACnCqZ,GAAWvxC,EAAGs/B,EAAI,GAClB,IAAI7tB,EAAO2/B,EAAa9R,EAAIvH,EAAI2a,GAChC,OAAIjhC,GACAslB,GAAUuI,EAAIt/B,EAAG,GACjB4yB,EAAe5yB,EAAGyR,GAClBkW,EAAW3nB,GAAI,EAAG,GACX,IAGP0yB,EAAY1yB,GACL,KAiMf,aAxWoB,SAASA,GAK7B,OAJA29B,GAAc39B,EAAG,GACZ8uB,EAAiB9uB,EAAG,IACrB0yB,EAAY1yB,GAET,GAoWP,YA9WmB,SAASA,GAE5B,OADA+yB,EAAc/yB,EAAGwgB,GACV,GA6WP,WA5JkB,SAASxgB,GAC3B,OAAO8xC,GAAW9xC,EAAG,IA4JrB,aA3VoB,SAASA,GAK7B,OAJI8qB,GAAS9qB,EAAG,KAAO6f,EACnB6S,EAAY1yB,GAEZuvB,EAAiBvvB,EAAG,GACjB,GAuVP,QAzEe,SAASA,GACxB,IAAIsyC,EAAM1wC,EAAOglB,EAeb+rB,EAdAlB,EAASD,GAAUxxC,GACnBs/B,EAAKmS,EAAOA,OACZvZ,EAAMuZ,EAAOvZ,IACjB,GAAI7H,EAAgBrwB,EAAGk4B,EAAI,GACvBjR,EAAWjnB,EAAGk4B,EAAI,GAClBtR,EAAO,KAAM0rB,EAAO,EAAG1wC,EAAQ,MAE9B,CACD,MAAM4wC,EAAQtZ,GAAiBl5B,EAAGk4B,EAAM,GACxC4F,GAAe99B,EAAGk4B,EAAI,EAAGtY,GACzBhe,EAAQ68B,GAAgBz+B,EAAGk4B,EAAM,EAAG,GACpCtR,EAAOwrB,GAAOE,EAjCL,SAASE,EAAO5wC,GAC7B,IAAI0wC,EAAO,EAKX,OAJIj2B,GAAkBm2B,EAAO,KAA+B,IAAGF,GAAQxxB,GACnEzE,GAAkBm2B,EAAO,MAAgC,IAAGF,GAAQrxB,GACpE5E,GAAkBm2B,EAAO,MAAgC,IAAGF,GAAQtxB,GACpEpf,EAAQ,IAAG0wC,GAAQvxB,GAChBuxB,EA2BkBM,CAASJ,EAAO5wC,GAIrCwxB,EAAYpzB,EAAGwgB,EAAmB0xB,MAAa5yB,GAC/CqzB,EAAY,IAAIloB,QAChB6H,EAAsBtyB,EAAG2yC,GACzB9e,EAAY7zB,EAAGwgB,EAAmB0xB,KAElCS,EAAY3c,GAAeh2B,GAAI,GAEnC,IAAI01B,EAAQD,EAAYz1B,EAAGk4B,EAAM,GAGjC,OAFAya,EAAU/c,IAAI0J,EAAI5J,GAClB2b,EAAY/R,EAAI1Y,EAAM0rB,EAAM1wC,GACrB,GA+CP,SAjMgB,SAAS5B,GACzB,IAAIyxC,EAASD,GAAUxxC,GACnBs/B,EAAKmS,EAAOA,OACZvZ,EAAMuZ,EAAOvZ,IACbH,EAAK,IAAIvV,EACTxlB,EAAQw8B,GAAkBx5B,EAAGk4B,EAAM,GACnCwa,EAAOlZ,GAAkBx5B,EAAGk4B,EAAM,GACtC,IAAKhB,EAAaoI,EAAItiC,EAAO+6B,GACzB,OAAOE,GAAcj4B,EAAGk4B,EAAM,EAAG,sBACrCyF,GAAc39B,EAAGk4B,EAAM,GACvBjR,EAAWjnB,EAAGk4B,EAAM,GACpBqZ,GAAWvxC,EAAGs/B,EAAI,GAClBvI,GAAU/2B,EAAGs/B,EAAI,GACjB,IAAI7tB,EAAO6/B,EAAahS,EAAIvH,EAAI2a,GAIhC,OAHa,OAATjhC,GACA4V,EAAQiY,EAAI,GAChB1M,EAAe5yB,EAAGyR,GACX,GAiLP,aAtWoB,SAASzR,GAC7B,MAAMP,EAAIqrB,GAAS9qB,EAAG,GAItB,OAHAw9B,GAAcx9B,EAAGP,GAAK6f,GAAY7f,GAAKkgB,EAAY,EAAG,yBACtDsH,EAAWjnB,EAAG,GACdk0B,EAAiBl0B,EAAG,GACb,GAkWP,WA7JkB,SAASA,GAE3B,OADA29B,GAAc39B,EAAG,GACV8xC,GAAW9xC,EAAG,IA4JrB,aAvVoB,SAASA,GAK7B,OAJA89B,GAAe99B,EAAG,EAAG6f,GACrB8d,GAAc39B,EAAG,GACjBinB,EAAWjnB,EAAG,GACdu0B,EAAiBv0B,EAAG,GACb,GAmVP,UA3BiB,SAASA,GAC1B,IAAIyxC,EAASD,GAAUxxC,GACnBs/B,EAAKmS,EAAOA,OACZvZ,EAAMuZ,EAAOvZ,IACbv3B,EAAMwpB,EAAanqB,EAAGk4B,EAAM,GAChC,GAAY,OAARv3B,GAAiB0vB,EAAgBrwB,EAAGk4B,EAAM,GAEzC,CACD,IAAIl7B,EAAQyhC,GAAgBz+B,EAAGk4B,EAAM,EAAGl4B,IAAMs/B,EAAK,EAAI,GACvDD,GAAer/B,EAAGs/B,EAAI3+B,EAAK3D,QAH3B+1B,EAAc/yB,EAAGk4B,EAAM,GAK3B,OAAO,GAiBP,UAhJiB,SAASl4B,GAC1B,IAAI2I,EAAIopC,GAAW/xC,EAAG,EAAG,GAEzB,OADAsyB,EAAsBtyB,EAAGm2B,GAAcn2B,EAAG,EAAG2I,IACtC,GA8IP,YA3ImB,SAAS3I,GAC5B,IAAIu2B,EAAKwb,GAAW/xC,EAAG,EAAG,GACtBy2B,EAAKsb,GAAW/xC,EAAG,EAAG,GAI1B,OAHAw9B,GAAcx9B,GAAI6vB,EAAgB7vB,EAAG,GAAI,EAAG,yBAC5Cw9B,GAAcx9B,GAAI6vB,EAAgB7vB,EAAG,GAAI,EAAG,yBAC5Cq2B,GAAgBr2B,EAAG,EAAGu2B,EAAI,EAAGE,GACtB,IAwIX,IAAIoc,GASyB,oBAAX3tC,SAId2tC,GAAW,WACP,IAAIr2C,EAAQs2C,OAAO,aAAc,IACjC,OAAkB,OAAVt2C,EAAkBA,EAAQ,KAGtCq2C,KACAR,GAAMU,MAAQ,SAAS/yC,GACnB,OAAS,CACL,IAAIxD,EAAQq2C,KAEZ,GAAc,SAAVr2C,EACA,OAAO,EAEX,GAAqB,IAAjBA,EAAMgB,OACN,SAEJ,IAAI03B,EAAS/X,GAAa3gB,IACtBi+B,GAAgBz6B,EAAGk1B,EAAQA,EAAO13B,OAAQ2f,GAAa,oBAAoB,KACxE4U,EAAU/xB,EAAG,EAAG,EAAG,KACtB8/B,GAAqBv/B,EAAeP,GAAI,GAAI,MAEhDinB,EAAWjnB,EAAG,MAU1B0d,EAAOC,QAAQq1B,cALO,SAAShzC,GAE3B,OADA6kB,GAAY7kB,EAAGqyC,IACR,gCC7fX,MAAM,cACF3xB,EAAa,aACbC,EAAY,cACZI,EAAa,aACbC,EACA5B,gBAAgB,aACZG,EAAY,SACZD,EAAQ,WACRK,GAEJ6D,eAAe,WACXG,EAAU,UACVD,GACH,gBACDhF,EAAe,aACfd,EAAY,kBACZvB,EAAiB,aACjBc,GACA,EAAQ,OACN,UACF4H,EAAS,WACT2c,GACA,EAAQ,OACN,WAAEuR,GAAe,EAAQ,MACzBC,EAAW,EAAQ,MACnBjuB,EAAW,EAAQ,MACnBE,EAAW,EAAQ,MACnBwc,EAAW,EAAQ,MACnBvc,EAAW,EAAQ,MACnBwc,EAAW,EAAQ,MACnBvc,EAAW,EAAQ,MACnBM,EAAW,EAAQ,MACnBF,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MAEnBytB,EAAY,SAASntB,GAEvB,OADA0b,EAAW1b,EAAGsF,WAAajG,EAAOkG,UAC3BvF,EAAGotB,UAAY,GAGpBtwB,EAAc,SAASkD,GACzB,OAA2C,IAApCA,EAAGY,KAAK9I,MAAMjK,EAAE8zB,SAASnqC,OAAewoB,EAAGY,KAAK9I,MAAMjK,EAAE8zB,SAASwL,EAAUntB,KAAQ,GASxFqtB,EAAY,SAASrzC,GACvB,GAAIA,EAAEwrB,SAAW9H,EAAW,CACxB,IAAIsC,EAAKhmB,EAAEgmB,GACPwB,EAAOxB,EAAGE,QACdF,EAAGY,KAAO5mB,EAAEmT,MAAM6S,EAAGgG,OACrBhG,EAAGE,QAAUF,EAAGgG,MAChBhG,EAAGgG,MAAQxE,IA6Cb8rB,EAAY,SAASz/B,EAAG4b,GAC1BiS,EAAWjS,EAAK5b,EAAE8V,SAASnsB,QAC3B,IAAIoX,EAAIf,EAAE8V,SAAS8F,GAAIhe,KACvB,OAAU,OAANmD,EAAmBuI,EAAa,KAAK,GAClCvI,EAAEgV,UAeP2pB,EAAY,SAASvzC,EAAGgmB,EAAIrd,GAC9B,IAAIgI,EAAMc,EAAO,KAEjB,GAAIuU,EAAGsF,WAAajG,EAAOkG,SAAU,CACjC,GAAI5iB,EAAI,EACJ,OAjBO,SAASqd,EAAIrd,GAC5B,IAAIua,EAAU8C,EAAGY,KAAK9I,MAAMjK,EAAE2/B,UAC9B,OAAI7qC,GAAKqd,EAAGytB,OAASztB,EAAGE,QAAUhD,EACvB,KAEA,CACHjjB,IAAK+lB,EAAGE,QAAUhD,EAAUva,EAC5B8I,KAAM0L,EAAa,aAAa,IAUzBu2B,CAAW1tB,GAAKrd,GAEvBgI,EAAOqV,EAAGytB,OACVhiC,EAAO0T,EAAMwuB,kBAAkB3tB,EAAGY,KAAK9I,MAAMjK,EAAGlL,EAAGwqC,EAAUntB,SAGjErV,EAAOqV,EAAGE,QAAU,EAExB,GAAa,OAATzU,EAAe,CAEf,MADYuU,IAAOhmB,EAAEgmB,GAAKhmB,EAAEsH,IAAM0e,EAAGhgB,KAAKkgB,SAC9BvV,GAAQhI,GAAKA,EAAI,GAGzB,OAAO,KAFP8I,EAAO0L,EAAa,gBAAgB,GAI5C,MAAO,CACHld,IAAK0Q,GAAQhI,EAAI,GACjB8I,KAAMA,IAyCRmiC,EAAW,SAAS7b,EAAI5P,GAC1B,GAAW,OAAPA,GAAeA,aAAc/C,EAAQU,SACrCiS,EAAG/lB,OAASmL,EAAa,SAAS,GAClC4a,EAAGhV,aAAe,EAClBgV,EAAG/U,iBAAmB,EACtB+U,EAAGlV,KAAO1F,EAAa,KAAK,OACzB,CACH,IAAItJ,EAAIsU,EAAGtU,EACXkkB,EAAG/lB,OAAS6B,EAAE7B,OAAS6B,EAAE7B,OAAO4X,SAAWzM,EAAa,MAAM,GAC9D4a,EAAGhV,YAAclP,EAAEkP,YACnBgV,EAAG/U,gBAAkBnP,EAAEmP,gBACvB+U,EAAGlV,KAA0B,IAAnBkV,EAAGhV,YAAoB5F,EAAa,QAAQ,GAAQA,EAAa,OAAO,GAGtF4a,EAAG1U,UAAY+B,EAAQyuB,aAAa9b,EAAG/lB,OAAQihC,IAkB7Ca,EAAc,SAAS9zC,EAAGgmB,GAC5B,IAAIvJ,EAAI,CACJhL,KAAM,KACNsiC,SAAU,MAEd,OAAW,OAAP/tB,EACO,KACFA,EAAGsF,WAAajG,EAAO2uB,UAC5Bv3B,EAAEhL,KAAO0L,EAAa,QAAQ,GAC9BV,EAAEs3B,SAAW52B,EAAa,cAAc,GACjCV,KAGAuJ,EAAGsF,WAAajG,EAAO4uB,YAAcjuB,EAAGwe,SAASlZ,WAAajG,EAAOkG,SACrE2oB,EAAiBl0C,EAAGgmB,EAAGwe,UACtB,MAiFV2P,EAAQ,SAAStgC,EAAG4wB,EAAIxnB,GAC1B,IAAIR,EAAI,CACJhL,KAAM,KACNsiC,SAAU,MAGd,GAAInS,EAAS2H,IAAItsB,GAAI,CACjB,IAAIm3B,EAASvgC,EAAE4U,EAAEmZ,EAASyS,OAAOp3B,IACjC,GAAIm3B,EAAOrqB,aAEP,OADAtN,EAAEhL,KAAO2iC,EAAOlqB,SACTzN,MAGR,CACH,IAAIoG,EAAOyxB,EAAWzgC,EAAG4wB,EAAIxnB,GAC7B,GAAI4F,GAA6B,KAArBA,EAAKkxB,SAAS,GACtB,OAAOlxB,EAKf,OADApG,EAAEhL,KAAO0L,EAAa,KAAK,GACpBV,GAGL83B,EAAW,SAAS9P,EAAI+P,GAC1B,OAAI/P,EAAK+P,GACG,EACA/P,GAoDV6P,EAAa,SAASzgC,EAAG4gC,EAAQ3N,GACnC,IAAIrqB,EAAI,CACJhL,KAAM0T,EAAMwuB,kBAAkB9/B,EAAGizB,EAAM,EAAG2N,GAC1CV,SAAU,MAGd,GAAIt3B,EAAEhL,KAEF,OADAgL,EAAEs3B,SAAW52B,EAAa,SAAS,GAC5BV,EAIX,IAAIgoB,EA1DW,SAAS5wB,EAAG4gC,EAAQ3N,GACnC,IAAI4N,GAAU,EACVF,EAAY,EACZG,EAAM/S,EAASE,SACnB,IAAK,IAAI2C,EAAK,EAAGA,EAAKgQ,EAAQhQ,IAAM,CAChC,IAAIvlC,EAAI2U,EAAE5P,KAAKwgC,GACX7hC,EAAI1D,EAAE4lC,EACV,OAAQ5lC,EAAEylC,QACN,KAAKgQ,EAAI/P,WAAY,CACjB,IAAI53B,EAAI9N,EAAEy6B,EACN/2B,GAAKkkC,GAAOA,GAAOlkC,EAAIoK,IACvB0nC,EAASH,EAAS9P,EAAI+P,IAC1B,MAEJ,KAAKG,EAAIC,YACD9N,GAAOlkC,EAAI,IACX8xC,EAASH,EAAS9P,EAAI+P,IAC1B,MAEJ,KAAKG,EAAIE,QACT,KAAKF,EAAIG,YACDhO,GAAOlkC,IACP8xC,EAASH,EAAS9P,EAAI+P,IAC1B,MAEJ,KAAKG,EAAIrO,OAAQ,CACb,IACIb,EAAOhB,EAAK,EADRvlC,EAAEqmC,IAGNd,EAAKgB,GAAQA,GAAQgP,GACjBhP,EAAO+O,IACPA,EAAY/O,GAEpB,MAEJ,QACQ7D,EAASmT,UAAU71C,EAAEylC,SAAWmC,IAAQlkC,IACxC8xC,EAASH,EAAS9P,EAAI+P,KAKtC,OAAOE,EAgBEM,CAAWnhC,EAAG4gC,EAAQ3N,GAC3B6N,EAAM/S,EAASE,SACnB,IAAY,IAAR2C,EAAW,CACX,IAAIvlC,EAAI2U,EAAE5P,KAAKwgC,GACf,OAAQvlC,EAAEylC,QACN,KAAKgQ,EAAI7I,QAAS,CACd,IAAI9+B,EAAI9N,EAAEy6B,EACV,GAAI3sB,EAAI9N,EAAE4lC,EACN,OAAOwP,EAAWzgC,EAAG4wB,EAAIz3B,GAC7B,MAEJ,KAAK2nC,EAAItJ,YACT,KAAKsJ,EAAIvJ,YAAa,CAClB,IAAI3iB,EAAIvpB,EAAEsnC,EACN/mC,EAAIP,EAAEy6B,EACNsb,EAAK/1C,EAAEylC,SAAWgQ,EAAIvJ,YAAcjmB,EAAMwuB,kBAAkB9/B,EAAGpU,EAAI,EAAGglC,GAAM6O,EAAUz/B,EAAGpU,GAG7F,OAFAgd,EAAEhL,KAAO0iC,EAAMtgC,EAAG4wB,EAAIhc,GAAGhX,KACzBgL,EAAEs3B,SAAYkB,GAAMr3B,EAAaq3B,EAAItT,EAAKuT,SAAY/3B,EAAa,UAAU,GAAQA,EAAa,SAAS,GACpGV,EAEX,KAAKk4B,EAAI3J,YAGL,OAFAvuB,EAAEhL,KAAO6hC,EAAUz/B,EAAG3U,EAAEy6B,GACxBld,EAAEs3B,SAAW52B,EAAa,WAAW,GAC9BV,EAEX,KAAKk4B,EAAI3L,SACT,KAAK2L,EAAI1L,UAAW,CAChB,IAAIj8B,EAAI9N,EAAEylC,SAAWgQ,EAAI3L,SAAW9pC,EAAEi2C,GAAKthC,EAAE5P,KAAKwgC,EAAK,GAAG2Q,GAC1D,GAAIvhC,EAAE4U,EAAEzb,GAAG+c,aAGP,OAFAtN,EAAEhL,KAAOoC,EAAE4U,EAAEzb,GAAGkd,SAChBzN,EAAEs3B,SAAW52B,EAAa,YAAY,GAC/BV,EAEX,MAEJ,KAAKk4B,EAAItF,QAAS,CACd,IAAI5mB,EAAIvpB,EAAEsnC,EAGV,OAFA/pB,EAAEhL,KAAO0iC,EAAMtgC,EAAG4wB,EAAIhc,GAAGhX,KACzBgL,EAAEs3B,SAAW52B,EAAa,UAAU,GAC7BV,IAMnB,OAAO,MASLy3B,EAAmB,SAASl0C,EAAGgmB,GACjC,IAAIvJ,EAAI,CACJhL,KAAM,KACNsiC,SAAU,MAGVsB,EAAK,EACLxhC,EAAImS,EAAGY,KAAK9I,MAAMjK,EAClB4wB,EAAK0O,EAAUntB,GACf9mB,EAAI2U,EAAE5P,KAAKwgC,GACXkQ,EAAM/S,EAASE,SAEnB,GAAI9b,EAAGsF,WAAajG,EAAOiwB,YAGvB,OAFA74B,EAAEhL,KAAO0L,EAAa,KAAK,GAC3BV,EAAEs3B,SAAW52B,EAAa,QAAQ,GAC3BV,EAGX,OAAQvd,EAAEylC,QACN,KAAKgQ,EAAIE,QACT,KAAKF,EAAIG,YACL,OAAOR,EAAWzgC,EAAG4wB,EAAIvlC,EAAE4lC,GAC/B,KAAK6P,EAAIC,YAGL,OAFAn4B,EAAEhL,KAAO0L,EAAa,gBAAgB,GACtCV,EAAEs3B,SAAW52B,EAAa,gBAAgB,GACnCV,EAEX,KAAKk4B,EAAItF,QACT,KAAKsF,EAAItJ,YACT,KAAKsJ,EAAIvJ,YACLiK,EAAK5vB,EAAI8vB,IAAIC,SACb,MACJ,KAAKb,EAAI1E,YACT,KAAK0E,EAAI3E,YACLqF,EAAK5vB,EAAI8vB,IAAIE,YACb,MACJ,KAAKd,EAAItG,OAAWgH,EAAK5vB,EAAI8vB,IAAIG,OAAW,MAC5C,KAAKf,EAAIgB,OAAWN,EAAK5vB,EAAI8vB,IAAIK,OAAW,MAC5C,KAAKjB,EAAIkB,OAAWR,EAAK5vB,EAAI8vB,IAAIO,OAAW,MAC5C,KAAKnB,EAAIoB,OAAWV,EAAK5vB,EAAI8vB,IAAIS,OAAW,MAC5C,KAAKrB,EAAIsB,OAAWZ,EAAK5vB,EAAI8vB,IAAIW,OAAW,MAC5C,KAAKvB,EAAIwB,OAAWd,EAAK5vB,EAAI8vB,IAAIa,OAAW,MAC5C,KAAKzB,EAAI0B,QAAWhB,EAAK5vB,EAAI8vB,IAAIe,QAAW,MAC5C,KAAK3B,EAAI4B,QAAWlB,EAAK5vB,EAAI8vB,IAAIiB,QAAW,MAC5C,KAAK7B,EAAI8B,OAAWpB,EAAK5vB,EAAI8vB,IAAImB,OAAW,MAC5C,KAAK/B,EAAIgC,QAAWtB,EAAK5vB,EAAI8vB,IAAIqB,QAAW,MAC5C,KAAKjC,EAAIkC,OAAWxB,EAAK5vB,EAAI8vB,IAAIuB,OAAW,MAC5C,KAAKnC,EAAIoC,OAAW1B,EAAK5vB,EAAI8vB,IAAIyB,OAAW,MAC5C,KAAKrC,EAAI9F,OAAWwG,EAAK5vB,EAAI8vB,IAAI0B,OAAW,MAC5C,KAAKtC,EAAIuC,QAAW7B,EAAK5vB,EAAI8vB,IAAI4B,QAAW,MAC5C,KAAKxC,EAAIyC,OAAW/B,EAAK5vB,EAAI8vB,IAAI8B,OAAW,MAC5C,KAAK1C,EAAIvG,UAAWiH,EAAK5vB,EAAI8vB,IAAI+B,UAAW,MAC5C,KAAK3C,EAAIpG,MAAW8G,EAAK5vB,EAAI8vB,IAAIgC,MAAW,MAC5C,KAAK5C,EAAI6C,MAAWnC,EAAK5vB,EAAI8vB,IAAIkC,MAAW,MAC5C,KAAK9C,EAAI+C,MAAWrC,EAAK5vB,EAAI8vB,IAAIoC,MAAW,MAC5C,QACI,OAAO,KAKf,OAFAl7B,EAAEhL,KAAOzR,EAAEymB,IAAImxB,OAAOvC,GAAIzrB,SAC1BnN,EAAEs3B,SAAW52B,EAAa,cAAc,GACjCV,GA+BLo7B,EAAU,SAAS73C,EAAGsmB,GACxB,IAAIN,EAAKhmB,EAAEgmB,GACPoZ,EAAO,KACX,GAAIpZ,EAAGsF,WAAajG,EAAOkG,SAAU,CACjC6T,EAlBa,SAASp/B,EAAGgmB,EAAIM,GACjC,IAAIrJ,EAAI+I,EAAGY,KAAK9I,MAChB,IAAK,IAAI5e,EAAI,EAAGA,EAAI+d,EAAE6J,UAAW5nB,IAC7B,GAAI+d,EAAE4M,OAAO3qB,KAAOonB,EAChB,MAAO,CACH7U,KAAM6hC,EAAUr2B,EAAEpJ,EAAG3U,GACrB60C,SAAU52B,EAAa,WAAW,IAK9C,OAAO,KAOI26B,CAAa93C,EAAGgmB,EAAIM,GAC3B,IAAIyxB,EAjCM,SAAS/3C,EAAGgmB,EAAIM,GAC9B,IAAK,IAAIpnB,EAAI8mB,EAAGytB,OAAQv0C,EAAI8mB,EAAG1e,IAAKpI,IAChC,GAAIc,EAAEmT,MAAMjU,KAAOonB,EACf,OAAOpnB,EAGf,OAAO,EA2BS84C,CAAUh4C,EAAGgmB,EAAIM,IACxB8Y,GAAQ2Y,IACT3Y,EAAOkV,EAAWtuB,EAAGY,KAAK9I,MAAMjK,EAAGs/B,EAAUntB,GAAK+xB,EAAQ/xB,EAAGytB,SAGrE,OAAOrU,EAAOha,EAAQ6yB,iBAAiBj4C,EAAGmd,EAAa,cAAc,GAAOiiB,EAAK2U,SAAU3U,EAAK3tB,MAAQ0L,EAAa,IAAI,IAGvH+6B,EAAiB,SAASl4C,EAAGsmB,EAAGoG,GAClC,IAAIjtB,EAAIgmB,EAAI0yB,iBAAiBn4C,EAAGsmB,GAChC8xB,EAAcp4C,EAAGmd,EAAa,8BAA8B,GAAOuP,EAAIjtB,EAAGo4C,EAAQ73C,EAAGsmB,KA2BnF+xB,EAAe,SAASr4C,EAAGW,EAAK9E,EAAK6E,GACvC,IAAI85B,EAMJ,OAJIA,EADA3+B,EACOupB,EAAQyuB,aAAah4C,EAAI+tB,SAAUqpB,GAEnC91B,EAAa,KAAK,GAEtBiI,EAAQ6yB,iBAAiBj4C,EAAGmd,EAAa,aAAa,GAAOqd,EAAM95B,EAAMC,IAG9Ey3C,EAAgB,SAASp4C,EAAGkyB,KAAQC,GACtC,IAAInM,EAAKhmB,EAAEgmB,GACPrlB,EAAMykB,EAAQgN,kBAAkBpyB,EAAGkyB,EAAKC,GACxCnM,EAAGsF,WAAajG,EAAOkG,UACvB8sB,EAAar4C,EAAGW,EAAKqlB,EAAGY,KAAK9I,MAAMjK,EAAE7B,OAAQ8Q,EAAYkD,IAC7DqI,EAAcruB,IAGZquB,EAAgB,SAASruB,GAC3B,GAAkB,IAAdA,EAAE8rB,QAAe,CACjB,IAAIA,EAAU9rB,EAAE8rB,QAChB1G,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAM,IACrC8d,EAAQqC,UAAUznB,EAAGA,EAAEsH,IAAM,EAAGwkB,GAChC7G,EAAI2F,iBAAiB5qB,EAAGA,EAAEsH,IAAM,EAAG,GAGvC2d,EAAIqzB,WAAWt4C,EAAG2jB,IAgDtBjG,EAAOC,QAAQ06B,aAAmBA,EAClC36B,EAAOC,QAAQ46B,iBAnGU,SAASv4C,EAAGw4C,EAAIC,IACjCD,EAAGzuB,cAAgBrE,EAAIsE,QAAQwuB,MAAKA,EAAKC,GAC7CP,EAAel4C,EAAGw4C,EAAIr7B,EAAa,eAAe,KAkGtDO,EAAOC,QAAQ0Q,cAAmBA,EAClC3Q,EAAOC,QAAQ+6B,gBA7FS,SAAS14C,EAAGw4C,EAAIC,EAAI93C,IACf,IAArB+kB,EAAI6E,SAASiuB,KACbC,EAAKD,GACTN,EAAel4C,EAAGy4C,EAAI93C,IA2F1B+c,EAAOC,QAAQg7B,gBAxFS,SAAS34C,EAAGw4C,EAAIC,GACpC,IAAIG,EAAKnzB,EAAI0yB,iBAAiBn4C,EAAGw4C,GAC7BK,EAAKpzB,EAAI0yB,iBAAiBn4C,EAAGy4C,GAC7B76B,EAAag7B,EAAIC,GACjBT,EAAcp4C,EAAGmd,EAAa,oCAAoC,GAAOy7B,GAEzER,EAAcp4C,EAAGmd,EAAa,iCAAiC,GAAOy7B,EAAIC,IAmFlFn7B,EAAOC,QAAQy6B,cAAmBA,EAClC16B,EAAOC,QAAQm7B,gBAhDS,SAAS94C,EAAGw4C,EAAIC,IAEvB,IADF/yB,EAAI2E,UAAUmuB,KAErBC,EAAKD,GACTJ,EAAcp4C,EAAGmd,EAAa,0CAA0C,GAAO06B,EAAQ73C,EAAGy4C,KA6C9F/6B,EAAOC,QAAQo7B,eA1CQ,SAAS/4C,GAC5B,IAAIgmB,EAAKhmB,EAAEgmB,GACPssB,EAAOtyC,EAAEg5C,SACTC,EAA+B,KAAhBj5C,EAAEk5C,WAAoB5G,EAAOvxB,EAChD,GAAIk4B,EACAj5C,EAAEk5C,UAAYl5C,EAAEm5C,mBACf,KAAM7G,EAAOtxB,GACd,OACJ,GAAIgF,EAAGsF,WAAajG,EAAO+zB,eACvBpzB,EAAGsF,aAAejG,EAAO+zB,mBAD7B,CAMA,GAFIH,GACAh0B,EAAIo0B,UAAUr5C,EAAG0gB,GAAgB,GACjC4xB,EAAOtxB,EAAc,CACrB,IAAInN,EAAImS,EAAGY,KAAK9I,MAAMjK,EAClBylC,EAAMtzB,EAAGotB,UAAY,EACrBmG,EAAgC,IAAtB1lC,EAAE8zB,SAASnqC,OAAeqW,EAAE8zB,SAAS2R,IAAQ,GAC/C,IAARA,GACAtzB,EAAGotB,WAAapzC,EAAEw5C,OAClBD,KAAmC,IAAtB1lC,EAAE8zB,SAASnqC,OAAeqW,EAAE8zB,SAAS3nC,EAAEw5C,MAAQ,IAAM,KAClEv0B,EAAIo0B,UAAUr5C,EAAG2gB,EAAc44B,GAEvCv5C,EAAEw5C,MAAQxzB,EAAGotB,UACTpzC,EAAEwrB,SAAW9H,IACTu1B,IACAj5C,EAAEk5C,UAAY,GAClBlzB,EAAGotB,YACHptB,EAAGsF,YAAcjG,EAAO+zB,eACxBpzB,EAAGE,QAAUlmB,EAAEsH,IAAM,EACrB0e,EAAGY,KAAO5mB,EAAEmT,MAAM6S,EAAGE,SACrBjB,EAAIqzB,WAAWt4C,EAAG0jB,MAY1BhG,EAAOC,QAAQu6B,eAAmBA,EAClCx6B,EAAOC,QAAQszB,YAxlBK,SAASjxC,GACzB,OAAOA,EAAEuyC,MAwlBb70B,EAAOC,QAAQuzB,iBA/kBU,SAASlxC,GAC9B,OAAOA,EAAEm5C,eA+kBbz7B,EAAOC,QAAQwzB,gBArlBS,SAASnxC,GAC7B,OAAOA,EAAEg5C,UAqlBbt7B,EAAOC,QAAQsZ,YA3YK,SAASj3B,EAAG6iB,EAAMkV,GAElC,IAAIvM,EAAQrD,EAAInC,EAAIY,EAyBpB,OA1BA/D,EAAOnE,EAAgBmE,GAEvBwwB,EAAUrzC,GACM,KAAZ6iB,EAAK,IACLmD,EAAK,KACLY,EAAO5mB,EAAEmT,MAAMnT,EAAEsH,IAAM,GACvByd,EAAU/kB,EAAG4mB,EAAK6yB,eAAgB,qBAClC52B,EAAOA,EAAK4P,SAAS,GACrBzyB,EAAEsH,QAEF0e,EAAK+R,EAAGzU,KACRsD,EAAOZ,EAAGY,KACV8a,EAAW1b,EAAGY,KAAK6yB,iBAGvBtxB,EAAKvB,EAAK8yB,cAAgB9yB,EAAK9I,MAAQ,KACvC0N,EAjEe,SAASxrB,EAAG6iB,EAAMkV,EAAI3xB,EAAG4f,GACxC,IAAIwF,EAAS,EACb,KAAO3I,EAAKrlB,OAAS,EAAGqlB,EAAOA,EAAK4P,SAAS,GACzC,OAAQ5P,EAAK,IACT,KAAK,GACD+wB,EAAS7b,EAAI3xB,GACb,MAEJ,KAAK,IACD2xB,EAAGjV,YAAckD,GAAMA,EAAGsF,WAAajG,EAAOkG,SAAWzI,EAAYkD,IAAO,EAC5E,MAEJ,KAAK,IACD+R,EAAG9U,KAAa,OAAN7c,EAAa,EAAIA,EAAE0gB,UACnB,OAAN1gB,GAAcA,aAAagf,EAAQU,UACnCiS,EAAG5U,UAAW,EACd4U,EAAG7U,QAAU,IAEb6U,EAAG5U,SAAW/c,EAAEyN,EAAE8lC,UAClB5hB,EAAG7U,QAAU9c,EAAEyN,EAAE2/B,WAErB,MAEJ,KAAK,IACDzb,EAAG3U,WAAa4C,EAAKA,EAAGsF,WAAajG,EAAO4uB,UAAY,EACxD,MAEJ,KAAK,IAA+B,CAChC,IAAIx3B,EAAIq3B,EAAY9zC,EAAGgmB,GACb,OAANvJ,GACAsb,EAAGnV,SAAWzF,EAAa,IAAI,GAC/B4a,EAAGtmB,KAAO,OAEVsmB,EAAGnV,SAAWnG,EAAEs3B,SAChBhc,EAAGtmB,KAAOgL,EAAEhL,MAEhB,MAEJ,KAAK,GACL,KAAK,IACD,MACJ,QAAS+Z,EAAS,EAI1B,OAAOA,EAoBEouB,CAAW55C,EAAG6iB,EAAMkV,EAAI5P,EAAInC,GACjC3J,EAAkBwG,EAAM,MAAkC,IAC1DuC,EAAQ+D,UAAUnpB,EAAG4mB,GACrB7B,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,mBAGpC+rC,EAAUrzC,GACNqc,EAAkBwG,EAAM,KAAiC,GAzGvC,SAAS7iB,EAAGoG,GAClC,GAAU,OAANA,GAAcA,aAAagf,EAAQU,SACnC9lB,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAI8d,EAAQS,OAAOvG,EAAU,MAC9C4zB,EAAKntB,aAAa/lB,OACf,CACH,IAAI2nC,EAAWvhC,EAAEyN,EAAE8zB,SACfloC,EAAIkmB,EAAO4D,SAASvpB,GACxBA,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAI8d,EAAQS,OAAOlG,EAAYlgB,GAChDyzC,EAAKntB,aAAa/lB,GAClB,IAAI0c,EAAI,IAAI0I,EAAQS,OAAOtG,GAAc,GACzC,IAAK,IAAIrgB,EAAI,EAAGA,EAAIyoC,EAASnqC,OAAQ0B,IACjCymB,EAAOiO,YAAYn0B,EAAGkoC,EAASzoC,GAAIwd,IA+FvCm9B,CAAkB75C,EAAGmoB,GAElBqD,GAiXX9N,EAAOC,QAAQyzB,aAnhBM,SAASpxC,EAAG+3B,EAAIpvB,GACjC,IAAI8I,EAEJ,GADA4hC,EAAUrzC,GACC,OAAP+3B,EAIItmB,EAHCzR,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAGilB,eAGbpH,EAAMwuB,kBAAkB3zC,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAGwW,MAAMjK,EAAGlL,EAAG,GAFvD,SAGR,CACH,IAAIgK,EAAQ4gC,EAAUvzC,EAAG+3B,EAAGzU,KAAM3a,GAC9BgK,GACAlB,EAAOkB,EAAMlB,KACb2T,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAMR,EAAM1S,MACnC8kB,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,mBAEhCmK,EAAO,KAIf,OADA4hC,EAAUrzC,GACHyR,GAigBXiM,EAAOC,QAAQuZ,aA/kBM,SAASl3B,EAAGhD,EAAO+6B,GACpC,IAAI/R,EACAwF,EACJ,GAAIxuB,EAAQ,EAAG,OAAO,EACtB,IAAKgpB,EAAKhmB,EAAEgmB,GAAIhpB,EAAQ,GAAKgpB,IAAOhmB,EAAE85C,QAAS9zB,EAAKA,EAAGwe,SACnDxnC,IAMJ,OALc,IAAVA,GAAegpB,IAAOhmB,EAAE85C,SACxBtuB,EAAS,EACTuM,EAAGzU,KAAO0C,GAEVwF,EAAS,EACNA,GAqkBX9N,EAAOC,QAAQ0zB,YA3mBK,SAASrxC,EAAG4mB,EAAM0rB,EAAM1wC,GAC3B,OAATglB,GAA0B,IAAT0rB,IACjBA,EAAO,EACP1rB,EAAO,MAEP5mB,EAAEgmB,GAAGsF,WAAajG,EAAOkG,WACzBvrB,EAAEw5C,MAAQx5C,EAAEgmB,GAAGotB,WACnBpzC,EAAEuyC,KAAO3rB,EACT5mB,EAAEm5C,cAAgBv3C,EAClB5B,EAAEk5C,UAAYl5C,EAAEm5C,cAChBn5C,EAAEg5C,SAAW1G,GAkmBjB50B,EAAOC,QAAQ2zB,aAhgBM,SAAStxC,EAAG+3B,EAAIpvB,GACjC,IAAI8I,EACJ4hC,EAAUrzC,GACV,IAAI2S,EAAQ4gC,EAAUvzC,EAAG+3B,EAAGzU,KAAM3a,GASlC,OARIgK,GACAlB,EAAOkB,EAAMlB,KACb2T,EAAQqC,UAAUznB,EAAG2S,EAAM1S,IAAKD,EAAEsH,IAAM,UACjCtH,EAAEmT,QAAQnT,EAAEsH,MAEnBmK,EAAO,KAEX4hC,EAAUrzC,GACHyR,gCCpLX,MAAM,aACFgP,EAAY,YACZG,EAAW,iBACXC,EAAgB,aAChBC,EAAY,aACZE,EAAY,YACZC,EAAW,aACXC,EAAY,YACZC,EAAW,cACXxC,EACAS,gBAAgB,SACZkB,EAAQ,SACRD,EAAQ,SACRD,EAAQ,SACRd,GAEJkE,eAAe,WACXK,EAAU,WACVE,EAAU,WACVJ,EAAU,cACVC,EAAa,OACbH,EAAM,UACNC,GACH,UACDlB,EAAS,kBACTnG,EAAiB,aACjBc,GACA,EAAQ,MACN+1B,EAAW,EAAQ,MACnBluB,EAAW,EAAQ,MACnBG,EAAW,EAAQ,OACnB,UACFJ,EAAS,WACT2c,EAAU,eACVqY,GACA,EAAQ,MACN30B,EAAW,EAAQ,MACnBwc,EAAW,EAAQ,MACnBC,EAAW,EAAQ,MACnBxc,EAAW,EAAQ,OACnB,gBAAEG,GAAoB,EAAQ,MAC9BC,EAAW,EAAQ,OACnB,cAAElF,GAAkB,EAAQ,MAC5By5B,EAAW,EAAQ,MACnBt0B,EAAW,EAAQ,OACnB,QAAEu0B,GAAY,EAAQ,MAEtB7yB,EAAa,SAASpnB,EAAGknB,GAC3B,GAAIlnB,EAAEsH,IAAM4f,EACR,KAAOlnB,EAAEsH,IAAM4f,GACXlnB,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,WAEpD,KAAOtf,EAAEsH,IAAM4f,UACJlnB,EAAEmT,QAAQnT,EAAEsH,MAIzB4yC,EAAc,SAASl6C,EAAGm6C,EAASC,GACrC,IAAIC,EAAcr6C,EAAEsH,IAGpB,KAAOtH,EAAEsH,IAAM8yC,EAAS,GACpBp6C,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,MAEpD,OAAQ66B,GACJ,KAAKt2B,EACDuB,EAAQk1B,YAAYt6C,EAAGo6C,EAAQ50B,EAAgBxlB,EAAG,sBAClD,MAEJ,KAAK+jB,EACDqB,EAAQk1B,YAAYt6C,EAAGo6C,EAAQ50B,EAAgBxlB,EAAG,4BAClD,MAEJ,QACIolB,EAAQqC,UAAUznB,EAAGo6C,EAAQC,EAAc,GAInD,KAAOr6C,EAAEsH,IAAM8yC,EAAS,UACbp6C,EAAEmT,QAAQnT,EAAEsH,MAGrBizC,EAAiBh6B,EAAgB,IAEjCi6B,EAAoB,SAASx6C,EAAG65B,GAClC6H,EAAW7H,GAAWtZ,GAAiBsZ,GAAW0gB,GAClD7Y,EAAW1hC,EAAEmnB,YAAcnnB,EAAEmT,MAAM3V,OAAS6nB,EAAOgI,aACnDrtB,EAAEmT,MAAM3V,OAASq8B,EACjB75B,EAAEmnB,WAAa0S,EAAUxU,EAAOgI,aAG9BC,EAAiB,SAASttB,EAAG2I,GAC/B,IAAI+oB,EAAO1xB,EAAEmT,MAAM3V,OACnB,GAAIk0B,EAAOnR,EACP+3B,GAAWt4C,EAAG+jB,OACb,CACD,IAAI02B,EAASz6C,EAAEsH,IAAMqB,EAAI0c,EAAOgI,YAC5BwM,EAAU,EAAInI,EACdmI,EAAUtZ,IAAesZ,EAAUtZ,GACnCsZ,EAAU4gB,IAAQ5gB,EAAU4gB,GAC5B5gB,EAAUtZ,GACVi6B,EAAkBx6C,EAAGu6C,GACrBv1B,EAAOozB,cAAcp4C,EAAGmd,EAAa,kBAAkB,KAGvDq9B,EAAkBx6C,EAAG65B,KAI3B6gB,EAAkB,SAAS16C,EAAG2I,GAC5B3I,EAAEmnB,WAAannB,EAAEsH,KAAOqB,GACxB2kB,EAAettB,EAAG2I,IAYpBgyC,EAAmB,SAAS36C,GAC9B,IAAI46C,EAVW,SAAS56C,GACxB,IAAI66C,EAAM76C,EAAEsH,IACZ,IAAK,IAAI0e,EAAKhmB,EAAEgmB,GAAW,OAAPA,EAAaA,EAAKA,EAAGwe,SACjCqW,EAAM70B,EAAG1e,MAAKuzC,EAAM70B,EAAG1e,KAG/B,OADAo6B,EAAWmZ,GAAO76C,EAAEmnB,YACb0zB,EAAM,EAIDC,CAAW96C,GACnB+6C,EAAWH,EAAQrzC,KAAKm4B,MAAMkb,EAAQ,GAAK,EAAEv1B,EAAOgI,YACpD0tB,EAAWx6B,IACXw6B,EAAWx6B,GACXvgB,EAAEmT,MAAM3V,OAAS+iB,GACjB8E,EAAO21B,YAAYh7C,GAGnB46C,GAAUr6B,EAAgB8E,EAAOgI,aAAgB0tB,EAAW/6C,EAAEmT,MAAM3V,QACpEg9C,EAAkBx6C,EAAG+6C,IAevBE,EAAe,SAASj7C,EAAGoH,EAAKyjB,GAClC,IAAIjE,EAAO5mB,EAAEmT,MAAM/L,GAEnB,OAAOwf,EAAKvpB,MACR,KAAKijB,EACL,KAAKD,EAAU,CACX,IAAIja,EAAIwgB,EAAKvpB,OAASijB,EAAWsG,EAAK9I,MAAM1X,EAAIwgB,EAAK9I,MAErD48B,EAAgB16C,EAAGkhB,GACnB,IAAI8E,EAAKX,EAAO61B,cAAcl7C,GAC9BgmB,EAAGE,QAAU9e,EACb4e,EAAG6E,SAAWA,EACd7E,EAAGY,KAAOA,EACVZ,EAAG1e,IAAMtH,EAAEsH,IAAM4Z,EACjBwgB,EAAW1b,EAAG1e,KAAOtH,EAAEmnB,YACvBnB,EAAGsF,WAAa,EACZtrB,EAAEg5C,SAAWl4B,GACbu4B,EAAUr5C,EAAGygB,GAAe,GAChC,IAAI9X,EAAIvC,EAAEpG,GACV,GAAiB,iBAAN2I,GAAkBA,EAAI,IAAQ,EAAFA,KAASA,EAC5C,MAAM5M,MAAM,4DAKhB,OAJAm3C,EAAKjtB,gBAAgBjmB,EAAG2I,GAExBwyC,EAAan7C,EAAGgmB,EAAIhmB,EAAEsH,IAAMqB,EAAGA,IAExB,EAEX,KAAKyX,EAAU,CACX,IAAIzP,EACAkD,EAAI+S,EAAK9I,MAAMjK,EACflL,EAAI3I,EAAEsH,IAAMF,EAAM,EAClBg0C,EAAQvnC,EAAEw1B,aAEd,GADAqR,EAAgB16C,EAAGo7C,GACfvnC,EAAE8lC,UACFhpC,EAAO0qC,EAAer7C,EAAG6T,EAAGlL,OACzB,CACH,KAAOA,EAAIkL,EAAE2/B,UAAW7qC,IACpB3I,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,MACpD3O,EAAOvJ,EAAM,EAGjB,IAAI4e,EAAKX,EAAO61B,cAAcl7C,GAY9B,OAXAgmB,EAAGE,QAAU9e,EACb4e,EAAG6E,SAAWA,EACd7E,EAAGY,KAAOA,EACVZ,EAAGytB,OAAS9iC,EACZqV,EAAG1e,IAAMqJ,EAAOyqC,EAChBh0B,EAAWpnB,EAAGgmB,EAAG1e,KACjB0e,EAAGs1B,OAASznC,EAAE5P,KACd+hB,EAAGotB,UAAY,EACfptB,EAAGsF,WAAajG,EAAOkG,SACnBvrB,EAAEg5C,SAAWl4B,GACby6B,EAASv7C,EAAGgmB,IACT,EAEX,QAGI,OAFA00B,EAAgB16C,EAAG,GACnBw7C,GAAUx7C,EAAGoH,EAAKwf,GACXq0B,EAAaj7C,EAAGoH,EAAKyjB,KAIlCswB,EAAe,SAASn7C,EAAGgmB,EAAIy1B,EAAa9K,GAC9C,IAAI+K,EAAS11B,EAAG6E,SAEZ7qB,EAAEg5C,UAAY/3B,EAAcD,KACxBhhB,EAAEg5C,SAAW/3B,GACbo4B,EAAUr5C,EAAG4gB,GAAc,GAC/B5gB,EAAEw5C,MAAQxzB,EAAGwe,SAAS4O,WAG1B,IAAIhmB,EAAMpH,EAAGE,QAGb,OAFAlmB,EAAEgmB,GAAKA,EAAGwe,SACVxkC,EAAEgmB,GAAGhgB,KAAO,KACL21C,EAAY37C,EAAGy7C,EAAaruB,EAAKujB,EAAM+K,IAG5CC,EAAc,SAAS37C,EAAGy7C,EAAaruB,EAAKujB,EAAM+K,GACpD,OAAQA,GACJ,KAAK,EACD,MACJ,KAAK,EACY,IAAT/K,EACA3wC,EAAEmT,MAAMia,GAAKwuB,cAEbx2B,EAAQqC,UAAUznB,EAAGotB,EAAKquB,GAE9B,MAEJ,KAAKt6B,EACD,IAAK,IAAIjiB,EAAI,EAAGA,EAAIyxC,EAAMzxC,IACtBkmB,EAAQqC,UAAUznB,EAAGotB,EAAMluB,EAAGu8C,EAAcv8C,GAChD,IAAK,IAAIA,EAAEc,EAAEsH,IAAKpI,GAAIkuB,EAAMujB,EAAOzxC,WACxBc,EAAEmT,MAAMjU,GAEnB,OADAc,EAAEsH,IAAM8lB,EAAMujB,GACP,EAEX,QAAS,CACL,IAAIzxC,EACJ,GAAIw8C,GAAU/K,EACV,IAAKzxC,EAAI,EAAGA,EAAIw8C,EAAQx8C,IACpBkmB,EAAQqC,UAAUznB,EAAGotB,EAAMluB,EAAGu8C,EAAcv8C,OAC7C,CACH,IAAKA,EAAI,EAAGA,EAAIyxC,EAAMzxC,IAClBkmB,EAAQqC,UAAUznB,EAAGotB,EAAMluB,EAAGu8C,EAAcv8C,GAChD,KAAOA,EAAIw8C,EAAQx8C,IACXkuB,EAAIluB,GAAKc,EAAEsH,IACXtH,EAAEmT,MAAMia,EAAMluB,GAAK,IAAIkmB,EAAQS,OAAOvG,EAAU,MAEhDtf,EAAEmT,MAAMia,EAAMluB,GAAG08C,cAG7B,OAGR,IAAI10B,EAASkG,EAAMsuB,EACnB,IAAK,IAAIx8C,EAAEc,EAAEsH,IAAKpI,GAAGgoB,EAAQhoB,WAClBc,EAAEmT,MAAMjU,GAEnB,OADAc,EAAEsH,IAAM4f,GACD,GAQLmyB,EAAY,SAASr5C,EAAG0iB,EAAOhiB,GACjC,IAAI6xC,EAAOvyC,EAAEuyC,KACb,GAAIA,GAAQvyC,EAAEmsB,UAAW,CACrB,IAAInG,EAAKhmB,EAAEgmB,GACP1e,EAAMtH,EAAEsH,IACRu0C,EAAS71B,EAAG1e,IACZywB,EAAK,IAAIvV,EACbuV,EAAGrV,MAAQA,EACXqV,EAAGjV,YAAcpiB,EACjBq3B,EAAGzU,KAAO0C,EACV00B,EAAgB16C,EAAGkhB,GACnB8E,EAAG1e,IAAMtH,EAAEsH,IAAM4Z,EACjBwgB,EAAW1b,EAAG1e,KAAOtH,EAAEmnB,YACvBnnB,EAAEmsB,UAAY,EACdnG,EAAGsF,YAAcjG,EAAOiwB,YACxB/C,EAAKvyC,EAAG+3B,GACR2J,GAAY1hC,EAAEmsB,WACdnsB,EAAEmsB,UAAY,EACdnG,EAAG1e,IAAMu0C,EACTz0B,EAAWpnB,EAAGsH,GACd0e,EAAGsF,aAAejG,EAAOiwB,cAI3BiG,EAAW,SAASv7C,EAAGgmB,GACzB,IAAIusB,EAAO9xB,EACXuF,EAAGotB,YACEptB,EAAGwe,SAASlZ,WAAajG,EAAOkG,UACnCvF,EAAGwe,SAAS8W,OAAOt1B,EAAGwe,SAAS4O,UAAY,GAAGzO,QAAU/C,EAASE,SAASgT,cACxE9uB,EAAGsF,YAAcjG,EAAO4uB,UACxB1B,EAAO1xB,GAEXw4B,EAAUr5C,EAAGuyC,GAAO,GACpBvsB,EAAGotB,aAGDiI,EAAiB,SAASr7C,EAAG6T,EAAGioC,GAClC,IAKI58C,EALA68C,EAAWloC,EAAE2/B,UAEbwI,EAAQh8C,EAAEsH,IAAMw0C,EAChBnrC,EAAO3Q,EAAEsH,IAGb,IAAKpI,EAAI,EAAGA,EAAI68C,GAAY78C,EAAI48C,EAAQ58C,IACpCkmB,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAM6oC,EAAQ98C,IACrCc,EAAEmT,MAAM6oC,EAAQ98C,GAAG08C,cAGvB,KAAO18C,EAAI68C,EAAU78C,IACjBc,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,MAEpD,OAAO3O,GAGL6qC,GAAY,SAASx7C,EAAGoH,EAAKwf,GAC/B,IAAIyuB,EAAK5vB,EAAIw2B,gBAAgBj8C,EAAG4mB,EAAMnB,EAAI8vB,IAAI2G,SACzC7G,EAAGoE,aAAapE,IACjBrwB,EAAOkzB,eAAel4C,EAAG4mB,EAAMzJ,EAAa,QAAQ,IAExDiI,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAI,IACnC,IAAK,IAAIuM,EAAI7T,EAAEsH,IAAI,EAAGuM,EAAIzM,EAAKyM,IAC3BuR,EAAQqC,UAAUznB,EAAG6T,EAAGA,EAAE,GAC9BuR,EAAQsC,SAAS1nB,EAAGoH,EAAKiuC,IAuBvBzpB,GAAY,SAAS5rB,EAAGoH,EAAK+0C,KACzBn8C,EAAEo8C,SAAWrC,GAdJ,SAAS/5C,GACpBA,EAAEo8C,UAAYrC,EACd/0B,EAAOozB,cAAcp4C,EAAGmd,EAAa,qBAAqB,IACrDnd,EAAEo8C,SAAWrC,GAAkBA,GAAkB,IACtDzB,GAAWt4C,EAAG+jB,GAWds4B,CAAWr8C,GACVi7C,EAAaj7C,EAAGoH,EAAK+0C,IACtBz2B,EAAI42B,aAAat8C,GACrBA,EAAEo8C,WAGA9D,GAAa,SAASt4C,EAAGm6C,GAC3B,GAAIn6C,EAAEu8C,SAEF,MADAv8C,EAAEu8C,SAAS/wB,OAAS2uB,EACdn6C,EAAEu8C,SACL,CACH,IAAIC,EAAIx8C,EAAEymB,IAEV,GADAzmB,EAAEwrB,OAAS2uB,GACPqC,EAAE1pB,WAAWypB,SAGV,CACH,IAAIzvB,EAAQ0vB,EAAE1vB,MAOd,MANIA,IACAotB,EAAYl6C,EAAGm6C,EAASn6C,EAAEsH,KACtBtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,MACbtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,KACjBwlB,EAAM9sB,IAEJ,IAAIjE,MAAM,WAAWo+C,KAV3BqC,EAAE1pB,WAAW3f,MAAMqpC,EAAE1pB,WAAWxrB,OAAStH,EAAEmT,MAAMnT,EAAEsH,IAAM,GACzDgxC,GAAWkE,EAAE1pB,WAAYqnB,KAc/BsC,GAAuB,SAASz8C,EAAGoG,EAAGukB,GACxC,IAAI+xB,EAAa18C,EAAEo8C,QACfO,EAAK,CACLnxB,OAAQ/H,EACR+gB,SAAUxkC,EAAEu8C,UAEhBv8C,EAAEu8C,SAAWI,EAEb,IACIv2C,EAAEpG,EAAG2qB,GACP,MAAO3jB,GACL,GAAI21C,EAAGnxB,SAAW/H,EAAQ,CAGtB,IAAIwJ,EAAgBjtB,EAAEymB,IAAIwG,cAC1B,GAAIA,EACA,IASI,GARA0vB,EAAGnxB,OAAS/H,EAEZyvB,EAAK5qB,kBAAkBtoB,EAAGitB,GAC1BimB,EAAK5gB,sBAAsBtyB,EAAGgH,GAC9B4jB,GAAiB5qB,EAAGA,EAAEsH,IAAM,EAAG,GAIb,IAAdtH,EAAE8rB,QAAe,CACjB,IAAIA,EAAU9rB,EAAE8rB,QAChB1G,EAAQ+D,UAAUnpB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAM,IACrC8d,EAAQqC,UAAUznB,EAAGA,EAAEsH,IAAM,EAAGwkB,GAChClB,GAAiB5qB,EAAGA,EAAEsH,IAAM,EAAG,GAGnCq1C,EAAGnxB,OAAS7H,EACd,MAAMkmB,GACA8S,EAAGnxB,SAAW/H,IAEdk5B,EAAGnxB,QAAU,QAIrBmxB,EAAGnxB,QAAU,GAQzB,OAHAxrB,EAAEu8C,SAAWI,EAAGnY,SAChBxkC,EAAEo8C,QAAUM,EAELC,EAAGnxB,QAQRoxB,GAAc,SAAS58C,EAAGwrB,GAC5B,IAAIxF,EAAKhmB,EAAEgmB,GAGX0b,EAAsB,OAAX1b,EAAG0F,KAA0B,IAAV1rB,EAAEyrB,KAEhCiW,EAAW1b,EAAGsF,WAAajG,EAAO+G,aAAeZ,IAAW9H,GAExDsC,EAAGsF,WAAajG,EAAO+G,cACvBpG,EAAGsF,aAAejG,EAAO+G,YACzBpsB,EAAE8rB,QAAU9F,EAAGiG,eAKfjG,EAAG6E,WAAa1J,GAAenhB,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,MAAKtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,KAClE,IACIqB,GAAI+iB,EADE1F,EAAG0F,KACD1rB,EAAGwrB,EAAQxF,EAAG2F,OAC1BunB,EAAKjtB,gBAAgBjmB,EAAG2I,GACxBwyC,EAAan7C,EAAGgmB,EAAIhmB,EAAEsH,IAAMqB,EAAGA,IAW7Bk0C,GAAS,SAAS78C,EAAG2qB,GAIvB,IAHW,OAAPA,GACAiyB,GAAY58C,EAAG2qB,GAEZ3qB,EAAEgmB,KAAOhmB,EAAE85C,SACR95C,EAAEgmB,GAAGsF,WAAajG,EAAOkG,UAG3B7F,EAAIo3B,cAAc98C,GAClB0lB,EAAI42B,aAAat8C,IAHjB48C,GAAY58C,EAAG0jB,IA0BrBq5B,GAAU,SAAS/8C,EAAGwrB,GACxB,IAAIxF,EAfU,SAAShmB,GACvB,IAAK,IAAIgmB,EAAKhmB,EAAEgmB,GAAW,OAAPA,EAAaA,EAAKA,EAAGwe,SACrC,GAAIxe,EAAGsF,WAAajG,EAAO+G,YACvB,OAAOpG,EAGf,OAAO,KASEg3B,CAAUh9C,GACnB,GAAW,OAAPgmB,EAAa,OAAO,EAExB,IAAIo0B,EAASp0B,EAAGgG,MAQhB,OAPA7G,EAAM83B,WAAWj9C,EAAGo6C,GACpBF,EAAYl6C,EAAGwrB,EAAQ4uB,GACvBp6C,EAAEgmB,GAAKA,EACPhmB,EAAEmsB,UAAYnG,EAAGsF,WAAajG,EAAO6G,SACrClsB,EAAEyrB,IAAM,EACRkvB,EAAiB36C,GACjBA,EAAE8rB,QAAU9F,EAAGiG,cACR,GAQLixB,GAAe,SAASl9C,EAAGW,EAAK+vC,GAClC,IAAIne,EAAK/M,EAAgBxlB,EAAGW,GAC5B,GAAa,IAAT+vC,EACAtrB,EAAQsD,aAAa1oB,EAAGuyB,GACxBxN,EAAU/kB,EAAGA,EAAEsH,KAAOtH,EAAEgmB,GAAG1e,IAAK,sBAC7B,CAEH,IAAK,IAAIpI,EAAE,EAAGA,EAAEwxC,EAAMxxC,WACXc,EAAEmT,QAAQnT,EAAEsH,KACvB8d,EAAQk1B,YAAYt6C,EAAGA,EAAEsH,IAAI,EAAGirB,GAEpC,OAAO5O,GAULw5B,GAAS,SAASn9C,EAAG2I,GACvB,IAAIy0C,EAAWp9C,EAAEsH,IAAMqB,EACnBqd,EAAKhmB,EAAEgmB,GACPhmB,EAAEwrB,SAAW/H,EACRw3B,EAAaj7C,EAAGo9C,EAAW,EAAGj8B,IAC/BuE,EAAI42B,aAAat8C,IAErB0hC,EAAW1hC,EAAEwrB,SAAW9H,GACxB1jB,EAAEwrB,OAAS/H,EACXuC,EAAGE,QAAUF,EAAGgG,MAChBhG,EAAGY,KAAO5mB,EAAEmT,MAAM6S,EAAGE,SAEjBF,EAAGsF,WAAajG,EAAOkG,SACvB7F,EAAI42B,aAAat8C,IAEF,OAAXgmB,EAAG0F,MACH/iB,EAAIqd,EAAG0F,IAAI1rB,EAAG0jB,EAAWsC,EAAG2F,OAC5BunB,EAAKjtB,gBAAgBjmB,EAAG2I,GACxBy0C,EAAWp9C,EAAEsH,IAAMqB,GAGvBwyC,EAAan7C,EAAGgmB,EAAIo3B,EAAUz0C,IAGlCk0C,GAAO78C,EAAG,QAgDZq9C,GAAa,SAASr9C,EAAG6qB,EAAUQ,EAAK5C,GAC1C,IAAIzC,EAAKhmB,EAAEgmB,GAwBX,OAvBAktB,EAAKjtB,gBAAgBjmB,EAAG6qB,GAEpB7qB,EAAEyrB,IAAM,IACJzrB,IAAMA,EAAEymB,IAAIqM,WACZ9N,EAAOozB,cAAcp4C,EAAGmd,EAAa,8CAA8C,IAEnF6H,EAAOozB,cAAcp4C,EAAGmd,EAAa,6CAA6C,KAG1Fnd,EAAEwrB,OAAS9H,EACXsC,EAAGgG,MAAQhG,EAAGE,QACVF,EAAGsF,WAAajG,EAAOkG,SACvBxG,EAAU/kB,EAAS,OAANyoB,EAAY,yCAEzBzC,EAAG0F,IAAMjD,EACC,OAANA,IACAzC,EAAG2F,MAAQN,GACfrF,EAAGE,QAAUlmB,EAAEsH,IAAMujB,EAAW,EAChC7E,EAAGY,KAAO5mB,EAAEmT,MAAM6S,EAAGE,SACrBoyB,GAAWt4C,EAAG0jB,IAGlBge,EAAW1b,EAAGsF,WAAajG,EAAOiwB,aAC3B,GAOLvpB,GAAa,SAAS/rB,EAAG4mB,EAAMnJ,EAAG6/B,EAAS5O,GAC7C,IAAI6O,EAASv9C,EAAEgmB,GACXw3B,EAAiBx9C,EAAEmsB,UACnBsxB,EAAUz9C,EAAEyrB,IACZiyB,EAAc19C,EAAE8rB,QACpB9rB,EAAE8rB,QAAU4iB,EAEZ,IAAIljB,EAASixB,GAAqBz8C,EAAG4mB,EAAMnJ,GAa3C,OAXI+N,IAAW/H,IACX0B,EAAM83B,WAAWj9C,EAAGs9C,GACpBpD,EAAYl6C,EAAGwrB,EAAQ8xB,GACvBt9C,EAAEgmB,GAAKu3B,EACPv9C,EAAEmsB,UAAYqxB,EACdx9C,EAAEyrB,IAAMgyB,EACR9C,EAAiB36C,IAGrBA,EAAE8rB,QAAU4xB,EAELlyB,GAMLZ,GAAmB,SAAS5qB,EAAGoH,EAAK+0C,GACtCn8C,EAAEyrB,MACFG,GAAU5rB,EAAGoH,EAAK+0C,GAClBn8C,EAAEyrB,OAMN,MAAMkyB,GACFl7B,YAAY4O,EAAG5f,EAAM/L,GACjBzJ,KAAKo1B,EAAIA,EACTp1B,KAAKu+B,KAAO,IAAIyf,EAChBh+C,KAAK2hD,IAAM,IAAI/b,EAAQgc,QACvB5hD,KAAKyJ,KAAOA,EACZzJ,KAAKwV,KAAOA,GAIpB,MAAMqsC,GAAY,SAAS99C,EAAG0F,EAAMnD,GAC5BmD,IAA2C,IAAnC2W,EAAkB3W,EAAMnD,EAAE,MAClC6iB,EAAQ6yB,iBAAiBj4C,EACrBmd,EAAa,6CAA8C5a,EAAGmD,GAClE4yC,GAAWt4C,EAAG4jB,KAIhBm6B,GAAW,SAAS/9C,EAAG6T,GACzB,IAAIsU,EACAlL,EAAIpJ,EAAEwd,EAAE2sB,QACR/gC,IAAM0B,EAAc,IACpBm/B,GAAU99C,EAAG6T,EAAEnO,KAAMyX,EAAa,UAAU,IAC5CgL,EAAK6xB,EAAQiE,YAAYj+C,EAAG6T,EAAEwd,EAAGxd,EAAEpC,QAEnCqsC,GAAU99C,EAAG6T,EAAEnO,KAAMyX,EAAa,QAAQ,IAC1CgL,EAAK0Z,EAAQqc,YAAYl+C,EAAG6T,EAAEwd,EAAGxd,EAAE2mB,KAAM3mB,EAAE+pC,IAAK/pC,EAAEpC,KAAMwL,IAG5DykB,EAAWvZ,EAAGrB,YAAcqB,EAAGtU,EAAE8V,SAASnsB,QAC1C2nB,EAAMg5B,gBAAgBn+C,EAAGmoB,IAW7BzK,EAAOC,QAAQyJ,WAAuBA,EACtC1J,EAAOC,QAAQiO,UAAuBA,GACtClO,EAAOC,QAAQiN,iBAAuBA,GACtClN,EAAOC,QAAQ+8B,gBAAuBA,EACtCh9B,EAAOC,QAAQ2P,eAAuBA,EACtC5P,EAAOC,QAAQ07B,UAAuBA,EACtC37B,EAAOC,QAAQygC,YAxlBK,SAASp+C,GACzB06C,EAAgB16C,EAAG,GACnBA,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,OAulBpD5B,EAAOC,QAAQoO,WAAuBA,GACtCrO,EAAOC,QAAQw9B,aAAuBA,EACtCz9B,EAAOC,QAAQs9B,aAAuBA,EACtCv9B,EAAOC,QAAQ2T,qBAlBc,SAAStxB,EAAGqxB,EAAG5f,EAAM/L,GAC9C,IAAImO,EAAI,IAAI8pC,GAAQtsB,EAAG5f,EAAM/L,GAC7B1F,EAAEyrB,MACF,IAAID,EAASO,GAAW/rB,EAAG+9C,GAAUlqC,EAAG7T,EAAEsH,IAAKtH,EAAE8rB,SAEjD,OADA9rB,EAAEyrB,MACKD,GAcX9N,EAAOC,QAAQ8+B,qBAAuBA,GACtC/+B,EAAOC,QAAQ68B,kBAAuBA,EACtC98B,EAAOC,QAAQ26B,WAAuBA,GACtC56B,EAAOC,QAAQwyB,gBA9HS,SAASnwC,GAC7B,OAAiB,IAAVA,EAAEyrB,KA8Hb/N,EAAOC,QAAQ0yB,WAvKI,SAASrwC,EAAGa,EAAMuqB,GACjC,IAAIizB,EAASr+C,EAAEyrB,IAEf,GAAIzrB,EAAEwrB,SAAW/H,GACb,GAAIzjB,EAAEgmB,KAAOhmB,EAAE85C,QACX,OAAOoD,GAAal9C,EAAG,wCAAyCorB,QACjE,GAAIprB,EAAEwrB,SAAW9H,EACpB,OAAOw5B,GAAal9C,EAAG,+BAAgCorB,GAG3D,GADAprB,EAAEo8C,QAAUv7C,EAAOA,EAAKu7C,QAAU,EAAI,EAClCp8C,EAAEo8C,SAAWrC,EACb,OAAOmD,GAAal9C,EAAG,oBAAqBorB,GAEhDprB,EAAEyrB,IAAM,EAERynB,EAAKjtB,gBAAgBjmB,EAAGA,EAAEwrB,SAAW/H,EAAS2H,EAAQ,EAAGA,GAEzD,IAAII,EAASixB,GAAqBz8C,EAAGm9C,GAAQ/xB,GAC7C,IAAgB,IAAZI,EACAA,EAAS7H,MACR,CACD,KAAO6H,EAAS9H,GAAaq5B,GAAQ/8C,EAAGwrB,IAEpCA,EAASixB,GAAqBz8C,EAAG68C,GAAQrxB,GAGzCA,EAAS9H,GACT1jB,EAAEwrB,OAASA,EACX0uB,EAAYl6C,EAAGwrB,EAAQxrB,EAAEsH,KACzBtH,EAAEgmB,GAAG1e,IAAMtH,EAAEsH,KAEbo6B,EAAWlW,IAAWxrB,EAAEwrB,QAMhC,OAHAxrB,EAAEyrB,IAAM4yB,EACRr+C,EAAEo8C,UACF1a,EAAW1hC,EAAEo8C,WAAav7C,EAAOA,EAAKu7C,QAAU,IACzC5wB,GAmIX9N,EAAOC,QAAQ2yB,UAhGG,SAAStwC,EAAG2I,GAC1B00C,GAAWr9C,EAAG2I,EAAG,EAAG,OAgGxB+U,EAAOC,QAAQ0/B,WAAuBA,gCC3uBtC,MAAM,cACF1+B,EAAa,kBACbC,EAAiB,kBACjBC,EACAO,gBAAgB,aACZG,EAAY,YACZU,EAAW,SACXX,EAAQ,YACRY,EAAW,YACXC,EAAW,YACXH,GACH,aACD1D,GACA,EAAQ,MAENgiC,EAAehiC,EAAa,GAAI,IAAK,GAAI,GAAI,GAAI,IAGjDiiC,EAA2C,GAA5Bx9C,OAAO6d,GAA0B7d,OAAO8d,GAG7D,MAAM2/B,EACF/7B,cACIxmB,KAAK+D,EAAI,KACT/D,KAAKwiD,MAAQ,KACbxiD,KAAKkW,KAAO,KACZlW,KAAKkyB,MAAQxL,IACb1mB,KAAKuvB,OAAS7I,KAItB,MAAM+7B,EAAY,SAAS1xC,EAAG0kB,EAAMitB,GACf,IAAbA,EAAEnzB,QAAgBkG,EAAO,IACzBitB,EAAEnzB,OAASmzB,EAAEzwB,OAAOywB,EAAE3+C,EAAGgN,EAAG0kB,EAAMitB,EAAExsC,QAGtCysC,EAAW,SAAS50C,EAAG20C,GACzBD,EAAUpiC,EAAatS,GAAI,EAAG20C,IAG5BE,EAAU,SAASt8C,EAAGo8C,GACxB,IAAIG,EAAK,IAAIC,YAAY,GAChB,IAAI9pB,SAAS6pB,GACnBE,SAAS,EAAGz8C,GAAG,GAClB,IAAI9C,EAAI,IAAI8c,WAAWuiC,GACvBJ,EAAUj/C,EAAG,EAAGk/C,IAGdM,EAAc,SAAS18C,EAAGo8C,GAC5B,IAAIG,EAAK,IAAIC,YAAY,GAChB,IAAI9pB,SAAS6pB,GACnBE,SAAS,EAAGz8C,GAAG,GAClB,IAAI9C,EAAI,IAAI8c,WAAWuiC,GACvBJ,EAAUj/C,EAAG,EAAGk/C,IAGdO,EAAa,SAAS38C,EAAGo8C,GAC3B,IAAIG,EAAK,IAAIC,YAAY,GAChB,IAAI9pB,SAAS6pB,GACnBK,WAAW,EAAG58C,GAAG,GACpB,IAAI9C,EAAI,IAAI8c,WAAWuiC,GACvBJ,EAAUj/C,EAAG,EAAGk/C,IAGdS,EAAa,SAASxqC,EAAG+pC,GAC3B,GAAU,OAAN/pC,EACAgqC,EAAS,EAAGD,OACX,CACD,IAAIjtB,EAAO9c,EAAEyqC,SAAW,EACpBxiD,EAAM+X,EAAEgV,SACR8H,EAAO,IACPktB,EAASltB,EAAMitB,IAEfC,EAAS,IAAMD,GACfM,EAAYvtB,EAAMitB,IAEtBD,EAAU7hD,EAAK60B,EAAO,EAAGitB,KAwE3BW,EAAe,SAASl5C,EAAGm5C,EAASZ,GAClCA,EAAExwB,OAAS/nB,EAAE4L,SAAWutC,EACxBH,EAAW,KAAMT,GAEjBS,EAAWh5C,EAAE4L,OAAQ2sC,GACzBE,EAAQz4C,EAAE2c,YAAa47B,GACvBE,EAAQz4C,EAAE4c,gBAAiB27B,GAC3BC,EAASx4C,EAAEotC,UAAWmL,GACtBC,EAASx4C,EAAEuzC,UAAU,EAAE,EAAGgF,GAC1BC,EAASx4C,EAAEijC,aAAcsV,GA7EZ,SAASv4C,EAAGu4C,GACzB,IAAI/pC,EAAIxO,EAAEnC,KAAKzE,KAAIwH,GAAKA,EAAE/C,OAC1B46C,EAAQjqC,EAAEpX,OAAQmhD,GAElB,IAAK,IAAIz/C,EAAI,EAAGA,EAAI0V,EAAEpX,OAAQ0B,IAC1B2/C,EAAQjqC,EAAE1V,GAAIy/C,GAyElBa,CAASp5C,EAAGu4C,GAtEM,SAASv4C,EAAGu4C,GAC9B,IAAIh2C,EAAIvC,EAAEqiB,EAAEjrB,OACZqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IAAK,CACxB,IAAIonB,EAAIlgB,EAAEqiB,EAAEvpB,GAEZ,OADA0/C,EAASt4B,EAAEoD,QAASi1B,GACZr4B,EAAEoD,SACN,KAAKpK,EACD,MACJ,KAAKC,EACDq/B,EAASt4B,EAAExI,MAAQ,EAAI,EAAG6gC,GAC1B,MACJ,KAAKz+B,EACDg/B,EAAW54B,EAAExI,MAAO6gC,GACpB,MACJ,KAAKx+B,EACD8+B,EAAY34B,EAAExI,MAAO6gC,GACrB,MACJ,KAAK3+B,EACL,KAAKC,EACDm/B,EAAW94B,EAAEm5B,UAAWd,KAmDpCe,CAAct5C,EAAGu4C,GAtCA,SAASv4C,EAAGu4C,GAC7B,IAAIh2C,EAAIvC,EAAEujB,SAASnsB,OACnBqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnB0/C,EAASx4C,EAAEujB,SAASzqB,GAAGygD,QAAU,EAAI,EAAGhB,GACxCC,EAASx4C,EAAEujB,SAASzqB,GAAGf,IAAKwgD,GAkChCiB,CAAax5C,EAAGu4C,GA9CD,SAASv4C,EAAGu4C,GAC3B,IAAIh2C,EAAIvC,EAAEyN,EAAErW,OACZqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBogD,EAAal5C,EAAEyN,EAAE3U,GAAIkH,EAAE4L,OAAQ2sC,GA2CnCkB,CAAWz5C,EAAGu4C,GA/BA,SAASv4C,EAAGu4C,GAC1B,IAAIh2C,EAAIg2C,EAAExwB,MAAQ,EAAI/nB,EAAEuhC,SAASnqC,OACjCqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnB2/C,EAAQz4C,EAAEuhC,SAASzoC,GAAIy/C,GAC3Bh2C,EAAIg2C,EAAExwB,MAAQ,EAAI/nB,EAAE05C,QAAQtiD,OAC5BqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkgD,EAAWh5C,EAAE05C,QAAQ5gD,GAAG6gD,QAASpB,GACjCE,EAAQz4C,EAAE05C,QAAQ5gD,GAAG8gD,QAASrB,GAC9BE,EAAQz4C,EAAE05C,QAAQ5gD,GAAG+gD,MAAOtB,GAEhCh2C,EAAIg2C,EAAExwB,MAAQ,EAAI/nB,EAAEujB,SAASnsB,OAC7BqhD,EAAQl2C,EAAGg2C,GACX,IAAK,IAAIz/C,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkgD,EAAWh5C,EAAEujB,SAASzqB,GAAGuS,KAAMktC,GAiBnCuB,CAAU95C,EAAGu4C,IAiCjBjhC,EAAOC,QAAQuH,UAbG,SAASllB,EAAGoG,EAAG+5C,EAAGhuC,EAAMgc,GACtC,IAAIwwB,EAAI,IAAIH,EASZ,OARAG,EAAE3+C,EAAIA,EACN2+C,EAAEzwB,OAASiyB,EACXxB,EAAExsC,KAAOA,EACTwsC,EAAExwB,MAAQA,EACVwwB,EAAEnzB,OAAS,EAvBI,SAASmzB,GACxBD,EAAU//B,EAAeA,EAAcnhB,OAAQmhD,GAC/CC,EAASL,EAAcI,GACvBC,EArJiB,EAqJKD,GACtBD,EAAUJ,EAAWA,EAAU9gD,OAAQmhD,GACvCC,EAAS,EAAGD,GACZC,EAAS,EAAGD,GACZC,EAAS,EAAGD,GACZC,EAAS,EAAGD,GACZC,EAAS,EAAGD,GACZM,EA/JiB,MA+JKN,GACtBO,EA/JiB,MA+JIP,GAarByB,CAAWzB,GACXC,EAASx4C,EAAEujB,SAASnsB,OAAQmhD,GAC5BW,EAAal5C,EAAG,KAAMu4C,GACfA,EAAEnzB,qCChMb,MAAQpM,gBAAgB,SAAEE,IAAe,EAAQ,MAC3C8F,EAAU,EAAQ,MA8DxB1H,EAAOC,QAAQgJ,SAAoB,IACnCjJ,EAAOC,QAAQ0iC,MA7Df,MACI59B,YAAYziB,GACR/D,KAAKwI,GAAKzE,EAAEymB,IAAI65B,aAChBrkD,KAAKwsB,EAAI,GACTxsB,KAAK4X,EAAI,GACT5X,KAAKgI,KAAO,GACZhI,KAAKmhB,MAAQ,KACbnhB,KAAK0rC,SAAW,GAChB1rC,KAAK0tB,SAAW,GAChB1tB,KAAKu3C,UAAY,EACjBv3C,KAAK09C,WAAY,EACjB19C,KAAKotC,aAAe,EACpBptC,KAAK6jD,QAAU,GACf7jD,KAAK8mB,YAAc,EACnB9mB,KAAK+mB,gBAAkB,EACvB/mB,KAAK+V,OAAS,OA+CtB0L,EAAOC,QAAQ4iC,eAtCQ,SAASvgD,EAAGhD,GAC/B,OAAOgD,EAAEmT,MAAMnW,IAsCnB0gB,EAAOC,QAAQs/B,WAnCI,SAASj9C,EAAGhD,GAG3B,IAAK,IAAIkC,EAAElC,EAAOkC,EAAEc,EAAEsH,IAAKpI,IAAK,CAC5B,IAAI4O,EAAM9N,EAAEmT,MAAMjU,GAClBc,EAAEmT,MAAMjU,GAAK,IAAIkmB,EAAQS,OAAO/X,EAAIzQ,KAAMyQ,EAAIgQ,SA+BtDJ,EAAOC,QAAQg2B,kBAfW,SAASvtC,EAAGo6C,EAAc/b,GAChD,IAAK,IAAIvlC,EAAI,EAAGA,EAAIkH,EAAE05C,QAAQtiD,QAAU4I,EAAE05C,QAAQ5gD,GAAG8gD,SAAWvb,EAAIvlC,IAChE,GAAIulC,EAAKr+B,EAAE05C,QAAQ5gD,GAAG+gD,OAEG,KADrBO,EAEI,OAAOp6C,EAAE05C,QAAQ5gD,GAAG6gD,QAAQn2B,SAGxC,OAAO,MAQXlM,EAAOC,QAAQwgC,gBAzBS,SAASn+C,EAAGmoB,GAChC,IAAK,IAAIjpB,EAAI,EAAGA,EAAIipB,EAAGrB,UAAW5nB,IAC9BipB,EAAG0B,OAAO3qB,GAAK,IAAIkmB,EAAQS,OAAOvG,EAAU,OAwBpD5B,EAAOC,QAAQ8iC,iBA/CU,SAASzgD,EAAG2I,GACjC,OAAO,IAAIyc,EAAQs7B,SAAS1gD,EAAG2I,iCCvBnC,MAAM,QAAE0e,GAAY,EAAQ,OACtB,cAAEyX,GAAkB,EAAQ,OAC5B,aAAE3hB,GAAiB,EAAQ,MAE3BwjC,EAAa,GAUnBjjC,EAAOC,QAAQzb,cAPO,SAASlC,GAE3B,IAAK,IAAI8B,KAAO6+C,EACZ7hB,EAAc9+B,EAAGmd,EAAarb,GAAM6+C,EAAW7+C,GAAM,GACrDulB,EAAQrnB,EAAG,IAKnB,MAAMiC,EAAS,EAAQ,OACjB,aAAEw/B,GAAsB,EAAQ,OAChC,kBAAEuP,GAAsB,EAAQ,OAChC,cAAEgC,GAAsB,EAAQ,OAChC,aAAE4N,GAAsB,EAAQ,OAChC,gBAAEC,GAAsB,EAAQ,OAChC,WAAEC,GAAsB,EAAQ,OAChC,eAAEC,GAAsB,EAAQ,MAChC,cAAEC,GAAsB,EAAQ,OAChC,aAAEC,GAAsB,EAAQ,MAEtCN,EAAe,GAAIlf,EACnBkf,EAAW1+C,EAAOi/C,iBAAmBL,EACrCF,EAAW1+C,EAAOk/C,eAAiBnQ,EACnC2P,EAAW1+C,EAAOm/C,gBAAkBJ,EACpCL,EAAW1+C,EAAOo/C,eAAiBP,EACnCH,EAAW1+C,EAAOq/C,gBAAkBP,EACpCJ,EAAW1+C,EAAOs/C,iBAAmBX,EACrCD,EAAW1+C,EAAOu/C,iBAAmBP,EACrCN,EAAW1+C,EAAOw/C,eAAiBzO,EAKnC,MAAM,gBAAEluB,GAAoB,EAAQ,MACpC67B,EAAW1+C,EAAOy/C,oBAAsB58B,+BCzCxC,MAAM,aAAExI,GAAiB,EAAQ,MAE3BqlC,EAAcrlC,EAChB,EACA,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,GAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GACjD,GAAO,GAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EACjD,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,GAiCrDoB,EAAOC,QAAQikC,SAxBE,SAAS3kC,GACtB,OAA8C,IAAnB,EAAnB0kC,EAAY1kC,EAAE,KAwB1BS,EAAOC,QAAQkkC,UALG,SAAS5kC,GACvB,OAA8D,IAAnC,EAAnB0kC,EAAY1kC,EAAE,KAK1BS,EAAOC,QAAQmkC,UAVG,SAAS7kC,GACvB,OAA8C,IAAnB,EAAnB0kC,EAAY1kC,EAAE,KAU1BS,EAAOC,QAAQokC,SAnBE,SAAS9kC,GACtB,OAA8C,IAAnB,EAAnB0kC,EAAY1kC,EAAE,KAmB1BS,EAAOC,QAAQqkC,SAhBE,SAAS/kC,GACtB,OAA8C,IAAnB,EAAnB0kC,EAAY1kC,EAAE,KAgB1BS,EAAOC,QAAQskC,UAzBG,SAAShlC,GACvB,OAA+C,IAApB,GAAnB0kC,EAAY1kC,EAAE,kCCjD1B,MACImC,gBAAgB,aAAEG,EAAY,YAAEU,GAChCuD,eAAe,cAAEI,GAAe,aAChCzG,GACA,EAAQ,OACN,cACF+kC,EAAa,QACbC,EAAO,WACPzgB,GACA,EAAQ,MACN1c,EAAW,EAAQ,MACnBC,EAAW,EAAQ,OACnB,SACF28B,EAAQ,UACRC,EAAS,UACTC,EAAS,SACTE,EAAQ,UACRC,GACA,EAAQ,MACN78B,EAAW,EAAQ,OACnB,WACFE,EAAU,UACV88B,EAAS,iBACTC,EAAgB,SAChB98B,GACA,EAAQ,MACNI,EAAW,EAAQ,OACnB,IACF28B,EAAG,YACHC,EAAW,gBACXC,EAAe,iBACfC,EAAgB,kBAChBC,GACA,EAAQ,MAENC,EAAiB,IAEjBzN,EAAU/3B,EAAa,QAAQ,GAoC/BylC,EAAcD,IACdE,EAAcF,IAGdG,EAAcH,IAEdI,EAAW,CACb,OAxCgBJ,IAyChB,SAxCgBA,IAyChB,MAxCgBA,IAyChB,QAxCgBA,IAyChB,UAxCgBA,IAyChB,OAxCgBA,IAyChB,SAxCgBA,IAyChB,OAxCgBA,IAyChB,YAxCgBA,IAyChB,QAxCgBA,IAyChB,MAxCgBA,IAyChB,MAxCgBA,IAyChB,SAxCgBA,IAyChB,OAxCgBA,IAyChB,OAxCgBA,IAyChB,MAxCgBA,IAyChB,UAxCgBA,IAyChB,UAxCgBA,IAyChB,QAxCgBA,IAyChB,QAxCgBA,IAyChB,SAxCgBA,IAyChB,SAxCgBA,IAyChB,QAvCgBA,IAwChB,UAvCgBA,IAwChB,QAvCgBA,IAwChB,MAvCgBA,IAwChB,MAvCgBA,IAwChB,MAvCgBA,IAwChB,MAvCgBA,IAwChB,OAvCgBA,IAwChB,OAvCgBA,IAwChB,WAvCgBA,IAwChB,OAAeC,EACf,OAAeC,EACf,OAvCgBF,IAwChB,QAvCgBA,IAwChB,UAAeG,GAGbE,EAAc,CAChB,MAAO,QAAS,KAAM,OAAQ,SAC9B,MAAO,QAAS,MAAO,WAAY,OAAQ,KAC3C,KAAM,QAAS,MAAO,MAAO,KAAM,SACnC,SAAU,OAAQ,OAAQ,QAAS,QACnC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KACrC,KAAM,KAAM,KAAM,QAClB,WAAY,YAAa,SAAU,YACrCxjD,KAAI,CAACwH,EAAG9H,IAAIie,EAAanW,KAE3B,MAAMi8C,EACFxgC,cACIxmB,KAAKwgB,EAAIkG,IACT1mB,KAAKiD,EAAIyjB,IACT1mB,KAAKs2B,GAAK,MAIlB,MAAM2wB,EACFzgC,cACIxmB,KAAKgC,MAAQ0kB,IACb1mB,KAAKknD,QAAU,IAAIF,GAwB3B,MAAMG,EAAO,SAAStd,EAAI7oB,GACtB,IAAIjQ,EAAI84B,EAAGtL,KACX,GAAIxtB,EAAErE,EAAI,EAAIqE,EAAEkoB,OAAO13B,OAAQ,CACvBwP,EAAEkoB,OAAO13B,QAAU2kD,EAAQ,GAC3BkB,EAASvd,EAAI3oB,EAAa,4BAA4B,GAAO,GACjE,IAAI0c,EAA0B,EAAhB7sB,EAAEkoB,OAAO13B,OACvBklD,EAAkB5c,EAAG9lC,EAAGgN,EAAG6sB,GAE/B7sB,EAAEkoB,OAAOloB,EAAErE,KAAOsU,EAAI,EAAI,IAAMA,EAAI,EAAIA,GAGtCqmC,EAAiB,SAASxd,EAAI7nC,GAChC,GAAIA,EAAQ0kD,EACR,OAAOv9B,EAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAa,QAAQ,GAAOlf,GAC/D,CACH,IAAI2W,EAAIouC,EAAY/kD,EAAQ0kD,GAC5B,OAAI1kD,EAAQ2kD,EACDx9B,EAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAa,QAAQ,GAAOvI,GAE3DA,IAIb2uC,EAAgB,SAASzd,GAC3B,OAAsB,KAAfA,EAAG/yB,SAA4D,KAAf+yB,EAAG/yB,SAGxD/M,EAAO,SAAS8/B,GAClBA,EAAG/yB,QAAU+yB,EAAGzU,EAAE2sB,SAGhBwF,EAAgB,SAAS1d,GAC3Bsd,EAAKtd,EAAIA,EAAG/yB,SACZ/M,EAAK8/B,IAQH2d,EAAS,IAAIr+B,EAAQS,OAAOtG,GAAc,GAC1CmkC,EAAiB,SAAS5d,EAAIjpC,GAChC,IAAImD,EAAI8lC,EAAG9lC,EACPuyB,EAAKhN,EAASvlB,EAAGnD,GAEjB8mD,EAAQ7d,EAAGoE,EAAExzB,OAAO+Z,IAAI4xB,EAAiB9vB,IAC7C,GAAKoxB,EAIDpxB,EAAKoxB,EAAM1Z,IAAIwV,cAJP,CACR,IAAIxV,EAAM,IAAI7kB,EAAQS,OAAO5F,EAAasS,GAC1C5M,EAAO8N,aAAazzB,EAAG8lC,EAAGoE,EAAGD,EAAKwZ,GAItC,OAAOlxB,GAOLqxB,EAAgB,SAAS9d,GAC3B,IAAIh4B,EAAMg4B,EAAG/yB,QACb2uB,EAAW6hB,EAAczd,IACzB9/B,EAAK8/B,GACDyd,EAAczd,IAAOA,EAAG/yB,UAAYjF,GACpC9H,EAAK8/B,KACHA,EAAG+d,YAAc1B,GACnBkB,EAASvd,EAAI3oB,EAAa,4BAA4B,GAAO,IAuB/D2mC,EAAc,SAAShe,EAAI7oB,GAC7B,OAAI6oB,EAAG/yB,UAAYkK,IACfjX,EAAK8/B,IACE,IAUTie,EAAc,SAASje,EAAIlQ,GAC7B,OAAIkQ,EAAG/yB,UAAY6iB,EAAI,GAAGl4B,WAAW,IAAMooC,EAAG/yB,UAAY6iB,EAAI,GAAGl4B,WAAW,MACxE8lD,EAAc1d,IACP,IAMTke,EAAe,SAASle,EAAIqd,GAC9B,IAAIc,EAAO,KACPjV,EAAQlJ,EAAG/yB,QAMf,IALA2uB,EAAWkgB,EAAS9b,EAAG/yB,UACvBywC,EAAc1d,GACA,KAAVkJ,GAA0C+U,EAAYje,EAAI,QAC1Dme,EAAO,QAKP,GAFIF,EAAYje,EAAIme,IAChBF,EAAYje,EAAI,MAChBmc,EAAUnc,EAAG/yB,SACbywC,EAAc1d,OACb,IAAmB,KAAfA,EAAG/yB,QAEP,MADDywC,EAAc1d,GAMtB,IAAI7W,EAAM,IAAI7J,EAAQS,OAGtB,OAFwD,IAApDT,EAAQuP,aAAa4tB,EAAYzc,EAAGtL,MAAOvL,IAC3Co0B,EAASvd,EAAI3oB,EAAa,oBAAoB,GAAO0lC,GACrD5zB,EAAIgB,eACJkzB,EAAQjkD,EAAI+vB,EAAInR,MAjOJ6kC,MAoOZjhB,EAAWzS,EAAIi1B,aACff,EAAQ1mC,EAAIwS,EAAInR,MACT+kC,IAeTQ,EAAW,SAASvd,EAAInlC,EAAK1C,GAC/B0C,EAAMqkB,EAAOqzB,aAAavS,EAAG9lC,EAAGW,EAAKmlC,EAAG9zB,OAAQ8zB,EAAG+d,YAC/C5lD,GACAmnB,EAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAa,cAAexc,EAdlD,SAASmlC,EAAI7nC,GAC1B,OAAQA,GACJ,KA3OY0kD,IA2OE,KAAKG,EACnB,KAAKD,EAAQ,KA7ODF,IA+OR,OAAOv9B,EAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAa,QAAQ,GAAOolC,EAAYzc,EAAGtL,OACrF,QACI,OAAO8oB,EAAexd,EAAI7nC,IAOkCkmD,CAASre,EAAI7nC,IACjFgnB,EAAIqzB,WAAWxS,EAAG9lC,EAAG4jB,IAYnBwgC,EAAW,SAASte,GACtB,IAAIlkC,EAAQ,EACRgT,EAAIkxB,EAAG/yB,QAGX,IAFA2uB,EAAiB,KAAN9sB,GAA4C,KAANA,GACjD4uC,EAAc1d,GACQ,KAAfA,EAAG/yB,SACNywC,EAAc1d,GACdlkC,IAEJ,OAAOkkC,EAAG/yB,UAAY6B,EAAIhT,GAAUA,EAAS,GAG3CyiD,EAAmB,SAASve,EAAIqd,EAASmB,GAC3C,IAAI5jD,EAAOolC,EAAG+d,WACdL,EAAc1d,GAEVyd,EAAczd,IACd8d,EAAc9d,GAElB,IAAIye,GAAO,EACX,MAAQA,GACJ,OAAQze,EAAG/yB,SACP,KAAKuvC,EAGDe,EAASvd,EAAI3oB,EADH,mBADCgmC,EAAU,SAAW,+BACuBziD,MACvBkiD,GAChC,MAEJ,KAAK,GACGwB,EAASte,KAAQwe,IACjBd,EAAc1d,GACdye,GAAO,GAEX,MAEJ,KAAK,GACL,KAAK,GACDnB,EAAKtd,EAAI,IACT8d,EAAc9d,GACTqd,GAASV,EAAiB3c,EAAGtL,MAClC,MAEJ,QACQ2oB,EAASK,EAAc1d,GACtB9/B,EAAK8/B,GAKlBqd,IACAA,EAAQ5wB,GAAKmxB,EAAe5d,EAAIA,EAAGtL,KAAKtF,OAAOzC,SAAS,EAAI6xB,EAAKxe,EAAGtL,KAAK7xB,GAAK,EAAI27C,OAGpFE,EAAW,SAAS1e,EAAI7oB,EAAGtc,GACxBsc,IACG6oB,EAAG/yB,UAAYuvC,GACfkB,EAAc1d,GAClBud,EAASvd,EAAInlC,EAAKmiD,KAIpB2B,EAAU,SAAS3e,GAGrB,OAFA0d,EAAc1d,GACd0e,EAAS1e,EAAImc,EAAUnc,EAAG/yB,SAAUoK,EAAa,8BAA8B,IACxEiI,EAAQs/B,eAAe5e,EAAG/yB,UAG/B4xC,EAAc,SAAS7e,GACzB,IAAIrpB,EAAIgoC,EAAQ3e,GAGhB,OAFArpB,GAAKA,GAAK,GAAKgoC,EAAQ3e,GACvB0c,EAAgB1c,EAAGtL,KAAM,GAClB/d,GAsBLmoC,GAAU,SAAS9e,GACrB,IAAItL,EAAO,IAAIje,WAAW6I,EAAQy/B,YAC9Bl8C,EAAIyc,EAAQ0/B,aAAatqB,EArBZ,SAASsL,GAC1B,IAAI5mC,EAAI,EACRskD,EAAc1d,GACd0e,EAAS1e,EAAmB,MAAfA,EAAG/yB,QAA2CoK,EAAa,eAAe,IACvF,IAAIV,EAAIgoC,EAAQ3e,GAGhB,IADA0d,EAAc1d,GACPmc,EAAUnc,EAAG/yB,UAChB7T,IACAud,GAAKA,GAAK,GAAK2I,EAAQs/B,eAAe5e,EAAG/yB,SACzCyxC,EAAS1e,EAAIrpB,GAAK,QAAUU,EAAa,yBAAyB,IAClEqmC,EAAc1d,GAKlB,OAHA0e,EAAS1e,EAAmB,MAAfA,EAAG/yB,QAA2CoK,EAAa,eAAe,IACvFnX,EAAK8/B,GACL0c,EAAgB1c,EAAGtL,KAAMt7B,GAClBud,EAK4BsoC,CAAajf,IAChD,KAAOn9B,EAAI,EAAGA,IACVy6C,EAAKtd,EAAItL,EAAKpV,EAAQy/B,WAAal8C,KAGrCq8C,GAAa,SAASlf,GACxB,IACI5mC,EADAud,EAAI,EAER,IAAKvd,EAAI,EAAGA,EAAI,GAAK0iD,EAAS9b,EAAG/yB,SAAU7T,IACvCud,EAAI,GAAKA,EAAIqpB,EAAG/yB,QAAU,GAC1BywC,EAAc1d,GAIlB,OAFA0e,EAAS1e,EAAIrpB,GAAK,IAAKU,EAAa,4BAA4B,IAChEqlC,EAAgB1c,EAAGtL,KAAMt7B,GAClBud,GAGLwoC,GAAc,SAASnf,EAAIof,EAAK/B,GAGlC,IAFAK,EAAc1d,GAEPA,EAAG/yB,UAAYmyC,GAClB,OAAQpf,EAAG/yB,SACP,KAAKuvC,EACDe,EAASvd,EAAI3oB,EAAa,qBAAqB,GAAOylC,GACtD,MACJ,KAAK,GACL,KAAK,GACDS,EAASvd,EAAI3oB,EAAa,qBAAqB,GAAO2lC,GACtD,MACJ,KAAK,GAA+B,CAEhC,IAAIqC,EACAloC,EACJ,OAHAumC,EAAc1d,GAGPA,EAAG/yB,SACN,KAAK,GAA8BkK,EAAI,EAA2BkoC,EAAO,YAAa,MACtF,KAAK,GAA8BloC,EAAI,EAA8BkoC,EAAO,YAAa,MACzF,KAAK,IAA+BloC,EAAI,GAA+BkoC,EAAO,YAAa,MAC3F,KAAK,IAA+BloC,EAAI,GAA+BkoC,EAAO,YAAa,MAC3F,KAAK,IAA+BloC,EAAI,GAA+BkoC,EAAO,YAAa,MAC3F,KAAK,IAA+BloC,EAAI,EAA8BkoC,EAAO,YAAa,MAC1F,KAAK,IAA+BloC,EAAI,GAA+BkoC,EAAO,YAAa,MAC3F,KAAK,IAA+BloC,EAAI0nC,EAAY7e,GAAKqf,EAAO,YAAa,MAC7E,KAAK,IAA+BP,GAAQ9e,GAAKqf,EAAO,UAAW,MACnE,KAAK,GACL,KAAK,GACDvB,EAAc9d,GAAK7oB,EAAI,GAA+BkoC,EAAO,YAAa,MAC9E,KAAK,GACL,KAAK,GACL,KAAK,GACDloC,EAAI6oB,EAAG/yB,QAASoyC,EAAO,YAAa,MACxC,KAAK7C,EAAK6C,EAAO,UAAW,MAC5B,KAAK,IAGD,IAFA3C,EAAgB1c,EAAGtL,KAAM,GACzBx0B,EAAK8/B,GACEkc,EAASlc,EAAG/yB,UACXwwC,EAAczd,GAAK8d,EAAc9d,GAChC9/B,EAAK8/B,GAEdqf,EAAO,UAAW,MAEtB,QACIX,EAAS1e,EAAI8b,EAAS9b,EAAG/yB,SAAUoK,EAAa,2BAA2B,IAC3EF,EAAI+nC,GAAWlf,GACfqf,EAAO,YAIF,cAATA,GACAn/C,EAAK8/B,GAEI,cAATqf,GAAiC,cAATA,IACxB3C,EAAgB1c,EAAGtL,KAAM,GACzB4oB,EAAKtd,EAAI7oB,IAGb,MAEJ,QACIumC,EAAc1d,GAG1B0d,EAAc1d,GAEdqd,EAAQ5wB,GAAKmxB,EAAe5d,EAAIA,EAAGtL,KAAKtF,OAAOzC,SAAS,EAAGqT,EAAGtL,KAAK7xB,EAAE,KAGnEy8C,GAAiBC,OAAOC,OAAO,MACrCtC,EAAYuC,SAAQ,CAACv+C,EAAG9H,IAAIkmD,GAAehD,EAAUp7C,IAAM9H,IAE3D,MAKMyiC,GAAO,SAASmE,EAAIqd,GAEtB,IADAV,EAAiB3c,EAAGtL,QAGhB,OADAkH,EAAgC,iBAAdoE,EAAG/yB,SACb+yB,EAAG/yB,SACP,KAAK,GACL,KAAK,GACD6wC,EAAc9d,GACd,MAEJ,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,GACD9/B,EAAK8/B,GACL,MAEJ,KAAK,GAED,GADA9/B,EAAK8/B,GACc,KAAfA,EAAG/yB,QAA0C,OAAO,GAGxD,GADA/M,EAAK8/B,GACc,KAAfA,EAAG/yB,QAA0C,CAC7C,IAAIuxC,EAAMF,EAASte,GAEnB,GADA2c,EAAiB3c,EAAGtL,MAChB8pB,GAAO,EAAG,CACVD,EAAiBve,EAAI,KAAMwe,GAC3B7B,EAAiB3c,EAAGtL,MACpB,OAKR,MAAQ+oB,EAAczd,IAAOA,EAAG/yB,UAAYuvC,GACxCt8C,EAAK8/B,GACT,MAEJ,KAAK,GAA8B,CAC/B,IAAIwe,EAAMF,EAASte,GACnB,OAAIwe,GAAO,GACPD,EAAiBve,EAAIqd,EAASmB,GACvBxB,KACS,IAATwB,GACPjB,EAASvd,EAAI3oB,EAAa,iCAAiC,GAAO2lC,GAC/D,IAEX,KAAK,GAED,OADA98C,EAAK8/B,GACDge,EAAYhe,EAAI,IA3fhB6c,IA4fQ,GAEhB,KAAK,GAED,OADA38C,EAAK8/B,GACDge,EAAYhe,EAAI,IA9fhB6c,IA+fKmB,EAAYhe,EAAI,IA7frB6c,IA8fQ,GAEhB,KAAK,GAED,OADA38C,EAAK8/B,GACDge,EAAYhe,EAAI,IArgBhB6c,IAsgBKmB,EAAYhe,EAAI,IAlgBrB6c,IAmgBQ,GAEhB,KAAK,GAED,OADA38C,EAAK8/B,GACDge,EAAYhe,EAAI,IA/gBhB6c,IAghBQ,GAEhB,KAAK,IAED,OADA38C,EAAK8/B,GACDge,EAAYhe,EAAI,IA9gBhB6c,IA+gBQ,IAEhB,KAAK,GAED,OADA38C,EAAK8/B,GACDge,EAAYhe,EAAI,IAhhBhB6c,IAihBQ,GAEhB,KAAK,GACL,KAAK,GAED,OADAsC,GAAYnf,EAAIA,EAAG/yB,QAASowC,GACrBL,EAEX,KAAK,GAED,OADAU,EAAc1d,GACVge,EAAYhe,EAAI,IACZge,EAAYhe,EAAI,IAliBpB6c,IADAA,IAuiBMf,EAAS9b,EAAG/yB,SACVixC,EAAale,EAAIqd,GADU,GAG3C,KAAK,GAA8B,KAAK,GAA8B,KAAK,GAA8B,KAAK,GAA8B,KAAK,GACjJ,KAAK,GAA8B,KAAK,GAA8B,KAAK,GAA8B,KAAK,GAA8B,KAAK,GAC7I,OAAOa,EAAale,EAAIqd,GAE5B,KAAKb,EACD,OAAOM,EAEX,QACI,GAAId,EAAUhc,EAAG/yB,SAAU,CACvB,GACIywC,EAAc1d,SACT+b,EAAU/b,EAAG/yB,UACtB,IAAIwf,EAAKmxB,EAAe5d,EAAIyc,EAAYzc,EAAGtL,OAC3C2oB,EAAQ5wB,GAAKA,EACb,IAAIizB,EAAOJ,GAAe/C,EAAiB9vB,IAC3C,YAAa,IAATizB,GAAmBA,GAAQ,GACpBA,EAAO7C,EA9iBlBA,IAijBG,CACH,IAAI1lC,EAAI6oB,EAAG/yB,QAEX,OADA/M,EAAK8/B,GACE7oB,KAyB3BS,EAAOC,QAAQglC,eAAmBA,EAClCjlC,EAAOC,QAAQu3B,QAAmBA,EAClCx3B,EAAOC,QAAQ8nC,SAzgBf,MACIhjC,cACIxmB,KAAK8W,QAAU4P,IACf1mB,KAAK4nD,WAAalhC,IAClB1mB,KAAK2rC,SAAWjlB,IAChB1mB,KAAKwD,EAAI,IAAIyjD,EACbjnD,KAAKypD,UAAY,IAAIxC,EACrBjnD,KAAKsoC,GAAK,KACVtoC,KAAK+D,EAAI,KACT/D,KAAKo1B,EAAI,KACTp1B,KAAKu+B,KAAO,KACZv+B,KAAKiuC,EAAI,KACTjuC,KAAK2hD,IAAM,KACX3hD,KAAK+V,OAAS,KACd/V,KAAK0pD,KAAO,OA4fpBjoC,EAAOC,QAAQolC,SAAmBA,EAClCrlC,EAAOC,QAAQioC,WArJI,SAASzF,GACxB,IAAIqF,EAAOJ,GAAe/C,EAAiBlC,IAC3C,YAAgB,IAATqF,GAAmBA,GAAQ,IAoJtC9nC,EAAOC,QAAQkoC,eAXQ,SAAS/f,GAG5B,OAFApE,EAAWoE,EAAG4f,UAAUznD,QAAU2kD,GAClC9c,EAAG4f,UAAUznD,MAAQ0jC,GAAKmE,EAAIA,EAAG4f,UAAUvC,SACpCrd,EAAG4f,UAAUznD,OASxByf,EAAOC,QAAQ+lC,eAAmBA,EAClChmC,EAAOC,QAAQmoC,UAzBG,SAAShgB,GACvBA,EAAG8B,SAAW9B,EAAG+d,WACb/d,EAAG4f,UAAUznD,QAAU2kD,GACvB9c,EAAGrmC,EAAExB,MAAQ6nC,EAAG4f,UAAUznD,MAC1B6nC,EAAGrmC,EAAE0jD,QAAQjkD,EAAI4mC,EAAG4f,UAAUvC,QAAQjkD,EACtC4mC,EAAGrmC,EAAE0jD,QAAQ1mC,EAAIqpB,EAAG4f,UAAUvC,QAAQ1mC,EACtCqpB,EAAGrmC,EAAE0jD,QAAQ5wB,GAAKuT,EAAG4f,UAAUvC,QAAQ5wB,GACvCuT,EAAG4f,UAAUznD,MAAQ2kD,GAErB9c,EAAGrmC,EAAExB,MAAQ0jC,GAAKmE,EAAIA,EAAGrmC,EAAE0jD,UAiBnCzlC,EAAOC,QAAQooC,cAvbO,SAAS/lD,EAAG8lC,EAAIzU,EAAGrf,EAAQg0C,GAC7ClgB,EAAGrmC,EAAI,CACHxB,MAAO,EACPklD,QAAS,IAAIF,GAEjBnd,EAAG9lC,EAAIA,EACP8lC,EAAG/yB,QAAUizC,EACblgB,EAAG4f,UAAY,CACXznD,MAAO2kD,EACPO,QAAS,IAAIF,GAEjBnd,EAAGzU,EAAIA,EACPyU,EAAGvB,GAAK,KACRuB,EAAG+d,WAAa,EAChB/d,EAAG8B,SAAW,EACd9B,EAAG9zB,OAASA,EACZ8zB,EAAG6f,KAAOrgC,EAAWtlB,EAAGk1C,GACxBwN,EAAkB1iD,EAAG8lC,EAAGtL,KAAM0nB,IAualCxkC,EAAOC,QAAQkoB,iBA3VU,SAASC,EAAInlC,GAClC0iD,EAASvd,EAAInlC,EAAKmlC,EAAGrmC,EAAExB,QA2V3Byf,EAAOC,QAAQ2lC,eAAmBA,EAClC5lC,EAAOC,QAAQqlC,YAAmBA,+BCpqBlC,MAAM,cAAEiD,GAAkB,EAAQ,MAE5BvkB,EAAa,SAASzkB,GACxB,IAAKA,EAAG,MAAMlhB,MAAM,qBAExB2hB,EAAOC,QAAQ+jB,WAAaA,EAE5BhkB,EAAOC,QAAQsoC,cAAgBA,GAAiB,SAAShsB,EAAGjzB,GAAK,OAAO06B,EAAW16B,IAKnF0W,EAAOC,QAAQoH,UAHG,SAASkV,EAAGjzB,EAAGrG,GAC7B,OAAOslD,EAAchsB,EAAGjzB,GAAKrG,IAKjC+c,EAAOC,QAAQo8B,eADQ,IAKvBr8B,EAAOC,QAAQukC,cADO,GAStBxkC,EAAOC,QAAQuoC,YANK,SAASlmD,EAAG4C,EAAGoK,GAC/B,IAAI+B,EAAInM,EAAIoK,EAGZ,OAFK+B,EAAE/B,EAAK,IACR+B,GAAK/B,GACF+B,GAMX2O,EAAOC,QAAQwkC,QADC,WAGhBzkC,EAAOC,QAAQwoC,SADE,wCChCjB,MAAM,SACFtkC,EAAQ,YACRpC,EAAW,YACX8N,EAAW,WACX/sB,EAAU,cACVwvB,EAAa,gBACbK,EAAe,gBACf2B,EAAe,gBACftN,EAAe,gBACfC,EAAe,YACf+N,EAAW,eACXC,EAAc,cACdI,EAAa,aACbnO,EAAY,WACZqC,EAAU,cACVoO,EAAa,eACbjL,EAAc,SACdU,GACA,EAAQ,OACN,cACF0S,EAAa,cACbvF,EAAa,cACb0F,EAAa,kBACbnE,EAAiB,iBACjBF,EAAgB,WAChBlB,EAAU,YACVvT,EAAW,eACX6Z,GACA,EAAQ,OACN,eACF0nB,EAAc,eACdC,EAAc,oBACdC,GACA,EAAQ,OACN,aAAEnpC,GAAiB,EAAQ,MAEjC,IAAIopC,EAEJ,MAAMC,EAAS,WAEX,OADAD,EAAc,WAAaA,EAAa,MAAS,WAC1CA,GAmGLE,EAAa,SAASzmD,EAAGu5B,GAC3B,IAAI5wB,EAAI29C,EAAoB/sB,IAClB,IAAN5wB,EACA+b,EAAgB1kB,EAAG2I,GAEnBgqB,EAAe3yB,EAAGu5B,IAoIpBmtB,EAAU,CACZ,IAhMa,SAAS1mD,GACtB,GAAIgwB,EAAchwB,EAAG,GAAI,CACrB,IAAI2I,EAAI0sB,EAAcr1B,EAAG,GACrB2I,EAAI,IAAGA,EAAS,GAAHA,GACjB+b,EAAgB1kB,EAAG2I,QAGnBgqB,EAAe3yB,EAAGuH,KAAKo+B,IAAIrM,EAAiBt5B,EAAG,KACnD,OAAO,GAyLP,KAlKc,SAASA,GAEvB,OADA2yB,EAAe3yB,EAAGuH,KAAKo/C,KAAKrtB,EAAiBt5B,EAAG,KACzC,GAiKP,KAxKc,SAASA,GAEvB,OADA2yB,EAAe3yB,EAAGuH,KAAKq/C,KAAKttB,EAAiBt5B,EAAG,KACzC,GAuKP,KA/Jc,SAASA,GACvB,IAAIgK,EAAIsvB,EAAiBt5B,EAAG,GACxBuC,EAAIm8B,EAAe1+B,EAAG,EAAG,GAE7B,OADA2yB,EAAe3yB,EAAGuH,KAAKs/C,MAAM78C,EAAGzH,IACzB,GA4JP,KA7Hc,SAASvC,GAMvB,OALIgwB,EAAchwB,EAAG,GACjBinB,EAAWjnB,EAAG,GAEdymD,EAAWzmD,EAAGuH,KAAKu/C,KAAKxtB,EAAiBt5B,EAAG,KAEzC,GAwHP,IArLa,SAASA,GAEtB,OADA2yB,EAAe3yB,EAAGuH,KAAKw/C,IAAIztB,EAAiBt5B,EAAG,KACxC,GAoLP,IAnFa,SAASA,GAEtB,OADA2yB,EAAe3yB,EAAGs5B,EAAiBt5B,EAAG,IAAM,IAAMuH,KAAKy/C,KAChD,GAkFP,IAzFa,SAAShnD,GAEtB,OADA2yB,EAAe3yB,EAAGuH,KAAK0/C,IAAI3tB,EAAiBt5B,EAAG,KACxC,GAwFP,MA1Ie,SAASA,GAMxB,OALIgwB,EAAchwB,EAAG,GACjBinB,EAAWjnB,EAAG,GAEdymD,EAAWzmD,EAAGuH,KAAKm4B,MAAMpG,EAAiBt5B,EAAG,KAE1C,GAqIP,KAvCc,SAASA,GACvB,GAAIgwB,EAAchwB,EAAG,IAAMgwB,EAAchwB,EAAG,GAAI,CAC5C,IAAIu5B,EAAIlE,EAAcr1B,EAAG,GAEf,IAANu5B,EACAtB,EAAcj4B,EAAG,EAAG,QAEpB0kB,EAAgB1kB,EAAIq1B,EAAcr1B,EAAG,GAAKu5B,EAAG,OAC9C,CACH,IAAI32B,EAAI02B,EAAiBt5B,EAAG,GACxBgN,EAAIssB,EAAiBt5B,EAAG,GAC5B2yB,EAAe3yB,EAAG4C,EAAEoK,GAExB,OAAO,GA2BP,IA9Ga,SAAShN,GACtB,IACIotB,EADA7qB,EAAI+2B,EAAiBt5B,EAAG,GAE5B,GAAIqwB,EAAgBrwB,EAAG,GACnBotB,EAAM7lB,KAAK64B,IAAI79B,OACd,CACD,IAAIoO,EAAO2oB,EAAiBt5B,EAAG,GAE3BotB,EADS,IAATzc,EACMpJ,KAAK2/C,KAAK3kD,GACF,KAAToO,EACCpJ,KAAK4/C,MAAM5kD,GAEXgF,KAAK64B,IAAI79B,GAAGgF,KAAK64B,IAAIzvB,GAGnC,OADAgiB,EAAe3yB,EAAGotB,GACX,GAgGP,IAlEa,SAASptB,GACtB,IAAI2I,EAAInI,EAAWR,GACfonD,EAAO,EACX5pB,EAAcx9B,EAAG2I,GAAK,EAAG,EAAG,kBAC5B,IAAK,IAAIzJ,EAAI,EAAGA,GAAKyJ,EAAGzJ,IAChBquB,EAAYvtB,EAAGonD,EAAMloD,EAAG2iB,KACxBulC,EAAOloD,GAGf,OADA6zB,EAAc/yB,EAAGonD,GACV,GA0DP,IA/Ea,SAASpnD,GACtB,IAAI2I,EAAInI,EAAWR,GACfqnD,EAAO,EACX7pB,EAAcx9B,EAAG2I,GAAK,EAAG,EAAG,kBAC5B,IAAK,IAAIzJ,EAAI,EAAGA,GAAKyJ,EAAGzJ,IAChBquB,EAAYvtB,EAAGd,EAAGmoD,EAAMxlC,KACxBwlC,EAAOnoD,GAGf,OADA6zB,EAAc/yB,EAAGqnD,GACV,GAuEP,KA3Bc,SAASrnD,GACvB,GAAIgwB,EAAchwB,EAAG,GACjBinB,EAAWjnB,EAAG,GACd2yB,EAAe3yB,EAAG,OACf,CACH,IAAI2I,EAAI2wB,EAAiBt5B,EAAG,GACxBsnD,EAAK3+C,EAAI,EAAIpB,KAAKu/C,KAAKn+C,GAAKpB,KAAKm4B,MAAM/2B,GAC3C89C,EAAWzmD,EAAGsnD,GACd30B,EAAe3yB,EAAG2I,IAAM2+C,EAAK,EAAI3+C,EAAI2+C,GAEzC,OAAO,GAkBP,IAtFa,SAAStnD,GAEtB,OADA2yB,EAAe3yB,EAAGs5B,EAAiBt5B,EAAG,IAAMuH,KAAKy/C,GAAK,MAC/C,GAqFP,OApPgB,SAAShnD,GACzB,IAAIunD,EAAKj4B,EAEL7S,OAAoB,IAAf8pC,EAAuBh/C,KAAKigD,SAAUhB,IAAW,WAC1D,OAAQhmD,EAAWR,IACf,KAAK,EAED,OADA2yB,EAAe3yB,EAAGyc,GACX,EACX,KAAK,EACD8qC,EAAM,EACNj4B,EAAKkK,EAAkBx5B,EAAG,GAC1B,MAEJ,KAAK,EACDunD,EAAM/tB,EAAkBx5B,EAAG,GAC3BsvB,EAAKkK,EAAkBx5B,EAAG,GAC1B,MAEJ,QAAS,OAAOo4B,EAAWp4B,EAAG,6BAUlC,OANAw9B,EAAcx9B,EAAGunD,GAAOj4B,EAAI,EAAG,qBAC/BkO,EAAcx9B,EAAGunD,GAAO,GAAKj4B,GAAM82B,EAAiBmB,EAAK,EACrD,sBAEJ9qC,GAAM6S,EAAKi4B,EAAO,EAClB7iC,EAAgB1kB,EAAGuH,KAAKm4B,MAAMjjB,GAAK8qC,GAC5B,GAyNP,WAtNoB,SAASvnD,GArCjB,IAASuC,EAwCrB,OAxCqBA,EAsCb+2B,EAAiBt5B,EAAG,GArC5BumD,EAAe,EAAFhkD,EACM,IAAfgkD,IACAA,EAAa,GAoCjBC,IACO,GAoNP,IAtMa,SAASxmD,GAEtB,OADA2yB,EAAe3yB,EAAGuH,KAAKkgD,IAAInuB,EAAiBt5B,EAAG,KACxC,GAqMP,KAlIc,SAASA,GAEvB,OADA2yB,EAAe3yB,EAAGuH,KAAKmgD,KAAKpuB,EAAiBt5B,EAAG,KACzC,GAiIP,IA9La,SAASA,GAEtB,OADA2yB,EAAe3yB,EAAGuH,KAAKogD,IAAIruB,EAAiBt5B,EAAG,KACxC,GA6LP,UAzKe,SAASA,GACxB,IAAI2I,EAAIyhB,EAAepqB,EAAG,GAO1B,OANU,IAAN2I,EACA+b,EAAgB1kB,EAAG2I,IAEnBg1B,EAAc39B,EAAG,GACjB0yB,EAAY1yB,IAET,GAkKP,KAhEc,SAASA,GAUvB,OATI8qB,EAAS9qB,EAAG,KAAOyf,EACfuQ,EAAchwB,EAAG,GACjB2kB,EAAgB3kB,EAAG,WAEnB2kB,EAAgB3kB,EAAG,UAEvB29B,EAAc39B,EAAG,GACjB0yB,EAAY1yB,IAET,GAuDP,IAjIa,SAASA,GACtB,IAAI4C,EAAI42B,EAAkBx5B,EAAG,GACzBgN,EAAIwsB,EAAkBx5B,EAAG,GAE7B,OADAgyB,EAAgBhyB,EAAI4C,GAAK,EAAIoK,EAAE,GAAKpK,EAAEoK,EAAIA,EAAE,GAAKpK,EAAEoK,GAC5C,IA6IX0Q,EAAOC,QAAQijC,aAbM,SAAS5gD,GAU1B,OATA6kB,EAAY7kB,EAAG0mD,GACf/zB,EAAe3yB,EAAGuH,KAAKy/C,IACvBpiC,EAAa5kB,GAAI,EAAGmd,EAAa,MAAM,IACvCwV,EAAe3yB,EAAG8P,KAClB8U,EAAa5kB,GAAI,EAAGmd,EAAa,QAAQ,IACzCuH,EAAgB1kB,EAAGomD,GACnBxhC,EAAa5kB,GAAI,EAAGmd,EAAa,cAAc,IAC/CuH,EAAgB1kB,EAAGqmD,GACnBzhC,EAAa5kB,GAAI,EAAGmd,EAAa,cAAc,IACxC,gCCxTX,MAAM,WACFyqC,EAAU,aACVC,EAAY,mBACZC,EAAkB,iBAClBC,EAAgB,cAChBC,EAAa,aACbC,GACA,EAAQ,OACN,OACFxkC,EAAM,kBACNjD,EAAiB,SACjBlB,EAAQ,WACRK,EAAU,UACVwL,EAAS,gBACT/B,EAAe,aACfuF,EAAY,WACZgB,EAAU,eACVI,EAAc,UACdI,EAAS,aACTO,EAAY,aACZc,EAAY,QACZnK,EAAO,gBACP2K,EAAe,iBACf/J,EAAgB,kBAChBK,EAAiB,gBACjB2J,EAAe,oBACfI,EAAmB,sBACnBC,EAAqB,gBACrB3N,EAAe,gBACf6N,EAAe,YACfE,EAAW,eACXE,EAAc,cACdG,EAAa,YACb9J,EAAW,YACXmK,EAAW,YACXO,EAAW,YACXE,EAAW,WACXC,EAAU,aACVlP,EAAY,iBACZsP,EAAgB,WAChBjN,EAAU,cACV2N,EAAa,aACbzK,EAAY,eACZ6L,EAAc,iBACdzS,GACA,EAAQ,OACN,iBACF8T,EAAgB,kBAChBC,EAAiB,YACjBK,EAAW,cACX4F,EAAa,cACbxD,EAAa,iBACbb,EAAgB,WAChBd,EAAU,iBACV+C,EAAgB,UAChBiD,EAAS,SACTE,GAAQ,cACRrB,GAAa,YACbpY,GAAW,eACXwU,GAAc,gBACde,GAAe,cACfgB,IACA,EAAQ,MACNn5B,GAAS,EAAQ,OACjB,kBACFoa,GAAiB,YACjBwB,GAAW,aACXV,GAAY,aACZqB,IACA,EAAQ,MACN0pC,GAAW,EAAQ,MAEnBC,GAI2B,oBAAXjjD,OAEPA,OAC6B,oBAAtBkjD,mBAAqCC,gBAAgBD,kBAE5DC,MAGA,EAAIC,MAAM,QAInBC,GAASprC,GAAa,cAYtBqrC,GAAcZ,EACda,GAAcb,EAGdc,GAAUvrC,GAAa,YAGvBwrC,GAAYxrC,GAAa,KAGzByrC,GAAUzrC,GAAa,KAS7B,IAAI0rC,GA2EAC,GAzEAD,GAAY,SAAS7oD,EAAGq8B,EAAM0sB,GAC1B1sB,EAAO7d,GAAa6d,GACpB,IAAIC,EAAM,IAAIC,eAId,GAHAD,EAAItsB,KAAK,MAAOqsB,GAAM,GACtBC,EAAIG,OAEAH,EAAI9Q,OAAS,KAAO8Q,EAAI9Q,QAAU,IAElC,OADAoH,EAAe5yB,EAAGmd,GAAa,GAAGmf,EAAI9Q,WAAW8Q,EAAII,eAC9C,KAGX,IAII9V,EAJA3iB,EAAOq4B,EAAIK,SAEV,sBAAsB/yB,KAAK3F,KAC5BA,GAAQ,kBAAoBo4B,GAEhC,IACIzV,EAAOxd,SAAS,UAAWnF,GAC7B,MAAO+C,GAEL,OADA4rB,EAAe5yB,EAAGmd,GAAa,GAAGnW,EAAEyK,SAASzK,EAAE9F,YACxC,KAEX,IAAIksB,EAAMxG,EAAKshC,IACf,MAAmB,mBAAR96B,GAAsC,iBAARA,GAA4B,OAARA,EAClDA,OACQ,IAARA,EACA+6B,IAEPv1B,EAAe5yB,EAAGmd,GAAa,4CAA4CiQ,OACpE,OA0Df07B,GAAW,SAASzsB,GAChBA,EAAO7d,GAAa6d,GACpB,IAAIC,EAAM,IAAIC,eAKd,OAHAD,EAAItsB,KAAK,MAAOqsB,GAAM,GACtBC,EAAIG,OAEGH,EAAI9Q,QAAU,KAAO8Q,EAAI9Q,QAAU,KAMlD,MAcMw9B,GAAc,SAAShpD,EAAGq8B,EAAM4sB,GAClC,IAAIniB,EAAMoiB,GAAWlpD,EAAGq8B,GACxB,GAAY,OAARyK,EAAc,CAEd,GADAA,EAAM+hB,GAAU7oD,EAAGq8B,GAAM4sB,EAAI,GAAO,IAAIvrD,WAAW,KACvC,OAARopC,EAAc,OAlBV,EAmBRqiB,GAAWnpD,EAAGq8B,EAAMyK,GAExB,GAAImiB,EAAI,KAAO,IAAIvrD,WAAW,GAE1B,OADAs0B,EAAgBhyB,EAAG,GACZ,EAEN,CACD,IAAIoG,EA1EK,SAASpG,EAAG8B,EAAKmnD,GAC9B,IAAI7iD,EAAItE,EAAI+b,GAAYorC,IAExB,OAAI7iD,GAAkB,mBAANA,EACLA,GAEP6rB,EAAgBjyB,EAAGmd,GAAa,wBAAyB8rC,GAClD,MAmECG,CAASppD,EAAG8mC,EAAKmiB,GACzB,OAAU,OAAN7iD,EA1BI,GA4BRkiB,EAAkBtoB,EAAGoG,GACd,KAkBTtK,GAKSqsD,GAOTkB,GAAU,SAASrpD,EAAGspD,EAAWC,EAASC,GAC5C,IAAIC,EAAO,GAAGF,IAAUtnD,GAAOynD,gBAC/B92B,EAAe5yB,EAAGmd,GAAassC,IAC/B,IAAIptB,EAAOvgC,GAAI2tD,QACFvjD,IAATm2B,IACAA,EAAOvgC,GAAIytD,SACFrjD,IAATm2B,GApGM,SAASr8B,GACnB2uB,EAAa3uB,EAAGwgB,EAAmBrD,GAAa,cAChD,IAAInQ,EAAI4nB,EAAc50B,GAAI,GAE1B,OADAqnB,EAAQrnB,EAAG,GACJgN,EAgGmB28C,CAAM3pD,GAC5B4yB,EAAe5yB,EAAGwpD,IAGlBntB,EAAO+B,EACHp+B,EACAmd,GAAakf,GACblf,GAAa8qC,EAAeA,GAAc,GAC1C9qC,GAAa8qC,EAAepqC,GAAY+qC,IAAWX,GAAc,IAErE7pB,EAAUp+B,EAAGq8B,EAAMusB,GAASY,GAC5B11B,EAAW9zB,GAAI,IAEnB4kB,EAAa5kB,GAAI,EAAGspD,GACpBjiC,EAAQrnB,EAAG,IAMTkpD,GAAa,SAASlpD,EAAGq8B,GAC3BjJ,EAAYpzB,EAAGwgB,EAAmB+nC,IAClC55B,EAAa3uB,GAAI,EAAGq8B,GACpB,IAAIutB,EAAO5zB,EAAeh2B,GAAI,GAE9B,OADAqnB,EAAQrnB,EAAG,GACJ4pD,GAOLT,GAAa,SAASnpD,EAAGq8B,EAAMutB,GACjCx2B,EAAYpzB,EAAGwgB,EAAmB+nC,IAClCj2B,EAAsBtyB,EAAG4pD,GACzB72B,EAAc/yB,GAAI,GAClB4kB,EAAa5kB,GAAI,EAAGq8B,GACpB1I,EAAY3zB,GAAI,EAAGs+B,GAASt+B,GAAI,GAAK,GACrCqnB,EAAQrnB,EAAG,IAGT6pD,GAAmB,SAAS7pD,EAAGq8B,GACjC,KAAOA,EAAK,KAAO4rB,EAAavqD,WAAW,IAAI2+B,EAAOA,EAAK5J,SAAS,GACpE,GAAoB,IAAhB4J,EAAK7+B,OAAc,OAAO,KAC9B,IAAIy8B,EAAI5d,GAAkBggB,EAAM4rB,EAAavqD,WAAW,IAGxD,OAFIu8B,EAAI,IAAGA,EAAIoC,EAAK7+B,QACpBg1B,EAAgBxyB,EAAGq8B,EAAMpC,GAClBoC,EAAK5J,SAASwH,IAGnB6vB,GAAa,SAAS9pD,EAAGyR,EAAM4qB,EAAMioB,EAAKyF,GAC5C,IAAIppD,EAAM,IAAIg3B,EAId,IAHAoC,EAAc/5B,EAAGW,GACF,IAAX2jD,EAAI,KACJ7yC,EAAO2sB,EAAUp+B,EAAGyR,EAAM6yC,EAAKyF,IACW,QAAtC1tB,EAAOwtB,GAAiB7pD,EAAGq8B,KAAiB,CAChD,IAAIT,EAAWwC,EAAUp+B,EAAGmqB,EAAanqB,GAAI,GAAImd,GAAa6qC,GAAe,GAAOv2C,GAEpF,GADAqiB,EAAW9zB,GAAI,GACX8oD,GAASltB,GACT,OAAOA,EACX3J,EAAgBjyB,EAAGmd,GAAa,oBAAqBye,GACrD9H,EAAW9zB,GAAI,GACfu9B,EAAc58B,GAGlB,OADAy5B,GAAgBz5B,GACT,MAmBLqpD,GAAW,SAAShqD,EAAGyR,EAAMw4C,EAAOF,GACtCp7B,EAAa3uB,EAAGujB,EAAiB,GAAI0mC,GACrC,IAAI5tB,EAAOlS,EAAanqB,GAAI,GAG5B,OAFa,OAATq8B,GACAjE,EAAWp4B,EAAGmd,GAAa,iCAAkC8sC,GAC1DH,GAAW9pD,EAAGyR,EAAM4qB,EAAMlf,GAAa,KAAM4sC,IAGlDG,GAAY,SAASlqD,EAAG44B,EAAMgD,GAChC,OAAIhD,GACAhG,EAAe5yB,EAAG47B,GACX,GAEAxD,EAAWp4B,EAAGmd,GAAa,mDAC9BgN,EAAanqB,EAAG,GAAI47B,EAAUzR,EAAanqB,GAAI,KAGrDmqD,GAAe,SAASnqD,GAC1B,IAAIyR,EAAOynB,EAAiBl5B,EAAG,GAC3B47B,EAAWouB,GAAShqD,EAAGyR,EAAM0L,GAAa,QAAQ,GAAOA,GAAasrC,IAAa,IACvF,OAAiB,OAAb7sB,EAA0B,EACvBsuB,GAAUlqD,EAAGi9B,GAAcj9B,EAAG47B,KAAcnY,EAAQmY,IAWzDwuB,GAAW,SAASpqD,EAAG47B,EAAUmD,GACnC,IAAIsrB,EACJtrB,EAAUX,EAAUp+B,EAAG++B,EAAS5hB,GAAa,KAAMwrC,IACnD,IAAI2B,EAAOjuC,GAAkB0iB,EA1Td,IA0TkCrhC,WAAW,IAC5D,GAAI4sD,GAAQ,EAAG,CACXD,EAAW73B,EAAgBxyB,EAAG++B,EAASurB,GACvCD,EAAWp4B,EAAgBjyB,EAAGmd,GAAa,QAASurC,GAAS2B,GAC7D,IAAIzxB,EAAOowB,GAAYhpD,EAAG47B,EAAUyuB,GACpC,GA7LQ,IA6LJzxB,EAAkB,OAAOA,EAC7BmG,EAAUurB,EAAO,EAGrB,OADAD,EAAWp4B,EAAgBjyB,EAAGmd,GAAa,QAASurC,GAAS3pB,GACtDiqB,GAAYhpD,EAAG47B,EAAUyuB,IAG9BE,GAAa,SAASvqD,GACxB,IAAIyR,EAAOynB,EAAiBl5B,EAAG,GAC3B47B,EAAWouB,GAAShqD,EAAGyR,EAAM0L,GAAa,UAAU,GAAOA,GAAaqrC,IAAa,IACzF,OAAiB,OAAb5sB,EAA0B,EACvBsuB,GAAUlqD,EAAoC,IAAhCoqD,GAASpqD,EAAG47B,EAAUnqB,GAAcmqB,IAGvD4uB,GAAiB,SAASxqD,GAC5B,IAEI44B,EAFAnnB,EAAOynB,EAAiBl5B,EAAG,GAC3B6T,EAAIwI,GAAkB5K,EAAM,IAAI/T,WAAW,IAE/C,GAAImW,EAAI,EAAG,OAAO,EAClB2e,EAAgBxyB,EAAGyR,EAAMoC,GACzB,IAAI+nB,EAAWouB,GAAShqD,EAAGmqB,EAAanqB,GAAI,GAAImd,GAAa,UAAU,GAAOA,GAAaqrC,IAAa,IACxG,OAAiB,OAAb5sB,EAA0B,EACe,KAAxChD,EAAOwxB,GAASpqD,EAAG47B,EAAUnqB,IAnNtB,GAoNJmnB,EACOsxB,GAAUlqD,EAAG,EAAG47B,IAEvBhJ,EAAe5yB,EAAGmd,GAAa,mCAAoC1L,EAAMmqB,GAClE,IAGfhJ,EAAe5yB,EAAG47B,GACX,IAGL6uB,GAAmB,SAASzqD,GAC9B,IAAIyR,EAAOynB,EAAiBl5B,EAAG,GAI/B,OAHA2uB,EAAa3uB,EAAGwgB,EAAmB8W,GAC/B3I,EAAa3uB,GAAI,EAAGyR,KAAU6N,GAC9B2S,EAAgBjyB,EAAGmd,GAAa,sCAAuC1L,GACpE,GAaLi5C,GAAkB,SAAS1qD,EAAGwrB,EAAQH,GAExC,KACQG,IAAW/H,GACPwF,EAAYjpB,EAAG,EAAGqrB,EAAInsB,KAAOogB,IAC7B+H,EAAQrnB,EAAG,GACXo6B,GAAgB/O,EAAI1qB,KACpBy3B,EAAWp4B,EAAGmd,GAAa,4BAA6BkO,EAAI5Z,KAAM0Y,EAAanqB,GAAI,KAEvF4yB,EAAe5yB,EAAGqrB,EAAI5Z,MACtB0Z,EAAUnrB,EAAG,EAAG,EAAGqrB,EAAKq/B,KAExBl/B,EAAS/H,GAETsM,EAAe/vB,GAAI,GAZlBqrB,EAAInsB,IAcAwxB,EAAa1wB,GAAI,IACtBqnB,EAAQrnB,EAAG,GACXu9B,EAAclS,EAAI1qB,MAGlB0mB,EAAQrnB,EAAG,GAEnB,OAAOqrB,EAAI5C,EAAEzoB,EAAGyjB,EAAQ4H,EAAIA,MAgB1Bs/B,GAAkB,SAAS3qD,EAAGwrB,EAAQH,GAKxC,OAHAuH,EAAe5yB,EADJqrB,GAEXsE,EAAW3vB,GAAI,GACfmrB,EAAUnrB,EAAG,EAAG,EAAGqrB,EAAKu/B,IACjBA,GAAiB5qD,EAAGyjB,EAAQ4H,IAGjCu/B,GAAmB,SAAS5qD,EAAGwrB,EAAQH,GACzC,IAAI5Z,EAAO4Z,EAQX,OAPK8E,EAAUnwB,GAAI,IACf4kB,EAAa5kB,EAAG,EAAGyR,GACnBkd,EAAa3uB,EAAG,EAAGyR,IAAS6N,IAC5B0S,EAAgBhyB,EAAG,GACnB+yB,EAAc/yB,GAAI,GAClB4kB,EAAa5kB,EAAG,EAAGyR,IAEhB,GAGLo5C,GAAW,CACb,QA5Qe,SAAS7qD,GACxB,IAAIq8B,EAAOnD,EAAiBl5B,EAAG,GAC3B8qD,EAAO5xB,EAAiBl5B,EAAG,GAC3B44B,EAAOowB,GAAYhpD,EAAGq8B,EAAMyuB,GAChC,OAAa,IAATlyB,EACO,GAEPlG,EAAY1yB,GACZ2vB,EAAW3vB,GAAI,GACf2kB,EAAgB3kB,EA3CR,IA2CY44B,EA5JX,OA4JyC,QAC3C,IAmQX,WAzKkB,SAAS54B,GAQ3B,OAAU,OAPF8pD,GACJ9pD,EACAk5B,EAAiBl5B,EAAG,GACpBk5B,EAAiBl5B,EAAG,GACpBq5B,GAAer5B,EAAG,EAAG,KACrBq5B,GAAer5B,EAAG,EAAG4nD,IAEF,GAEnBl1B,EAAY1yB,GACZ2vB,EAAW3vB,GAAI,GACR,KAgKT+qD,GAAW,CACb,QAvCe,SAAS/qD,GACxB,IAAIyR,EAAOynB,EAAiBl5B,EAAG,GAI/B,OAHAinB,EAAWjnB,EAAG,GACd2uB,EAAa3uB,EAAGwgB,EAAmB6W,GACnC1I,EAAa3uB,EAAG,EAAGyR,GACfmjB,EAAc50B,GAAI,GACX,GAEXqnB,EAAQrnB,EAAG,GA5CI,SAASA,EAAGyR,EAAM4Z,EAAK5C,GACtC,IAAI9nB,EAAM,IAAIg3B,EAMd,OALAoC,EAAc/5B,EAAGW,GAEbguB,EAAa3uB,EAAGujB,EAAiB,GAAIpG,GAAa,aAAa,MAAWwC,GAC1EyY,EAAWp4B,EAAGmd,GAAa,wCAExButC,GAAgB1qD,EAAGyjB,EADf,CAAChS,KAAMA,EAAMvS,EAAG,EAAGyB,IAAKA,EAAK0qB,IAAKA,EAAK5C,EAAGA,IAwC9CuiC,CAAWhrD,EAAGyR,EADXA,EACsBk5C,OAgFpCjtC,EAAOC,QAAQkjC,gBAxBS,SAAS7gD,GAqB7B,OA5BsB,SAASA,GAC/BwxB,EAAaxxB,GACbopB,EAAgBppB,EAAG,EAAG,GACtBk0B,EAAiBl0B,GAAI,GACrB6zB,EAAY7zB,EAAGwgB,EAAmB+nC,IAIlC0C,CAAkBjrD,GAClB6kB,GAAY7kB,EAAG6qD,IA1BU,SAAS7qD,GAClC,IAAIkrD,EAAY,CAACT,GAAkBN,GAAcI,GAAYC,GAAgB,MAE7EphC,EAAgBppB,GAEhB,IAAK,IAAId,EAAI,EAAGgsD,EAAUhsD,GAAIA,IAC1B6zB,EAAc/yB,GAAI,GAClBioB,EAAiBjoB,EAAGkrD,EAAUhsD,GAAI,GAClCy0B,EAAY3zB,GAAI,EAAGd,EAAE,GAEzB0lB,EAAa5kB,GAAI,EAAGmd,GAAa,aAAa,IAiB9CguC,CAAqBnrD,GAErBqpD,GAAQrpD,EAAGmd,GAAa,QAAQ,GAvdf,WAudoC4qC,GACrDsB,GAAQrpD,EAAGmd,GAAa,UAAU,GAvdf,aAudsC2qC,GAEzDnjC,EAAgB3kB,EAAG4nD,EAAa,KAAOK,EAAe,KAAOD,EAAgB,KACzDH,EADDD,SAEnBhjC,EAAa5kB,GAAI,EAAGmd,GAAa,UAAU,IAE3Cge,EAAiBn7B,EAAGwgB,EAAmB6W,GACvCzS,EAAa5kB,GAAI,EAAGmd,GAAa,UAAU,IAE3Cge,EAAiBn7B,EAAGwgB,EAAmB8W,GACvC1S,EAAa5kB,GAAI,EAAGmd,GAAa,WAAW,IAC5CkV,EAAoBryB,GACpB+yB,EAAc/yB,GAAI,GAClBo7B,GAAcp7B,EAAG+qD,GAAU,GAC3B1jC,EAAQrnB,EAAG,GACJ,gCChkBX,MAAM,UACFohB,EAAS,WACTC,EAAU,WACVC,EAAU,UACVC,EAAS,WACTC,EAAU,UACVC,EAAS,WACTE,EAAU,UACVG,EAAS,UACTC,EAAS,UACTC,EAAS,UACTC,EAAS,UACTC,EAAS,UACTC,EAAS,UACTC,EACAhD,gBAAgB,YACZW,EAAW,aACXR,EAAY,SACZe,EAAQ,cACRV,EAAa,SACbS,EAAQ,SACRD,EAAQ,mBACRZ,EAAkB,YAClBS,EAAW,SACXX,EAAQ,YACRG,EAAW,YACXS,EAAW,YACXC,EAAW,YACXH,EAAW,YACXN,EAAW,WACXC,EAAU,YACVG,EAAW,cACXD,GACH,gBACDnB,EAAe,kBACfrC,EAAiB,aACjBC,EAAY,YACZuB,EAAW,aACXV,GACA,EAAQ,OACN,SACFykC,EAAQ,SACRG,EAAQ,SACRC,EAAQ,UACRC,GACA,EAAQ,MACNj9B,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBI,EAAU,EAAQ,OAClB,WACFC,EAAU,SACVC,GACA,EAAQ,MACNI,EAAU,EAAQ,OAClB,uBACFylC,EAAsB,MACtBC,EAAK,gBACLC,EAAe,eACfC,GACA,EAAQ,MACN7lC,EAAU,EAAQ,OAClB,QACFy8B,GAAO,YACP+D,GAAW,WACXxkB,IACA,EAAQ,MACNjc,GAAU,EAAQ,MAElB+lC,GAAazrC,EACb0rC,GAAe1rC,EAAY,EAEjC,MAAM8F,GAEFpD,YAAYplB,EAAMygB,GACd7hB,KAAKoB,KAAOA,EACZpB,KAAK6hB,MAAQA,EAIjB4L,QACI,OAAmB,GAAZztB,KAAKoB,KAIhB2rB,QACI,OAAmB,GAAZ/sB,KAAKoB,KAGhBquD,SAASjsD,GACL,OAAOxD,KAAKoB,OAASoC,EAGzBksD,UAAUlsD,GACN,OAAOxD,KAAK+sB,UAAYvpB,EAG5BmsD,aACI,OAAO3vD,KAAK0vD,UAAUlsC,GAG1BykC,YACI,OAAOjoD,KAAKyvD,SAASxrC,GAGzB+P,cACI,OAAOh0B,KAAKyvD,SAASvrC,GAGzBgU,UACI,OAAOl4B,KAAKyvD,SAASpsC,GAGzBusC,cACI,OAAO5vD,KAAKyvD,SAASnsC,GAGzBuR,oBACI,OAAO70B,KAAKyvD,SAASlsC,GAGzBuK,aACI,OAAO9tB,KAAK0vD,UAAUjsC,GAG1BosC,gBACI,OAAO7vD,KAAKyvD,SAAS1rC,GAGzB+rC,gBACI,OAAO9vD,KAAKyvD,SAASzrC,GAGzBiJ,YACI,OAAOjtB,KAAKyvD,SAAS/rC,GAGzB85B,eACI,OAAOx9C,KAAK0vD,UAAU/rC,GAG1B85B,cACI,OAAoB,GAAZz9C,KAAKoB,QAAiBuiB,EAGlCkQ,eACI,OAAO7zB,KAAKyvD,SAASprC,GAGzBiM,eACI,OAAOtwB,KAAKyvD,SAAStrC,GAGzByG,UACI,OAAO5qB,KAAKyvD,SAASrrC,GAGzBmP,mBACI,OAAOvzB,KAAKyvD,SAAS7rC,GAGzBkW,aACI,OAAO95B,KAAKyvD,SAAS5rC,GAGzBksC,cACI,OAAO/vD,KAAKyvD,SAASD,IAGzB52B,YACI,OAAO54B,KAAKk4B,WAAcl4B,KAAK4vD,gBAAgC,IAAf5vD,KAAK6hB,MAGzDmuC,YAAY1pD,GACRtG,KAAKoB,KAAO6iB,EACZjkB,KAAK6hB,MAAQvb,EAGjB2pD,YAAY3pD,GACRm/B,GAAWzlC,KAAKoB,MAAQ6iB,GACxBjkB,KAAK6hB,MAAQvb,EAGjB4pD,UAAU5pD,GACNtG,KAAKoB,KAAO8iB,EACZlkB,KAAK6hB,MAAQvb,EAGjB6pD,UAAU7pD,GACNm/B,GAAWzlC,KAAKoB,MAAQ8iB,GACxBlkB,KAAK6hB,MAAQvb,EAGjBq5C,cACI3/C,KAAKoB,KAAOiiB,EACZrjB,KAAK6hB,MAAQ,KAGjBuuC,UAAU9pD,GACNtG,KAAKoB,KAAOgjB,EACZpkB,KAAK6hB,MAAQvb,EAGjB+pD,UAAU/pD,GACNtG,KAAKoB,KAAOmiB,EACZvjB,KAAK6hB,MAAQvb,EAGjBgqD,UAAUhqD,GACNtG,KAAKoB,KAAOkiB,EACZtjB,KAAK6hB,MAAQvb,EAGjBiqD,UAAUjqD,GACNtG,KAAKoB,KAAO4iB,EACZhkB,KAAK6hB,MAAQvb,EAGjBkqD,UAAUlqD,GACNtG,KAAKoB,KAAOwiB,EACZ5jB,KAAK6hB,MAAQvb,EAGjBmqD,WAAWnqD,GACPtG,KAAKoB,KAAOyiB,EACZ7jB,KAAK6hB,MAAQvb,EAGjBoqD,YAAYpqD,GACRtG,KAAKoB,KAAO+iB,EACZnkB,KAAK6hB,MAAQvb,EAGjB6lB,YAAY7lB,GACRtG,KAAKoB,KAAOijB,EACZrkB,KAAK6hB,MAAQvb,EAGjBqqD,UAAUrqD,GACNtG,KAAKoB,KAAOsiB,EACZ1jB,KAAK6hB,MAAQvb,EAGjBsqD,eACI5wD,KAAKoB,KAAOouD,GACZxvD,KAAK6hB,MAAQ,KAGjBkK,QAAQgJ,GACJ/0B,KAAKoB,KAAO2zB,EAAG3zB,KACfpB,KAAK6hB,MAAQkT,EAAGlT,MAGpB2hC,UAEI,OADA/d,GAAWzlC,KAAK8tB,cACT9tB,KAAK6hB,MAGhBoM,SACI,OAAOjuB,KAAKwjD,UAAU71B,SAG1B0J,QACI,OAAOr3B,KAAKwjD,UAAUJ,SAG1B/pB,SAASz0B,EAAMG,GACX,OAAO6c,EAAY5hB,KAAKiuB,SAAUrpB,EAAMG,GAAI,IAIpD,MAcMs5C,GAAc,SAASt6C,EAAG8sD,EAAQv6B,GACpCvyB,EAAEmT,MAAM25C,GAAQN,UAAUj6B,IAGxBhM,GAAiB,IAAIV,GAAOvG,EAAU,MAC5C+lC,OAAO0H,OAAOxmC,IACd7I,EAAOC,QAAQ4I,eAAiBA,GAEhC,MAAMm6B,GAEFj+B,YAAYziB,EAAG2I,GACX1M,KAAKwI,GAAKzE,EAAEymB,IAAI65B,aAEhBrkD,KAAK4X,EAAI,KACT5X,KAAK6qB,UAAYne,EACjB1M,KAAK4tB,OAAS,IAAIrb,MAAM7F,IAKhC,MAAMmd,GAEFrD,YAAYziB,EAAGoG,EAAGuC,GAMd,IALA1M,KAAKwI,GAAKzE,EAAEymB,IAAI65B,aAEhBrkD,KAAKmK,EAAIA,EACTnK,KAAK6qB,UAAYne,EACjB1M,KAAK8qB,QAAU,IAAIvY,MAAM7F,GAClBA,KACH1M,KAAK8qB,QAAQpe,GAAK,IAAIkd,GAAOvG,EAAU,OAMnD,MAAMqS,GAEFlP,YAAYziB,EAAG0xB,GACXz1B,KAAKwI,GAAKzE,EAAEymB,IAAI65B,aAEhBrkD,KAAKizB,UAAY,KACjBjzB,KAAKyzB,UAAY,IAAI7J,GAAOvG,EAAU,MACtCrjB,KAAKif,IAAMwW,EACXz1B,KAAKkW,KAAOkzC,OAAOC,OAAO,OAiBlC,MAAM0H,GAAO7vC,EAAa,OACpB8vC,GAAO9vC,EAAa,aACpB+vC,GAAO/vC,EAAa,MA+CpBunC,GAAiB,SAASznC,GAC5B,OAAI2kC,EAAS3kC,GAAWA,EAAI,IACX,IAAJA,GAAY,IAKvB6nC,GAAe,SAAStqB,EAAMj4B,GAChC,IAAIoG,EAAI,EAER,GADA+4B,GAAWn/B,GAAK,SACZA,EAAI,IACJi4B,EAAKqqB,GAAkBtiD,MACtB,CACD,IAAI4qD,EAAM,GACV,GACI3yB,EAVO,EAUY7xB,KAAQ,IAAY,GAAJpG,EACnCA,IAAM,EACN4qD,IAAQ,QACH5qD,EAAI4qD,GACb3yB,EAdW,EAcO7xB,IAAOwkD,GAAO,EAAK5qD,EAEzC,OAAOoG,GAmFLykD,GAAS,CACX,GACA,IACA,GACA,IACA,IAEEC,GAAQ,CACV,GAAO,IACP,IAAO,IACP,GAAO,IACP,IAAO,IACP,GAAO,KAsBLC,GAAW/lD,KAAKm4B,MAAMyiB,GAAU,IAChCoL,GAAWpL,GAAU,GAmDrBl4B,GAAgB,SAASjqB,EAAGivB,GAC9B,IAAIuL,EACJ,GAAIvL,EAAIgB,cACJuK,EAAOrd,EAAamuC,EAAgBr8B,EAAInR,YACvC,CACD,IAAIjhB,EAAM0uD,EAAet8B,EAAInR,QACxBstC,GAA0B,mBAAmBxhD,KAAK/M,KACnDA,GAAO,MAEX29B,EAAOrd,EAAatgB,GAExBoyB,EAAIu9B,UAAUlnC,EAAWtlB,EAAGw6B,KAG1BgzB,GAAU,SAASxtD,EAAGnD,GACxBooB,EAAIm5B,YAAYp+C,GAChBs6C,GAAYt6C,EAAGA,EAAEsH,IAAI,EAAGie,EAASvlB,EAAGnD,KAGlCu1B,GAAoB,SAASpyB,EAAGkyB,EAAKC,GACvC,IAGInrB,EAHA2B,EAAI,EACJzJ,EAAI,EACJ0D,EAAI,EAER,KACIoE,EAAIqV,EAAkB6V,EAAK,GAA8BhzB,IAC/C,GAAN8H,GAFC,CAIL,OADAwmD,GAAQxtD,EAAGkyB,EAAIO,SAASvzB,EAAG8H,IACpBkrB,EAAIlrB,EAAE,IACT,KAAK,IAA+B,CAChC,IAAI4N,EAAIud,EAAKvvB,KACb,GAAU,OAANgS,EAAYA,EAAIuI,EAAa,UAAU,OACtC,CACDvI,EAAI8J,EAAgB9J,GAEpB,IAAI1V,EAAImd,EAAkBzH,EAAG,IAClB,IAAP1V,IACA0V,EAAIA,EAAE6d,SAAS,EAAGvzB,IAE1BsuD,GAAQxtD,EAAG4U,GACX,MAEJ,KAAK,GAA8B,CAC/B,IAAI4lB,EAAOrI,EAAKvvB,KACZm/C,EAASvnB,GACTgzB,GAAQxtD,EAAGsc,EAAake,IAExByd,GAAiBj4C,EAAGmd,EAAa,UAAU,GAAOqd,GACtD,MAEJ,KAAK,IACL,KAAK,GACDvV,EAAIm5B,YAAYp+C,GAChBA,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAG6kD,UAAUh6B,EAAKvvB,MAChCqnB,GAAcjqB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAI,IAC/B,MACJ,KAAK,IACD2d,EAAIm5B,YAAYp+C,GAChBA,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAG2kD,YAAY95B,EAAKvvB,MAClCqnB,GAAcjqB,EAAGA,EAAEmT,MAAMnT,EAAEsH,IAAI,IAC/B,MACJ,KAAK,IAA+B,CAChC,IAAIoV,EAAIyV,EAAKvvB,KACb,GAAI8Z,aAAa2I,EAAOsQ,WACpBjZ,aAAaiJ,EAAO8nC,OACpB/wC,aAAaiV,IACbjV,aAAagkC,IACbhkC,aAAaoJ,GACb0nC,GAAQxtD,EAAGmd,EAAa,KAAKT,EAAEjY,GAAGga,SAAS,WAE3C,cAAc/B,GACV,IAAK,YACD8wC,GAAQxtD,EAAGmd,EAAa,cACxB,MACJ,IAAK,SACDqwC,GAAQxtD,EAAGmd,EAAa,UAAUT,EAAE,MACpC,MACJ,IAAK,SACD8wC,GAAQxtD,EAAGmd,EAAa,UAAUuwC,KAAKC,UAAUjxC,GAAG,MACpD,MACJ,IAAK,UACD8wC,GAAQxtD,EAAGmd,EAAaT,EAAE,gBAAgB,mBAC1C,MACJ,IAAK,SACD,GAAU,OAANA,EAAY,CACZ8wC,GAAQxtD,EAAGmd,EAAa,SACxB,MAGR,IAAK,WAAY,CACb,IAAI1Y,EAAKzE,EAAEymB,IAAImnC,IAAIn9B,IAAI/T,GAClBjY,IACDA,EAAKzE,EAAEymB,IAAI65B,aACXtgD,EAAEymB,IAAImnC,IAAIh4B,IAAIlZ,EAAGjY,IAErB+oD,GAAQxtD,EAAGmd,EAAa,KAAK1Y,EAAGga,SAAS,MACzC,MAEJ,QAEI+uC,GAAQxtD,EAAGmd,EAAa,aAGpC,MAEJ,KAAK,GAA8B,CAC/B,IAAIqd,EAAO,IAAIje,WAnSZ,GAoSC0d,EAAI6qB,GAAatqB,EAAMrI,EAAKvvB,MAChC4qD,GAAQxtD,EAAGw6B,EAAK/H,SArSb,EAqSmCwH,IACtC,MAEJ,KAAK,GACDuzB,GAAQxtD,EAAGmd,EAAa,KAAK,IAC7B,MACJ,QACI6H,EAAOozB,cAAcp4C,EAAGmd,EAAa,8CAA+C+U,EAAIlrB,EAAI,IAEpG2B,GAAK,EACLzJ,EAAI8H,EAAI,EAKZ,OAHAie,EAAIy1B,gBAAgB16C,EAAG,GACvBwtD,GAAQxtD,EAAGkyB,EAAIO,SAASvzB,IACpByJ,EAAI,GAAG+c,EAAIsI,YAAYhuB,EAAG2I,EAAE,GACzB3I,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAG4iB,UAGtB+tB,GAAmB,SAASj4C,EAAGkyB,KAAQC,GACzC,OAAOC,GAAkBpyB,EAAGkyB,EAAKC,IAuB/B07B,GAAW,SAAS7tD,EAAG0sB,EAAI2gB,EAAIC,GACjC,OAAQ5gB,GACJ,KAAKtL,EAAY,OAAQisB,EAAKC,EAAI,EAClC,KAAKnrB,EAAY,OAAQkrB,EAAKC,EAAI,EAClC,KAAKvrB,EAAY,OAAO2D,EAAIooC,UAAUzgB,EAAIC,GAC1C,KAAKxrB,EAAY,OAAO4D,EAAIqoC,SAAS/tD,EAAGqtC,EAAIC,GAC5C,KAAK3rB,EAAY,OAAO+D,EAAIsoC,SAAShuD,EAAGqtC,EAAIC,GAC5C,KAAKjsB,EAAY,OAAQgsB,EAAKC,EAC9B,KAAK/rB,EAAY,OAAQ8rB,EAAKC,EAC9B,KAAK9rB,EAAY,OAAQ6rB,EAAKC,EAC9B,KAAKrrB,EAAY,OAAOyD,EAAIuoC,YAAY5gB,EAAIC,GAC5C,KAAKprB,EAAY,OAAOwD,EAAIuoC,YAAY5gB,GAAKC,GAC7C,KAAKlrB,EAAY,OAAQ,EAAIirB,EAAI,EACjC,KAAK/rB,EAAY,OAAQ,EAAK+rB,EAC9B,QAAS3L,GAAW,KAKtBwsB,GAAW,SAASluD,EAAG0sB,EAAI2gB,EAAIC,GACjC,OAAQ5gB,GACJ,KAAKtL,EAAY,OAAOisB,EAAKC,EAC7B,KAAKnrB,EAAY,OAAOkrB,EAAKC,EAC7B,KAAKvrB,EAAY,OAAOsrB,EAAKC,EAC7B,KAAK7rB,EAAY,OAAO4rB,EAAKC,EAC7B,KAAKtrB,EAAY,OAAOza,KAAK4mD,IAAI9gB,EAAIC,GACrC,KAAK3rB,EAAY,OAAOpa,KAAKm4B,MAAM2N,EAAKC,GACxC,KAAKlrB,EAAY,OAAQirB,EACzB,KAAKvrB,EAAY,OAAOokC,GAAYlmD,EAAGqtC,EAAIC,GAC3C,QAAS5L,GAAW,KA6C5BhkB,EAAOC,QAAQmI,SAAoBA,GACnCpI,EAAOC,QAAQ+iC,SAAoBA,GACnChjC,EAAOC,QAAQ8tC,aAAoBA,GACnC/tC,EAAOC,QAAQ6tC,WAAoBA,GACnC9tC,EAAOC,QAAQywC,OA3df,MACI3rC,cACIxmB,KAAK8jD,QAAU,KACf9jD,KAAK+jD,QAAUr9B,IACf1mB,KAAKgkD,MAAQt9B,MAwdrBjF,EAAOC,QAAQkI,OAAoBA,GACnCnI,EAAOC,QAAQgU,MAAoBA,GACnCjU,EAAOC,QAAQknC,WAhaI,EAianBnnC,EAAOC,QAAQgP,WAjDI,SAAS3sB,EAAG0sB,EAAI8rB,EAAIC,EAAI4V,GACvC,IAAIjhC,EAAqB,iBAAPihC,EAAmBruD,EAAEmT,MAAMk7C,GAAMA,EAEnD,OAAQ3hC,GACJ,KAAKrL,EAAY,KAAKE,EAAW,KAAKC,EACtC,KAAKS,EAAW,KAAKC,EACrB,KAAKZ,EAAY,CACb,IAAI/iB,EAAIE,EACR,IAAiC,KAA5BF,EAAKmnB,EAAI2E,UAAUmuB,MAA+C,KAA5B/5C,EAAKinB,EAAI2E,UAAUouB,IAE1D,YADArrB,EAAI++B,UAAU0B,GAAS7tD,EAAG0sB,EAAInuB,EAAIE,IAGjC,MAET,KAAKgjB,EAAW,KAAKO,EAAW,CAC5B,IAAIuU,EAAIE,EACR,IAAgC,KAA3BF,EAAK7Q,EAAI6E,SAASiuB,MAA8C,KAA3B/hB,EAAK/Q,EAAI6E,SAASkuB,IAExD,YADArrB,EAAI6+B,YAAYiC,GAASluD,EAAG0sB,EAAI6J,EAAIE,IAGnC,MAET,QAAS,CACL,IAAIF,EAAIE,EACR,GAAI+hB,EAAGvoB,eAAiBwoB,EAAGxoB,cAEvB,YADA7C,EAAI++B,UAAU0B,GAAS7tD,EAAG0sB,EAAI8rB,EAAG16B,MAAO26B,EAAG36B,QAG1C,IAAgC,KAA3ByY,EAAK7Q,EAAI6E,SAASiuB,MAA8C,KAA3B/hB,EAAK/Q,EAAI6E,SAASkuB,IAE7D,YADArrB,EAAI6+B,YAAYiC,GAASluD,EAAG0sB,EAAI6J,EAAIE,IAGnC,OAIbiL,GAAiB,OAAN1hC,GACXylB,GAAI6oC,cAActuD,EAAGw4C,EAAIC,EAAI4V,EAAK3hC,EAAKtL,EAAaqE,GAAI8vB,IAAIG,SAahEh4B,EAAOC,QAAQk2B,aApdM,SAAS7hC,EAAQu8C,GAClC,IACInwD,EADA67B,EAAIjoB,EAAOxU,OAEf,GAAkB,KAAdwU,EAAO,GACHioB,EAAIs0B,GACJnwD,EAAM,IAAIme,WAAW0d,EAAE,GACvB77B,EAAIw3B,IAAI5jB,EAAOygB,SAAS,MAExBr0B,EAAM,IAAIme,WAAWgyC,GACrBnwD,EAAIw3B,IAAI5jB,EAAOygB,SAAS,EAAG87B,EAAQ,UAEpC,GAAkB,KAAdv8C,EAAO,GACVioB,GAAKs0B,GACLnwD,EAAM,IAAIme,WAAW0d,EAAE,GACvB77B,EAAIw3B,IAAI5jB,EAAOygB,SAAS,MAExBr0B,EAAM,IAAIme,WAAWgyC,GACrBnwD,EAAIw3B,IAAIo3B,IACRuB,GAAWvB,GAAKxvD,OAChBY,EAAIw3B,IAAI5jB,EAAOygB,SAASwH,EAAIs0B,GAAUvB,GAAKxvD,aAE5C,CACHY,EAAM,IAAIme,WAAWgyC,GACrB,IAAIC,EAAMnyC,EAAkBrK,EAAQ,IACpC5T,EAAIw3B,IAAIq3B,IACR,IAAIwB,EAAQxB,GAAIzvD,OAEZy8B,GADJs0B,GAAWtB,GAAIzvD,OAASwvD,GAAKxvD,OAAS0vD,GAAI1vD,UACd,IAATgxD,GACfpwD,EAAIw3B,IAAI5jB,EAAQy8C,GAChBA,GAASz8C,EAAOxU,UAEH,IAATgxD,IAAYv0B,EAAIu0B,GAChBv0B,EAAIs0B,IAASt0B,EAAIs0B,GACrBnwD,EAAIw3B,IAAI5jB,EAAOygB,SAAS,EAAGwH,GAAIw0B,GAC/BA,GAASx0B,EACT77B,EAAIw3B,IAAIo3B,GAAMyB,GACdA,GAASzB,GAAKxvD,QAElBY,EAAIw3B,IAAIs3B,GAAKuB,GACbA,GAASvB,GAAI1vD,OACbY,EAAMA,EAAIq0B,SAAS,EAAGg8B,GAE1B,OAAOrwD,GA2aXsf,EAAOC,QAAQ+mC,eAAoBA,GACnChnC,EAAOC,QAAQ+wC,YAnGK,SAASnsD,GACzB,IAAIyE,EAAI,EACR,GAAIzE,EAAI,EAAG,OAAOA,EAClB,KAAOA,GAAK,KACRA,EAAKA,EAAI,IAAQ,EACjByE,GAAK,EAET,KAAOzE,GAAK,IACRA,EAAKA,EAAI,GAAM,EACfyE,IAEJ,OAASA,EAAE,GAAM,EAAMzE,EAAI,GAyF/Bmb,EAAOC,QAAQs6B,iBAAoBA,GACnCv6B,EAAOC,QAAQyU,kBAAoBA,GACnC1U,EAAOC,QAAQgX,aA7PM,SAAS/f,EAAG0R,GAC7B,IAAIqoC,EAnCU,SAAS/5C,GACvB,IAGIg6C,EAHA1vD,EAAI,EACJ0D,EAAI,EACJ80B,GAAQ,EAGZ,KAAOsqB,EAASptC,EAAE1V,KAAKA,IAGvB,KAFK0vD,EAAgB,KAATh6C,EAAE1V,KACI,KAAT0V,EAAE1V,KAD0CA,IAExC,KAAT0V,EAAE1V,IAAmD,MAAX0V,EAAE1V,EAAE,IAAmD,KAAX0V,EAAE1V,EAAE,GAO1F,KAAOA,EAAI0V,EAAEpX,QAAUokD,EAAShtC,EAAE1V,IAAKA,IAAK,CACxC,IAAIq6B,EAAI3kB,EAAE1V,GAAK,GACf,GAAI0D,GAAK0qD,KAAY1qD,EAAI0qD,IAAW/zB,EAAIg0B,GAAWqB,GAC/C,OAAO,KACXhsD,EAAS,GAAJA,EAAS22B,EAAG,EACjB7B,GAAQ,OAVZ,IADAx4B,GAAK,EACEA,EAAI0V,EAAEpX,QAAUykD,EAAUrtC,EAAE1V,IAAKA,IACpC0D,EAAS,GAAJA,EAAS8hD,GAAe9vC,EAAE1V,IAAK,EACpCw4B,GAAQ,EAWhB,KAAOx4B,EAAI0V,EAAEpX,QAAUwkD,EAASptC,EAAE1V,KAAKA,IACvC,OAAIw4B,GAAUx4B,IAAM0V,EAAEpX,QAAmB,IAAToX,EAAE1V,GAAkB,KAEzC,CACHyJ,EAAkB,GAAdimD,GAAOhsD,EAAIA,GACf1D,EAAGA,GAMD2vD,CAAUj6C,GACpB,OAAY,OAAR+5C,GACAroC,EAAE6lC,UAAUwC,EAAIhmD,GACTgmD,EAAIzvD,EAAE,IAEbyvD,EA/DQ,SAAS/5C,GACrB,IAAIqlB,EAAIrlB,EAAEpX,OACNsxD,EAAQ,EACZ,IAAK,IAAI5vD,EAAE,EAAGA,EAAE+6B,EAAG/6B,IAAK,CACpB,IAAIwd,EAAI9H,EAAE1V,GACV,IAA2B,IAAvBkuD,GAAO5uD,QAAQke,GAAW,CAC1BoyC,EAAQpyC,EACR,OAGR,IAAIhX,EAAO2nD,GAAMyB,GACjB,MAAa,MAATppD,EACO,KAjCI,SAASkP,EAAGlP,GAC3B,IAAI2M,EAAkB,MAAT3M,EAlEO,SAASkP,GAC7B,IAKIg6C,EALA1vD,EAAI,EACJud,EAAI,EACJsyC,EAAS,EACTC,EAAW,EACXhoD,EAAI,EAEJioD,GAAS,EACb,KAAOjN,EAASptC,EAAE1V,KAAKA,IAGvB,KAFK0vD,EAAgB,KAATh6C,EAAE1V,KACI,KAAT0V,EAAE1V,KAD0CA,IAEtC,KAAT0V,EAAE1V,IAAmD,MAAX0V,EAAE1V,EAAE,IAAmD,KAAX0V,EAAE1V,EAAE,GAC5F,OAAO,KACX,IAAKA,GAAK,GAAKA,IACX,GAAa,KAAT0V,EAAE1V,GAAuE,CACzE,GAAI+vD,EAAQ,MACPA,GAAS,MACX,KAAIhN,EAAUrtC,EAAE1V,IAOhB,MANY,IAAX6vD,GAAyB,KAATn6C,EAAE1V,GAClB8vD,MACOD,GA1BL,GA2BFtyC,EAAS,GAAJA,EAAUioC,GAAe9vC,EAAE1V,IAC/B8H,IACDioD,GAAQjoD,IAIpB,GAAIgoD,EAAWD,IAAW,EACtB,OAAO,KAEX,GADA/nD,GAAK,EACQ,MAAT4N,EAAE1V,IAAiD,KAAT0V,EAAE1V,GAAqC,CACjF,IACIgwD,EADAC,EAAO,EAKX,GAHAjwD,MACKgwD,EAAiB,KAATt6C,EAAE1V,KACG,KAAT0V,EAAE1V,KAD2CA,KAEjD0iD,EAAShtC,EAAE1V,IACZ,OAAO,KACX,KAAO0iD,EAAShtC,EAAE1V,KACdiwD,EAAc,GAAPA,EAAYv6C,EAAE1V,KAAO,GAC5BgwD,IAAMC,GAAQA,GAClBnoD,GAAKmoD,EAGT,OADIP,IAAKnyC,GAAKA,GACP,CACH9T,EAAG0iD,EAAM5uC,EAAGzV,GACZ9H,EAAGA,GAoBqBkwD,CAAgBx6C,GAhBzB,SAASA,GAC5B,IACIA,EAAIiJ,EAAYjJ,GAClB,MAAO5N,GACL,OAAO,KAIX,IAAIyV,EAAI,uEAAuEjR,KAAKoJ,GACpF,IAAK6H,EACD,OAAO,KACX,IAAI4yC,EAAMC,WAAW7yC,EAAE,IACvB,OAAQ8kB,MAAM8tB,GAAoC,KAA7B,CAAE1mD,EAAQzJ,EAAGud,EAAE,GAAGjf,QAIU+xD,CAAe36C,GAChE,GAAe,OAAXvC,EAAiB,OAAO,KAC5B,KAAO2vC,EAASptC,EAAEvC,EAAOnT,KAAKmT,EAAOnT,IACrC,OAAQmT,EAAOnT,IAAM0V,EAAEpX,QAA0B,IAAhBoX,EAAEvC,EAAOnT,GAAYmT,EAAS,KA8BrDm9C,CAAW56C,EAAGlP,GAkDd+pD,CAAQ76C,GACF,OAAR+5C,GACAroC,EAAE2lC,YAAY0C,EAAIhmD,GACXgmD,EAAIzvD,EAAE,GAEN,IAmPnBwe,EAAOC,QAAQsM,cAAoBA,GACnCvM,EAAOC,QAAQmnC,aAAoBA,GACnCpnC,EAAOC,QAAQuwC,SAAoBA,GACnCxwC,EAAOC,QAAQwL,UA3iBG,SAASnpB,EAAGgxB,GAC1BhxB,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAIue,GAAOmL,EAAG3zB,KAAM2zB,EAAGlT,QA2iB9CJ,EAAOC,QAAQ+K,aAziBM,SAAS1oB,EAAGuyB,GAC7BvyB,EAAEmT,MAAMnT,EAAEsH,OAAS,IAAIue,GAAO5F,EAAasS,IAyiB/C7U,EAAOC,QAAQ8J,UAtiBG,SAASznB,EAAG8sD,EAAQ4C,GAClC1vD,EAAEmT,MAAM25C,GAAQ9kC,QAAQhoB,EAAEmT,MAAMu8C,KAsiBpChyC,EAAOC,QAAQ+J,SAniBE,SAAS1nB,EAAG8sD,EAAQ6C,GACjC3vD,EAAEmT,MAAM25C,GAAQ9kC,QAAQ2nC,IAmiB5BjyC,EAAOC,QAAQ28B,YAAoBA,0BC7zBnC,MAuHMsV,EAAe,CACjB,GACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,IAyBEC,EAAa,GAMbC,EAAa,GAEbC,EAAaD,EAGblqB,EAAa,OAiCboqB,EAAQ,SAASrnD,EAAGkL,GACtB,SAAW,GAAM,IAAO,GAItBo8C,EAAQ,SAAStnD,EAAGkL,GACtB,OAASm8C,EAAMrnD,EAAGkL,IAYhBq8C,EAAS,SAAShxD,EAAGwd,EAAGzc,EAAKyxB,GAE/B,OADAxyB,EAAE+E,KAAQ/E,EAAE+E,KAAOgsD,EAAMv+B,EAAMzxB,GAAUyc,GAAKzc,EAAO+vD,EAAMt+B,EAAMzxB,GAC1DkwD,EAAQjxD,IA+BbkxD,EAAY,SAASlxD,EAAEwd,GACzB,OAAOwzC,EAAOhxD,EAAGwd,EAAGqzC,EAAQF,IAsB1BM,EAAU,SAASjiB,GACrB,GAAmB,iBAARA,EACP,MAAO,CACHjqC,KAAQiqC,EACRvJ,OAASuJ,GAtHF,EAsHmB8hB,EAvHnB,EAuHkC,GACzClrB,EAASoJ,GAtHF,EAsHmB8hB,EA1HnB,EA0HkC,GACzCr2B,EAASuU,GArHF,GAqHmB8hB,EA7HnB,EA6HkC,GACzCxpB,EAAS0H,GAAO4hB,EAAUE,EA/HnB,EA+HkC,GACzC7a,GAASjH,GAAO6hB,EAAUC,EAAMH,EAAS,GACzCza,GAASlH,GA1HF,EA0HmB8hB,EA7HnB,GA6HkC,GACzCzqB,KAAU2I,GAAO6hB,EAAUC,EAAMH,EAAS,IAAMjqB,GAEjD,CACH,IAAI1mC,EAAIgvC,EAAIjqC,KAQZ,OAPAiqC,EAAIvJ,OAAUzlC,GAhIH,EAgIkB8wD,EAjIlB,EAiIiC,GAC5C9hB,EAAIpJ,EAAU5lC,GAhIH,EAgIkB8wD,EApIlB,EAoIiC,GAC5C9hB,EAAIvU,EAAUz6B,GA/HH,GA+HkB8wD,EAvIlB,EAuIiC,GAC5C9hB,EAAI1H,EAAUtnC,GAAK4wD,EAAUE,EAzIlB,EAyIiC,GAC5C9hB,EAAIiH,GAAUj2C,GAAK6wD,EAAUC,EAAMH,EAAS,GAC5C3hB,EAAIkH,GAAUl2C,GApIH,EAoIkB8wD,EAvIlB,GAuIiC,GAC5C9hB,EAAI3I,KAAWrmC,GAAK6wD,EAAUC,EAAMH,EAAS,IAAMjqB,EAC5CsI,IAmBfxwB,EAAOC,QAAQ0yC,MA5II,IA6InB3yC,EAAOC,QAAQspB,WAhBI,SAAS3gB,EAAG1jB,EAAGoK,EAAGiQ,GACjC,OAAOkzC,EAAQ7pC,GA5IA,EA4Ic1jB,GA3Id,EA2I2BoK,GAzI3B,GAyIwCiQ,GAAK6yC,IAgBhEpyC,EAAOC,QAAQ+qB,WAbI,SAASpiB,EAAG1jB,EAAG0lC,GAC9B,OAAO6nB,EAAQ7pC,GAhJA,EAgJc1jB,GA/Id,EA+I2B0lC,GAAMynB,IAapDryC,EAAOC,QAAQkrB,UAVG,SAASviB,EAAG1jB,GAC1B,OAAOutD,EAAQ7pC,GApJA,EAoJc1jB,GAnJd,IA6JnB8a,EAAOC,QAAQ2yC,WA7GI,SAASpxD,GACxB,OAAOA,EAAEylC,QA6GbjnB,EAAOC,QAAQ4yC,SAhGE,SAASrxD,GACtB,OAAOA,EAAE4lC,GAgGbpnB,EAAOC,QAAQ6yC,SAzFE,SAAStxD,GACtB,OAAOA,EAAEy6B,GAyFbjc,EAAOC,QAAQ8yC,SAlFE,SAASvxD,GACtB,OAAOA,EAAEsnC,GAkFb9oB,EAAOC,QAAQ+yC,UA3EG,SAASxxD,GACvB,OAAOA,EAAEi2C,IA2Ebz3B,EAAOC,QAAQgzC,UApEG,SAASzxD,GACvB,OAAOA,EAAEk2C,IAoEb13B,EAAOC,QAAQizC,WA7DI,SAAS1xD,GACxB,OAAOA,EAAEqmC,KA6Db7nB,EAAOC,QAAQ02B,OAxIA,SAAU53B,GACrB,OAAW,IAAJA,GAwIXiB,EAAOC,QAAQ4rB,IA9IH,SAAUhnC,GAClB,OAXe,IAWRA,GA8IXmb,EAAOC,QAAQ8xB,kBAfW,GAgB1B/xB,EAAOC,QAAQuqB,SA/JI,IAgKnBxqB,EAAOC,QAAQirB,UAjKI,SAkKnBlrB,EAAOC,QAAQwqB,SAhKI,IAiKnBzqB,EAAOC,QAAQ8qB,UArKI,OAsKnB/qB,EAAOC,QAAQyqB,SAjKI,IAkKnB1qB,EAAOC,QAAQioB,WAAsBA,EACrCloB,EAAOC,QAAQivB,WA9JI,IA+JnBlvB,EAAOC,QAAQqpB,OAtKI,IAuKnBtpB,EAAOC,QAAQkzC,OApQA,EAqQfnzC,EAAOC,QAAQqqB,OAxQA,EAyQftqB,EAAOC,QAAQmzC,OAvQA,EAwQfpzC,EAAOC,QAAQozC,OAzQA,EA0QfrzC,EAAOC,QAAQqzC,QAvXC,CACZ,OACA,QACA,SACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,SACA,MACA,KACA,KACA,KACA,OACA,UACA,OACA,WACA,SACA,UACA,UACA,WACA,WACA,UACA,UACA,SACA,YAyUJtzC,EAAOC,QAAQmkB,SAtUE,CACbgK,QAAa,EACb9C,SAAa,EACbC,UAAa,EACbuC,YAAa,EACb5G,WAAa,EACboG,YAAa,EACbK,YAAa,EACbD,YAAa,EACb6E,YAAa,EACbF,YAAa,EACbC,YAAa,GACbihB,YAAa,GACb5hB,QAAa,GACbhB,OAAa,GACbsH,OAAa,GACbE,OAAa,GACbE,OAAa,GACbE,OAAa,GACbE,OAAa,GACbE,QAAa,GACbE,QAAa,GACbE,OAAa,GACbE,QAAa,GACbE,OAAa,GACbE,OAAa,GACblI,OAAa,GACbqI,QAAa,GACbjK,OAAa,GACbmK,OAAa,GACbhJ,UAAa,GACb9H,OAAa,GACbiI,MAAa,GACbiJ,MAAa,GACbE,MAAa,GACbxQ,QAAa,GACbH,WAAa,GACb8N,QAAa,GACbC,YAAa,GACb5F,UAAa,GACbgiB,WAAa,GACbC,WAAa,GACbvc,YAAa,GACbwc,YAAa,GACb1hB,WAAa,GACb2hB,WAAa,GACbC,UAAa,GACbxoB,YAAa,IAwRjBprB,EAAOC,QAAQ4zC,MArLI,EAsLnB7zC,EAAOC,QAAQ6zC,OAtLI,EAuLnB9zC,EAAOC,QAAQ8zC,MArLI,GAsLnB/zC,EAAOC,QAAQoyC,OAAsBA,EACrCryC,EAAOC,QAAQmyC,MAAsBA,EACrCpyC,EAAOC,QAAQ+zC,OA3LI,EA4LnBh0C,EAAOC,QAAQkvB,MA1JD,SAAStqC,GACnB,OArBe,IAqBRA,GA0JXmb,EAAOC,QAAQqnB,SA1HE,SAAS9lC,EAAEwd,GACxB,OAAOwzC,EAAOhxD,EAAGwd,EAnEF,EAJA,IAiMnBgB,EAAOC,QAAQg0C,UA3FG,SAASzyD,EAAEwd,GACzB,OAAOwzC,EAAOhxD,EAAGwd,EAnGF,EAHA,KAiMnBgB,EAAOC,QAAQsnB,SApHE,SAAS/lC,EAAEwd,GACxB,OAAOwzC,EAAOhxD,EAAGwd,EAzEF,GARA,IAqMnBgB,EAAOC,QAAQyyC,UAAsBA,EACrC1yC,EAAOC,QAAQ8sB,SA9GE,SAASvrC,EAAEwd,GACxB,OAAOwzC,EAAOhxD,EAAGwd,EAAGozC,EA1FL,IAwMnBpyC,EAAOC,QAAQooB,WAvFI,SAAS7mC,EAAG8N,GAC3B,OAAOojD,EAAUlxD,EAAG8N,EAAI44B,IAuF5BloB,EAAOC,QAAQi0C,WA9II,SAAS1yD,EAAGonB,GAE3B,OADApnB,EAAE+E,KAAQ/E,EAAE+E,KAAOgsD,EAvDJ,EACA,GAsDgC3pC,GAtDhC,EAsD+C0pC,EAvD/C,EACA,GAuDRG,EAAQjxD,IA6InBwe,EAAOC,QAAQk0C,OAvMI,EAwMnBn0C,EAAOC,QAAQm0C,QAvMI,GAwMnBp0C,EAAOC,QAAQo0C,OA3MI,EA4MnBr0C,EAAOC,QAAQkyC,QAAsBA,EACrCnyC,EAAOC,QAAQq0C,OA9MI,EA+MnBt0C,EAAOC,QAAQs0C,QA1MI,EA2MnBv0C,EAAOC,QAAQwyC,QAAsBA,EACrCzyC,EAAOC,QAAQoqB,SAjOE,SAASh5B,GACtB,OAAQ6gD,EAAa7gD,IAAM,EAAK,GAiOpC2O,EAAOC,QAAQsqB,SA9NE,SAASl5B,GACtB,OAAQ6gD,EAAa7gD,IAAM,EAAK,GA8NpC2O,EAAOC,QAAQkqB,UAvOG,SAAS94B,GACvB,OAAyB,EAAlB6gD,EAAa7gD,IAuOxB2O,EAAOC,QAAQmqB,KA/RD,EAgSdpqB,EAAOC,QAAQ4qB,KA/RD,EAgSd7qB,EAAOC,QAAQ6qB,MA/RD,EAgSd9qB,EAAOC,QAAQu0C,IA/RD,EAgSdx0C,EAAOC,QAAQo3B,UAhOG,SAAShmC,GACvB,OAAyB,GAAlB6gD,EAAa7gD,IAgOxB2O,EAAOC,QAAQgpB,UA7NG,SAAS53B,GACvB,OAAyB,IAAlB6gD,EAAa7gD,iCC1LxB,MAAM,SACFuQ,EAAQ,WACRK,EAAU,UACVwyC,EAAS,gBACT/oC,EAAe,aACfuF,EAAY,cACZiB,EAAa,gBACbS,EAAe,QACfhJ,EAAO,gBACP2K,EAAe,gBACfC,EAAe,gBACfvN,EAAe,gBACfC,EAAe,YACf+N,EAAW,eACXC,EAAc,eACdC,EAAc,aACdhO,EAAY,WACZqC,EAAU,cACV2N,EAAa,eACbxK,GACA,EAAQ,OACN,YACFuN,EAAW,aACX2F,EAAY,eACZnD,EAAc,cAEdlC,EAAa,cACb8B,EAAa,kBACbP,EAAiB,iBACjBN,EAAgB,eAChB4E,EAAc,WACd1F,EAAU,gBACV8F,EAAe,gBACfvF,EAAe,YACf9T,EAAW,gBACX4Z,EAAe,gBACftF,EAAe,eACfE,EAAc,gBACde,GACA,EAAQ,OACN,aACFxc,EAAY,YACZC,EAAW,aACXV,GACA,EAAQ,MAwBNi1C,EAAsBj1C,EAAa,yCAGnCk1C,EAAW,SAASryD,EAAGiqC,EAAKnsB,GAC9B4G,EAAgB1kB,EAAG8d,GACnB8G,EAAa5kB,GAAI,EAAGmd,EAAa8sB,GAAK,KAGpCqoB,EAAe,SAAStyD,EAAGuyD,EAAMC,GACnCH,EAASryD,EAAG,MAASwyD,EAAMD,EAAKE,gBAAmBF,EAAKG,cACxDL,EAASryD,EAAG,MAASwyD,EAAMD,EAAKI,gBAAmBJ,EAAKK,cACxDP,EAASryD,EAAG,OAASwyD,EAAMD,EAAKM,cAAmBN,EAAKO,YACxDT,EAASryD,EAAG,MAASwyD,EAAMD,EAAKQ,aAAmBR,EAAKS,WACxDX,EAASryD,EAAG,SAAUwyD,EAAMD,EAAKU,cAAkBV,EAAKW,YAAc,GACtEb,EAASryD,EAAG,OAASwyD,EAAMD,EAAKY,iBAAmBZ,EAAKa,eACxDf,EAASryD,EAAG,QAAUwyD,EAAMD,EAAKc,YAAkBd,EAAKe,UAAY,GACpEjB,EAASryD,EAAG,OAAQuH,KAAKm4B,OAAO6yB,EAAO,IAAKgB,KAAKhB,EAAKa,cAAe,EAAG,IAA4C,SAIlHI,EAAkBzyD,OAAO0yD,iBAAmB,EAE5CC,EAAW,SAAS1zD,EAAGiqC,EAAK1Q,EAAGo6B,GACjC,IAAIl0D,EAAIkvB,EAAa3uB,GAAI,EAAGmd,EAAa8sB,GAAK,IAC1C7c,EAAMhD,EAAepqB,GAAI,GAC7B,IAAY,IAARotB,EAAe,CACf,GAAI3tB,IAAM6f,EACN,OAAO8Y,EAAWp4B,EAAGmd,EAAa,gCAAiC8sB,GAClE,GAAI1Q,EAAI,EACT,OAAOnB,EAAWp4B,EAAGmd,EAAa,oCAAqC8sB,GAC3E7c,EAAMmM,MAEL,CACD,MAAOi6B,GAAkBpmC,GAAOA,GAAOomC,GACnC,OAAOp7B,EAAWp4B,EAAGmd,EAAa,8BAA+B8sB,GACrE7c,GAAOumC,EAGX,OADAtsC,EAAQrnB,EAAG,GACJotB,GAILwmC,EAAS,CACXC,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAAar0D,KAAKoV,GAAMuI,EAAavI,KAC9Gk/C,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAOt0D,KAAKoV,GAAMuI,EAAavI,KACrFm/C,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAAYv0D,KAAKoV,GAAMuI,EAAavI,KAC3Jo/C,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAOx0D,KAAKoV,GAAMuI,EAAavI,KAC1Hq/C,GAAI92C,EAAa,MACjB+2C,GAAI/2C,EAAa,MACjBg3C,GAAIh3C,EAAa,MACjBi3C,GAAIj3C,EAAa,MACjBk3C,QAAS,CACLp3C,EAAGE,EAAa,wBAChBwhC,EAAGxhC,EAAa,YAChBm3C,EAAGn3C,EAAa,YAChBo3C,EAAGp3C,EAAa,SAChBV,EAAGU,EAAa,eAChBq3C,EAAGr3C,EAAa,YAChBs3C,EAAGt3C,EAAa,MAChB5a,EAAG4a,EAAa,QAIlBu3C,EAAc,SAASC,EAAMC,GAG/B,IAAIC,EAAUF,EAAKrB,SACG,WAAlBsB,IACgB,IAAZC,EACAA,EAAU,EAEVA,KAER,IAAIC,GAAQH,EAAO,IAAIpB,KAAKoB,EAAKvB,cAAe,EAAG,IAAM,MACzD,OAAO7rD,KAAKm4B,OAAOo1B,EAAO,EAAID,GAAW,IAGvCE,EAAa,SAAS/nD,EAAGrE,EAAGqsD,GAC1BrsD,EAAI,IACJ20B,EAAatwB,EAAGgoD,GACpB76B,EAAentB,EAAGmQ,EAAalL,OAAOtJ,MAGpCssD,EAAW,SAASj1D,EAAGgN,EAAG4H,EAAG+/C,GAC/B,IAAIz1D,EAAI,EACR,KAAOA,EAAI0V,EAAEpX,QACT,GAAa,KAAToX,EAAE1V,GACFo+B,EAAatwB,EAAG4H,EAAE1V,UACf,CACHA,IACA,IAAIgc,EAAMg6C,EAAYl1D,EAAG4U,EAAG1V,GAE5B,OAAO0V,EAAE1V,IAEL,KAAK,GACDo+B,EAAatwB,EAAG,IAChB,MAGJ,KAAK,GACDmtB,EAAentB,EAAG4mD,EAAOC,KAAKc,EAAKrB,WACnC,MAGJ,KAAK,GACDn5B,EAAentB,EAAG4mD,EAAOG,OAAOY,EAAKzB,aACrC,MAGJ,KAAK,GACD6B,EAAW/nD,EAAGzF,KAAKm4B,MAAMi1B,EAAKvB,cAAgB,KAAM,IACpD,MAGJ,KAAK,GACD6B,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQ1V,EAAGgW,GACjC,MAGJ,KAAK,GACDM,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQC,EAAGK,GACjC,MAGJ,KAAK,GACDI,EAAW/nD,EAAG2nD,EAAK7B,WAAY,IAC/B,MAGJ,KAAK,GACDiC,EAAW/nD,GAAI2nD,EAAK7B,WAAa,IAAM,GAAK,EAAG,IAC/C,MAGJ,KAAK,GACDiC,EAAW/nD,EAAG2nD,EAAK/B,aAAc,IACjC,MAGJ,KAAK,GACDz4B,EAAentB,EAAG2nD,EAAK7B,WAAa,GAAKc,EAAOO,GAAKP,EAAOQ,IAC5D,MAGJ,KAAK,GACDa,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQE,EAAGI,GACjC,MAGJ,KAAK,GACDI,EAAW/nD,EAAG2nD,EAAKjC,aAAc,IACjC,MAGJ,KAAK,GACDuC,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQG,EAAGG,GACjC,MAGJ,KAAK,GACDI,EAAW/nD,EAAG0nD,EAAYC,EAAM,UAAW,IAC3C,MAGJ,KAAK,GACDI,EAAW/nD,EAAG0nD,EAAYC,EAAM,UAAW,IAC3C,MAGJ,KAAK,GACDM,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQI,EAAGE,GACjC,MAGJ,KAAK,GACDx6B,EAAentB,EAAGmQ,EAAalL,OAAO0iD,EAAKvB,iBAC3C,MAGJ,KAAK,GAAY,CACb,IAAI+B,EAAWR,EAAKl2C,WAAW7d,MAAM,iBACjCu0D,GACAh7B,EAAentB,EAAGmQ,EAAag4C,EAAS,KAC5C,MAIJ,KAAK,GACDh7B,EAAentB,EAAG4mD,EAAOE,UAAUa,EAAKrB,WACxC,MAGJ,KAAK,GACL,KAAK,IACDn5B,EAAentB,EAAG4mD,EAAOI,YAAYW,EAAKzB,aAC1C,MAGJ,KAAK,GACD+B,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQp3C,EAAG03C,GACjC,MAGJ,KAAK,IACDI,EAAW/nD,EAAG2nD,EAAK3B,UAAW,IAC9B,MAGJ,KAAK,IACD+B,EAAW/nD,EAAG2nD,EAAK3B,UAAW,IAC9B,MAGJ,KAAK,IAAa,CACd,IAAI8B,EAAOvtD,KAAKm4B,OAAOi1B,EAAO,IAAIpB,KAAKoB,EAAKvB,cAAe,EAAG,IAAM,OAChE0B,EAAO,MACHA,EAAO,IACPx3B,EAAatwB,EAAG,IACpBswB,EAAatwB,EAAG,KAEpBmtB,EAAentB,EAAGmQ,EAAalL,OAAO6iD,KACtC,MAIJ,KAAK,IACDC,EAAW/nD,EAAG2nD,EAAK7B,WAAY,IAC/B,MAGJ,KAAK,IACDiC,EAAW/nD,GAAI2nD,EAAK7B,WAAa,IAAM,GAAK,EAAG,IAC/C,MAGJ,KAAK,IACDiC,EAAW/nD,EAAG2nD,EAAKzB,WAAa,EAAG,IACnC,MAGJ,KAAK,IACD51B,EAAatwB,EAAG,IAChB,MAGJ,KAAK,IACDmtB,EAAentB,EAAG2nD,EAAK7B,WAAa,GAAKc,EAAOK,GAAKL,EAAOM,IAC5D,MAGJ,KAAK,IACDe,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQ53C,EAAGk4C,GACjC,MAGJ,KAAK,IACDx6B,EAAentB,EAAGmQ,EAAalL,OAAO1K,KAAKm4B,MAAMi1B,EAAO,QACxD,MAGJ,KAAK,IACDr3B,EAAatwB,EAAG,GAChB,MAGJ,KAAK,IAAa,CACd,IAAIooD,EAAMT,EAAKrB,SACfn5B,EAAentB,EAAGmQ,EAAalL,OAAe,IAARmjD,EAAY,EAAIA,KACtD,MAIJ,KAAK,IACDj7B,EAAentB,EAAGmQ,EAAalL,OAAO0iD,EAAKrB,YAC3C,MAGJ,KAAK,IACD2B,EAASj1D,EAAGgN,EAAG4mD,EAAOS,QAAQ9xD,EAAGoyD,GACjC,MAGJ,KAAK,IACDI,EAAW/nD,EAAG2nD,EAAKvB,cAAgB,IAAK,IACxC,MAGJ,KAAK,IAAa,CACd,IAAIhsD,EAAMutD,EAAKU,oBACXjuD,EAAM,EACNk2B,EAAatwB,EAAG,KAEhB5F,GAAOA,EACPk2B,EAAatwB,EAAG,KAEpB+nD,EAAW/nD,EAAGzF,KAAKm4B,MAAMt4B,EAAI,IAAK,IAClC2tD,EAAW/nD,EAAG5F,EAAM,GAAI,IACxB,OAGRlI,GAAKgc,IAMXg6C,EAAc,SAASl1D,EAAGs1D,EAAMp2D,GAClC,IAAIq2D,EAASnD,EACT9rC,EAAI,EACJkvC,EAAQ,EACZ,KAAOlvC,EAAIivC,EAAO/3D,QAAUg4D,GAAUF,EAAK93D,OAAS0B,EAAIonB,GAAKkvC,EACzD,GAAID,EAAOjvC,KAAO,IAAI5oB,WAAW,GAC7B83D,SACC,GAAI53C,EAAa03C,EAAK7iC,SAASvzB,EAAGA,EAAEs2D,GAAQD,EAAO9iC,SAASnM,EAAGA,EAAEkvC,IAClE,OAAOA,EAGfv9B,EAAcj4B,EAAG,EACbiyB,EAAgBjyB,EAAGmd,EAAa,uCAAwCm4C,KAoD1EG,EAAc,SAASz1D,EAAGk4B,GAG5B,OAFQsB,EAAkBx5B,EAAGk4B,IAY3Bw9B,EAAS,CACX,KA3DY,SAAS11D,GACrB,IAAI4U,EAAIukB,EAAgBn5B,EAAG,EAAG,MAC1B21D,EAAMtlC,EAAgBrwB,EAAG,GAAK,IAAIuzD,KAAS,IAAIA,KAAyB,IAApBkC,EAAYz1D,EAAG,IACnEwyD,GAAM,EACNtzD,EAAI,EAKR,GAJI0V,EAAE1V,KAAO,IAAIxB,WAAW,KACxB80D,GAAM,EACNtzD,KAEA0V,EAAE1V,KAAO,IAAIxB,WAAW,IAAMkX,EAAE1V,EAAE,KAAO,IAAIxB,WAAW,GACxD0rB,EAAgBppB,EAAG,EAAG,GACtBsyD,EAAatyD,EAAG21D,EAAKnD,OAClB,CACM,IAAIj2C,WAAW,GACrB,GAAK,IAAI7e,WAAW,GACvB,IAAIsP,EAAI,IAAI2qB,EACZoC,EAAc/5B,EAAGgN,GACjBioD,EAASj1D,EAAGgN,EAAG4H,EAAG+gD,GAClBv7B,EAAgBptB,GAEpB,OAAO,GAwCP,SATgB,SAAShN,GACzB,IAAI44C,EAAK6c,EAAYz1D,EAAG,GACpB64C,EAAK4c,EAAYz1D,EAAG,GAExB,OADA2yB,EAAe3yB,EAAG44C,EAAKC,GAChB,GAMP,KAtCY,SAAS74C,GACrB,IAAIP,EAkBJ,OAjBI4wB,EAAgBrwB,EAAG,GACnBP,EAAI,IAAI8zD,MAERz1B,EAAe99B,EAAG,EAAG2f,GACrBsH,EAAWjnB,EAAG,GACdP,EAAI,IAAI8zD,KACJG,EAAS1zD,EAAG,QAAS,EAAG,GACxB0zD,EAAS1zD,EAAG,SAAU,EAAG,GACzB0zD,EAAS1zD,EAAG,OAAQ,EAAG,GACvB0zD,EAAS1zD,EAAG,OAAQ,GAAI,GACxB0zD,EAAS1zD,EAAG,MAAO,EAAG,GACtB0zD,EAAS1zD,EAAG,MAAO,EAAG,IAE1BsyD,EAAatyD,EAAGP,IAGpBilB,EAAgB1kB,EAAGuH,KAAKm4B,MAAMjgC,EAAI,MAC3B,GAuBPi2D,MAAe,SAAS11D,GAEpB,OADA2yB,EAAe3yB,EAAG41D,YAAYC,MAAM,KAC7B,IA4Gfn4C,EAAOC,QAAQmjC,WALI,SAAS9gD,GAExB,OADA6kB,EAAY7kB,EAAG01D,GACR,gCCrjBX,MAAM,YACFv0C,EAAW,aACXhE,GACA,EAAQ,OAER6kB,QAAQ,QACJC,EAAO,QACPmB,EAAO,SACPZ,EAAQ,QACRC,EAAO,SACPC,EAAQ,WACRG,EAAU,QACVP,EAAO,OACPQ,EAAM,OACNK,EAAM,OACND,EAAM,SACNX,EAAQ,OACRS,EAAM,OACND,EAAM,QACNX,EAAO,QACPD,EAAO,OACPc,EAAM,aACNK,EAAY,OACZD,EAAM,QACNhB,EAAO,QACPM,EAAO,QACPC,EAAO,QACPV,GAEJqB,OAAO,SACHE,EAAQ,QACRE,EAAO,UACPH,EAAS,QACTE,EAAO,YACPE,GACH,QACD7B,EAAO,eACPoD,EAAc,gBACd+D,EAAe,aACfhE,EAAY,aACZmD,EAAY,cACZhC,EAAa,WACb0C,EAAU,YACV/C,EAAW,mBACX6E,EAAkB,YAClB4B,EAAW,gBACXF,EAAe,kBACfqB,EAAiB,iBACjBtB,EAAgB,aAChBE,EAAY,aACZmB,EAAY,cACZlH,EAAa,eACb0G,EAAc,cACdD,EAAa,aACbW,EAAY,WACZE,EAAU,UACV3D,EAAS,UACTjE,EAAS,YACT6H,GAAW,SACX1J,GAAQ,gBACR2J,GAAe,eACfzG,GAAc,iBACdD,GAAgB,YAChB4G,GAAW,YACXM,GAAW,iBACXnF,GAAgB,SAChByF,GAAQ,UACRI,GAAS,aACTG,GAAY,gBACZK,GAAe,eACfhF,GAAc,gBACdJ,GAAe,cACfqF,GAAa,aACbM,IACA,EAAQ,MACNjrB,GAAW,EAAQ,MACnBE,GAAW,EAAQ,MACnBwc,GAAW,EAAQ,OACnB,eACFoY,GAAc,QACdoI,GAAO,WACPzgB,IACC,EAAQ,MACPtc,GAAW,EAAQ,OAErB0c,UAAU,QACN+S,GAAO,WACPwc,GAAU,WACVH,GAAU,WACVC,GAAU,YACVnmB,GAAW,QACXc,GAAO,YACPmlB,GAAW,YACXjhB,GAAW,YACX8E,GAAW,YACXF,GAAW,YACXwc,GAAW,UACXE,IACH,kBACD7hB,GAAiB,SACjBxK,GAAQ,SACRwF,GAAQ,WACRmnB,IACA,EAAQ,OACN,cACFkE,GAAa,SACbvwC,GAAQ,gBACRC,IACA,EAAQ,MACNG,GAAW,EAAQ,MACnB06B,GAAWl7B,GAAMk7B,MACjBkU,GAAW5yB,GAAKohB,SAIhBgT,GAAa,SAASttC,GACxB,OAAOA,IAAMwb,GAAQuG,OAAS/hB,IAAMwb,GAAQyG,SAG1CsrB,GAAQ,SAASpzD,EAAGoK,GAEtB,OAAO8oD,GAAclzD,EAAGoK,IAG5B,MAAMipD,GACFxzC,cACIxmB,KAAKuoC,SAAW,KAChBvoC,KAAKi6D,WAAavzC,IAClB1mB,KAAKk6D,UAAYxzC,IACjB1mB,KAAKutC,QAAU7mB,IACf1mB,KAAKm6D,MAAQzzC,IACb1mB,KAAKo6D,OAAS1zC,KAItB,MAAMshB,GAAU,CACZqyB,MAAO,EAEP5qB,KAAM,EACNE,MAAO,EACPD,OAAQ,EACRE,GAAI,EACJzH,MAAO,EACPF,MAAO,EACPwF,UAAW,EAEXoB,OAAQ,EACRC,OAAQ,EACRE,SAAU,GAIVc,KAAM,GAENnB,WAAY,GAEZJ,MAAO,GACPE,QAAS,IAWb,MAAMiE,GACFlsB,cACIxmB,KAAKwsB,EAAI9F,IACT1mB,KAAKwhB,EAAI,CACL0mB,KAAMxhB,IACN0hB,KAAM1hB,IACNyiB,KAAMziB,IACNuoB,IAAK,CACD/sC,IAAKwkB,IACLljB,EAAGkjB,IACHwoB,GAAIxoB,MAGZ1mB,KAAKwD,EAAIkjB,IACT1mB,KAAKmK,EAAIuc,IAGb3hB,GAAGgG,GACC/K,KAAKwsB,EAAIzhB,EAAEyhB,EACXxsB,KAAKwhB,EAAIzW,EAAEyW,EACXxhB,KAAKwD,EAAIuH,EAAEvH,EACXxD,KAAKmK,EAAIY,EAAEZ,GAInB,MAAMmwD,GACF9zC,cACIxmB,KAAKmK,EAAI,KACTnK,KAAKu6D,KAAO,KACZv6D,KAAK6pC,GAAK,KACV7pC,KAAKw6D,GAAK,KACVx6D,KAAKwoC,GAAK9hB,IACV1mB,KAAKyoC,WAAa/hB,IAClB1mB,KAAKmqC,IAAMzjB,IACX1mB,KAAKkuC,GAAKxnB,IACV1mB,KAAKy6D,GAAK/zC,IACV1mB,KAAK06D,WAAah0C,IAClB1mB,KAAK26D,SAAWj0C,IAChB1mB,KAAKutC,QAAU7mB,IACf1mB,KAAKgnB,KAAON,IACZ1mB,KAAKmtC,QAAUzmB,KAKvB,MAAMk0C,GACFp0C,cACIxmB,KAAKkC,IAAMwkB,KAMnB,MAAMm0C,GACFr0C,cACIxmB,KAAKwV,KAAO,KACZxV,KAAKwoC,GAAK9hB,IACV1mB,KAAKyE,KAAOiiB,IACZ1mB,KAAKutC,QAAU7mB,KAMvB,MAAMo0C,GACFt0C,cACIxmB,KAAKmY,IAAM,GACXnY,KAAK0M,EAAIga,IACT1mB,KAAKy1B,KAAO/O,KAiBpB,MAAMq0C,GAAW,SAASlxB,EAAInlC,GAC1BmlC,EAAGrmC,EAAExB,MAAQ,EACb0jC,GAAKkE,iBAAiBC,EAAInlC,IAGxBs2D,GAAiB,SAASnxB,EAAI7nC,GAChC0jC,GAAKkE,iBAAiBC,EAAI1gB,GAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAa,eAAe,GAAOwkB,GAAK2hB,eAAexd,EAAI7nC,MAclHi5D,GAAa,SAAS3yB,EAAI7nB,EAAGud,EAAGpX,GAC9BnG,EAAIud,GAZO,SAASsK,EAAI4yB,EAAOt0C,GACnC,IAAI7iB,EAAIukC,EAAGuB,GAAG9lC,EACVU,EAAO6jC,EAAGn+B,EAAE2c,YACZq0C,EAAkB,IAAT12D,EACPyc,EAAa,iBAAiB,GAC9BiI,GAAQ6yB,iBAAiBj4C,EAAGmd,EAAa,uBAAuB,GAAOzc,GACzEC,EAAMykB,GAAQ6yB,iBAAiBj4C,EAAGmd,EAAa,mCAAmC,GAClF0F,EAAMs0C,EAAOC,GACjBz1B,GAAKkE,iBAAiBtB,EAAGuB,GAAInlC,GAIlB02D,CAAW9yB,EAAItK,EAAGpX,IAG3By0C,GAAW,SAASxxB,EAAI7oB,GAC1B,OAAI6oB,EAAGrmC,EAAExB,QAAUgf,IACf0kB,GAAKmkB,UAAUhgB,IACR,IAMTyxB,GAAQ,SAASzxB,EAAI7oB,GACnB6oB,EAAGrmC,EAAExB,QAAUgf,GACfg6C,GAAenxB,EAAI7oB,IAGrBu6C,GAAY,SAAS1xB,EAAI7oB,GAC3Bs6C,GAAMzxB,EAAI7oB,GACV0kB,GAAKmkB,UAAUhgB,IAGb2xB,GAAkB,SAAS3xB,EAAI7oB,EAAGtc,GAC/Bsc,GACD0kB,GAAKkE,iBAAiBC,EAAInlC,IAG5B+2D,GAAc,SAAS5xB,EAAIjjB,EAAM80C,EAAKP,GACnCE,GAASxxB,EAAIjjB,KACVu0C,IAAUtxB,EAAG+d,WACboT,GAAenxB,EAAIjjB,GAEnB8e,GAAKkE,iBAAiBC,EAAI1gB,GAAQ6yB,iBAAiBnS,EAAG9lC,EAClDmd,EAAa,wCACbwkB,GAAK2hB,eAAexd,EAAIjjB,GAAO8e,GAAK2hB,eAAexd,EAAI6xB,GAAMP,MAIvEQ,GAAgB,SAAS9xB,GAC3ByxB,GAAMzxB,EAAIyuB,GAAEsD,SACZ,IAAItlC,EAAKuT,EAAGrmC,EAAE0jD,QAAQ5wB,GAEtB,OADAoP,GAAKmkB,UAAUhgB,GACRvT,GAGLulC,GAAW,SAAS9wD,EAAGyhB,EAAGvpB,GAC5B8H,EAAEZ,EAAIY,EAAEvH,EAAIsiC,EACZ/6B,EAAEyhB,EAAIA,EACNzhB,EAAEyW,EAAE2nB,KAAOlmC,GAGT64D,GAAa,SAASjyB,EAAI9+B,EAAG4N,GAC/BkjD,GAAS9wD,EAAGi9B,GAAQ4H,GAAIqE,GAAapK,EAAGvB,GAAI3vB,KAG1CojD,GAAY,SAASlyB,EAAI9+B,GAC3B+wD,GAAWjyB,EAAI9+B,EAAG4wD,GAAc9xB,KAW9BmyB,GAAe,SAASnyB,EAAIr0B,GAC9B,IAAI8yB,EAAKuB,EAAGvB,GACRqZ,EAAM9X,EAAG8X,IACT9W,EAXiB,SAAShB,EAAIia,GAClC,IAAIxb,EAAKuB,EAAGvB,GACRn+B,EAAIm+B,EAAGn+B,EAGX,OAFAA,EAAE05C,QAAQvb,EAAGqyB,UAAY,IAAIxxC,GAAQgpC,OACrChoD,EAAE05C,QAAQvb,EAAGqyB,UAAU7W,QAAUA,EAC1Bxb,EAAGqyB,WAMAsB,CAAiBpyB,EAAIr0B,GAC/BylD,GAAW3yB,EAAIqZ,EAAIua,OAAOxvD,EAAI,EAAI47B,EAAGoyB,WAxOzB,IAwO8Cx5C,EAAa,mBAAmB,IAC1FygC,EAAIua,OAAO/jD,IAAIwpC,EAAIua,OAAOxvD,GAAK,IAAIkuD,GACnCjZ,EAAIua,OAAO/jD,IAAIwpC,EAAIua,OAAOxvD,GAAGxK,IAAM2oC,EACnC8W,EAAIua,OAAOxvD,KAGTyvD,GAAsB,SAAStyB,EAAIr0B,GACrCwmD,GAAanyB,EAAInE,GAAK+hB,eAAe5d,EAAI3oB,EAAa1L,GAAM,MAG1D4mD,GAAY,SAAS9zB,EAAIrlC,GAC3B,IAAIf,EAAMomC,EAAGuB,GAAG8X,IAAIua,OAAO/jD,IAAImwB,EAAGoyB,WAAaz3D,GAAGf,IAElD,OADAujC,GAAWvjC,EAAMomC,EAAGqyB,UACbryB,EAAGn+B,EAAE05C,QAAQ3hD,IAGlBm6D,GAAkB,SAASxyB,EAAIyyB,GACjC,IAAIh0B,EAAKuB,EAAGvB,GAEZ,IADAA,EAAGiF,QAAUjF,EAAGiF,QAAU+uB,EACnBA,EAAOA,IACVF,GAAU9zB,EAAIA,EAAGiF,QAAU+uB,GAAOvY,QAAUzb,EAAGE,IAkBjD+zB,GAAa,SAASj0B,EAAI9yB,EAAMiL,GAClC,IAAItW,EAAIm+B,EAAGn+B,EAOX,OANA8wD,GAAW3yB,EAAIA,EAAGthB,KAAO,EAAGkC,GAAMwB,SAAUxJ,EAAa,YAAY,IACrE/W,EAAEujB,SAAS4a,EAAGthB,MAAQ,CAClB08B,QAASjjC,EAAE+L,IAAMwb,GAAQ6G,OACzB3sC,IAAKue,EAAEe,EAAE2nB,KACT3zB,KAAMA,GAEH8yB,EAAGthB,QA2BRw1C,GAAe,SAASl0B,EAAI57B,EAAGknC,EAAIl/B,GACrC,GAAW,OAAP4zB,EACAuzB,GAASjoB,EAAI5L,GAAQqyB,MAAO,OAC3B,CACD,IAAI55C,EA5BM,SAAS6nB,EAAI57B,GAC3B,IAAK,IAAIzJ,EAAIqlC,EAAGiF,QAAU,EAAGtqC,GAAK,EAAGA,IACjC,GAAI82D,GAAMrtD,EAAG0vD,GAAU9zB,EAAIrlC,GAAG6gD,SAC1B,OAAO7gD,EAGf,OAAQ,EAsBIw5D,CAAUn0B,EAAI57B,GACtB,GAAI+T,GAAK,EACLo7C,GAASjoB,EAAI5L,GAAQ6G,OAAQpuB,GACxB/L,GAlBC,SAAS4zB,EAAIvnC,GAC3B,IAAIy5D,EAAKlyB,EAAGkyB,GACZ,KAAOA,EAAGjtB,QAAUxsC,GAChBy5D,EAAKA,EAAGjyB,SACZiyB,EAAGL,MAAQ,EAeCuC,CAAUp0B,EAAI7nB,OACf,CACH,IAAIve,EAtDM,SAASomC,EAAI9yB,GAC/B,IAAI6d,EAAKiV,EAAGn+B,EAAEujB,SACd,IAAK,IAAIzqB,EAAI,EAAGA,EAAIqlC,EAAGthB,KAAM/jB,IACzB,GAAI82D,GAAM1mC,EAAGpwB,GAAGuS,KAAMA,GAClB,OAAOvS,EAEf,OAAQ,EAgDU05D,CAAcr0B,EAAI57B,GAC5B,GAAIxK,EAAM,EAAG,CAET,GADAs6D,GAAal0B,EAAGiyB,KAAM7tD,EAAGknC,EAAI,GACzBA,EAAGpnB,IAAMwb,GAAQqyB,MACjB,OAEJn4D,EAAMq6D,GAAWj0B,EAAI57B,EAAGknC,GAE5BioB,GAASjoB,EAAI5L,GAAQ8G,OAAQ5sC,MAKnC06D,GAAY,SAAS/yB,EAAI+J,GAC3B,IAAIkQ,EAAU6X,GAAc9xB,GACxBvB,EAAKuB,EAAGvB,GAEZ,GADAk0B,GAAal0B,EAAIwb,EAASlQ,EAAI,GAC1BA,EAAGpnB,IAAMwb,GAAQqyB,MAAO,CACxB,IAAIrsB,EAAM,IAAI0E,GACd8pB,GAAal0B,EAAIuB,EAAG6f,KAAM9V,EAAI,GAC9BnO,GAAWmO,EAAGpnB,IAAMwb,GAAQqyB,OAC5ByB,GAAWjyB,EAAImE,EAAK8V,GACpBlS,EAAatJ,EAAIsL,EAAI5F,KAIvB6uB,GAAgB,SAAShzB,EAAIyyB,EAAOQ,EAAO/xD,GAC7C,IAAIu9B,EAAKuB,EAAGvB,GACRvY,EAAQusC,EAAQQ,EACpB,GAAIhD,GAAW/uD,EAAEyhB,GACbuD,IACIA,EAAQ,IAAGA,EAAQ,GACvBue,GAAgBhG,EAAIv9B,EAAGglB,GACnBA,EAAQ,GAAGsd,GAAiB/E,EAAIvY,EAAQ,QAG5C,GADIhlB,EAAEyhB,IAAMwb,GAAQqyB,OAAOhqB,EAAiB/H,EAAIv9B,GAC5CglB,EAAQ,EAAG,CACX,IAAI8a,EAAMvC,EAAG6E,QACbE,GAAiB/E,EAAIvY,GACrBsY,GAASC,EAAIuC,EAAK9a,GAGtB+sC,EAAQR,IACRzyB,EAAGvB,GAAG6E,SAAW2vB,EAAQR,IAG3BS,GAAa,SAASlzB,GACxB,IAAI9lC,EAAI8lC,EAAG9lC,IACTA,EAAEo8C,QACJ8a,GAAWpxB,EAAGvB,GAAIvkC,EAAEo8C,QAASrC,GAAgB58B,EAAa,aAAa,KAGrE87C,GAAa,SAASnzB,GACxB,OAAOA,EAAG9lC,EAAEo8C,WAGV8c,GAAY,SAASpzB,EAAI0W,EAAG2c,GAC9B,IAAI50B,EAAKuB,EAAGvB,GACR60B,EAAKtzB,EAAG8X,IAAIrsB,GACZA,EAAK6nC,EAAGhlD,IAAIooC,GAEhB,GADA9a,GAAWs0B,GAAMzkC,EAAG9f,KAAM0nD,EAAM1nD,OAC5B8f,EAAGiY,QAAU2vB,EAAM3vB,QAAS,CAC5B,IAAI6vB,EAAQhB,GAAU9zB,EAAIhT,EAAGiY,SAASuW,QAClCp/C,EAAMykB,GAAQ6yB,iBAAiBnS,EAAG9lC,EAClCmd,EAAa,2DACboU,EAAG9f,KAAKmY,SAAU2H,EAAG7wB,KAAM24D,EAAMzvC,UACrCotC,GAASlxB,EAAInlC,GAEjB6mC,GAAejD,EAAIhT,EAAGkT,GAAI00B,EAAM10B,IAEhC,IAAK,IAAIvlC,EAAIs9C,EAAGt9C,EAAIk6D,EAAGzwD,EAAI,EAAGzJ,IAC1Bk6D,EAAGhlD,IAAIlV,GAAKk6D,EAAGhlD,IAAIlV,EAAI,GAC3Bk6D,EAAGzwD,KAMD2wD,GAAY,SAASxzB,EAAI0W,GAC3B,IAAIia,EAAK3wB,EAAGvB,GAAGkyB,GACX7Y,EAAM9X,EAAG8X,IACTrsB,EAAKqsB,EAAIrsB,GAAGnd,IAAIooC,GAEpB,IAAK,IAAIt9C,EAAIu3D,EAAGP,WAAYh3D,EAAI0+C,EAAIub,MAAMxwD,EAAGzJ,IAAK,CAC9C,IAAIq6D,EAAK3b,EAAIub,MAAM/kD,IAAIlV,GACvB,GAAI82D,GAAMuD,EAAG9nD,KAAM8f,EAAG9f,MAIlB,OAHI8f,EAAGiY,QAAU+vB,EAAG/vB,UAAYitB,EAAGL,OAASxY,EAAIub,MAAMxwD,EAAI8tD,EAAGP,aACzDjoB,GAAgBnI,EAAGvB,GAAIhT,EAAGkT,GAAI80B,EAAG/vB,SACrC0vB,GAAUpzB,EAAI0W,EAAG+c,IACV,EAGf,OAAO,GAGLC,GAAgB,SAAS1zB,EAAI7L,EAAGxoB,EAAM/Q,EAAM+jC,GAC9C,IAAI97B,EAAIsxB,EAAEtxB,EAOV,OANAsxB,EAAE7lB,IAAIzL,GAAK,IAAImuD,GACf78B,EAAE7lB,IAAIzL,GAAG8I,KAAOA,EAChBwoB,EAAE7lB,IAAIzL,GAAGjI,KAAOA,EAChBu5B,EAAE7lB,IAAIzL,GAAG6gC,QAAU1D,EAAGvB,GAAGiF,QACzBvP,EAAE7lB,IAAIzL,GAAG87B,GAAKA,EACdxK,EAAEtxB,EAAIA,EAAI,EACHA,GAOL8wD,GAAY,SAAS3zB,EAAIyzB,GAC3B,IAAIH,EAAKtzB,EAAG8X,IAAIrsB,GACZryB,EAAI4mC,EAAGvB,GAAGkyB,GAAGN,UACjB,KAAOj3D,EAAIk6D,EAAGzwD,GACNqtD,GAAMoD,EAAGhlD,IAAIlV,GAAGuS,KAAM8nD,EAAG9nD,MACzBynD,GAAUpzB,EAAI5mC,EAAGq6D,GAEjBr6D,KA2BNw6D,GAAa,SAASn1B,EAAIkyB,EAAIJ,GAChCI,EAAGJ,OAASA,EACZI,EAAGjtB,QAAUjF,EAAGiF,QAChBitB,EAAGP,WAAa3xB,EAAGuB,GAAG8X,IAAIub,MAAMxwD,EAChC8tD,EAAGN,UAAY5xB,EAAGuB,GAAG8X,IAAIrsB,GAAG5oB,EAC5B8tD,EAAGL,MAAQ,EACXK,EAAGjyB,SAAWD,EAAGkyB,GACjBlyB,EAAGkyB,GAAKA,EACR/0B,GAAW6C,EAAG6E,UAAY7E,EAAGiF,UA6C3BmwB,GAAY,SAAS7zB,EAAIvB,EAAIkyB,GAC/BlyB,EAAGiyB,KAAO1wB,EAAGvB,GACbA,EAAGuB,GAAKA,EACRA,EAAGvB,GAAKA,EACRA,EAAGE,GAAK,EACRF,EAAGG,WAAa,EAChBH,EAAG6B,IAAMrE,EACTwC,EAAG6E,QAAU,EACb7E,EAAG4F,GAAK,EACR5F,EAAGmyB,GAAK,EACRnyB,EAAGthB,KAAO,EACVshB,EAAGqyB,SAAW,EACdryB,EAAGiF,QAAU,EACbjF,EAAGoyB,WAAa7wB,EAAG8X,IAAIua,OAAOxvD,EAC9B47B,EAAGkyB,GAAK,KACR,IAAIrwD,EAAIm+B,EAAGn+B,EACXA,EAAE4L,OAAS8zB,EAAG9zB,OACd5L,EAAEijC,aAAe,EACjBqwB,GAAWn1B,EAAIkyB,GAAI,IAGjBmD,GAAa,SAASr1B,GACxB,IAAIkyB,EAAKlyB,EAAGkyB,GACR3wB,EAAKvB,EAAGuB,GACZ,GAAI2wB,EAAGjyB,UAAYiyB,EAAGL,MAAO,CAEzB,IAAI5iD,EAAI2yB,EAAU5B,GAClB0J,GAAgB1J,EAAI/wB,EAAIijD,EAAGjtB,SAC3BjC,GAAiBhD,EAAI/wB,GAGrBijD,EAAGJ,QAtEQ,SAASvwB,GACxB,IAAIn9B,EAAI6c,GAAgBsgB,EAAG9lC,EAAG,SAC1Bi6B,EAAIu/B,GAAc1zB,EAAIA,EAAG8X,IAAIub,MAAOxwD,EAAG,EAAGm9B,EAAGvB,GAAGE,IACpDg1B,GAAU3zB,EAAIA,EAAG8X,IAAIub,MAAM/kD,IAAI6lB,IAoE3B4/B,CAAW/zB,GAEfvB,EAAGkyB,GAAKA,EAAGjyB,SAnSI,SAASD,EAAIu1B,GAE5B,IADAv1B,EAAGuB,GAAG8X,IAAIua,OAAOxvD,GAAK47B,EAAGiF,QAAUswB,EAC5Bv1B,EAAGiF,QAAUswB,GAChBzB,GAAU9zB,IAAMA,EAAGiF,SAASyW,MAAQ1b,EAAGE,GAiS3Cs1B,CAAWx1B,EAAIkyB,EAAGjtB,SAClB9H,GAAW+0B,EAAGjtB,UAAYjF,EAAGiF,SAC7BjF,EAAG6E,QAAU7E,EAAGiF,QAChB1D,EAAG8X,IAAIub,MAAMxwD,EAAI8tD,EAAGP,WAChBO,EAAGjyB,SA7GU,SAASD,EAAIkyB,GAC9B,IAAIv3D,EAAIu3D,EAAGN,UACPiD,EAAK70B,EAAGuB,GAAG8X,IAAIrsB,GAGnB,KAAOryB,EAAIk6D,EAAGzwD,GAAG,CACb,IAAI4oB,EAAK6nC,EAAGhlD,IAAIlV,GACZqyB,EAAGiY,QAAUitB,EAAGjtB,UACZitB,EAAGL,OACHnoB,GAAgB1J,EAAIhT,EAAGkT,GAAIgyB,EAAGjtB,SAClCjY,EAAGiY,QAAUitB,EAAGjtB,SAEf8vB,GAAU/0B,EAAGuB,GAAI5mC,IAClBA,KAiGJ86D,CAAaz1B,EAAIkyB,GACZA,EAAGN,UAAYrwB,EAAG8X,IAAIrsB,GAAG5oB,GAtEpB,SAASm9B,EAAIvU,GAC3B,IAAI5wB,EAAMghC,GAAKikB,WAAWr0B,EAAG9f,MACvB,oCACA,8CACN9Q,EAAMykB,GAAQ6yB,iBAAiBnS,EAAG9lC,EAAGmd,EAAaxc,GAAM4wB,EAAG9f,KAAKmY,SAAU2H,EAAG7wB,MAC7Es2D,GAASlxB,EAAInlC,GAkETs5D,CAAUn0B,EAAIA,EAAG8X,IAAIrsB,GAAGnd,IAAIqiD,EAAGN,aAGjC+D,GAAa,SAASp0B,GACxB,IAAIvB,EAAKuB,EAAGvB,GACZwK,GAASxK,EAAI,EAAG,GAChBq1B,GAAWr1B,GACX7C,GAAqB,OAAV6C,EAAGkyB,IACd3wB,EAAGvB,GAAKA,EAAGiyB,MAOT2D,GAAe,SAASr0B,EAAIs0B,GAC9B,OAAQt0B,EAAGrmC,EAAExB,OACT,KAAKs2D,GAAE8F,QAAS,KAAK9F,GAAE+F,UACvB,KAAK/F,GAAEgG,OAAQ,KAAKhG,GAAE3R,OAClB,OAAO,EACX,KAAK2R,GAAEiG,SAAU,OAAOJ,EACxB,QAAS,OAAO,IAIlBK,GAAW,SAAS30B,GAEtB,MAAQq0B,GAAar0B,EAAI,IAAI,CACzB,GAAIA,EAAGrmC,EAAExB,QAAUs2D,GAAEmG,UAEjB,YADAC,GAAU70B,GAGd60B,GAAU70B,KAIZ80B,GAAW,SAAS90B,EAAIppB,GAE1B,IAAI6nB,EAAKuB,EAAGvB,GACR0F,EAAM,IAAI0E,GACdf,EAAkBrJ,EAAI7nB,GACtBilB,GAAKmkB,UAAUhgB,GACfkyB,GAAUlyB,EAAImE,GACd4D,EAAatJ,EAAI7nB,EAAGutB,IAGlB4wB,GAAS,SAAS/0B,EAAIppB,GAExBilB,GAAKmkB,UAAUhgB,GACfg1B,GAAKh1B,EAAIppB,GACT8vB,EAAa1G,EAAGvB,GAAI7nB,GACpB86C,GAAU1xB,EAAI,KASlB,MAAMi1B,GACFt4C,cACIxmB,KAAKygB,EAAI,IAAIiyB,GACb1yC,KAAKwD,EAAI,IAAIkvC,GACb1yC,KAAK++D,GAAKr4C,IACV1mB,KAAKgvB,GAAKtI,IACV1mB,KAAKuzC,QAAU7sB,KAIvB,MAAMs4C,GAAW,SAASn1B,EAAIo1B,GAE1B,IAAI32B,EAAKuB,EAAGvB,GACRuC,EAAMhB,EAAGvB,GAAG6E,QACZa,EAAM,IAAI0E,GACV9gC,EAAM,IAAI8gC,GAEV7I,EAAGrmC,EAAExB,QAAUs2D,GAAEsD,SACjBX,GAAW3yB,EAAI22B,EAAGF,GAAI7Y,GAAShlC,EAAa,0BAA0B,IACtE66C,GAAUlyB,EAAImE,IAEd4wB,GAAO/0B,EAAImE,GACfixB,EAAGF,KACHxD,GAAU1xB,EAAI,IACd,IAAIq1B,EAAQ1uB,EAAYlI,EAAI0F,GAC5B6wB,GAAKh1B,EAAIj4B,GACTq3B,EAAaX,EAAIyL,GAAakrB,EAAGz7D,EAAEge,EAAE2nB,KAAM+1B,EAAO1uB,EAAYlI,EAAI12B,IAClE02B,EAAG6E,QAAUtC,GAGXs0B,GAAiB,SAAS72B,EAAI22B,GAC5BA,EAAGx+C,EAAE+L,IAAMwb,GAAQqyB,QACvBhqB,EAAiB/H,EAAI22B,EAAGx+C,GACxBw+C,EAAGx+C,EAAE+L,EAAIwb,GAAQqyB,MACb4E,EAAG1rB,UAAYC,KACfH,GAAa/K,EAAI22B,EAAGz7D,EAAEge,EAAE2nB,KAAM81B,EAAGjwC,GAAIiwC,EAAG1rB,SACxC0rB,EAAG1rB,QAAU,KAiBf6rB,GAAY,SAASv1B,EAAIo1B,GAE3BJ,GAAKh1B,EAAIo1B,EAAGx+C,GACZw6C,GAAWpxB,EAAGvB,GAAI22B,EAAGjwC,GAAIk3B,GAAShlC,EAAa,0BAA0B,IACzE+9C,EAAGjwC,KACHiwC,EAAG1rB,WAGD8rB,GAAQ,SAASx1B,EAAIo1B,GAEvB,OAAQp1B,EAAGrmC,EAAExB,OACT,KAAKs2D,GAAEsD,QAC6B,KAA5Bl2B,GAAKkkB,eAAe/f,GACpBu1B,GAAUv1B,EAAIo1B,GAEdD,GAASn1B,EAAIo1B,GACjB,MAEJ,KAAK,GACDD,GAASn1B,EAAIo1B,GACb,MAEJ,QACIG,GAAUv1B,EAAIo1B,KAMpBz4C,GAAc,SAASqjB,EAAIrmC,GAG7B,IAAI8kC,EAAKuB,EAAGvB,GACR7jC,EAAOolC,EAAG+d,WACVpf,EAAKS,EAAaX,EAAI0sB,GAAa,EAAG,EAAG,GACzCiK,EAAK,IAAIH,GACbG,EAAGjwC,GAAKiwC,EAAGF,GAAKE,EAAG1rB,QAAU,EAC7B0rB,EAAGz7D,EAAIA,EACPq4D,GAASr4D,EAAGwkC,GAAQ2G,WAAYnG,GAChCqzB,GAASoD,EAAGx+C,EAAGunB,GAAQqyB,MAAO,GAC9BhqB,EAAiBxG,EAAGvB,GAAI9kC,GACxB+3D,GAAU1xB,EAAI,KACd,EAAG,CAEC,GADApE,GAAWw5B,EAAGx+C,EAAE+L,IAAMwb,GAAQqyB,OAAS4E,EAAG1rB,QAAU,GACjC,MAAf1J,EAAGrmC,EAAExB,MAAyC,MAClDm9D,GAAe72B,EAAI22B,GACnBI,GAAMx1B,EAAIo1B,SACL5D,GAASxxB,EAAI,KAAiCwxB,GAASxxB,EAAI,KACpE4xB,GAAY5xB,EAAI,IAA+B,IAA+BplC,GA7D5D,SAAS6jC,EAAI22B,GACZ,IAAfA,EAAG1rB,UACHumB,GAAWmF,EAAGx+C,EAAE+L,IAChBknB,GAAgBpL,EAAI22B,EAAGx+C,GACvB4yB,GAAa/K,EAAI22B,EAAGz7D,EAAEge,EAAE2nB,KAAM81B,EAAGjwC,GAAI9J,GACrC+5C,EAAGjwC,OAECiwC,EAAGx+C,EAAE+L,IAAMwb,GAAQqyB,OACnBhqB,EAAiB/H,EAAI22B,EAAGx+C,GAC5B4yB,GAAa/K,EAAI22B,EAAGz7D,EAAEge,EAAE2nB,KAAM81B,EAAGjwC,GAAIiwC,EAAG1rB,WAqD5C+rB,CAAch3B,EAAI22B,GAClBj2B,GAASV,EAAGn+B,EAAEnC,KAAKwgC,GAAKrf,GAAQspC,YAAYwM,EAAGjwC,KAC/Cwf,GAASlG,EAAGn+B,EAAEnC,KAAKwgC,GAAKrf,GAAQspC,YAAYwM,EAAGF,MAiC7C7yD,GAAO,SAAS29B,EAAI9+B,EAAGw0D,EAAU96D,GAEnC,IAAI+6D,EAAS,IAAIlF,GACbE,EAAK,IAAIR,GACbwF,EAAOr1D,EArQU,SAAS0/B,GAC1B,IAAI9lC,EAAI8lC,EAAG9lC,EACP07D,EAAM,IAAIrb,GAAMrgD,GAChBukC,EAAKuB,EAAGvB,GAGZ,OAFQA,EAAGn+B,EACTyN,EAAE0wB,EAAGmyB,MAAQgF,EACRA,EA+PIC,CAAa71B,GACxB21B,EAAOr1D,EAAE2c,YAAcriB,EACvBi5D,GAAU7zB,EAAI21B,EAAQhF,GACtBe,GAAU1xB,EAAI,IACV01B,IACApD,GAAoBtyB,EAAI,QACxBwyB,GAAgBxyB,EAAI,IAtCZ,SAASA,GAErB,IAAIvB,EAAKuB,EAAGvB,GACRn+B,EAAIm+B,EAAGn+B,EACP8c,EAAU,EAEd,GADA9c,EAAEuzC,WAAY,EACK,KAAf7T,EAAGrmC,EAAExB,MACL,GACI,OAAQ6nC,EAAGrmC,EAAExB,OACT,KAAKs2D,GAAEsD,QACHI,GAAanyB,EAAI8xB,GAAc9xB,IAC/B5iB,IACA,MAEJ,KAAKqxC,GAAEqH,QACHj6B,GAAKmkB,UAAUhgB,GACf1/B,EAAEuzC,WAAY,EACd,MAEJ,QAAShY,GAAKkE,iBAAiBC,EAAI3oB,EAAa,4BAA4B,YAE3E/W,EAAEuzC,WAAa2d,GAASxxB,EAAI,KAEzCwyB,GAAgBxyB,EAAI5iB,GACpB9c,EAAEotC,UAAYjP,EAAGiF,QACjBF,GAAiB/E,EAAIA,EAAGiF,SAexBqyB,CAAQ/1B,GACR0xB,GAAU1xB,EAAI,IACd20B,GAAS30B,GACT21B,EAAOr1D,EAAE4c,gBAAkB8iB,EAAG+d,WAC9B6T,GAAY5xB,EAAIyuB,GAAEgG,OAAQhG,GAAEuH,YAAap7D,GArQzB,SAASolC,EAAIppB,GAC7B,IAAI6nB,EAAKuB,EAAGvB,GAAGiyB,KACfsB,GAASp7C,EAAGunB,GAAQ2G,WAAYvC,EAAa9D,EAAI8sB,GAAY,EAAG9sB,EAAGmyB,GAAI,IACvEpqB,EAAiB/H,EAAI7nB,GAmQrBq/C,CAAYj2B,EAAI9+B,GAChBkzD,GAAWp0B,IAGTk2B,GAAU,SAASl2B,EAAIppB,GAEzB,IAAI/T,EAAI,EAER,IADAmyD,GAAKh1B,EAAIppB,GACF46C,GAASxxB,EAAI,KAChBwG,EAAiBxG,EAAGvB,GAAI7nB,GACxBo+C,GAAKh1B,EAAIppB,GACT/T,IAEJ,OAAOA,GAGLszD,GAAW,SAASn2B,EAAI1/B,EAAG1F,GAC7B,IA4BIwiB,EA5BAqhB,EAAKuB,EAAGvB,GACR23B,EAAO,IAAIvtB,GACf,OAAQ7I,EAAGrmC,EAAExB,OACT,KAAK,GACD0jC,GAAKmkB,UAAUhgB,GACI,KAAfA,EAAGrmC,EAAExB,MACLi+D,EAAKzzC,EAAIwb,GAAQqyB,OAEjB0F,GAAQl2B,EAAIo2B,GACZvsB,GAAgBpL,EAAI23B,IAExBxE,GAAY5xB,EAAI,GAA8B,GAA8BplC,GAC5E,MAEJ,KAAK,IACD+hB,GAAYqjB,EAAIo2B,GAChB,MAEJ,KAAK3H,GAAEzR,UACHiV,GAAWjyB,EAAIo2B,EAAMp2B,EAAGrmC,EAAE0jD,QAAQ5wB,IAClCoP,GAAKmkB,UAAUhgB,GACf,MAEJ,QACInE,GAAKkE,iBAAiBC,EAAI3oB,EAAa,+BAA+B,IAG9EukB,GAAWt7B,EAAEqiB,IAAMwb,GAAQyF,WAE3B,IAAI/4B,EAAOvK,EAAEqX,EAAE2nB,KACX2wB,GAAWmG,EAAKzzC,GAChBvF,EAAU/B,GAEN+6C,EAAKzzC,IAAMwb,GAAQqyB,OACnBhqB,EAAiB/H,EAAI23B,GACzBh5C,EAAUqhB,EAAG6E,SAAWz4B,EAAK,IAEjCmnD,GAAS1xD,EAAG69B,GAAQuG,MAAOtF,EAAaX,EAAIsQ,GAASlkC,EAAMuS,EAAQ,EAAG,IACtEyqB,EAAapJ,EAAI7jC,GACjB6jC,EAAG6E,QAAUz4B,EAAO,GA8BlBwrD,GAAc,SAASr2B,EAAIppB,GAG7B,IAAI6nB,EAAKuB,EAAGvB,GACR7jC,EAAOolC,EAAG+d,WAEd,IA3Be,SAAS/d,EAAIppB,GAE5B,OAAQopB,EAAGrmC,EAAExB,OACT,KAAK,GAA8B,CAC/B,IAAIyC,EAAOolC,EAAG+d,WAKd,OAJAliB,GAAKmkB,UAAUhgB,GACfg1B,GAAKh1B,EAAIppB,GACTg7C,GAAY5xB,EAAI,GAA8B,GAA8BplC,QAC5EmqC,EAAmB/E,EAAGvB,GAAI7nB,GAG9B,KAAK63C,GAAEsD,QAEH,YADAgB,GAAU/yB,EAAIppB,GAGlB,QACIilB,GAAKkE,iBAAiBC,EAAI3oB,EAAa,qBAAqB,KAUpEi/C,CAAWt2B,EAAIppB,KAEX,OAAQopB,EAAGrmC,EAAExB,OACT,KAAK,GACD28D,GAAS90B,EAAIppB,GACb,MAEJ,KAAK,GAA8B,CAC/B,IAAIutB,EAAM,IAAI0E,GACdf,EAAkBrJ,EAAI7nB,GACtBm+C,GAAO/0B,EAAImE,GACX4D,EAAatJ,EAAI7nB,EAAGutB,GACpB,MAEJ,KAAK,GAA8B,CAC/B,IAAIA,EAAM,IAAI0E,GACdhN,GAAKmkB,UAAUhgB,GACfkyB,GAAUlyB,EAAImE,GACdkF,GAAU5K,EAAI7nB,EAAGutB,GACjBgyB,GAASn2B,EAAIppB,EAAGhc,GAChB,MAEJ,KAAK,GAA8B,KAAK6zD,GAAEzR,UAAW,KAAK,IACtDxW,EAAiB/H,EAAI7nB,GACrBu/C,GAASn2B,EAAIppB,EAAGhc,GAChB,MAEJ,QAAS,SA+Ff27D,GAAW,CACb,CAAC10D,KAAM,GAAIoC,MAAO,IAAK,CAACpC,KAAM,GAAIoC,MAAO,IACzC,CAACpC,KAAM,GAAIoC,MAAO,IAAK,CAACpC,KAAM,GAAIoC,MAAO,IACzC,CAACpC,KAAM,GAAIoC,MAAO,IAClB,CAACpC,KAAM,GAAIoC,MAAO,IAAK,CAACpC,KAAM,GAAIoC,MAAO,IACzC,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAC3D,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GACtC,CAACpC,KAAM,EAAGoC,MAAO,GACjB,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAC3D,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,GAC3D,CAACpC,KAAM,EAAGoC,MAAO,GAAI,CAACpC,KAAM,EAAGoC,MAAO,IASpCuyD,GAAU,SAASx2B,EAAIppB,EAAGy6C,GAC5B6B,GAAWlzB,GACX,IAAIy2B,EA1DS,SAAS7vC,GACtB,OAAQA,GACJ,KAAK6nC,GAAEiI,OAAQ,OAAO94B,EACtB,KAAK,GAA8B,OAAOF,EAC1C,KAAK,IAA+B,OAAOC,EAC3C,KAAK,GAA8B,OAAOE,EAC1C,QAAS,OAAOC,GAoDV64B,CAAS32B,EAAGrmC,EAAExB,OACxB,GAAIs+D,IAAQ34B,EAAa,CACrB,IAAIljC,EAAOolC,EAAG+d,WACdliB,GAAKmkB,UAAUhgB,GACfw2B,GAAQx2B,EAAIppB,EAZG,IAaf+xB,GAAY3I,EAAGvB,GAAIg4B,EAAK7/C,EAAGhc,QApHjB,SAASolC,EAAIppB,GAG3B,OAAQopB,EAAGrmC,EAAExB,OACT,KAAKs2D,GAAE1R,OACHiV,GAASp7C,EAAGunB,GAAQG,MAAO,GAC3B1nB,EAAEe,EAAE4mB,KAAOyB,EAAGrmC,EAAE0jD,QAAQ1mC,EACxB,MAEJ,KAAK83C,GAAEmI,OACH5E,GAASp7C,EAAGunB,GAAQC,MAAO,GAC3BxnB,EAAEe,EAAE0mB,KAAO2B,EAAGrmC,EAAE0jD,QAAQjkD,EACxB,MAEJ,KAAKq1D,GAAEzR,UACHiV,GAAWjyB,EAAIppB,EAAGopB,EAAGrmC,EAAE0jD,QAAQ5wB,IAC/B,MAEJ,KAAKgiC,GAAEoI,OACH7E,GAASp7C,EAAGunB,GAAQyH,KAAM,GAC1B,MAEJ,KAAK6oB,GAAEqI,QACH9E,GAASp7C,EAAGunB,GAAQ2H,MAAO,GAC3B,MAEJ,KAAK2oB,GAAEsI,SACH/E,GAASp7C,EAAGunB,GAAQ0H,OAAQ,GAC5B,MAEJ,KAAK4oB,GAAEqH,QAAS,CACZ,IAAIr3B,EAAKuB,EAAGvB,GACZkzB,GAAgB3xB,EAAIvB,EAAGn+B,EAAEuzC,UAAWx8B,EAAa,8CAA8C,IAC/F26C,GAASp7C,EAAGunB,GAAQyG,QAASxF,EAAaX,EAAI+sB,GAAW,EAAG,EAAG,IAC/D,MAEJ,KAAK,IAED,YADA7uC,GAAYqjB,EAAIppB,GAGpB,KAAK63C,GAAEuH,YAGH,OAFAn6B,GAAKmkB,UAAUhgB,QACf39B,GAAK29B,EAAIppB,EAAG,EAAGopB,EAAG+d,YAGtB,QAEI,YADAsY,GAAYr2B,EAAIppB,GAIxBilB,GAAKmkB,UAAUhgB,GAoEXg3B,CAAUh3B,EAAIppB,GAElB,IAAIgQ,EAzDU,SAASA,GACvB,OAAQA,GACJ,KAAK,GAA8B,OAAOuV,EAC1C,KAAK,GAA8B,OAAOC,EAC1C,KAAK,GAA8B,OAAOC,EAC1C,KAAK,GAA8B,OAAOC,EAC1C,KAAK,GAA8B,OAAOC,EAC1C,KAAK,GAA8B,OAAOC,EAC1C,KAAKiyB,GAAEwI,QAAW,OAAOx6B,EACzB,KAAK,GAA8B,OAAOC,EAC1C,KAAK,IAA+B,OAAOC,EAC3C,KAAK,IAA+B,OAAOC,EAC3C,KAAK6xB,GAAEyI,OAAW,OAAOr6B,EACzB,KAAK4xB,GAAE0I,OAAW,OAAOr6B,EACzB,KAAK2xB,GAAE2I,UAAW,OAAOr6B,EACzB,KAAK0xB,GAAE4I,MAAW,OAAOl6B,EACzB,KAAKsxB,GAAE6I,MAAW,OAAOt6B,EACzB,KAAK,GAA8B,OAAOC,EAC1C,KAAKwxB,GAAE8I,MAAW,OAAOr6B,EACzB,KAAK,GAA8B,OAAOE,EAC1C,KAAKqxB,GAAE+I,MAAW,OAAOn6B,EACzB,KAAKoxB,GAAEgJ,OAAW,OAAOn6B,EACzB,KAAKmxB,GAAEiJ,MAAW,OAAOn6B,EACzB,QAAkB,OAAOC,GAkCpBm6B,CAAU33B,EAAGrmC,EAAExB,OACxB,KAAOyuB,IAAO4W,GAAgB+4B,GAAS3vC,GAAI/kB,KAAOwvD,GAAO,CACrD,IAAI7pB,EAAK,IAAIqB,GACTjuC,EAAOolC,EAAG+d,WACdliB,GAAKmkB,UAAUhgB,GACfiI,EAAWjI,EAAGvB,GAAI7X,EAAIhQ,GAEtB,IAAIghD,EAASpB,GAAQx2B,EAAIwH,EAAI+uB,GAAS3vC,GAAI3iB,OAC1CokC,GAAYrI,EAAGvB,GAAI7X,EAAIhQ,EAAG4wB,EAAI5sC,GAC9BgsB,EAAKgxC,EAGT,OADAzE,GAAWnzB,GACJpZ,GAGLouC,GAAO,SAASh1B,EAAIppB,GACtB4/C,GAAQx2B,EAAIppB,EAAG,IAab1hB,GAAQ,SAAS8qC,GAEnB,IAAIvB,EAAKuB,EAAGvB,GACRkyB,EAAK,IAAIR,GACbyD,GAAWn1B,EAAIkyB,EAAI,GACnBgE,GAAS30B,GACT8zB,GAAWr1B,IAOf,MAAMo5B,GACFl7C,cACIxmB,KAAKu6D,KAAO,KACZv6D,KAAKygB,EAAI,IAAIiyB,IAUrB,MA2BMivB,GAAa,SAAS93B,EAAI+3B,EAAItF,GAChC,IAAIvxD,EAAI,IAAI2nC,GAvhCA,IAASlmB,EAyhCrB,GADAgvC,GAAgB3xB,GAxhCKrd,EAwhCOo1C,EAAGnhD,EAAE+L,EAvhC1Bwb,GAAQ6G,QAAUriB,GAAKA,GAAKwb,GAAQgH,UAuhCN9tB,EAAa,gBAAgB,IAC9Dm6C,GAASxxB,EAAI,IAA+B,CAC5C,IAAIg4B,EAAK,IAAIH,GACbG,EAAGtH,KAAOqH,EACV1B,GAAYr2B,EAAIg4B,EAAGphD,GACfohD,EAAGphD,EAAE+L,IAAMwb,GAAQgH,UAlCR,SAASnF,EAAI+3B,EAAInhD,GACpC,IAAI6nB,EAAKuB,EAAGvB,GACRvY,EAAQuY,EAAG6E,QACX20B,GAAW,EACf,KAAOF,EAAIA,EAAKA,EAAGrH,KACXqH,EAAGnhD,EAAE+L,IAAMwb,GAAQgH,WAEf4yB,EAAGnhD,EAAEe,EAAEytB,IAAIC,KAAOzuB,EAAE+L,GAAKo1C,EAAGnhD,EAAEe,EAAEytB,IAAIzrC,IAAMid,EAAEe,EAAE2nB,OAC9C24B,GAAW,EACXF,EAAGnhD,EAAEe,EAAEytB,IAAIC,GAAKlH,GAAQ6G,OACxB+yB,EAAGnhD,EAAEe,EAAEytB,IAAIzrC,EAAIusB,GAGftP,EAAE+L,IAAMwb,GAAQ6G,QAAU+yB,EAAGnhD,EAAEe,EAAEytB,IAAI/sC,MAAQue,EAAEe,EAAE2nB,OACjD24B,GAAW,EACXF,EAAGnhD,EAAEe,EAAEytB,IAAI/sC,IAAM6tB,IAI7B,GAAI+xC,EAAU,CAEV,IAAIrxC,EAAKhQ,EAAE+L,IAAMwb,GAAQ6G,OAASgB,GAAUd,GAC5C9F,EAAaX,EAAI7X,EAAIV,EAAOtP,EAAEe,EAAE2nB,KAAM,GACtCkE,GAAiB/E,EAAI,IAYjBy5B,CAAel4B,EAAI+3B,EAAIC,EAAGphD,GAC9Bw6C,GAAWpxB,EAAGvB,GAAIg0B,EAAQzyB,EAAG9lC,EAAEo8C,QAASrC,GAAgB58B,EAAa,aAAa,IAClFygD,GAAW93B,EAAIg4B,EAAIvF,EAAQ,OACxB,CACHf,GAAU1xB,EAAI,IACd,IAAIizB,EAAQiD,GAAQl2B,EAAI9+B,GACxB,GAAI+xD,IAAUR,EAKV,OAFA5tB,GAAe7E,EAAGvB,GAAIv9B,QACtB4oC,GAAc9J,EAAGvB,GAAIs5B,EAAGnhD,EAAG1V,GAH3B8xD,GAAchzB,EAAIyyB,EAAOQ,EAAO/xD,GAOxC8wD,GAAS9wD,EAAGi9B,GAAQyF,UAAW5D,EAAGvB,GAAG6E,QAAQ,GAC7CwG,GAAc9J,EAAGvB,GAAIs5B,EAAGnhD,EAAG1V,IAGzBy2B,GAAO,SAASqI,GAElB,IAAIppB,EAAI,IAAIiyB,GAIZ,OAHAmsB,GAAKh1B,EAAIppB,GACLA,EAAE+L,IAAMwb,GAAQyH,OAAMhvB,EAAE+L,EAAIwb,GAAQ0H,QACxCuB,EAAcpH,EAAGvB,GAAI7nB,GACdA,EAAEtW,GAGP63D,GAAW,SAASn4B,EAAIrB,GAC1B,IACI00B,EADAz4D,EAAOolC,EAAG+d,WAEVyT,GAASxxB,EAAIyuB,GAAE2J,SACf/E,EAAQvB,GAAc9xB,IAEtBnE,GAAKmkB,UAAUhgB,GACfqzB,EAAQ3zC,GAAgBsgB,EAAG9lC,EAAG,UAElC,IAAIw8C,EAAIgd,GAAc1zB,EAAIA,EAAG8X,IAAIrsB,GAAI4nC,EAAOz4D,EAAM+jC,GAClD60B,GAAUxzB,EAAI0W,IAyEZ2S,GAAO,SAASrpB,GAClB,IAAI9+B,EAAI,IAAI2nC,GAKZ,OAJAmsB,GAAKh1B,EAAI9+B,GACTslC,EAAiBxG,EAAGvB,GAAIv9B,GACxB06B,GAAW16B,EAAEyhB,IAAMwb,GAAQyF,WACjB1iC,EAAEyW,EAAE2nB,MAIZ+4B,GAAU,SAASr4B,EAAIn1B,EAAMjQ,EAAM63D,EAAO6F,GAE5C,IAEIC,EAFA5H,EAAK,IAAIR,GACT1xB,EAAKuB,EAAGvB,GAEZ+zB,GAAgBxyB,EAAI,GACpB0xB,GAAU1xB,EAAIyuB,GAAE+J,OAChB,IAAIC,EAAOH,EAAQ/3B,EAAc9B,EAAI4sB,GAAYxgD,EAAMoxB,GAAWoE,EAAU5B,GAC5Em1B,GAAWn1B,EAAIkyB,EAAI,GACnB6B,GAAgBxyB,EAAIyyB,GACpBjvB,GAAiB/E,EAAIg0B,GACrBv9D,GAAM8qC,GACN8zB,GAAWr1B,GACXgD,GAAiBhD,EAAIg6B,GACjBH,EACAC,EAASh4B,EAAc9B,EAAI2sB,GAAYvgD,EAAMoxB,IAE7CmD,EAAaX,EAAIqQ,GAAajkC,EAAM,EAAG4nD,GACvC5qB,EAAapJ,EAAI7jC,GACjB29D,EAASh4B,EAAc9B,EAAI6sB,GAAazgD,EAAO,EAAGoxB,IAEtDyF,GAAejD,EAAI85B,EAAQE,EAAO,GAClC5wB,EAAapJ,EAAI7jC,IA+Df89D,GAAkB,SAAS14B,EAAI24B,GAEjC,IAGIC,EAHAjI,EAAK,IAAIR,GACT1xB,EAAKuB,EAAGvB,GACR7nB,EAAI,IAAIiyB,GAOZ,GAJAhN,GAAKmkB,UAAUhgB,GACfg1B,GAAKh1B,EAAIppB,GACT86C,GAAU1xB,EAAIyuB,GAAEoK,SAEZ74B,EAAGrmC,EAAExB,QAAUs2D,GAAE2J,SAAWp4B,EAAGrmC,EAAExB,QAAUs2D,GAAEqK,SAAU,CAIvD,IAHAzxB,EAAerH,EAAGvB,GAAI7nB,GACtBg9C,GAAWn1B,EAAIkyB,GAAI,GACnBwH,GAASn4B,EAAIppB,EAAEjd,GACR63D,GAASxxB,EAAI,MACpB,GAAIq0B,GAAar0B,EAAI,GAEjB,OADA8zB,GAAWr1B,GACJk6B,EAEPC,EAAKv4B,EAAU5B,QAEnB2I,EAAcpH,EAAGvB,GAAI7nB,GACrBg9C,GAAWn1B,EAAIkyB,GAAI,GACnBiI,EAAKhiD,EAAEtW,EASX,OANAq0D,GAAS30B,GACT8zB,GAAWr1B,GACPuB,EAAGrmC,EAAExB,QAAUs2D,GAAE8F,SAAWv0B,EAAGrmC,EAAExB,QAAUs2D,GAAE+F,YAC7CmE,EAAaz4B,EAAYzB,EAAIk6B,EAAYt4B,EAAU5B,KACvDgD,GAAiBhD,EAAIm6B,GAEdD,GAmHL9D,GAAY,SAAS70B,GACvB,IAAIplC,EAAOolC,EAAG+d,WAEd,OADAmV,GAAWlzB,GACJA,EAAGrmC,EAAExB,OACR,KAAK,GACD0jC,GAAKmkB,UAAUhgB,GACf,MAEJ,KAAKyuB,GAAEsK,OAxHA,SAAS/4B,EAAIplC,GAExB,IAAI6jC,EAAKuB,EAAGvB,GACRk6B,EAAa18B,EAEjB,IADA08B,EAAaD,GAAgB14B,EAAI24B,GAC1B34B,EAAGrmC,EAAExB,QAAUs2D,GAAE+F,WACpBmE,EAAaD,GAAgB14B,EAAI24B,GACjCnH,GAASxxB,EAAIyuB,GAAE8F,UACfr/D,GAAM8qC,GACV4xB,GAAY5xB,EAAIyuB,GAAEgG,OAAQhG,GAAEsK,MAAOn+D,GACnC6mC,GAAiBhD,EAAIk6B,GA+GbK,CAAOh5B,EAAIplC,GACX,MAEJ,KAAK6zD,GAAEwK,UAjSG,SAASj5B,EAAIplC,GAE3B,IAAI6jC,EAAKuB,EAAGvB,GACRkyB,EAAK,IAAIR,GACbt0B,GAAKmkB,UAAUhgB,GACf,IAAIk5B,EAAYv4B,EAAclC,GAC1B06B,EAAWxhC,GAAKqI,GACpB4zB,GAAWn1B,EAAIkyB,EAAI,GACnBe,GAAU1xB,EAAIyuB,GAAE+J,OAChBtjE,GAAM8qC,GACNkI,GAAYzJ,EAAIy6B,GAChBtH,GAAY5xB,EAAIyuB,GAAEgG,OAAQhG,GAAEwK,SAAUr+D,GACtCk5D,GAAWr1B,GACXgD,GAAiBhD,EAAI06B,GAqRbC,CAAUp5B,EAAIplC,GACd,MAEJ,KAAK6zD,GAAE+J,MACH38B,GAAKmkB,UAAUhgB,GACf9qC,GAAM8qC,GACN4xB,GAAY5xB,EAAIyuB,GAAEgG,OAAQhG,GAAE+J,MAAO59D,GACnC,MAEJ,KAAK6zD,GAAE4K,QA1LC,SAASr5B,EAAIplC,GAEzB,IAAI6jC,EAAKuB,EAAGvB,GACRkyB,EAAK,IAAIR,GACbyD,GAAWn1B,EAAIkyB,EAAI,GACnB90B,GAAKmkB,UAAUhgB,GACf,IAAIia,EAAU6X,GAAc9xB,GAC5B,OAAQA,EAAGrmC,EAAExB,OACT,KAAK,IApDE,SAAS6nC,EAAIia,EAASr/C,GAEjC,IAAI6jC,EAAKuB,EAAGvB,GACR5zB,EAAO4zB,EAAG6E,QACdgvB,GAAoBtyB,EAAI,eACxBsyB,GAAoBtyB,EAAI,eACxBsyB,GAAoBtyB,EAAI,cACxBmyB,GAAanyB,EAAIia,GACjByX,GAAU1xB,EAAI,IACdqpB,GAAKrpB,GACL0xB,GAAU1xB,EAAI,IACdqpB,GAAKrpB,GACDwxB,GAASxxB,EAAI,IACbqpB,GAAKrpB,IAELiD,EAAWxE,EAAIA,EAAG6E,QAASgB,EAAU7F,EAAI,IACzC+E,GAAiB/E,EAAI,IAEzB45B,GAAQr4B,EAAIn1B,EAAMjQ,EAAM,EAAG,GAkCY0+D,CAAOt5B,EAAIia,EAASr/C,GAAO,MAC9D,KAAK,GAA8B,KAAK6zD,GAAE8K,OAhClC,SAASv5B,EAAIw5B,GAEzB,IAAI/6B,EAAKuB,EAAGvB,GACRv9B,EAAI,IAAI2nC,GACR4pB,EAAQ,EACR5nD,EAAO4zB,EAAG6E,QAOd,IALAgvB,GAAoBtyB,EAAI,mBACxBsyB,GAAoBtyB,EAAI,eACxBsyB,GAAoBtyB,EAAI,iBAExBmyB,GAAanyB,EAAIw5B,GACVhI,GAASxxB,EAAI,KAChBmyB,GAAanyB,EAAI8xB,GAAc9xB,IAC/ByyB,IAEJf,GAAU1xB,EAAIyuB,GAAE8K,OAChB,IAAI3+D,EAAOolC,EAAG+d,WACdiV,GAAchzB,EAAI,EAAGk2B,GAAQl2B,EAAI9+B,GAAIA,GACrCkiC,EAAgB3E,EAAI,GACpB45B,GAAQr4B,EAAIn1B,EAAMjQ,EAAM63D,EAAQ,EAAG,GAYkBgH,CAAQz5B,EAAIia,GAAU,MACvE,QAASpe,GAAKkE,iBAAiBC,EAAI3oB,EAAa,wBAAwB,IAE5Eu6C,GAAY5xB,EAAIyuB,GAAEgG,OAAQhG,GAAE4K,OAAQz+D,GACpCk5D,GAAWr1B,GA8KHi7B,CAAQ15B,EAAIplC,GACZ,MAEJ,KAAK6zD,GAAEkL,WA/RI,SAAS35B,EAAIplC,GAE5B,IAAI6jC,EAAKuB,EAAGvB,GACRm7B,EAAcj5B,EAAclC,GAC5Bo7B,EAAM,IAAI1J,GACV2J,EAAM,IAAI3J,GACdyD,GAAWn1B,EAAIo7B,EAAK,GACpBjG,GAAWn1B,EAAIq7B,EAAK,GACpBj+B,GAAKmkB,UAAUhgB,GACf20B,GAAS30B,GACT4xB,GAAY5xB,EAAIyuB,GAAEiG,SAAUjG,GAAEkL,UAAW/+D,GACzC,IAAIu+D,EAAWxhC,GAAKqI,GAChB85B,EAAIxJ,OACJnoB,GAAgB1J,EAAI06B,EAAUW,EAAIp2B,SACtCowB,GAAWr1B,GACXiD,GAAejD,EAAI06B,EAAUS,GAC7B9F,GAAWr1B,GAgRHs7B,CAAW/5B,EAAIplC,GACf,MAEJ,KAAK6zD,GAAEuH,aAvFE,SAASh2B,EAAIplC,GAE1B,IAAIgc,EAAI,IAAIiyB,GACR3hC,EAAI,IAAI2hC,GACZhN,GAAKmkB,UAAUhgB,GACf,IAAI01B,EAlBS,SAAS11B,EAAIppB,GAE1B,IAAI8+C,EAAW,EAEf,IADA3C,GAAU/yB,EAAIppB,GACQ,KAAfopB,EAAGrmC,EAAExB,OACR28D,GAAS90B,EAAIppB,GAKjB,OAJmB,KAAfopB,EAAGrmC,EAAExB,QACLu9D,EAAW,EACXZ,GAAS90B,EAAIppB,IAEV8+C,EAQQznB,CAASjO,EAAIppB,GAC5BvU,GAAK29B,EAAI94B,EAAGwuD,EAAU96D,GACtBkvC,GAAc9J,EAAGvB,GAAI7nB,EAAG1P,GACxB2gC,EAAa7H,EAAGvB,GAAI7jC,GAgFZo/D,CAASh6B,EAAIplC,GACb,MAEJ,KAAK6zD,GAAEwL,SACHp+B,GAAKmkB,UAAUhgB,GACXwxB,GAASxxB,EAAIyuB,GAAEuH,aAvIb,SAASh2B,GACvB,IAAI94B,EAAI,IAAI2hC,GACRpK,EAAKuB,EAAGvB,GACZ0zB,GAAanyB,EAAI8xB,GAAc9xB,IAC/BwyB,GAAgBxyB,EAAI,GACpB39B,GAAK29B,EAAI94B,EAAG,EAAG84B,EAAG+d,YAElBwU,GAAU9zB,EAAIv3B,EAAEyQ,EAAE2nB,MAAM4a,QAAUzb,EAAGE,GAiIzBu7B,CAAUl6B,GA9HR,SAASA,GAEvB,IACIizB,EADAR,EAAQ,EAERvxD,EAAI,IAAI2nC,GACZ,GACIspB,GAAanyB,EAAI8xB,GAAc9xB,IAC/ByyB,UACKjB,GAASxxB,EAAI,KAClBwxB,GAASxxB,EAAI,IACbizB,EAAQiD,GAAQl2B,EAAI9+B,IAEpBA,EAAEyhB,EAAIwb,GAAQqyB,MACdyC,EAAQ,GAEZD,GAAchzB,EAAIyyB,EAAOQ,EAAO/xD,GAChCsxD,GAAgBxyB,EAAIyyB,GAgHR0H,CAAUn6B,GACd,MAEJ,KAAKyuB,GAAE2L,WACHv+B,GAAKmkB,UAAUhgB,GAjVT,SAASA,EAAIqzB,EAAOz4D,GAElC,IAEIu5B,EAFAsK,EAAKuB,EAAGvB,GACR47B,EAAKr6B,EAAG8X,IAAIub,OApBE,SAAS50B,EAAI47B,EAAIhH,GACnC,IAAK,IAAIj6D,EAAIqlC,EAAGkyB,GAAGP,WAAYh3D,EAAIihE,EAAGx3D,EAAGzJ,IACrC,GAAI82D,GAAMmD,EAAOgH,EAAG/rD,IAAIlV,GAAGuS,MAAO,CAC9B,IAAI9Q,EAAMykB,GAAQ6yB,iBAAiB1T,EAAGuB,GAAG9lC,EACrCmd,EAAa,yCAAyC,GACtDg8C,EAAMvvC,SAAUu2C,EAAG/rD,IAAIlV,GAAGwB,MAC9Bs2D,GAASzyB,EAAGuB,GAAInlC,IAgBxBy/D,CAAc77B,EAAI47B,EAAIhH,GACtB3B,GAAU1xB,EAAIyuB,GAAE2L,YAEhBjmC,EAAIu/B,GAAc1zB,EAAIq6B,EAAIhH,EAAOz4D,EAAM+lC,EAAclC,IAbpC,SAASuB,GAC1B,KAAsB,KAAfA,EAAGrmC,EAAExB,OAA0C6nC,EAAGrmC,EAAExB,QAAUs2D,GAAE2L,YACnEvF,GAAU70B,GAYdu6B,CAAav6B,GACTq0B,GAAar0B,EAAI,KAEjBq6B,EAAG/rD,IAAI6lB,GAAGuP,QAAUjF,EAAGkyB,GAAGjtB,SAE9BiwB,GAAU3zB,EAAIq6B,EAAG/rD,IAAI6lB,IAoUbqmC,CAAUx6B,EAAI8xB,GAAc9xB,GAAKplC,GACjC,MAEJ,KAAK6zD,GAAEmG,UACH/4B,GAAKmkB,UAAUhgB,GA/EX,SAASA,GAErB,IAEIkJ,EAAOC,EAFP1K,EAAKuB,EAAGvB,GACRv9B,EAAI,IAAI2nC,GAERwrB,GAAar0B,EAAI,IAAqB,KAAfA,EAAGrmC,EAAExB,MAC5B+wC,EAAQC,EAAO,GAEfA,EAAO+sB,GAAQl2B,EAAI9+B,GACf+uD,GAAW/uD,EAAEyhB,IACbknB,GAAgBpL,EAAIv9B,GAChBA,EAAEyhB,IAAMwb,GAAQuG,OAAkB,IAATyE,IACzB2iB,GAAWzsB,EAAeZ,EAAIv9B,GAAI8tC,IAClCpT,GAAWyD,EAAeZ,EAAIv9B,GAAG89B,IAAMP,EAAGiF,UAE9CwF,EAAQzK,EAAGiF,QACXyF,EAAO9tB,GAEM,IAAT8tB,EACAD,EAAQzC,EAAgBhI,EAAIv9B,IAE5BslC,EAAiB/H,EAAIv9B,GACrBgoC,EAAQzK,EAAGiF,QACX9H,GAAWuN,IAAS1K,EAAG6E,QAAU4F,KAI7CD,GAASxK,EAAIyK,EAAOC,GACpBqoB,GAASxxB,EAAI,IAoDLy6B,CAAQz6B,GACR,MAEJ,KAAKyuB,GAAEqK,SACP,KAAKrK,GAAE2J,QACHD,GAASn4B,EAAIK,EAAUL,EAAGvB,KAC1B,MAEJ,SAvGQ,SAASuB,GAErB,IAAIvB,EAAKuB,EAAGvB,GACR7nB,EAAI,IAAIihD,GACZxB,GAAYr2B,EAAIppB,EAAEA,GACC,KAAfopB,EAAGrmC,EAAExB,OAAyD,KAAf6nC,EAAGrmC,EAAExB,OACpDye,EAAE85C,KAAO,KACToH,GAAW93B,EAAIppB,EAAG,KAGlB+6C,GAAgB3xB,EAAIppB,EAAEA,EAAE+L,IAAMwb,GAAQuG,MAAOrtB,EAAa,gBAAgB,IAC1EstB,GAAStF,EAAeZ,EAAI7nB,EAAEA,GAAI,IA6F9B8jD,CAAS16B,GAIjBpE,GAAWoE,EAAGvB,GAAGn+B,EAAEijC,cAAgBvD,EAAGvB,GAAG6E,SAAWtD,EAAGvB,GAAG6E,SAAWtD,EAAGvB,GAAGiF,SAC3E1D,EAAGvB,GAAG6E,QAAUtD,EAAGvB,GAAGiF,QACtByvB,GAAWnzB,IA4CfpoB,EAAOC,QAAQkgC,QAz5Cf,MACIp7B,cACIxmB,KAAKk8D,OAAS,CACV/jD,IAAK,GACLzL,EAAGga,IACH+O,KAAM/O,KAEV1mB,KAAKs1B,GAAK,IAAIwlC,GACd96D,KAAKk9D,MAAQ,IAAIpC,KAk5CzBr5C,EAAOC,QAAQsmB,QAAcA,GAC7BvmB,EAAOC,QAAQgxB,QAAcA,GAC7BjxB,EAAOC,QAAQugC,YA3BK,SAASl+C,EAAGqxB,EAAGmJ,EAAMojB,EAAKnsC,EAAMu0C,GAChD,IAAIya,EAAW,IAAI9+B,GAAK8jB,SACpBib,EAAY,IAAInK,GAChBpuC,EAAKhD,GAAMs7B,iBAAiBzgD,EAAG,GAiBnC,OAhBAilB,GAAIm5B,YAAYp+C,GAChBA,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAGqlD,YAAYxkC,GAC7Bs4C,EAASv2B,EAAIvkB,GAAO4D,SAASvpB,GAC7BilB,GAAIm5B,YAAYp+C,GAChBA,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAGslD,UAAU6T,EAASv2B,GACpCw2B,EAAUt6D,EAAI+hB,EAAGtU,EAAI,IAAIwsC,GAAMrgD,GAC/B0gE,EAAUt6D,EAAE4L,OAASuT,GAASvlB,EAAGyR,GACjCgvD,EAASjmC,KAAOA,EAChBimC,EAAS7iB,IAAMA,EACfA,EAAIua,OAAOxvD,EAAIi1C,EAAIrsB,GAAG5oB,EAAIi1C,EAAIub,MAAMxwD,EAAI,EACxCg5B,GAAKokB,cAAc/lD,EAAGygE,EAAUpvC,EAAGqvC,EAAUt6D,EAAE4L,OAAQg0C,GA3B1C,SAASlgB,EAAIvB,GAC1B,IAAIkyB,EAAK,IAAIR,GACTv5C,EAAI,IAAIiyB,GACZgrB,GAAU7zB,EAAIvB,EAAIkyB,GAClBlyB,EAAGn+B,EAAEuzC,WAAY,EACjBme,GAASp7C,EAAGunB,GAAQ6G,OAAQ,GAC5B0tB,GAAWj0B,EAAIuB,EAAG6f,KAAMjpC,GACxBilB,GAAKmkB,UAAUhgB,GACf20B,GAAS30B,GACTyxB,GAAMzxB,EAAIyuB,GAAE3R,QACZsX,GAAWp0B,GAkBX66B,CAASF,EAAUC,GACnBh/B,IAAYg/B,EAAUlK,MAA2B,IAAnBkK,EAAUz9C,OAAew9C,EAASl8B,IAEhE7C,GAA4B,IAAjBkc,EAAIua,OAAOxvD,GAAwB,IAAbi1C,EAAIrsB,GAAG5oB,GAA2B,IAAhBi1C,EAAIub,MAAMxwD,UACtD3I,EAAEmT,QAAQnT,EAAEsH,KACZ6gB,GAQXzK,EAAOC,QAAQmwB,UA1+CG,SAASrlB,GACvB,OAAOA,IAAMwb,GAAQyF,WAAajhB,IAAMwb,GAAQ6G,qCCrKpD,MAAM,aACF5pB,EAAY,iBACZmB,EAAgB,oBAChBE,EACAnD,gBAAgB,YACZW,EAAW,SACXT,EAAQ,WACRK,EAAU,YACVG,GAEJ0D,eAAe,OACXC,IAEJ,EAAQ,MACN2B,EAAuB,EAAQ,MAC/BH,EAAuB,EAAQ,MAC/BiuB,EAAuB,EAAQ,MAC/BvtB,EAAuB,EAAQ,MAC/BF,EAAuB,EAAQ,MAI/Bm7C,EAAmB,EAAI1/C,EAE7B,MAAM2/C,EAEFp+C,cACIxmB,KAAK2qB,KAAO,KACZ3qB,KAAKiqB,QAAUvD,IACf1mB,KAAKqL,IAAMqb,IACX1mB,KAAKuoC,SAAW,KAChBvoC,KAAK+J,KAAO,KAGZ/J,KAAKw3C,OAAS9wB,IACd1mB,KAAKq/C,OAAS,KACdr/C,KAAKm3C,UAAYzwB,IAEjB1mB,KAAKyvB,IAAM,KACXzvB,KAAKgwB,cAAgB,KACrBhwB,KAAK0vB,MAAQ,KAEb1vB,KAAK4uB,SAAWlI,IAChB1mB,KAAKqvB,WAAa3I,KAK1B,MAAMgT,EAEFlT,YAAY+5B,GACRvgD,KAAKwI,GAAK+3C,EAAE8D,aAEZrkD,KAAK69C,QAAU,IAAI+mB,EACnB5kE,KAAKqL,IAAMqb,IACX1mB,KAAKkrB,WAAaxE,IAClB1mB,KAAKu9C,MAAQ72B,IAGb1mB,KAAKwqB,IAAM+1B,EACXvgD,KAAKkX,MAAQ,KACblX,KAAK+pB,GAAK,KACV/pB,KAAKsgD,SAAW,KAChBtgD,KAAKmgD,QAAU,EACfngD,KAAKs2C,KAAO,KACZt2C,KAAK+8C,SAAW,EAChB/8C,KAAKk9C,cAAgB,EACrBl9C,KAAKkwB,UAAY,EACjBlwB,KAAKi9C,UAAYj9C,KAAKk9C,cACtBl9C,KAAKwvB,IAAM,EACXxvB,KAAKuvB,OAAS/H,EACdxnB,KAAK6vB,QAAU,GAKvB,MAAMg1C,EAEFr+C,cACIxmB,KAAKqkD,WAAa,EAClBrkD,KAAK2xD,IAAM,IAAInjC,QAEfxuB,KAAK62B,WAAa,KAClB72B,KAAKyqB,WAAa,IAAItB,EAAQS,OAAOvG,EAAU,MAC/CrjB,KAAK6wB,MAAQ,KACb7wB,KAAKgxB,cAAgB,KACrBhxB,KAAK66B,QAAU,KACf76B,KAAK27C,OAAS,IAAIppC,MAAMiX,EAAI8vB,IAAIwrB,MAChC9kE,KAAK+yB,GAAK,IAAIxgB,MAAMuR,IAK5B,MASMi7B,EAAc,SAASh7C,GAChBA,EAAEgmB,GACRhgB,KAAO,MAGRg7D,EAAa,SAAS1hC,EAAIt/B,GAC5Bs/B,EAAGnsB,MAAQ,IAAI3E,MAAMoyD,GACrBthC,EAAGh4B,IAAM,EACTg4B,EAAGnY,WAAay5C,EA1FA,EA4FhB,IAAI56C,EAAKsZ,EAAGwa,QACZ9zB,EAAGhgB,KAAOggB,EAAGwe,SAAW,KACxBxe,EAAGsF,WAAa,EAChBtF,EAAGE,QAAUoZ,EAAGh4B,IAChB0e,EAAGY,KAAO0Y,EAAGnsB,MAAMmsB,EAAGh4B,KACtBg4B,EAAGnsB,MAAMmsB,EAAGh4B,OAAS,IAAI8d,EAAQS,OAAOvG,EAAU,MAClD0G,EAAG1e,IAAMg4B,EAAGh4B,IAAM4Z,EAClBoe,EAAGtZ,GAAKA,GAGNi7C,EAAY,SAASjhE,GACvBA,EAAEgmB,GAAKhmB,EAAE85C,QACTkB,EAAYh7C,GACZA,EAAEmT,MAAQ,MAiBR+tD,EAAY,SAASlhE,GACvB,IAAIw8C,EAAIx8C,EAAEymB,IACVu6C,EAAWhhE,GAbO,SAASA,EAAGw8C,GAC9B,IAAI2kB,EAAWx7C,EAAO4D,SAASvpB,GAC/Bw8C,EAAE91B,WAAWkmC,UAAUuU,GACvBx7C,EAAOiO,YAAYutC,EAAU5+C,EAAqB,IAAI6C,EAAQS,OAAO/F,EAAa9f,IAClF2lB,EAAOiO,YAAYutC,EAAU9+C,EAAkB,IAAI+C,EAAQS,OAAOlG,EAAYgG,EAAO4D,SAASvpB,KAU9FohE,CAAcphE,EAAGw8C,GACjB/2B,EAAI47C,UAAUrhE,GACdw8C,EAAE1lB,QAAUoc,EAAKrc,YAAY,OAyCjCnZ,EAAOC,QAAQgY,UAAkBA,EACjCjY,EAAOC,QAAQkjD,SAAkBA,EACjCnjD,EAAOC,QAAQuO,SAAkB,EACjCxO,EAAOC,QAAQ4N,SAAkB,EACjC7N,EAAOC,QAAQ23B,YAAkB,EACjC53B,EAAOC,QAAQ2jD,WAAkB,EACjC5jD,EAAOC,QAAQyO,YAAkB,GACjC1O,EAAOC,QAAQs2B,UAAkB,GACjCv2B,EAAOC,QAAQy7B,eAAkB,GACjC17B,EAAOC,QAAQ4jD,SAAkB,IACjC7jD,EAAOC,QAAQq2B,SAAkB,IACjCt2B,EAAOC,QAAQ0P,YAnLK,EAoLpB3P,EAAOC,QAAQw0C,UAjBG,SAASnyD,IAJP,SAASA,GACzBihE,EAAUjhE,GAKVwhE,CADAxhE,EAAIA,EAAEymB,IAAIqM,aAiBdpV,EAAOC,QAAQwZ,aAlCM,WACjB,IAAIqlB,EAAI,IAAIskB,EACR9gE,EAAI,IAAI21B,EAAU6mB,GAOtB,OANAA,EAAE1pB,WAAa9yB,EAEXilB,EAAIw3B,qBAAqBz8C,EAAGkhE,EAAW,QAAUz9C,IACjDzjB,EAAI,MAGDA,GA0BX0d,EAAOC,QAAQyyB,cApDO,SAASpwC,GAC3B,IAAIw8C,EAAIx8C,EAAEymB,IACN6Y,EAAK,IAAI3J,EAAU6mB,GAQvB,OAPAx8C,EAAEmT,MAAMnT,EAAEsH,KAAO,IAAI8d,EAAQS,OAAO/F,EAAawf,GACjD4T,EAAKntB,aAAa/lB,GAClBs/B,EAAG0Z,SAAWh5C,EAAEg5C,SAChB1Z,EAAG6Z,cAAgBn5C,EAAEm5C,cACrB7Z,EAAGiT,KAAOvyC,EAAEuyC,KACZjT,EAAG4Z,UAAY5Z,EAAG6Z,cAClB6nB,EAAW1hC,GACJA,GA2CX5hB,EAAOC,QAAQu9B,cA9GO,SAASl7C,GAC3B,IAAIgmB,EAAK,IAAI66C,EAKb,OAJA7gE,EAAEgmB,GAAGhgB,KAAOggB,EACZA,EAAGwe,SAAWxkC,EAAEgmB,GAChBA,EAAGhgB,KAAO,KACVhG,EAAEgmB,GAAKA,EACAA,GAyGXtI,EAAOC,QAAQq9B,YAAkBA,EACjCt9B,EAAOC,QAAQ8jD,gBA1CS,SAASzhE,EAAGs/B,GAChC2hC,EAAU3hC,iCCpKd,MAAM,aACFziB,EAAY,aACZe,EAAY,eACZxB,EAAc,aACde,GACA,EAAQ,OACN,WAAEukB,GAAe,EAAQ,MAE/B,MAAMggC,EAEFj/C,YAAYziB,EAAGnD,GACXZ,KAAK0lE,KAAO,KACZ1lE,KAAK2lE,WAAa/kE,EAGtB+sB,SACI,OAAO3tB,KAAK2lE,WAGhBviB,SACI,OAAOpjD,KAAK2lE,WAAWpkE,QAK/B,MAQM4kD,EAAY,SAASvlD,GACvB6kC,EAAW7kB,EAAahgB,IACxB,IAAIqe,EAAMre,EAAIW,OACVoX,EAAI,IACR,IAAK,IAAI1V,EAAE,EAAGA,EAAEgc,EAAKhc,IACjB0V,GAAK/X,EAAIqC,GAAGuf,SAAS,IACzB,OAAO7J,GAYL0Q,EAAa,SAAStlB,EAAGnD,GAE3B,OADA6kC,EAAW7kC,aAAe0f,YACnB,IAAImlD,EAAQ1hE,EAAGnD,IAa1B6gB,EAAOC,QAAQm4C,cAzCO,SAASlzD,EAAGoK,GAG9B,OAFA00B,EAAW9+B,aAAa8+D,GACxBhgC,EAAW10B,aAAa00D,GACjB9+D,GAAKoK,GAAK4Q,EAAahb,EAAEg/D,WAAY50D,EAAE40D,aAuClDlkD,EAAOC,QAAQykC,UAAmBA,EAClC1kC,EAAOC,QAAQ0kC,iBA1BU,SAAS9vB,GAK9B,OAJAmP,EAAWnP,aAAcmvC,GACV,OAAZnvC,EAAGovC,OACFpvC,EAAGovC,KAAOvf,EAAU7vB,EAAG3I,WAEpB2I,EAAGovC,MAsBdjkD,EAAOC,QAAQ2H,WAAmBA,EAClC5H,EAAOC,QAAQ4H,SAbE,SAASvlB,EAAGnD,GACzB,OAAOyoB,EAAWtlB,EAAGoc,EAAevf,KAaxC6gB,EAAOC,QAAQ6H,gBATS,SAASxlB,EAAGnD,GAChC,OAAOyoB,EAAWtlB,EAAGmd,EAAatgB,KAStC6gB,EAAOC,QAAQ+jD,QAAmBA,8BCxElC,MAAM,QAAEG,GAAY,EAAQ,OAEtB,gBACFC,EAAe,mBACfC,EAAkB,eAClB1b,EAAc,eACd2b,EAAc,kBACdC,EAAiB,MACjBC,EAAK,sBACLC,GACA,EAAQ,OACN,aACF5iD,EAAY,cACZK,EAAa,SACbN,EAAQ,YACRG,EAAW,YACXC,EAAW,WACXC,EAAU,SACVuN,EAAQ,gBACR9D,EAAe,SACf6E,EAAQ,aACRkB,EAAY,WACZ3uB,EAAU,cACVwvB,EAAa,aACbU,EAAY,QACZrJ,EAAO,iBACPY,EAAgB,gBAChBvD,EAAe,sBACf4N,EAAqB,gBACrB3N,EAAe,gBACf6N,EAAe,YACfE,EAAW,eACXC,EAAc,eACdC,EAAc,cACdG,EAAa,WACbe,EAAU,aACVlP,EAAY,iBACZsP,EAAgB,WAChBjN,EAAU,cACV2N,EAAa,cACbS,EAAa,aACbE,EAAY,aACZpL,EAAY,eACZ6L,EAAc,SACdlL,EAAQ,iBACRvH,GACA,EAAQ,OACN,YACFoU,EAAW,aACX2F,EAAY,gBACZtD,EAAe,aACfE,EAAY,eACZC,EAAc,cACdoD,EAAa,cACbC,EAAa,cACbvF,EAAa,cACb8B,EAAa,kBACb2D,GAAiB,kBACjBlE,GAAiB,iBACjBF,GAAgB,gBAChBgC,GAAe,iBACfpC,GAAgB,eAChB4E,GAAc,WACd1F,GAAU,YACVvT,GAAW,gBACX4Z,GAAe,eACfpF,GAAc,kBACdK,GAAiB,gBACjBU,GAAe,oBACfwE,GAAmB,eACnBO,GAAc,cACd1G,IACA,EAAQ,MACNx2B,GAAS,EAAQ,OACjB,aACF2b,GAAY,kBACZvB,GAAiB,YACjBwB,GAAW,aACXV,IACA,EAAQ,MAGNilD,GADU,IACO1kE,WAAW,GAU5B2kE,GAAU,WAGVC,GAAS,SAAS1tD,GACpB,IAAIsG,EAAMmB,GAAkBzH,EAAG,GAC/B,OAAOsG,GAAO,EAAIA,EAAMtG,EAAEpX,QAIxB+kE,GAAW,SAAStiE,EAAKib,GAC3B,OAAIjb,GAAO,EAAUA,EACZ,EAAIA,EAAMib,EAAY,EACnBA,EAAMjb,EAAM,GAkCtBiuB,GAAS,SAASluB,EAAGgN,EAAG0kB,EAAMiI,GAEhC,OADAK,EAAgBL,EAAG3sB,EAAG0kB,GACf,GAeL8wC,GAAaP,EAAkBzkE,OAAS,EAmCxCilE,GAAkB,SAASziE,EAAGkyB,EAAK3vB,GACrC,IAAIi4B,EAhCW,SAASj4B,GAExB,GAAI8iD,OAAOqd,GAAGngE,EAAGuN,KACb,OAAOqN,GAAa,OACnB,GAAIkoC,OAAOqd,GAAGngE,GAAG,KAClB,OAAO4a,GAAa,QACnB,GAAIpc,OAAOwgC,MAAMh/B,GAClB,OAAO4a,GAAa,OACnB,GAAU,IAAN5a,EAAS,CAEd,IAAIogE,EAAOd,EAAQG,EAAiB,QAASz/D,GAG7C,OAFI8iD,OAAOqd,GAAGngE,GAAI,KACdogE,EAAO,IAAMA,GACVxlD,GAAawlD,GACjB,CACH,IAAInoC,EAAO,GACPooC,EAAKV,EAAM3/D,GACXwM,EAAI6zD,EAAG,GACP57D,EAAI47D,EAAG,GASX,OARI7zD,EAAI,IACJyrB,GAAQ,IACRzrB,GAAKA,GAETyrB,GAAQ,KACRA,IAAa,EAAJzrB,GAAiB0P,SAAS,IACnCzX,GA3BO,EA4BPwzB,GAAQqnC,EAAQ,OAAQ76D,GACjBmW,GAAaqd,IAKbqoC,CAAWtgE,GACtB,GAAwB,KAApB2vB,EAAIswC,IACJ,IAAK,IAAItjE,EAAI,EAAGA,EAAIs7B,EAAKh9B,OAAQ0B,IAAK,CAClC,IAAI+d,EAAIud,EAAKt7B,GACT+d,GAAK,KACLud,EAAKt7B,GAAS,IAAJ+d,QAES,KAApBiV,EAAIswC,KACXpqC,GAAWp4B,EAAGmd,GAAa,qDAC/B,OAAOqd,GAcLsoC,GAAQ3lD,GAAa,SAOrB4lD,GAAU/7D,GAAM,IAAMA,GAAKA,GAAK,KAAS,IAAMA,GAAKA,GAAK,GACzDg8D,GAAUh8D,GAAK,IAAMA,GAAKA,GAAK,GAC/Bi8D,GAAUj8D,GAAM,GAAQA,GAAKA,GAAK,IAAe,MAANA,EAC3Ck8D,GAAUl8D,GAAK,IAAMA,GAAKA,GAAK,IAC/Bm8D,GAAUn8D,GAAK,IAAMA,GAAKA,GAAK,IAC/Bo8D,GAAUp8D,GAAK,IAAMA,GAAKA,GAAK,GAC/Bq8D,GAAUr8D,GAAM,IAAMA,GAAKA,GAAK,KAAS,IAAMA,GAAKA,GAAK,IAAQ,IAAMA,GAAKA,GAAK,GACjFs8D,GAAUt8D,GAAKk8D,GAAQl8D,KAAOq8D,GAAQr8D,GACtCu8D,GAAUv8D,GAAW,KAANA,GAAaA,GAAK,GAAKA,GAAK,GAC3Cw8D,GAAWx8D,GAAM,IAAMA,GAAKA,GAAK,IAAQ,IAAMA,GAAKA,GAAK,IAAQ,IAAMA,GAAKA,GAAK,IAkCjFy8D,GAAa,SAASzjE,EAAGgN,EAAGkrB,GAC9B,OAAOpN,EAAS9qB,EAAGk4B,IACf,KAAKxY,EAAa,CACd,IAAI9K,EAAIuV,EAAanqB,EAAGk4B,IAnClB,SAASlrB,EAAG4H,EAAGsG,GAC7BoiB,EAAatwB,EAAG,IAChB,IAAI9N,EAAI,EACR,KAAOgc,KAAO,CACV,GAAa,KAATtG,EAAE1V,IACO,KAAT0V,EAAE1V,IACO,KAAT0V,EAAE1V,GACFo+B,EAAatwB,EAAG,IAChBswB,EAAatwB,EAAG4H,EAAE1V,SACf,GAAI+jE,GAAQruD,EAAE1V,IAAK,CACtB,IAAIs7B,EAAO,GAAG5lB,EAAE1V,GACZ8jE,GAAQpuD,EAAE1V,EAAE,MACZs7B,EAAO,IAAIz9B,OAAO,EAAEy9B,EAAKh9B,QAAUg9B,GACvCL,EAAentB,EAAGmQ,GAAa,KAAOqd,SAEtC8C,EAAatwB,EAAG4H,EAAE1V,IACtBA,IAEJo+B,EAAatwB,EAAG,IAkBR02D,CAAU12D,EAAG4H,EAAGA,EAAEpX,QAClB,MAEJ,KAAKiiB,EAAa,CACd,IAAI+a,EACJ,GAAKxK,EAAchwB,EAAGk4B,GAIf,CACH,IAAIvvB,EAAI0sB,EAAcr1B,EAAGk4B,GAIzBsC,EAAOrd,GAAa0kD,EAHNl5D,IAAM09C,EACd,MAAQ0b,EAAqB,IAC7BD,EAC8Bn5D,QATZ,CACxB,IAAIA,EAAI4sB,EAAav1B,EAAGk4B,GACxBsC,EAAOioC,GAAgBziE,EAAGmd,GAAa,IAAI4kD,MAAwBp5D,GAnBnE,SAAS6xB,GACrB,GAAIne,GAAkBme,EAAM,IAAgC,EAAG,CAC3D,IAAImpC,EAAQxB,IACRyB,EAASvnD,GAAkBme,EAAMmpC,GACjCC,IAAQppC,EAAKopC,GAAU,KAgBnBC,CAAQrpC,GAQZL,EAAentB,EAAGwtB,GAClB,MAEJ,KAAKlb,EAAU,KAAKC,EAChB4f,GAAen/B,EAAGk4B,GAClBqF,EAAcvwB,GACd,MAEJ,QACIirB,EAAcj4B,EAAGk4B,EAAK/a,GAAa,gCAKzC2mD,GAAa,SAAS9jE,EAAG+jE,EAAS7kE,EAAG8kE,GACvC,IAAInwD,EAAI3U,EACR,KAAsB,IAAf6kE,EAAQlwD,IAAYwI,GAAkBymD,GAAOiB,EAAQlwD,KAAO,GAAGA,IAClEA,EAAI3U,GAAK4jE,GAAMtlE,QACf46B,GAAWp4B,EAAGmd,GAAa,oCAC3B6lD,GAAQe,EAAQlwD,KAAKA,IACrBmvD,GAAQe,EAAQlwD,KAAKA,IACN,KAAfkwD,EAAQlwD,KACRA,IACImvD,GAAQe,EAAQlwD,KAAKA,IACrBmvD,GAAQe,EAAQlwD,KAAKA,KAEzBmvD,GAAQe,EAAQlwD,KAChBukB,GAAWp4B,EAAGmd,GAAa,iDAC/B6mD,EAAK,GAAK,GACV,IAAK,IAAIxwD,EAAI,EAAGA,EAAIK,EAAI3U,EAAI,EAAGsU,IAC3BwwD,EAAKxwD,EAAE,GAAKuwD,EAAQ7kE,EAAEsU,GAC1B,OAAOK,GAMLowD,GAAY,SAASD,EAAME,GAC7B,IAAIjqC,EAAI+pC,EAAKxmE,OACT2mE,EAAKD,EAAO1mE,OACZmI,EAAOq+D,EAAK/pC,EAAI,GACpB,IAAK,IAAI/6B,EAAI,EAAGA,EAAIilE,EAAIjlE,IACpB8kE,EAAK9kE,EAAI+6B,EAAI,GAAKiqC,EAAOhlE,GAC7B8kE,EAAK/pC,EAAIkqC,EAAK,GAAKx+D,GAyFjBy+D,GAAK,IAOX,MAAMC,GACF5hD,YAAYziB,GACR/D,KAAK+D,EAAIA,EACT/D,KAAKqoE,UAAW,EAChBroE,KAAKsoE,SAAW,GAOxB,MAUMC,GAAQxB,GAERyB,GAAS,SAASvyC,EAAKwyC,GACzB,GAAIxyC,EAAI9qB,KAAO8qB,EAAItd,EAAEpX,SAAWgnE,GAAMtyC,EAAItd,EAAEsd,EAAI9qB,MAC5C,OAAOs9D,EACN,CACD,IAAI9hE,EAAI,EACR,GACIA,EAAQ,GAAJA,GAAUsvB,EAAItd,EAAEsd,EAAI9qB,OAAS,UAC5B8qB,EAAI9qB,IAAM8qB,EAAItd,EAAEpX,QAAUgnE,GAAMtyC,EAAItd,EAAEsd,EAAI9qB,OAASxE,GAAK,aACjE,OAAOA,IAQT+hE,GAAc,SAASz6B,EAAGhY,EAAKwyC,GACjC,IAAIhwC,EAAK+vC,GAAOvyC,EAAKwyC,GAGrB,OAFIhwC,EAxDW,IAwDQA,GAAM,IACzB0D,GAAW8R,EAAElqC,EAAGmd,GAAa,2CAA4CuX,EAzD9D,IA0DRA,GAMLkwC,GAAY,SAAS16B,EAAGhY,GAC1B,IAAIzV,EAAI,CACJooD,IAAK3yC,EAAItd,EAAEsd,EAAI9qB,OACfsqB,KAAM,GAEV,OAAQjV,EAAEooD,KACN,KAAK,GAAyC,OAA5BpoD,EAAEiV,KAAO,EAAGjV,EAAEooD,IA5CrB,EA4C0CpoD,EACrD,KAAK,GAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IA5CrB,EA4C0CpoD,EACrD,KAAK,IAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IA9CrB,EA8C0CpoD,EACrD,KAAK,GAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IA9CrB,EA8C0CpoD,EACrD,KAAK,IAEL,KAAK,IAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IAlDrB,EAkD0CpoD,EADrD,KAAK,GAEL,KAAK,GACL,KAAK,GAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IAnDrB,EAmD0CpoD,EACrD,KAAK,IAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IAnDrB,EAmD0CpoD,EACrD,KAAK,IACL,KAAK,IAAyC,OAA5BA,EAAEiV,KAAO,EAAGjV,EAAEooD,IArDrB,EAqD0CpoD,EACrD,KAAK,IAA+D,OAAlDA,EAAEiV,KAAOizC,GAAYz6B,EAAGhY,EAAK,GAAIzV,EAAEooD,IAxD1C,EAwDgEpoD,EAC3E,KAAK,GAA+D,OAAlDA,EAAEiV,KAAOizC,GAAYz6B,EAAGhY,EAAK,GAAIzV,EAAEooD,IAxD1C,EAwDgEpoD,EAC3E,KAAK,IAA+D,OAAlDA,EAAEiV,KAAOizC,GAAYz6B,EAAGhY,EAAK,GAAIzV,EAAEooD,IAtD1C,EAsDgEpoD,EAC3E,KAAK,GAKD,OAJAA,EAAEiV,KAAO+yC,GAAOvyC,GAAM,IACN,IAAZzV,EAAEiV,MACF0G,GAAW8R,EAAElqC,EAAGmd,GAAa,uCACjCV,EAAEooD,IA5DK,EA6DApoD,EAEX,KAAK,IAA6C,OAApBA,EAAEooD,IA7DrB,EA6D8CpoD,EACzD,KAAK,IAA6C,OAAhCA,EAAEiV,KAAO,EAAGjV,EAAEooD,IA7DrB,EA6D8CpoD,EACzD,KAAK,GAA6C,OAApBA,EAAEooD,IA7DrB,EA6D8CpoD,EACzD,KAAK,GAAa,MAClB,KAAK,GAEL,KAAK,GAAaytB,EAAEo6B,UAAW,EAAM,MADrC,KAAK,GAAap6B,EAAEo6B,UAAW,EAAO,MAEtC,KAAK,GAAap6B,EAAEq6B,SAAWI,GAAYz6B,EAAGhY,EAzFrC,GAyFqD,MAC9D,QAASkG,GAAW8R,EAAElqC,EAAGmd,GAAa,8BAA+BV,EAAEooD,KAG3E,OADApoD,EAAEooD,IApEa,EAqERpoD,GAYLqoD,GAAa,SAAS56B,EAAG66B,EAAW7yC,GACtC,IAAIzV,EAAI,CACJooD,IAAKliD,IACL+O,KAAM/O,IACNqiD,SAAUriD,KAGVkiD,EAAMD,GAAU16B,EAAGhY,GACvBzV,EAAEiV,KAAOmzC,EAAInzC,KACbjV,EAAEooD,IAAMA,EAAIA,IACZ,IAAII,EAAQxoD,EAAEiV,KACd,GA7Fe,IA6FXjV,EAAEooD,IACF,GAAI3yC,EAAI9qB,KAAO8qB,EAAItd,EAAEpX,QAA6B,IAAnB00B,EAAItd,EAAEsd,EAAI9qB,KACrC6wB,EAAciS,EAAElqC,EAAG,EAAGmd,GAAa,2CAClC,CACD,IAAImJ,EAAIs+C,GAAU16B,EAAGhY,GACrB+yC,EAAQ3+C,EAAEoL,KACVpL,EAAIA,EAAEu+C,IAvGC,IAwGHv+C,GAAyB,IAAV2+C,GACfhtC,EAAciS,EAAElqC,EAAG,EAAGmd,GAAa,uCAY/C,OATI8nD,GAAS,GA5GE,IA4GGxoD,EAAEooD,IAChBpoD,EAAEuoD,SAAW,GAETC,EAAQ/6B,EAAEq6B,WACVU,EAAQ/6B,EAAEq6B,UACe,IAAxBU,EAASA,EAAO,IACjBhtC,EAAciS,EAAElqC,EAAG,EAAGmd,GAAa,6CACvCV,EAAEuoD,SAAYC,GAASF,EAAaE,EAAQ,GAAQA,EAAQ,GAEzDxoD,GASLyoD,GAAU,SAASl4D,EAAGrE,EAAG27D,EAAU5yC,EAAMk9B,GAC3C,IAAIp0B,EAAOd,GAAkB1sB,EAAG0kB,GAChC8I,EAAK8pC,EAAW,EAAI5yC,EAAO,GAAK/oB,EAAIy7D,GACpC,IAAK,IAAIllE,EAAI,EAAGA,EAAIwyB,EAAMxyB,IACtByJ,IA1JG,EA2JH6xB,EAAK8pC,EAAWplE,EAAIwyB,EAAO,EAAIxyB,GAAKyJ,EAAIy7D,GAE5C,GAAIxV,GAAOl9B,EAhKD,EAiKN,IAAK,IAAIxyB,EAjKH,EAiKcA,EAAIwyB,EAAMxyB,IAC1Bs7B,EAAK8pC,EAAWplE,EAAIwyB,EAAO,EAAIxyB,GAAKklE,GAE5ClqC,EAAaltB,EAAG0kB,IAgNdyzC,GAAY,SAASnlE,EAAGnD,EAAKynE,EAAU5yC,EAAM0zC,GAC/C,IAAIh4C,EAAM,EACN+pC,EAAQzlC,GAtXF,EAsXkBA,EAtXlB,EAuXV,IAAK,IAAIxyB,EAAIi4D,EAAQ,EAAGj4D,GAAK,EAAGA,IAC5BkuB,IArXG,EAsXHA,GAAOvwB,EAAIynE,EAAWplE,EAAIwyB,EAAO,EAAIxyB,GAEzC,GAAIwyB,EA3XM,GA4XN,GAAI0zC,EAAU,CACV,IAAI9yB,EAAO,GA1XZ,EA0XkB5gB,EAAY,EAC7BtE,GAAQA,EAAMklB,GAAQA,QAEvB,GAAI5gB,EAhYD,EAgYe,CACrB,IAAI4gB,GAAQ8yB,GAAYh4C,GAAO,EAAI,EAAIg3C,GACvC,IAAK,IAAIllE,EAAIi4D,EAAOj4D,EAAIwyB,EAAMxyB,IACtBrC,EAAIynE,EAAWplE,EAAIwyB,EAAO,EAAIxyB,KAAOozC,GACrCla,GAAWp4B,EAAGmd,GAAa,iDAAkDuU,GAGzF,OAAOtE,GAGLi4C,GAAY,SAASrlE,EAAGgN,EAAGs3D,EAAU5yC,GACvCzvB,GAAOy/B,WAAW10B,EAAExP,QAAUk0B,GAE9B,IAAI4zC,EAAK,IAAIrwC,SAAS,IAAI8pB,YAAYrtB,IACtC,IAAK,IAAIxyB,EAAI,EAAGA,EAAIwyB,EAAMxyB,IACtBomE,EAAGC,SAASrmE,EAAG8N,EAAE9N,GAAIolE,GAEzB,OAAY,GAAR5yC,EAAkB4zC,EAAGE,WAAW,EAAGlB,GAC3BgB,EAAGG,WAAW,EAAGnB,IAoE3BoB,GAAiBvoD,GAAa,cAEpC,MAAMwoD,GACFljD,YAAYziB,GACR/D,KAAKJ,IAAM,KACXI,KAAK2pE,SAAW,KAChB3pE,KAAK4pE,QAAU,KACf5pE,KAAK4X,EAAI,KACT5X,KAAK6pE,MAAQ,KACb7pE,KAAK+D,EAAIA,EACT/D,KAAK8pE,WAAapjD,IAClB1mB,KAAKe,MAAQ2lB,IACb1mB,KAAK+pE,QAAU,IAIvB,MAcMC,GAAW,SAASC,EAAIryD,GAC1B,OAAOqyD,EAAGryD,EAAEA,MACR,KAAKuuD,GAGD,OAFIvuD,IAAMqyD,EAAGJ,OACT1tC,GAAW8tC,EAAGlmE,EAAGmd,GAAa,uCAC3BtJ,EAAI,EAEf,KAAK,GACe,KAAZqyD,EAAGryD,EAAEA,IAAmCA,IAC5C,GACQA,IAAMqyD,EAAGJ,OACT1tC,GAAW8tC,EAAGlmE,EAAGmd,GAAa,oCAC9B+oD,EAAGryD,EAAEA,OAASuuD,IAASvuD,EAAIqyD,EAAGJ,OAC9BjyD,UACa,KAAZqyD,EAAGryD,EAAEA,IACd,OAAOA,EAAI,EAEf,QACI,OAAOA,IAKbsyD,GAAc,SAASlpD,EAAGkL,GAC5B,OAAQA,GACJ,KAAK,GAA6B,OAAQ46C,GAAQ9lD,GAClD,KAAK,GAA6B,OAAQ8lD,GAAQ9lD,GAClD,KAAK,GAA6B,OAAQgmD,GAAQhmD,GAClD,KAAK,GAA6B,OAAQgmD,GAAQhmD,GAClD,KAAK,IAA6B,OAAQ+lD,GAAQ/lD,GAClD,KAAK,GAA6B,OAAQ+lD,GAAQ/lD,GAClD,KAAK,IAA6B,OAAQimD,GAAQjmD,GAClD,KAAK,GAA6B,OAAQimD,GAAQjmD,GAClD,KAAK,IAA6B,OAAQkmD,GAAQlmD,GAClD,KAAK,GAA6B,OAAQkmD,GAAQlmD,GAClD,KAAK,IAA6B,OAAQqmD,GAAQrmD,GAClD,KAAK,GAA6B,OAAQqmD,GAAQrmD,GAClD,KAAK,IAA6B,OAAQsmD,GAAQtmD,GAClD,KAAK,GAA6B,OAAQsmD,GAAQtmD,GAClD,KAAK,IAA6B,OAAQmmD,GAAQnmD,GAClD,KAAK,GAA6B,OAAQmmD,GAAQnmD,GAClD,KAAK,IAA6B,OAAQomD,GAAQpmD,GAClD,KAAK,GAA6B,OAAQomD,GAAQpmD,GAClD,KAAK,IAA6B,OAAQumD,GAASvmD,GACnD,KAAK,GAA6B,OAAQumD,GAASvmD,GACnD,KAAK,IAA6B,OAAc,IAANA,EAC1C,KAAK,GAA6B,OAAc,IAANA,EAC1C,QAAS,OAAQkL,IAAOlL,IAI1BmpD,GAAoB,SAASF,EAAIjpD,EAAGpJ,EAAGwyD,GACzC,IAAIC,GAAM,EAKV,IAJoB,KAAhBJ,EAAGryD,EAAEA,EAAI,KACTyyD,GAAM,EACNzyD,OAEKA,EAAIwyD,GACT,GAAIH,EAAGryD,EAAEA,KAAOuuD,IAEZ,GADAvuD,IACIsyD,GAAYlpD,EAAGipD,EAAGryD,EAAEA,IACpB,OAAOyyD,OACR,GAAoB,KAAhBJ,EAAGryD,EAAEA,EAAI,IAAqCA,EAAI,EAAIwyD,GAE7D,GADAxyD,GAAK,EACDqyD,EAAGryD,EAAEA,EAAI,IAAMoJ,GAAKA,GAAKipD,EAAGryD,EAAEA,GAC9B,OAAOyyD,OACR,GAAIJ,EAAGryD,EAAEA,KAAOoJ,EAAG,OAAOqpD,EAErC,OAAQA,GAGNC,GAAc,SAASL,EAAItxD,EAAGf,EAAG2yD,GACnC,GAAI5xD,GAAKsxD,EAAGL,QACR,OAAO,EACN,CACD,IAAI5oD,EAAIipD,EAAGrqE,IAAI+Y,GACf,OAAQsxD,EAAGryD,EAAEA,IACT,KAAK,GAA4B,OAAO,EACxC,KAAKuuD,GAAO,OAAO+D,GAAYlpD,EAAGipD,EAAGryD,EAAEA,EAAI,IAC3C,KAAK,GAA4B,OAAOuyD,GAAkBF,EAAIjpD,EAAGpJ,EAAG2yD,EAAK,GACzE,QAAS,OAAON,EAAGryD,EAAEA,KAAOoJ,KAKlCwpD,GAAe,SAASP,EAAItxD,EAAGf,GAGjC,GAFIA,GAAKqyD,EAAGJ,MAAQ,GAChB1tC,GAAW8tC,EAAGlmE,EAAGmd,GAAa,kDAC9B+oD,EAAGrqE,IAAI+Y,KAAOsxD,EAAGryD,EAAEA,GACnB,OAAO,KACN,CACD,IAAI7G,EAAIk5D,EAAGryD,EAAEA,GACT7M,EAAIk/D,EAAGryD,EAAEA,EAAI,GACb6yD,EAAO,EACX,OAAS9xD,EAAIsxD,EAAGL,SACZ,GAAIK,EAAGrqE,IAAI+Y,KAAO5N,GACd,GAAe,KAAT0/D,EAAY,OAAO9xD,EAAI,OAExBsxD,EAAGrqE,IAAI+Y,KAAO5H,GAAG05D,IAGlC,OAAO,MAGLC,GAAa,SAAST,EAAItxD,EAAGf,EAAG2yD,GAClC,IAAItnE,EAAI,EACR,KAAOqnE,GAAYL,EAAItxD,EAAI1V,EAAG2U,EAAG2yD,IAC7BtnE,IAEJ,KAAOA,GAAK,GAAG,CACX,IAAIkuB,EAAMxsB,GAAMslE,EAAItxD,EAAI1V,EAAGsnE,EAAK,GAChC,GAAIp5C,EAAK,OAAOA,EAChBluB,IAEJ,OAAO,MAGL0nE,GAAa,SAASV,EAAItxD,EAAGf,EAAG2yD,GAClC,OAAS,CACL,IAAIp5C,EAAMxsB,GAAMslE,EAAItxD,EAAG4xD,EAAK,GAC5B,GAAY,OAARp5C,EACA,OAAOA,EACN,IAAIm5C,GAAYL,EAAItxD,EAAGf,EAAG2yD,GAE1B,OAAO,KADR5xD,MAKNiyD,GAAgB,SAASX,EAAItxD,EAAGf,EAAGgP,GACrC,IAMIuK,EANApwB,EAAQkpE,EAAGlpE,MASf,OARIA,GAv7BgB,IAu7BUo7B,GAAW8tC,EAAGlmE,EAAGmd,GAAa,sBAC5D+oD,EAAGF,QAAQhpE,GAASkpE,EAAGF,QAAQhpE,GAASkpE,EAAGF,QAAQhpE,GAAS,GAC5DkpE,EAAGF,QAAQhpE,GAAO8tD,KAAOl2C,EACzBsxD,EAAGF,QAAQhpE,GAAOke,IAAM2H,EACxBqjD,EAAGlpE,MAAQA,EAAQ,EAEa,QAA3BowB,EAAMxsB,GAAMslE,EAAItxD,EAAGf,KACpBqyD,EAAGlpE,QACAowB,GAGL05C,GAAc,SAASZ,EAAItxD,EAAGf,GAChC,IAEIuZ,EAFA6M,EArJiB,SAASisC,GAC9B,IAAIlpE,EAAQkpE,EAAGlpE,MACf,IAAKA,IAASA,GAAS,EAAGA,IACtB,IA7Be,IA6BXkpE,EAAGF,QAAQhpE,GAAOke,IAAwB,OAAOle,EACzD,OAAOo7B,GAAW8tC,EAAGlmE,EAAGmd,GAAa,4BAiJ7B4pD,CAAiBb,GAKzB,OAJAA,EAAGF,QAAQ/rC,GAAG/e,IAAMtG,EAAIsxD,EAAGF,QAAQ/rC,GAAG6wB,KAEN,QAA3B19B,EAAMxsB,GAAMslE,EAAItxD,EAAGf,MACpBqyD,EAAGF,QAAQ/rC,GAAG/e,KAnLC,GAoLZkS,GAQL45C,GAAgB,SAASd,EAAItxD,EAAGqlB,GAClCA,EA1KkB,SAASisC,EAAIjsC,GAE/B,OADAA,GAAQ,IACA,GAAKA,GAAKisC,EAAGlpE,QArBF,IAqBWkpE,EAAGF,QAAQ/rC,GAAG/e,IACjCkd,GAAW8tC,EAAGlmE,EAAGmd,GAAa,8BAA+B8c,EAAI,GACrEA,EAsKHgtC,CAAcf,EAAIjsC,GACtB,IAAI/e,EAAMgrD,EAAGF,QAAQ/rC,GAAG/e,IACxB,OAAKgrD,EAAGL,QAAQjxD,GAAMsG,GAPR,SAAStY,EAAGskE,EAAIl6D,EAAGm6D,EAAIjsD,GACrC,OAAO0C,GAAahb,EAAE6vB,SAASy0C,EAAIA,EAAGhsD,GAAMlO,EAAEylB,SAAS00C,EAAIA,EAAGjsD,IAMjCksD,CAAUlB,EAAGrqE,IAAKqqE,EAAGF,QAAQ/rC,GAAG6wB,KAAMob,EAAGrqE,IAAK+Y,EAAGsG,GACnEtG,EAAEsG,EACD,MAGVta,GAAQ,SAASslE,EAAItxD,EAAGf,GAC1B,IAAIwzD,GAAc,EACdC,GAAW,EAKf,IAHwB,GAApBpB,EAAGH,cACH3tC,GAAW8tC,EAAGlmE,EAAGmd,GAAa,wBAE3BmqD,GAAYD,GAEf,GADAC,GAAW,EACPzzD,IAAMqyD,EAAGJ,MACT,OAAQuB,OAAc,EAASnB,EAAGryD,EAAEA,IAChC,KAAK,GAEGe,EADgB,KAAhBsxD,EAAGryD,EAAEA,EAAI,GACLgzD,GAAcX,EAAItxD,EAAGf,EAAI,GAhN9B,GAkNKgzD,GAAcX,EAAItxD,EAAGf,EAAI,GAnN9B,GAoNH,MAEJ,KAAK,GACDe,EAAIkyD,GAAYZ,EAAItxD,EAAGf,EAAI,GAC3B,MAEJ,KAAK,GACD,GAAIA,EAAI,IAAMqyD,EAAGJ,MAAO,CACpBuB,GAAc,EACd,MAEJzyD,EAAKsxD,EAAGrqE,IAAI2B,OAASoX,GAAO,EAAIA,EAAI,KACpC,MAEJ,KAAKwtD,GACD,OAAQ8D,EAAGryD,EAAEA,EAAI,IACb,KAAK,GAES,QADVe,EAAI6xD,GAAaP,EAAItxD,EAAGf,EAAI,MAExBA,GAAK,EACLyzD,GAAW,GAEf,MAEJ,KAAK,IAA6B,CAC9BzzD,GAAK,EACW,KAAZqyD,EAAGryD,EAAEA,IACLukB,GAAW8tC,EAAGlmE,EAAGmd,GAAa,uCAClC,IAAIqpD,EAAKP,GAASC,EAAIryD,GAClB2wB,EAAW5vB,IAAMsxD,EAAGN,SAAW,EAAIM,EAAGrqE,IAAI+Y,EAAE,GAChD,IAAKwxD,GAAkBF,EAAI1hC,EAAU3wB,EAAG2yD,EAAK,IAAMJ,GAAkBF,EAAKtxD,IAAIsxD,EAAGL,QAAS,EAAEK,EAAGrqE,IAAI+Y,GAAIf,EAAG2yD,EAAK,GAAI,CAC/G3yD,EAAI2yD,EAAIc,GAAW,EAAM,MAE7B1yD,EAAI,KACJ,MAEJ,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GACzC,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAE3B,QADVA,EAAIoyD,GAAcd,EAAItxD,EAAGsxD,EAAGryD,EAAEA,EAAI,OAE9BA,GAAK,EAAGyzD,GAAW,GAEvB,MAEJ,QAASD,GAAc,EAE3B,MAEJ,QAAS,CACLA,GAAc,EACd,IAAIb,EAAKP,GAASC,EAAIryD,GAEtB,GAAK0yD,GAAYL,EAAItxD,EAAGf,EAAG2yD,GASvB,OAAQN,EAAGryD,EAAE2yD,IACT,KAAK,GAA4B,CAC7B,IAAIp5C,EACqC,QAApCA,EAAMxsB,GAAMslE,EAAItxD,EAAI,EAAG4xD,EAAK,IAC7B5xD,EAAIwY,GAEJvZ,EAAI2yD,EAAK,EAAGc,GAAW,GAE3B,MAEJ,KAAK,GACD1yD,IAEJ,KAAK,GACDA,EAAI+xD,GAAWT,EAAItxD,EAAGf,EAAG2yD,GACzB,MACJ,KAAK,GACD5xD,EAAIgyD,GAAWV,EAAItxD,EAAGf,EAAG2yD,GACzB,MACJ,QACI5xD,IAAKf,EAAI2yD,EAAIc,GAAW,MA7BJ,CAC5B,GAAiB,KAAbpB,EAAGryD,EAAE2yD,IACQ,KAAbN,EAAGryD,EAAE2yD,IACQ,KAAbN,EAAGryD,EAAE2yD,GACP,CACE3yD,EAAI2yD,EAAK,EAAGc,GAAW,EAAM,MAE7B1yD,EAAI,KAyBZ,OAMhB,OADAsxD,EAAGH,aACInxD,GAGL2yD,GAAkB,SAASrB,EAAIhnE,EAAG0V,EAAG5N,GACvC,GAAI9H,GAAKgnE,EAAGlpE,MACE,IAANkC,EACAszB,EAAgB0zC,EAAGlmE,EAAGkmE,EAAGrqE,IAAI42B,SAAS7d,EAAG5N,GAAIA,EAAI4N,GAEjDwjB,GAAW8tC,EAAGlmE,EAAGmd,GAAa,8BAA+Bje,EAAI,OAClE,CACH,IAAI+6B,EAAIisC,EAAGF,QAAQ9mE,GAAGgc,KAxTP,IAyTX+e,GAAsB7B,GAAW8tC,EAAGlmE,EAAGmd,GAAa,wBAxTzC,IAyTX8c,EACAvV,EAAgBwhD,EAAGlmE,EAAGkmE,EAAGF,QAAQ9mE,GAAG4rD,KAAOob,EAAGN,SAAW,GAEzDpzC,EAAgB0zC,EAAGlmE,EAAGkmE,EAAGrqE,IAAI42B,SAASyzC,EAAGF,QAAQ9mE,GAAG4rD,MAAO7wB,KAIjEutC,GAAgB,SAAStB,EAAItxD,EAAG5N,GAClC,IAAIygE,EAAuB,IAAbvB,EAAGlpE,OAAekpE,EAAGrqE,IAAI42B,SAAS7d,GAAK,EAAIsxD,EAAGlpE,MAC5Ds+B,GAAgB4qC,EAAGlmE,EAAGynE,EAAS,qBAC/B,IAAK,IAAIvoE,EAAI,EAAGA,EAAIuoE,EAASvoE,IACzBqoE,GAAgBrB,EAAIhnE,EAAG0V,EAAG5N,GAC9B,OAAOygE,GAWLC,GAAY,SAASxB,EAAIlmE,EAAG4U,EAAGkxB,EAAIjyB,EAAG8zD,GACxCzB,EAAGlmE,EAAIA,EACPkmE,EAAGH,WAjVgB,IAkVnBG,EAAGrqE,IAAM+Y,EACTsxD,EAAGN,SAAW,EACdM,EAAGL,QAAU//B,EACbogC,EAAGryD,EAAIA,EACPqyD,EAAGJ,MAAQ6B,GAGTC,GAAc,SAAS1B,GACzBA,EAAGlpE,MAAQ,EACXiF,GAAOy/B,WA3VY,MA2VDwkC,EAAGH,aAkBnB8B,GAAe,SAAS7nE,EAAG8nE,GAC7B,IAAIlzD,EAAIskB,GAAiBl5B,EAAG,GACxB6T,EAAIqlB,GAAiBl5B,EAAG,GACxB8lC,EAAKlxB,EAAEpX,OACPmqE,EAAK9zD,EAAErW,OACPstD,EAAOyX,GAAS9jC,GAAgBz+B,EAAG,EAAG,GAAI8lC,GAC9C,GAAIglB,EAAO,EAAGA,EAAO,OAChB,GAAIA,EAAOhlB,EAAK,EAEjB,OADApT,EAAY1yB,GACL,EAGX,GAAI8nE,IAASlzC,EAAc50B,EAAG,IAlDf,SAAS6T,EAAGomB,GAC3B,IAAK,IAAI/6B,EAAE,EAAGA,EAAE+6B,EAAG/6B,IACf,IAA2C,IAAvCmd,GAAkBqpD,GAAU7xD,EAAE3U,IAC9B,OAAO,EAEf,OAAO,EA6C6B6oE,CAAWl0D,EAAG8zD,IAAM,CAEpD,IAAIvhE,EA7BU,SAASgO,EAAK2mB,EAAQC,GACxC,IAAI97B,EAAI87B,EACJC,EAAKF,EAAOv9B,OAEhB,GAAW,IAAPy9B,EACA,OAAO/7B,EAEX,MAA4C,KAApCA,EAAIkV,EAAI5V,QAAQu8B,EAAO,GAAI77B,IAAYA,IAC3C,GAAI0e,GAAaxJ,EAAIqe,SAASvzB,EAAGA,EAAE+7B,GAAKF,GACpC,OAAO77B,EAGf,OAAQ,EAiBI47B,CAAclmB,EAAE6d,SAASq4B,EAAO,GAAIj3C,GAC5C,GAAIzN,GAAK,EAGL,OAFAse,EAAgB1kB,EAAG8qD,EAAO1kD,GAC1Bse,EAAgB1kB,EAAG8qD,EAAO1kD,EAAIuhE,EAAK,GAC5B,MAER,CACH,IAAIzB,EAAK,IAAIP,GAAW3lE,GACpBqe,EAAKysC,EAAO,EACZkd,EAAkB,KAATn0D,EAAE,GACXm0D,IACAn0D,EAAIA,EAAE4e,SAAS,GAAIk1C,KAEvBD,GAAUxB,EAAIlmE,EAAG4U,EAAGkxB,EAAIjyB,EAAG8zD,GAC3B,EAAG,CACC,IAAIv6C,EAEJ,GADAw6C,GAAY1B,GACqB,QAA5B94C,EAAMxsB,GAAMslE,EAAI7nD,EAAI,IACrB,OAAIypD,GACApjD,EAAgB1kB,EAAGqe,EAAK,GACxBqG,EAAgB1kB,EAAGotB,GACZo6C,GAActB,EAAI,KAAM,GAAK,GAE7BsB,GAActB,EAAI7nD,EAAI+O,SAEhC/O,IAAO6nD,EAAGL,UAAYmC,GAGnC,OADAt1C,EAAY1yB,GACL,GAYX,MAAMioE,GACFxlD,cACIxmB,KAAKJ,IAAM8mB,IACX1mB,KAAK4X,EAAI8O,IACT1mB,KAAKisE,UAAYvlD,IACjB1mB,KAAKiqE,GAAK,IAAIP,IAItB,MAAMwC,GAAa,SAASnoE,GACxB,IAAIooE,EAAKpyC,EAAeh2B,EAAGujB,EAAiB,IAC5C6kD,EAAGlC,GAAGlmE,EAAIA,EACV,IAAK,IAAInE,EAAMusE,EAAGvsE,IAAKA,GAAOusE,EAAGlC,GAAGL,QAAShqE,IAAO,CAEhD,IAAImL,EACJ,GAFA4gE,GAAYQ,EAAGlC,IAEuB,QAAjCl/D,EAAIpG,GAAMwnE,EAAGlC,GAAIrqE,EAAKusE,EAAGv0D,KAAgB7M,IAAMohE,EAAGF,UAEnD,OADAE,EAAGvsE,IAAMusE,EAAGF,UAAYlhE,EACjBwgE,GAAcY,EAAGlC,GAAIrqE,EAAKmL,GAGzC,OAAO,GA4CLqhE,GAAY,SAASnC,EAAIl5D,EAAG4H,EAAG5N,EAAGshE,GACpC,IAAItoE,EAAIkmE,EAAGlmE,EACX,OAAQsoE,GACJ,KAAK1oD,EAAe,CAChBmT,EAAc/yB,EAAG,GACjB,IAAI2I,EAAI6+D,GAActB,EAAItxD,EAAG5N,GAC7BkmB,EAASltB,EAAG2I,EAAG,GACf,MAEJ,KAAKgX,EACD4nD,GAAgBrB,EAAI,EAAGtxD,EAAG5N,GAC1BmoB,EAAanvB,EAAG,GAChB,MAEJ,QAEI,YAzCE,SAASkmE,EAAIl5D,EAAG4H,EAAG5N,GAC7B,IAAIhH,EAAIkmE,EAAGlmE,EACPuoE,EAAOp+C,EAAanqB,EAAG,GACvBi6B,EAAIsuC,EAAK/qE,OACb,IAAK,IAAI0B,EAAI,EAAGA,EAAI+6B,EAAG/6B,IACfqpE,EAAKrpE,KAAOkjE,GACZ9kC,EAAatwB,EAAGu7D,EAAKrpE,KAErBA,IACK8jE,GAAQuF,EAAKrpE,IAIK,KAAZqpE,EAAKrpE,GACZ86B,EAAgBhtB,EAAGk5D,EAAGrqE,IAAI42B,SAAS7d,EAAG5N,GAAIA,EAAI4N,IAE9C2yD,GAAgBrB,EAAIqC,EAAKrpE,GAAK,GAA4B0V,EAAG5N,GAC7Dm4B,GAAen/B,GAAI,GACnB8zB,EAAW9zB,GAAI,GACfu9B,EAAcvwB,KATVu7D,EAAKrpE,KAAOkjE,IACZhqC,GAAWp4B,EAAGmd,GAAa,6CAA8CilD,IAC7E9kC,EAAatwB,EAAGu7D,EAAKrpE,MA4BzBspE,CAAMtC,EAAIl5D,EAAG4H,EAAG5N,GAInB4tB,EAAc50B,GAAI,GAGX0wB,EAAa1wB,GAAI,IACzBo4B,GAAWp4B,EAAGmd,GAAa,oCAAqCsb,GAAcz4B,GAAI,KAHlFqnB,EAAQrnB,EAAG,GACXwyB,EAAgBxyB,EAAGkmE,EAAGrqE,IAAI42B,SAAS7d,EAAG5N,GAAIA,EAAI4N,IAGlD2oB,EAAcvwB,IAyCZy7D,GAAS,CACX,KA5rBa,SAASzoE,GACtB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNkrE,EAAOnG,GAAS9jC,GAAgBz+B,EAAG,EAAG,GAAIi6B,GAC1C0uC,EAAOpG,GAAS9jC,GAAgBz+B,EAAG,EAAG0oE,GAAOzuC,GAIjD,GAFIyuC,EAAO,IAAGA,EAAO,GACjBC,EAAO1uC,IAAG0uC,EAAO1uC,GACjByuC,EAAOC,EAAM,OAAO,EACxB,GAAIA,EAAOD,GAAQ3nE,OAAO0yD,iBACtB,OAAOr7B,GAAWp4B,EAAG,yBAEzB,IAAI2I,EAAKggE,EAAOD,EAAQ,EACxBptC,GAAgBt7B,EAAG2I,EAAG,yBACtB,IAAK,IAAIzJ,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBwlB,EAAgB1kB,EAAG4U,EAAE8zD,EAAOxpE,EAAI,IACpC,OAAOyJ,GA6qBP,KAxxCa,SAAS3I,GACtB,IAAI2I,EAAInI,EAAWR,GACfgN,EAAI,IAAI2qB,EACR9jB,EAAI6pB,GAAkB19B,EAAGgN,EAAGrE,GAChC,IAAK,IAAIzJ,EAAI,EAAGA,GAAKyJ,EAAGzJ,IAAK,CACzB,IAAI+d,EAAIuc,GAAkBx5B,EAAGd,GAC7Bs+B,EAAcx9B,EAAGid,GAAK,GAAKA,GAAK,IAAK,sBACrCpJ,EAAE3U,EAAE,GAAK+d,EAGb,OADA2hB,GAAoB5xB,EAAGrE,GAChB,GA+wCP,KAvwCa,SAAS3I,GACtB,IAAIgN,EAAI,IAAI2qB,EACRxJ,EAAQyG,EAAc50B,EAAG,GAI7B,OAHA89B,GAAe99B,EAAG,EAAG4f,GACrBqH,EAAWjnB,EAAG,GACd+5B,EAAc/5B,EAAGgN,GACqB,IAAlCihB,EAASjuB,EAAGkuB,GAAQlhB,EAAGmhB,GAChBiK,GAAWp4B,EAAGmd,GAAa,mCACtCid,GAAgBptB,GACT,IA+vCP,KA9Ia,SAAShN,GACtB,OAAO6nE,GAAa7nE,EAAG,IA8IvB,OA7kCe,SAASA,GACxB,IAAIsH,EAAM9G,EAAWR,GACjBk4B,EAAM,EACN6rC,EAAU7qC,GAAiBl5B,EAAGk4B,GAC9Bh5B,EAAI,EACJ8N,EAAI,IAAI2qB,EAEZ,IADAoC,EAAc/5B,EAAGgN,GACV9N,EAAI6kE,EAAQvmE,QACf,GAAIumE,EAAQ7kE,KAAOkjE,GACf9kC,EAAatwB,EAAG+2D,EAAQ7kE,WACrB,GAAI6kE,IAAU7kE,KAAOkjE,GACxB9kC,EAAatwB,EAAG+2D,EAAQ7kE,UACrB,CACH,IAAI8kE,EAAO,GAIX,SAHM9rC,EAAM5wB,GACR2wB,EAAcj4B,EAAGk4B,EAAK/a,GAAa,aACvCje,EAAI4kE,GAAW9jE,EAAG+jE,EAAS7kE,EAAG8kE,GACtB/xD,OAAOgM,aAAa8lD,EAAQ7kE,OAChC,IAAK,IAEDo+B,EAAatwB,EAAGwsB,GAAkBx5B,EAAGk4B,IACrC,MAEJ,IAAK,IAAK,IAAK,IACf,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,CACpC,IAAIvvB,EAAI6wB,GAAkBx5B,EAAGk4B,GAC7B+rC,GAAUD,EAAM7mD,GAAa4kD,GAAoB,IACjD5nC,EAAentB,EAAGmQ,GAAa0kD,EAAQ5vD,OAAOgM,gBAAgB+lD,GAAOr7D,KACrE,MAEJ,IAAK,IAAK,IAAK,IACXs7D,GAAUD,EAAM7mD,GAAa4kD,GAAoB,IACjD5nC,EAAentB,EAAGy1D,GAAgBziE,EAAGgkE,EAAM1qC,GAAiBt5B,EAAGk4B,KAC/D,MAEJ,IAAK,IAAK,IAAK,IAAK,IAAK,IACzB,IAAK,IAAK,IAAK,IAAK,CAChB,IAAIvvB,EAAI2wB,GAAiBt5B,EAAGk4B,GAC5B+rC,GAAUD,EAAM7mD,GAAa4kD,GAAoB,IACjD5nC,EAAentB,EAAGmQ,GAAa0kD,EAAQ5vD,OAAOgM,gBAAgB+lD,GAAOr7D,KACrE,MAEJ,IAAK,IACD86D,GAAWzjE,EAAGgN,EAAGkrB,GACjB,MAEJ,IAAK,IAAK,CACN,IAAItjB,EAAIuqB,GAAen/B,EAAGk4B,GACtB8rC,EAAKxmE,QAAU,GAAiB,IAAZwmE,EAAK,GACzBzmC,EAAcvwB,IAEdwwB,EAAcx9B,EAAG4U,EAAEpX,SAAW8kE,GAAO1tD,GAAIsjB,EAAK,yBAC1C7b,GAAkB2nD,EAAM,IAA8B,GAAKpvD,EAAEpX,QAAU,IAEvE+/B,EAAcvwB,IAGdmtB,EAAentB,EAAGmQ,GAAa0kD,EAAQ5vD,OAAOgM,gBAAgB+lD,GAAOnmD,GAAYjJ,MACjFyS,EAAQrnB,EAAG,KAGnB,MAEJ,QACI,OAAOo4B,GAAWp4B,EAAGmd,GAAa,qCAAsC4mD,EAAQ7kE,EAAE,KAMlG,OADAk7B,GAAgBptB,GACT,GAwgCP,OAhHe,SAAShN,GACxB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxB6T,EAAIqlB,GAAiBl5B,EAAG,GACxB8lC,EAAKlxB,EAAEpX,OACPmqE,EAAK9zD,EAAErW,OACXypB,EAAWjnB,EAAG,GACd,IAAIooE,EAAK,IAAIH,GAOb,OANA31C,EAAsBtyB,EAAGooE,GACzBV,GAAUU,EAAGlC,GAAIlmE,EAAG4U,EAAGkxB,EAAIjyB,EAAG8zD,GAC9BS,EAAGvsE,IAAM,EACTusE,EAAGv0D,EAAI,EACPu0D,EAAGF,UAAY,KACfjgD,EAAiBjoB,EAAGmoE,GAAY,GACzB,GAoGP,KA7Ca,SAASnoE,GACtB,IAAInE,EAAMq9B,GAAiBl5B,EAAG,GAC1B4oE,EAAO/sE,EAAI2B,OACXqW,EAAIqlB,GAAiBl5B,EAAG,GACxB2nE,EAAK9zD,EAAErW,OACP0qE,EAAY,KACZI,EAAKx9C,EAAS9qB,EAAG,GACjB6oE,EAAQpqC,GAAgBz+B,EAAG,EAAG4oE,EAAO,GACrCZ,EAAkB,KAATn0D,EAAE,GACXlL,EAAI,EACJu9D,EAAK,IAAIP,GAAW3lE,GACpBgN,EAAI,IAAI2qB,EASZ,IARA6F,EAAcx9B,EAAGsoE,IAAO7oD,GAAe6oD,IAAO5oD,GAAe4oD,IAAO1oD,GAAiB0oD,IAAO3oD,EAAY,EACpG,kCACJoa,EAAc/5B,EAAGgN,GACbg7D,IACAn0D,EAAIA,EAAE4e,SAAS,GAAIk1C,KAEvBD,GAAUxB,EAAIlmE,EAAGnE,EAAK+sE,EAAM/0D,EAAG8zD,GAC/B9rE,EAAM,EAAGgY,EAAI,EACNlL,EAAIkgE,GAAO,CACd,IAAI7hE,EAEJ,GADA4gE,GAAY1B,GACoB,QAA3Bl/D,EAAIpG,GAAMslE,EAAIrqE,EAAKgY,KAAgB7M,IAAMkhE,EAC1Cv/D,IACA0/D,GAAUnC,EAAIl5D,EAAGnR,EAAKmL,EAAGshE,GACzBzsE,EAAMqsE,EAAYlhE,MACf,MAAInL,EAAMqqE,EAAGL,SAEf,MADDvoC,EAAatwB,EAAGk5D,EAAGrqE,IAAIA,MAE3B,GAAImsE,EAAQ,MAKhB,OAHAhuC,EAAgBhtB,EAAGk5D,EAAGrqE,IAAI42B,SAAS52B,EAAKqqE,EAAGL,SAAUK,EAAGL,QAAUhqE,GAClEu+B,GAAgBptB,GAChB0X,EAAgB1kB,EAAG2I,GACZ,GAWP,IAnyCY,SAAS3I,GAErB,OADA0kB,EAAgB1kB,EAAGk5B,GAAiBl5B,EAAG,GAAGxC,QACnC,GAkyCP,MA5vBc,SAASwC,GACvB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNif,EAAI,IAAIF,WAAW0d,GACvB,IAAK,IAAI/6B,EAAE,EAAGA,EAAE+6B,EAAG/6B,IAAK,CACpB,IAAI+d,EAAIrI,EAAE1V,GACNkkE,GAAQnmD,KACRA,GAAQ,IACZR,EAAEvd,GAAK+d,EAGX,OADA2V,EAAe5yB,EAAGyc,GACX,GAkvBP,MAhJc,SAASzc,GACvB,OAAO6nE,GAAa7nE,EAAG,IAgJvB,KA71Ba,SAASA,GACtB,IAAIgN,EAAI,IAAI2qB,EACRuS,EAAI,IAAIm6B,GAAOrkE,GACfkyB,EAAM,CACNtd,EAAGskB,GAAiBl5B,EAAG,GACvBoH,IAAK,GAEL8wB,EAAM,EACN6sC,EAAY,EAGhB,IAFAryC,EAAY1yB,GACZ+5B,EAAc/5B,EAAGgN,GACVklB,EAAI9qB,IAAM8qB,EAAItd,EAAEpX,QAAQ,CAC3B,IAAIsrE,EAAUhE,GAAW56B,EAAG66B,EAAW7yC,GACnC2yC,EAAMiE,EAAQjE,IACdnzC,EAAOo3C,EAAQp3C,KACfszC,EAAW8D,EAAQ9D,SAEvB,IADAD,GAAaC,EAAWtzC,EACjBszC,KAAa,GAChB1nC,EAAatwB,EA9LA,GAgMjB,OADAkrB,IACQ2sC,GACJ,KApKO,EAoKI,CACP,IAAIl8D,EAAI6wB,GAAkBx5B,EAAGk4B,GAC7B,GAAIxG,EA9LN,EA8LoB,CACd,IAAImpB,EAAM,GAAa,EAAPnpB,EAAY,EAC5B8L,EAAcx9B,GAAI66C,GAAOlyC,GAAKA,EAAIkyC,EAAK3iB,EAAK,oBAEhDgtC,GAAQl4D,EAAGrE,EAAGuhC,EAAEo6B,SAAU5yC,EAAM/oB,EAAI,GACpC,MAEJ,KA5KO,EA4KK,CACR,IAAIA,EAAI6wB,GAAkBx5B,EAAGk4B,GACzBxG,EAvMN,GAwMM8L,EAAcx9B,EAAI2I,IAAI,EAAM,GArMrC,EAqM2C+oB,EAAawG,EAAK,qBACxDgtC,GAAQl4D,EAAGrE,IAAI,EAAGuhC,EAAEo6B,SAAU5yC,GAAM,GACpC,MAEJ,KAlLO,EAkLM,CACT,IAAI8I,EAAOd,GAAkB1sB,EAAG0kB,GAC5B/oB,EAAI2wB,GAAiBt5B,EAAGk4B,GACxBotC,EAAK,IAAIrwC,SAASuF,EAAKtF,OAAQsF,EAAKrF,WAAYqF,EAAKpF,YAC5C,IAAT1D,EAAY4zC,EAAGyD,WAAW,EAAGpgE,EAAGuhC,EAAEo6B,UACjCgB,EAAGnmB,WAAW,EAAGx2C,EAAGuhC,EAAEo6B,UAC3BpqC,EAAaltB,EAAG0kB,GAChB,MAEJ,KA1LO,EA0LK,CACR,IAAI9c,EAAIskB,GAAiBl5B,EAAGk4B,GACxBhd,EAAMtG,EAAEpX,OAGZ,IAFAggC,EAAcx9B,EAAGkb,GAAOwW,EAAMwG,EAAK,iCACnC8B,EAAgBhtB,EAAG4H,EAAGsG,GACfA,IAAQwW,GACX4L,EAAatwB,EAhOR,GAiOT,MAEJ,KAlMO,EAkMO,CACV,IAAI4H,EAAIskB,GAAiBl5B,EAAGk4B,GACxBhd,EAAMtG,EAAEpX,OACZggC,EAAcx9B,EACV0xB,GAAQ,GAA0BxW,EAAO,GA/NlD,EA+NwDwW,EAC/CwG,EAAK,4CACTgtC,GAAQl4D,EAAGkO,EAAKgvB,EAAEo6B,SAAU5yC,EAAM,GAClCsI,EAAgBhtB,EAAG4H,EAAGsG,GACtB6pD,GAAa7pD,EACb,MAEJ,KA5MO,EA4MK,CACR,IAAItG,EAAIskB,GAAiBl5B,EAAGk4B,GACxBhd,EAAMtG,EAAEpX,OACZggC,EAAcx9B,EAAGqc,GAAkBzH,EAAG,GAAK,EAAGsjB,EAAK,0BACnD8B,EAAgBhtB,EAAG4H,EAAGsG,GACtBoiB,EAAatwB,EAAG,GAChB+3D,GAAa7pD,EAAM,EACnB,MAEJ,KApNO,EAoNQoiB,EAAatwB,EAvPf,GAwPb,KApNO,EAoNU,KAnNV,EAoNHkrB,KAKZ,OADAkC,GAAgBptB,GACT,GA4wBP,SAprBiB,SAAShN,GAC1B,IAAIkqC,EAAI,IAAIm6B,GAAOrkE,GACfkyB,EAAM,CACNtd,EAAGskB,GAAiBl5B,EAAG,GACvBoH,IAAK,GAEL29D,EAAY,EAChB,KAAO7yC,EAAI9qB,IAAM8qB,EAAItd,EAAEpX,QAAQ,CAC3B,IAAIsrE,EAAUhE,GAAW56B,EAAG66B,EAAW7yC,GACnC2yC,EAAMiE,EAAQjE,IACdnzC,EAAOo3C,EAAQp3C,KAKnB,OAHAA,GADeo3C,EAAQ9D,SAEvBxnC,EAAcx9B,EAAG+kE,GAAa1C,GAAU3wC,EAAM,EAAG,2BACjDqzC,GAAarzC,EACLmzC,GACJ,KArUO,EAsUP,KArUO,EAsUH5sC,EAAcj4B,EAAG,EAAG,2BAMhC,OADA0kB,EAAgB1kB,EAAG+kE,GACZ,GA6pBP,IApuBY,SAAS/kE,GACrB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNmL,EAAI6wB,GAAkBx5B,EAAG,GACzBskD,EAAMjrB,GAAer5B,EAAG,EAAG,IAC3BgpE,EAAO1kB,EAAI9mD,OACf,GAAImL,GAAK,EAAGgc,EAAgB3kB,EAAG,QAC1B,IAAIi6B,EAAI+uC,EAAO/uC,GAAKA,EAAI+uC,EAAO3G,GAAU15D,EAC1C,OAAOyvB,GAAWp4B,EAAGmd,GAAa,+BACjC,CACD,IAAI8rD,EAAWtgE,EAAIsxB,GAAKtxB,EAAI,GAAKqgE,EAC7Bh8D,EAAI,IAAI2qB,EACR9jB,EAAI6pB,GAAkB19B,EAAGgN,EAAGi8D,GAC5BC,EAAK,EACT,KAAOvgE,KAAM,GACTkL,EAAE+hB,IAAIhhB,EAAGs0D,GACTA,GAAMjvC,EACF+uC,EAAO,IACPn1D,EAAE+hB,IAAI0uB,EAAK4kB,GACXA,GAAMF,GAGdn1D,EAAE+hB,IAAIhhB,EAAGs0D,GACTtqC,GAAoB5xB,EAAGi8D,IAE3B,OAAO,GA4sBP,QA3wBgB,SAASjpE,GACzB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNif,EAAI,IAAIF,WAAW0d,GACvB,IAAK,IAAI/6B,EAAE,EAAGA,EAAE+6B,EAAG/6B,IACfud,EAAEvd,GAAK0V,EAAEqlB,EAAE,EAAE/6B,GAEjB,OADA0zB,EAAe5yB,EAAGyc,GACX,GAqwBP,IAvzCY,SAASzc,GACrB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNc,EAAQikE,GAAS/oC,GAAkBx5B,EAAG,GAAIi6B,GAC1Ct7B,EAAM4jE,GAAS9jC,GAAgBz+B,EAAG,GAAI,GAAIi6B,GAM9C,OALI37B,EAAQ,IAAGA,EAAQ,GACnBK,EAAMs7B,IAAGt7B,EAAMs7B,GACf37B,GAASK,EACTi0B,EAAe5yB,EAAG4U,EAAE6d,SAASn0B,EAAQ,EAAIA,EAAQ,GAAMK,EAAML,EAAQ,KACpEqmB,EAAgB3kB,EAAG,IACjB,GA8yCP,OApnBe,SAASA,GACxB,IAAIkqC,EAAI,IAAIm6B,GAAOrkE,GACfkyB,EAAM,CACNtd,EAAGskB,GAAiBl5B,EAAG,GACvBoH,IAAK,GAEL+K,EAAO+mB,GAAiBl5B,EAAG,GAC3BmpE,EAAKh3D,EAAK3U,OACVyC,EAAMsiE,GAAS9jC,GAAgBz+B,EAAG,EAAG,GAAImpE,GAAM,EAC/CxgE,EAAI,EAER,IADA60B,EAAcx9B,EAAGC,GAAOkpE,GAAMlpE,GAAO,EAAG,EAAG,kCACpCiyB,EAAI9qB,IAAM8qB,EAAItd,EAAEpX,QAAQ,CAC3B,IAAIsrE,EAAUhE,GAAW56B,EAAGjqC,EAAKiyB,GAC7B2yC,EAAMiE,EAAQjE,IACdnzC,EAAOo3C,EAAQp3C,KACfszC,EAAW8D,EAAQ9D,SAOvB,OANkC/kE,EAAM+kE,EAAWtzC,EAAOy3C,GACtDlxC,EAAcj4B,EAAG,EAAGmd,GAAa,0BACrCld,GAAO+kE,EAEP1pC,GAAgBt7B,EAAG,EAAG,oBACtB2I,IACQk8D,GACJ,KApZO,EAqZP,KApZO,EAoZK,CACR,IAAIz3C,EAAM+3C,GAAUnlE,EAAGmS,EAAKsgB,SAASxyB,GAAMiqC,EAAEo6B,SAAU5yC,EAtZpD,IAsZ0DmzC,GAC7DngD,EAAgB1kB,EAAGotB,GACnB,MAEJ,KAxZO,EAwZM,CACT,IAAIA,EAAMi4C,GAAUrlE,EAAGmS,EAAKsgB,SAASxyB,GAAMiqC,EAAEo6B,SAAU5yC,GACvDiB,EAAe3yB,EAAGotB,GAClB,MAEJ,KA5ZO,EA6ZHwF,EAAe5yB,EAAGmS,EAAKsgB,SAASxyB,EAAKA,EAAMyxB,IAC3C,MAEJ,KA/ZO,EA+ZO,CACV,IAAIxW,EAAMiqD,GAAUnlE,EAAGmS,EAAKsgB,SAASxyB,GAAMiqC,EAAEo6B,SAAU5yC,EAAM,GAC7D8L,EAAcx9B,EAAGC,EAAMib,EAAMwW,GAAQy3C,EAAI,EAAG,yBAC5Cv2C,EAAe5yB,EAAGmS,EAAKsgB,SAASxyB,EAAMyxB,EAAMzxB,EAAMyxB,EAAOxW,IACzDjb,GAAOib,EACP,MAEJ,KAraO,EAqaK,CACR,IAAIlU,EAAIqV,GAAkBlK,EAAM,EAAGlS,IACxB,IAAP+G,IAAUA,EAAImL,EAAK3U,OAASyC,GAChC2yB,EAAe5yB,EAAGmS,EAAKsgB,SAASxyB,EAAK+G,IACrC/G,EAAM+G,EAAI,EACV,MAEJ,KA1aO,EA0aU,KA3aV,EA2ayB,KAzazB,EA0aH2B,IAGR1I,GAAOyxB,EAGX,OADAhN,EAAgB1kB,EAAGC,EAAM,GAClB0I,EAAI,GA0jBX,MAtvBc,SAAS3I,GACvB,IAAI4U,EAAIskB,GAAiBl5B,EAAG,GACxBi6B,EAAIrlB,EAAEpX,OACNif,EAAI,IAAIF,WAAW0d,GACvB,IAAK,IAAI/6B,EAAE,EAAGA,EAAE+6B,EAAG/6B,IAAK,CACpB,IAAI+d,EAAIrI,EAAE1V,GACNikE,GAAQlmD,KACRA,GAAQ,KACZR,EAAEvd,GAAK+d,EAGX,OADA2V,EAAe5yB,EAAGyc,GACX,IA+vBXiB,EAAOC,QAAQojC,eANQ,SAAS/gD,GAG5B,OAFA6kB,GAAY7kB,EAAGyoE,IAZK,SAASzoE,GAC7BopB,EAAgBppB,EAAG,EAAG,GACtB2kB,EAAgB3kB,EAAG,IACnB+yB,EAAc/yB,GAAI,GAClBk0B,EAAiBl0B,GAAI,GACrBqnB,EAAQrnB,EAAG,GACX+yB,EAAc/yB,GAAI,GAClB4kB,EAAa5kB,GAAI,EAAGmd,GAAa,WAAW,IAC5CkK,EAAQrnB,EAAG,GAKXopE,CAAgBppE,GACT,gCCr7CX,MACIof,gBAAgB,aACZG,EAAY,SACZe,EAAQ,SACRD,EAAQ,SACRD,EAAQ,mBACRZ,EAAkB,YAClBS,EAAW,SACXX,EAAQ,YACRY,EAAW,YACXC,EAAW,YACXH,EAAW,WACXL,EAAU,YACVG,EAAW,cACXD,GACH,aACD1C,GACA,EAAQ,OACN,WAAEukB,GAAe,EAAQ,MACzB1c,EAAU,EAAQ,MAClBI,EAAU,EAAQ,OAClB,iBACFi9B,EAAgB,QAChBqf,GACA,EAAQ,MACNr8C,EAAU,EAAQ,MAGxB,IAAIgkD,EAAuB,IAAI5+C,QAC/B,MAAM6+C,EAAyB,SAAS5sD,GACpC,IAAIilD,EAAO0H,EAAqB54C,IAAI/T,GAOpC,OANKilD,IAGDA,EAAO,GACP0H,EAAqBzzC,IAAIlZ,EAAGilD,IAEzBA,GAGL4H,EAAa,SAASvpE,EAAGiqC,GAC3B,OAAOA,EAAI5sC,MACP,KAAKiiB,EACD,OAAO0F,EAAOozB,cAAcp4C,EAAGmd,EAAa,sBAAsB,IACtE,KAAK+C,EACD,GAAIqhB,MAAM0I,EAAInsB,OACV,OAAOkH,EAAOozB,cAAcp4C,EAAGmd,EAAa,sBAAsB,IAE1E,KAAKgD,EACL,KAAKZ,EACL,KAAKI,EACL,KAAKS,EACL,KAAKC,EACL,KAAKC,EACL,KAAKT,EACL,KAAKC,EACD,OAAOmqB,EAAInsB,MACf,KAAKkC,EACL,KAAKC,EACD,OAAOoiC,EAAiBpY,EAAIwV,WAChC,KAAKjgC,EAAoB,CACrB,IAAI9C,EAAIutB,EAAInsB,MACZ,cAAcpB,GACV,IAAK,SAGD,MAAO,IAAMA,EACjB,IAAK,SAGD,MAAO,IAAMA,EACjB,IAAK,UAED,OAAOA,EAAE,QAAQ,SACrB,IAAK,WAGD,OAAO4sD,EAAuB5sD,GAClC,IAAK,SAED,GAAKA,aAAa2I,EAAOsQ,WAAajZ,EAAE+J,MAAQzmB,EAAEymB,KAC9C/J,aAAa+wC,GACb/wC,aAAa0I,EAAQuM,OACrBjV,aAAa0I,EAAQs7B,UACrBhkC,aAAa0I,EAAQU,SAErB,OAAOwjD,EAAuB5sD,GAGtC,QACI,OAAOA,GAGnB,QACI,MAAM,IAAI3gB,MAAM,qBAAuBkuC,EAAI5sC,QAIvD,MAAMowD,EACFhrC,YAAYziB,GACR/D,KAAKwI,GAAKzE,EAAEymB,IAAI65B,aAChBrkD,KAAKya,OAAS,IAAI8yD,IAClBvtE,KAAKwtE,YAAc,IAAID,IACvBvtE,KAAKytE,eAAY,EACjBztE,KAAKmK,OAAI,EACTnK,KAAKg+B,OAAI,EACTh+B,KAAKizB,UAAY,KACjBjzB,KAAK2V,OAAQ,GAIrB,MAIMhV,EAAM,SAAS6C,EAAGkiE,EAAM13B,EAAKnsB,GAC/Bre,EAAEgqE,YAAY99D,QACdlM,EAAEiqE,eAAY,EACd,IAAIlT,EAAO,KACPmT,EAAQ,CACR1/B,IAAKA,EACLnsB,MAAOA,EACPjK,EAAG2iD,EAAO/2D,EAAEw6B,EACZtxB,OAAG,GAEFlJ,EAAE2G,IAAG3G,EAAE2G,EAAIujE,GACZnT,IAAMA,EAAK7tD,EAAIghE,GACnBlqE,EAAEiX,OAAOkf,IAAI+rC,EAAMgI,GACnBlqE,EAAEw6B,EAAI0vC,GAQJC,EAAY,SAASnqE,EAAGkiE,GAC1B,IAAI36D,EAAIvH,EAAEiX,OAAO+Z,IAAIkxC,GACrB,GAAI36D,EAAG,CACHA,EAAEijC,IAAI4iB,eACN7lD,EAAE8W,WAAQ,EACV,IAAI9X,EAAOgB,EAAE2B,EACT6tD,EAAOxvD,EAAE6M,EACb7M,EAAE6M,OAAI,EACH2iD,IAAMA,EAAK7tD,EAAI3C,GACfA,IAAMA,EAAK6N,EAAI2iD,GACf/2D,EAAE2G,IAAMY,IAAGvH,EAAE2G,EAAIJ,GACjBvG,EAAEw6B,IAAMjzB,IAAGvH,EAAEw6B,EAAIu8B,GACpB/2D,EAAEiX,OAAOmzD,OAAOlI,IAhBA,iBADcl5C,EAkBLk5C,GAjBQ,OAANl5C,EAA0B,mBAANA,IAkBtChpB,EAAEiqE,YAAWjqE,EAAEiqE,UAAY,IAAIj/C,SACpChrB,EAAEiqE,UAAU9zC,IAAI+rC,EAAM36D,IAGtBvH,EAAEgqE,YAAY7zC,IAAI+rC,EAAM36D,GAvBP,IAASyhB,GAgChCqhD,EAAa,SAASrqE,EAAGkiE,GAC3B,IAAIjlD,EAAIjd,EAAEiX,OAAO+Z,IAAIkxC,GACrB,OAAOjlD,EAAIA,EAAEoB,MAAQsH,EAAQmB,gBAG3BsC,EAAc,SAASppB,EAAGwqC,GAE5B,OADAvI,EAAyB,iBAAPuI,IAAwB,EAAJA,KAAWA,GAC1C6/B,EAAWrqE,EAAGwqC,IA8GzBvsB,EAAOC,QAAQ+V,kBAzKW,SAASj0B,GAC/BA,EAAEmS,MAAQ,GAyKd8L,EAAOC,QAAQwV,SAvGE,SAASnzB,EAAGP,EAAGwqC,GAE5B,OADAvI,EAAWuI,aAAe7kB,EAAQS,QAC9BokB,EAAI9V,WAAc8V,EAAIia,aAAe3iB,MAAM0I,EAAInsB,OACxCsH,EAAQmB,eACZujD,EAAWrqE,EAAG8pE,EAAWvpE,EAAGiqC,KAoGvCvsB,EAAOC,QAAQkL,YAAeA,EAC9BnL,EAAOC,QAAQ4V,UAnDG,SAAS9zB,GACvB,IAAIP,EAAI,EACJsU,EAAI/T,EAAEiX,OAAOgb,KAAO,EAExB,KAAOle,EAAItU,EAAI,GAAG,CACd,IAAI6P,EAAIxH,KAAKm4B,OAAOxgC,EAAEsU,GAAG,GACrBqV,EAAYppB,EAAGsP,GAAGolB,UAAW3gB,EAAIzE,EAChC7P,EAAI6P,EAEb,OAAO7P,GA2CXwe,EAAOC,QAAQosD,YA/GK,SAAStqE,EAAGwqC,GAE5B,OADAvI,EAAWuI,aAAey3B,GACnBoI,EAAWrqE,EAAG4iD,EAAiBpY,KA8G1CvsB,EAAOC,QAAQ8V,aAlFM,SAASzzB,EAAGP,EAAGwqC,EAAKnsB,GACrC4jB,EAAWuI,aAAe7kB,EAAQS,QAClC,IAAI87C,EAAO4H,EAAWvpE,EAAGiqC,GACzB,GAAInsB,EAAMqW,UAEN,YADAy1C,EAAUnqE,EAAGkiE,GAIjB,IAAI36D,EAAIvH,EAAEiX,OAAO+Z,IAAIkxC,GACrB,GAAI36D,EACAA,EAAE8W,MAAMkK,QAAQlK,OACb,CACH,IAAI2K,EACAuhD,EAAK//B,EAAInsB,MAGT2K,EAFCwhB,EAAIia,cAAmB,EAAH8lB,KAAUA,EAE3B,IAAI5kD,EAAQS,OAAO1F,EAAa6pD,GAEhC,IAAI5kD,EAAQS,OAAOokB,EAAI5sC,KAAM2sE,GAErC,IAAIttD,EAAI,IAAI0I,EAAQS,OAAO/H,EAAMzgB,KAAMygB,EAAMA,OAC7ClhB,EAAI6C,EAAGkiE,EAAMl5C,EAAG/L,KA8DxBgB,EAAOC,QAAQiW,YArGK,SAASn0B,EAAGwqC,EAAKnsB,GACjC4jB,EAAyB,iBAAPuI,IAAwB,EAAJA,KAAWA,GAAOnsB,aAAiBsH,EAAQS,QACjF,IAAI87C,EAAO13B,EACX,GAAInsB,EAAMqW,UAEN,YADAy1C,EAAUnqE,EAAGkiE,GAGjB,IAAI36D,EAAIvH,EAAEiX,OAAO+Z,IAAIkxC,GACrB,GAAI36D,EACSA,EAAE8W,MACRkK,QAAQlK,OACR,CACH,IAAI2K,EAAI,IAAIrD,EAAQS,OAAO1F,EAAa8pB,GACpCvtB,EAAI,IAAI0I,EAAQS,OAAO/H,EAAMzgB,KAAMygB,EAAMA,OAC7ClhB,EAAI6C,EAAGkiE,EAAMl5C,EAAG/L,KAwFxBgB,EAAOC,QAAQ4L,SAhIE,SAASvpB,GACtB,OAAO,IAAIytD,EAAMztD,IAgIrB0d,EAAOC,QAAQmU,UA5CG,SAAS9xB,EAAGiqE,EAAOC,GACjC,IAEIP,EAFAQ,EAAOnqE,EAAEmT,MAAM+2D,GAGnB,GAAIC,EAAK9sE,OAASiiB,GAEd,GADAqqD,EAAQM,EAAM7jE,GACTujE,EACD,OAAO,MACR,CAEH,IAAIhI,EAAO4H,EAAWvpE,EAAGmqE,GAGzB,GADAR,EAAQM,EAAMvzD,OAAO+Z,IAAIkxC,GACrBgI,GAEA,GADAA,EAAQA,EAAMhhE,GACTghE,EACD,OAAO,MACR,CAGH,GADAA,EAASM,EAAMP,WAAaO,EAAMP,UAAUj5C,IAAIkxC,IAAUsI,EAAMR,YAAYh5C,IAAIkxC,IAC3EgI,EAED,OAAO3kD,EAAOozB,cAAcp4C,EAAGmd,EAAa,0BAEhD,GAEI,GADAwsD,EAAQA,EAAMhhE,GACTghE,EACD,OAAO,QACNA,EAAM1/B,IAAI+hB,gBAK3B,OAFA5mC,EAAQsC,SAAS1nB,EAAGkqE,EAAMP,EAAM1/B,KAChC7kB,EAAQsC,SAAS1nB,EAAGkqE,EAAK,EAAGP,EAAM7rD,QAC3B,GAYXJ,EAAOC,QAAQ8vC,MAAeA,+BCjS9B,MAAM,eAAErH,GAAmB,EAAQ,OAC7B,SACF1kC,EAAQ,SACRG,EAAQ,cACRjC,EAAa,SACbN,EAAQ,WACRK,EAAU,SACVuN,EAAQ,eACRC,EAAc,YACdI,EAAW,gBACXnE,EAAe,SACfyF,EAAQ,iBACRC,EAAgB,WAChBtuB,EAAU,WACVmvB,EAAU,UACVQ,EAAS,gBACTE,EAAe,aACfK,EAAY,QACZrJ,EAAO,gBACP3C,EAAe,YACfgO,EAAW,eACXE,EAAc,cACdG,EAAa,WACbG,EAAU,aACVtO,EAAY,SACZqP,EAAQ,WACRhN,EAAU,cACV2N,EAAa,SACb9J,GACA,EAAQ,OACN,YACF6M,EAAW,gBACXqC,EAAe,cACfuD,EAAa,cACbC,EAAa,cACbzD,EAAa,kBACbP,EAAiB,eACjBsE,EAAc,WACd1F,EAAU,SACVkG,EAAQ,YACRzZ,EAAW,SACXwV,EAAQ,gBACRoE,EAAe,gBACftF,EAAe,gBACfiB,EAAe,cACf3B,GACA,EAAQ,MACNx2B,EAAS,EAAQ,OACjB,aAAEkb,GAAiB,EAAQ,MAW3BitD,EAAa,SAASpqE,EAAGiqC,EAAKthC,GAEhC,OADAiqB,EAAe5yB,EAAGiqC,GACX/W,EAAWlzB,GAAI2I,KAAO2W,GAO3B+qD,EAAW,SAASrqE,EAAGk4B,EAAKrV,GAC9B,GAAIiI,EAAS9qB,EAAGk4B,KAASvY,EAAY,CACjC,IAAIhX,EAAI,GACJmmB,EAAiB9uB,EAAGk4B,IAjBjB,EAkBArV,IAAiBunD,EAAWpqE,EAAGmd,EAAa,WAAW,KAASxU,IAjBhE,EAkBAka,IAAiBunD,EAAWpqE,EAAGmd,EAAa,cAAc,KAASxU,IAjBnE,EAkBAka,IAAiBunD,EAAWpqE,EAAGmd,EAAa,SAAS,KAASxU,GAIjEm1B,EAAe99B,EAAGk4B,EAAKvY,GAHvB0H,EAAQrnB,EAAG2I,KAOjB2hE,EAAW,SAAStqE,EAAG2I,EAAGw3C,GAE5B,OADAkqB,EAASrqE,EAAG2I,EA3BD,EA2BIw3C,GACR7hB,EAASt+B,EAAG2I,IAGjB4hE,EAAW,SAASvqE,EAAGgN,EAAG9N,GAC5B2vB,EAAS7uB,EAAG,EAAGd,GACVwxB,EAAa1wB,GAAI,IAClBo4B,EAAWp4B,EAAGmd,EAAa,wDACvBsb,EAAcz4B,GAAI,GAAId,GAE9Bq+B,EAAcvwB,IAmIZw9D,EAAO,SAASxqE,EAAGd,EAAGsU,GACxBygB,EAASj0B,EAAG,EAAGd,GACf+0B,EAASj0B,EAAG,EAAGwT,IAGbi3D,EAAY,SAASzqE,EAAG4C,EAAGoK,GAC7B,GAAImjB,EAAUnwB,EAAG,GACb,OAAOutB,EAAYvtB,EAAG4C,EAAGoK,EAAG6U,GAC3B,CACDkR,EAAc/yB,EAAG,GACjB+yB,EAAc/yB,EAAG4C,EAAE,GACnBmwB,EAAc/yB,EAAGgN,EAAE,GACnBkgB,EAASltB,EAAG,EAAG,GACf,IAAIotB,EAAMwH,EAAc50B,GAAI,GAE5B,OADAqnB,EAAQrnB,EAAG,GACJotB,IAITs9C,GAAY,SAAS1qE,EAAG2qE,EAAIr7C,GAC9B,IAAIpwB,EAAIyrE,EACJn3D,EAAI8b,EAAK,EAEb,OAAS,CAEL,KAAOT,EAAS7uB,EAAG,IAAKd,GAAIurE,EAAUzqE,GAAI,GAAI,IACtCd,GAAKowB,EAAK,GACV8I,EAAWp4B,EAAGmd,EAAa,uCAC/BkK,EAAQrnB,EAAG,GAIf,KAAO6uB,EAAS7uB,EAAG,IAAKwT,GAAIi3D,EAAUzqE,GAAI,GAAI,IACtCwT,EAAItU,GACJk5B,EAAWp4B,EAAGmd,EAAa,uCAC/BkK,EAAQrnB,EAAG,GAGf,GAAIwT,EAAItU,EAKJ,OAHAmoB,EAAQrnB,EAAG,GAEXwqE,EAAKxqE,EAAGsvB,EAAK,EAAGpwB,GACTA,EAGXsrE,EAAKxqE,EAAGd,EAAGsU,KAIbo3D,GAAc,SAASD,EAAIr7C,EAAIu7C,GACjC,IAAIC,EAAKvjE,KAAKm4B,OAAOpQ,EAAKq7C,GAAM,GAC5B92D,EAAIg3D,GAAY,EAALC,IAAWH,EAAKG,GAE/B,OADA7oE,EAAOy/B,WAAWipC,EAAKG,GAAMj3D,GAAKA,GAAKyb,EAAKw7C,GACrCj3D,GAGLk3D,GAAU,SAAS/qE,EAAG2qE,EAAIr7C,EAAIu7C,GAChC,KAAOF,EAAKr7C,GAAI,CAQZ,GANAT,EAAS7uB,EAAG,EAAG2qE,GACf97C,EAAS7uB,EAAG,EAAGsvB,GACXm7C,EAAUzqE,GAAI,GAAI,GAClBwqE,EAAKxqE,EAAG2qE,EAAIr7C,GAEZjI,EAAQrnB,EAAG,GACXsvB,EAAKq7C,GAAM,EACX,OACJ,IAAI92D,EAwBAlL,EAPJ,GAfIkL,EADAyb,EAAKq7C,EAvEA,KAuEyB,IAARE,EAClBtjE,KAAKm4B,OAAOirC,EAAKr7C,GAAI,GAErBs7C,GAAYD,EAAIr7C,EAAIu7C,GAC5Bh8C,EAAS7uB,EAAG,EAAG6T,GACfgb,EAAS7uB,EAAG,EAAG2qE,GACXF,EAAUzqE,GAAI,GAAI,GAClBwqE,EAAKxqE,EAAG6T,EAAG82D,IAEXtjD,EAAQrnB,EAAG,GACX6uB,EAAS7uB,EAAG,EAAGsvB,GACXm7C,EAAUzqE,GAAI,GAAI,GAClBwqE,EAAKxqE,EAAG6T,EAAGyb,GAEXjI,EAAQrnB,EAAG,IAEfsvB,EAAKq7C,GAAM,EACX,OACJ97C,EAAS7uB,EAAG,EAAG6T,GACfkf,EAAc/yB,GAAI,GAClB6uB,EAAS7uB,EAAG,EAAGsvB,EAAK,GACpBk7C,EAAKxqE,EAAG6T,EAAGyb,EAAK,GAChBzb,EAAI62D,GAAU1qE,EAAG2qE,EAAIr7C,GAGjBzb,EAAI82D,EAAKr7C,EAAKzb,GACdk3D,GAAQ/qE,EAAG2qE,EAAI92D,EAAI,EAAGg3D,GACtBliE,EAAIkL,EAAI82D,EACRA,EAAK92D,EAAI,IAETk3D,GAAQ/qE,EAAG6T,EAAI,EAAGyb,EAAIu7C,GACtBliE,EAAI2mB,EAAKzb,EACTyb,EAAKzb,EAAI,IAERyb,EAAKq7C,GAAM,IAAMhiE,IAClBkiE,EA7GDtjE,KAAKm4B,MAAoB,WAAdn4B,KAAKigD,aA6HrBwjB,GAAY,CACd,OA9KY,SAAShrE,GACrB,IAAIu/B,EAAO+qC,EAAStqE,EAAG,EAtHZ,GAuHPskD,EAAMnrB,EAAgBn5B,EAAG,EAAG,IAC5BgpE,EAAO1kB,EAAI9mD,OACX0B,EAAIu/B,EAAgBz+B,EAAG,EAAG,GAC9Bu/B,EAAOd,EAAgBz+B,EAAG,EAAGu/B,GAE7B,IAAIvyB,EAAI,IAAI2qB,EAGZ,IAFAoC,EAAc/5B,EAAGgN,GAEV9N,EAAIqgC,EAAMrgC,IACbqrE,EAASvqE,EAAGgN,EAAG9N,GACf86B,EAAgBhtB,EAAGs3C,EAAK0kB,GAQ5B,OALI9pE,IAAMqgC,GACNgrC,EAASvqE,EAAGgN,EAAG9N,GAEnBk7B,EAAgBptB,GAET,GA2JP,OA1PY,SAAShN,GACrB,IACIC,EADA+G,EAAIsjE,EAAStqE,EAAG,EAxCT,GAwCsB,EAEjC,OAAQQ,EAAWR,IACf,KAAK,EACDC,EAAM+G,EACN,MACJ,KAAK,EACD/G,EAAMu5B,EAAkBx5B,EAAG,GAC3Bw9B,EAAcx9B,EAAG,GAAKC,GAAOA,GAAO+G,EAAG,EAAG,0BAC1C,IAAK,IAAI9H,EAAI8H,EAAG9H,EAAIe,EAAKf,IACrB2vB,EAAS7uB,EAAG,EAAGd,EAAI,GACnB+0B,EAASj0B,EAAG,EAAGd,GAEnB,MAEJ,QACI,OAAOk5B,EAAWp4B,EAAG,yCAK7B,OADAi0B,EAASj0B,EAAG,EAAGC,GACR,GAqOP,KA7MU,SAASD,GACnB,IAAIoG,EAAIozB,EAAkBx5B,EAAG,GACzBgH,EAAIwyB,EAAkBx5B,EAAG,GACzBP,EAAI+5B,EAAkBx5B,EAAG,GACzBkH,EAAMmpB,EAAgBrwB,EAAG,GAAS,EAAJ,EAGlC,GAFAqqE,EAASrqE,EAAG,EA7FD,GA8FXqqE,EAASrqE,EAAGkH,EA7FD,GA8FPF,GAAKZ,EAAG,CACRo3B,EAAcx9B,EAAGoG,EAAI,GAAKY,EAAIo/C,EAAiBhgD,EAAG,EAAG,6BACrD,IAAIuC,EAAI3B,EAAIZ,EAAI,EAGhB,GAFAo3B,EAAcx9B,EAAGP,GAAK2mD,EAAiBz9C,EAAI,EAAG,EAAG,2BAE7ClJ,EAAIuH,GAAKvH,GAAK2G,GAAa,IAAPc,GAAgD,IAApCqmB,EAAYvtB,EAAG,EAAGkH,EAAIwa,GACtD,IAAK,IAAIxiB,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnB2vB,EAAS7uB,EAAG,EAAGoG,EAAIlH,GACnB+0B,EAASj0B,EAAGkH,EAAIzH,EAAIP,QAGxB,IAAK,IAAIA,EAAIyJ,EAAI,EAAGzJ,GAAK,EAAGA,IACxB2vB,EAAS7uB,EAAG,EAAGoG,EAAIlH,GACnB+0B,EAASj0B,EAAGkH,EAAIzH,EAAIP,GAMhC,OADA6zB,EAAc/yB,EAAGkH,GACV,GAoLP,KA1JS,SAASlH,GAClB,IAAI2I,EAAInI,EAAWR,GACnBopB,EAAgBppB,EAAG2I,EAAG,GACtBgnB,EAAW3vB,EAAG,GACd,IAAK,IAAId,EAAIyJ,EAAGzJ,GAAK,EAAGA,IACpB+0B,EAASj0B,EAAG,EAAGd,GAGnB,OAFAwlB,EAAgB1kB,EAAG2I,GACnBic,EAAa5kB,EAAG,EAAGmd,EAAa,MACzB,GAmJP,OApOY,SAASnd,GACrB,IAAI0xB,EAAO44C,EAAStqE,EAAG,EAjEZ,GAkEPC,EAAMw+B,EAAgBz+B,EAAG,EAAG0xB,GAIhC,IAHIzxB,IAAQyxB,GACR8L,EAAcx9B,EAAG,GAAKC,GAAOA,GAAOyxB,EAAO,EAAG,EAAG,0BACrD7C,EAAS7uB,EAAG,EAAGC,GACRA,EAAMyxB,EAAMzxB,IACf4uB,EAAS7uB,EAAG,EAAGC,EAAM,GACrBg0B,EAASj0B,EAAG,EAAGC,GAInB,OAFAyyB,EAAY1yB,GACZi0B,EAASj0B,EAAG,EAAGC,GACR,GAyNP,KAlBS,SAASD,GAClB,IAAI2I,EAAI2hE,EAAStqE,EAAG,EApRT,GA4RX,OAPI2I,EAAI,IACJ60B,EAAcx9B,EAAG2I,EAAIy9C,EAAgB,EAAG,iBACnC/1B,EAAgBrwB,EAAG,IACpB89B,EAAe99B,EAAG,EAAG4f,GACzBqH,EAAWjnB,EAAG,GACd+qE,GAAQ/qE,EAAG,EAAG2I,EAAG,IAEd,GAUP,OAlJW,SAAS3I,GACpB,IAAId,EAAIu/B,EAAgBz+B,EAAG,EAAG,GAC1BgH,EAAIqzB,EAASr6B,EAAGw5B,EAAmB,EAAG8E,EAASt+B,EAAG,IACtD,GAAId,EAAI8H,EAAG,OAAO,EAClB,IAAI2B,EAAI3B,EAAI9H,EACZ,GAAIyJ,GAAK5H,OAAO0yD,mBAAqBtmC,EAAentB,IAAK2I,GACrD,OAAOyvB,EAAWp4B,EAAGmd,EAAa,+BACtC,KAAOje,EAAI8H,EAAG9H,IACV2vB,EAAS7uB,EAAG,EAAGd,GAEnB,OADA2vB,EAAS7uB,EAAG,EAAGgH,GACR2B,IAgJX+U,EAAOC,QAAQqjC,cALO,SAAShhD,GAE3B,OADA6kB,EAAY7kB,EAAGgrE,IACR,gCCpWX,MACI5rD,gBAAgB,WACZO,EAAU,cACVE,GACH,aACD1C,GACA,EAAQ,OACN,WAAEukB,GAAe,EAAQ,MACzBtc,EAAU,EAAQ,MAClBH,EAAU,EAAQ,MAClBI,EAAU,EAAQ,OAClB,WACFC,EAAU,SACVC,GACA,EAAQ,MACNI,EAAU,EAAQ,MAClBX,EAAU,EAAQ,MAClBU,EAAU,EAAQ,MAElBulD,EAAkB,CACpB,WACA,MACA,UACA,WACA,SACA,SACA,QACA,WACA,WACA,SACA,SACFzrE,KAAIwH,GAAKmW,EAAanW,KAElBkvB,EAAY,SAASz2B,GACvB,OAAOwrE,EAAgBxrE,EAAI,IAQzB81C,EAAM,CACRC,SAAa,EACbC,YAAa,EACby1B,MAAa,EACbC,QAAa,EACb9zB,OAAa,EACbE,MAAa,EACb7B,OAAa,EACbE,OAAa,EACbE,OAAa,EACbE,OAAa,EACbE,OAAY,GACZE,OAAY,GACZE,QAAY,GACZE,QAAY,GACZE,OAAY,GACZE,QAAY,GACZE,OAAY,GACZE,OAAY,GACZC,OAAY,GACZE,QAAY,GACZM,MAAY,GACZE,MAAY,GACZL,UAAY,GACZ4E,QAAY,GACZ6kB,KAAY,IAkCVvpC,EAASra,EAAa,UAAU,GAYhCiuD,EAAc,SAASprE,EAAGoG,EAAGoyC,EAAIC,EAAI4V,EAAIgd,GAC3C,IAAIzkD,EAAO5mB,EAAEsH,IAcb,GAZA8d,EAAQ+D,UAAUnpB,EAAGoG,GACrBgf,EAAQ+D,UAAUnpB,EAAGw4C,GACrBpzB,EAAQ+D,UAAUnpB,EAAGy4C,GAEhB4yB,GACDjmD,EAAQ+D,UAAUnpB,EAAGquD,GAErBruD,EAAEgmB,GAAGsF,WAAajG,EAAOkG,SACzBtG,EAAI2G,UAAU5rB,EAAG4mB,EAAMykD,GAEvBpmD,EAAI2F,iBAAiB5qB,EAAG4mB,EAAMykD,GAE9BA,EAAQ,CACR,IAAIr6C,EAAKhxB,EAAEmT,MAAMnT,EAAEsH,IAAI,UAChBtH,EAAEmT,QAAQnT,EAAEsH,KACnB+mD,EAAGrmC,QAAQgJ,KAIbs6C,EAAiB,SAAStrE,EAAGw4C,EAAIC,EAAIrrB,EAAK1K,GAC5C,IAAI2yB,EAAK4G,EAAgBj8C,EAAGw4C,EAAI91B,GAGhC,OAFI2yB,EAAGlhB,YACHkhB,EAAK4G,EAAgBj8C,EAAGy4C,EAAI/1B,KAC5B2yB,EAAGlhB,YACPi3C,EAAYprE,EAAGq1C,EAAImD,EAAIC,EAAIrrB,EAAK,IACzB,IAoCLm+C,EAAa,SAASC,EAAQ9oD,EAAO+oD,GACvC,MAAMp2B,EAAK1vB,EAAOokD,YAAYyB,EAAQC,GAEtC,OADA/pC,EAAWhf,GAAS6yB,EAAIgC,OACpBlC,EAAGlhB,WACHq3C,EAAO55D,OAAS,GAAG8Q,EACZ,MAEC2yB,GAGV4G,EAAkB,SAASj8C,EAAGsmB,EAAG5D,GACnC,IAAIsM,EACJ,OAAO1I,EAAE0C,SACL,KAAKrJ,EACL,KAAKE,EACDmP,EAAK1I,EAAExI,MAAMoR,UACb,MACJ,QACIF,EAAKhvB,EAAEymB,IAAIuI,GAAG1I,EAAE0C,SAGxB,OAAOgG,EAAKrJ,EAAOokD,YAAY/6C,EAAIhvB,EAAEymB,IAAImxB,OAAOl1B,IAAU0C,EAAQmB,gBAGtE7I,EAAOC,QAAQ+tD,OA7BA,SAASzxC,EAAG0xC,EAAI3kE,GAC3B,OAAc,OAAP2kE,GACFA,EAAG/5D,MAAS,GAAK5K,EADD,KACcukE,EAAWI,EAAI3kE,EAAGizB,EAAExT,IAAImxB,OAAO5wC,KA4BtE0W,EAAOC,QAAQ43B,IAAmBA,EAClC73B,EAAOC,QAAQytD,YAAmBA,EAClC1tD,EAAOC,QAAQ2tD,eAAmBA,EAClC5tD,EAAOC,QAAQ2wC,cA7DO,SAAStuD,EAAGw4C,EAAIC,EAAIrrB,EAAK1K,GAC3C,IAAK4oD,EAAetrE,EAAGw4C,EAAIC,EAAIrrB,EAAK1K,GAChC,OAAQA,GACJ,KAAK6yB,EAAI+B,UACL,OAAOtyB,EAAOuzB,iBAAiBv4C,EAAGw4C,EAAIC,GAC1C,KAAKlD,EAAIiB,QAAS,KAAKjB,EAAImB,OAAQ,KAAKnB,EAAIqB,QAC5C,KAAKrB,EAAIuB,OAAQ,KAAKvB,EAAIyB,OAAQ,KAAKzB,EAAI4B,QAAS,CAChD,IAAI5gB,EAAK7Q,EAAI6E,SAASiuB,GAClB/hB,EAAK/Q,EAAI6E,SAASkuB,GACtB,OAAW,IAAPliB,IAAuB,IAAPE,EACTzR,EAAO8zB,gBAAgB94C,EAAGw4C,EAAIC,GAE9BzzB,EAAO0zB,gBAAgB14C,EAAGw4C,EAAIC,EAAIt7B,EAAa,gCAAgC,IAE9F,QACI,OAAO6H,EAAO0zB,gBAAgB14C,EAAGw4C,EAAIC,EAAIt7B,EAAa,yBAAyB,MA+C/FO,EAAOC,QAAQiuD,iBA1CU,SAAS5rE,EAAGw4C,EAAIC,EAAI/1B,GACzC,IAAI0K,EAAM,IAAIhI,EAAQS,OACtB,OAAKylD,EAAetrE,EAAGw4C,EAAIC,EAAIrrB,EAAK1K,IAGxB0K,EAAIyH,YAFL,MAwCfnX,EAAOC,QAAQ4tD,WAAmBA,EAClC7tD,EAAOC,QAAQs+B,gBAAmBA,EAClCv+B,EAAOC,QAAQ0jD,UA3IG,SAASrhE,GACvBA,EAAEymB,IAAImxB,OAAOrC,EAAIC,UAAe,IAAIjwB,EAASvlB,EAAGmd,EAAa,WAAW,IACxEnd,EAAEymB,IAAImxB,OAAOrC,EAAIE,aAAe,IAAIlwB,EAASvlB,EAAGmd,EAAa,cAAc,IAC3End,EAAEymB,IAAImxB,OAAOrC,EAAI21B,OAAe,IAAI3lD,EAASvlB,EAAGmd,EAAa,QAAQ,IACrEnd,EAAEymB,IAAImxB,OAAOrC,EAAI41B,SAAe,IAAI5lD,EAASvlB,EAAGmd,EAAa,UAAU,IACvEnd,EAAEymB,IAAImxB,OAAOrC,EAAI8B,QAAe,IAAI9xB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIgC,OAAe,IAAIhyB,EAASvlB,EAAGmd,EAAa,QAAQ,IACrEnd,EAAEymB,IAAImxB,OAAOrC,EAAIG,QAAe,IAAInwB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIK,QAAe,IAAIrwB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIO,QAAe,IAAIvwB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIS,QAAe,IAAIzwB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIW,QAAe,IAAI3wB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIa,QAAe,IAAI7wB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIe,SAAe,IAAI/wB,EAASvlB,EAAGmd,EAAa,UAAU,IACvEnd,EAAEymB,IAAImxB,OAAOrC,EAAIiB,SAAe,IAAIjxB,EAASvlB,EAAGmd,EAAa,UAAU,IACvEnd,EAAEymB,IAAImxB,OAAOrC,EAAImB,QAAe,IAAInxB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIqB,SAAe,IAAIrxB,EAASvlB,EAAGmd,EAAa,UAAU,IACvEnd,EAAEymB,IAAImxB,OAAOrC,EAAIuB,QAAe,IAAIvxB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAIyB,QAAe,IAAIzxB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAI0B,QAAe,IAAI1xB,EAASvlB,EAAGmd,EAAa,SAAS,IACtEnd,EAAEymB,IAAImxB,OAAOrC,EAAI4B,SAAe,IAAI5xB,EAASvlB,EAAGmd,EAAa,UAAU,IACvEnd,EAAEymB,IAAImxB,OAAOrC,EAAIkC,OAAe,IAAIlyB,EAASvlB,EAAGmd,EAAa,QAAQ,IACrEnd,EAAEymB,IAAImxB,OAAOrC,EAAIoC,OAAe,IAAIpyB,EAASvlB,EAAGmd,EAAa,QAAQ,IACrEnd,EAAEymB,IAAImxB,OAAOrC,EAAI+B,WAAe,IAAI/xB,EAASvlB,EAAGmd,EAAa,YAAY,IACzEnd,EAAEymB,IAAImxB,OAAOrC,EAAI2G,SAAe,IAAI32B,EAASvlB,EAAGmd,EAAa,UAAU,KAoH3EO,EAAOC,QAAQw6B,iBA5GU,SAASn4C,EAAGsmB,GACjC,IAAI0I,EACJ,GAAK1I,EAAE4C,aAA4C,QAA5B8F,EAAK1I,EAAExI,MAAMoR,YAC/B5I,EAAEkJ,oBAAmD,QAA5BR,EAAK1I,EAAExI,MAAMoR,WAAsB,CAC7D,IAAIzd,EAAOkU,EAAOokD,YAAY/6C,EAAI1J,EAAWtlB,EAAGw3B,IAChD,GAAI/lB,EAAKsY,aACL,OAAOtY,EAAKyY,SAEpB,OAAOgM,EAAU5P,EAAE0C,UAqGvBtL,EAAOC,QAAQuY,UAAmBA,+BCnNlC,MAAMzR,EAAS,EAAQ,MACjByuB,EAAS,EAAQ,MACjBluB,EAAS,EAAQ,MACjBC,EAAS,EAAQ,MACjBI,EAAS,EAAQ,MAEvB3H,EAAOC,QAAQwB,YAA0BsF,EAAKtF,YAC9CzB,EAAOC,QAAQuB,cAA0BuF,EAAKvF,cAC9CxB,EAAOC,QAAQoG,WAA0BU,EAAKjB,cAAcO,WAC5DrG,EAAOC,QAAQmG,YAA0BW,EAAKjB,cAAcM,YAC5DpG,EAAOC,QAAQkG,WAA0BY,EAAKjB,cAAcK,WAC5DnG,EAAOC,QAAQgG,WAA0Bc,EAAKjB,cAAcG,WAC5DjG,EAAOC,QAAQiG,cAA0Ba,EAAKjB,cAAcI,cAC5DlG,EAAOC,QAAQ8C,aAA0BgE,EAAKhE,aAC9C/C,EAAOC,QAAQ+C,cAA0B+D,EAAK/D,cAC9ChD,EAAOC,QAAQgD,aAA0B8D,EAAK9D,aAC9CjD,EAAOC,QAAQiD,YAA0B6D,EAAK7D,YAC9ClD,EAAOC,QAAQkD,iBAA0B4D,EAAK5D,iBAC9CnD,EAAOC,QAAQmD,aAA0B2D,EAAK3D,aAC9CpD,EAAOC,QAAQoD,cAA0B0D,EAAK1D,cAC9CrD,EAAOC,QAAQqD,aAA0ByD,EAAKzD,aAC9CtD,EAAOC,QAAQsD,YAA0BwD,EAAKxD,YAC9CvD,EAAOC,QAAQuD,aAA0BuD,EAAKvD,aAC9CxD,EAAOC,QAAQwD,YAA0BsD,EAAKtD,YAC9CzD,EAAOC,QAAQoC,YAA0B0E,EAAKrF,eAAeW,YAC7DrC,EAAOC,QAAQ8F,OAA0BgB,EAAKjB,cAAcC,OAC5D/F,EAAOC,QAAQyD,UAA0BqD,EAAKrD,UAC9C1D,EAAOC,QAAQ0D,WAA0BoD,EAAKpD,WAC9C3D,EAAOC,QAAQ2D,WAA0BmD,EAAKnD,WAC9C5D,EAAOC,QAAQ4D,UAA0BkD,EAAKlD,UAC9C7D,EAAOC,QAAQ6D,WAA0BiD,EAAKjD,WAC9C9D,EAAOC,QAAQ8D,UAA0BgD,EAAKhD,UAC9C/D,EAAOC,QAAQ+D,SAA0B+C,EAAK/C,SAC9ChE,EAAOC,QAAQgE,WAA0B8C,EAAK9C,WAC9CjE,EAAOC,QAAQiE,SAA0B6C,EAAK7C,SAC9ClE,EAAOC,QAAQkE,SAA0B4C,EAAK5C,SAC9CnE,EAAOC,QAAQmE,UAA0B2C,EAAK3C,UAC9CpE,EAAOC,QAAQoE,UAA0B0C,EAAK1C,UAC9CrE,EAAOC,QAAQqE,UAA0ByC,EAAKzC,UAC9CtE,EAAOC,QAAQsE,UAA0BwC,EAAKxC,UAC9CvE,EAAOC,QAAQuE,UAA0BuC,EAAKvC,UAC9CxE,EAAOC,QAAQwE,UAA0BsC,EAAKtC,UAC9CzE,EAAOC,QAAQyE,UAA0BqC,EAAKrC,UAC9C1E,EAAOC,QAAQ6C,kBAA0BiE,EAAKjE,kBAC9C9C,EAAOC,QAAQsB,YAA0BwF,EAAKxF,YAC9CvB,EAAOC,QAAQ0E,iBAA0BoC,EAAKpC,iBAC9C3E,EAAOC,QAAQ2E,cAA0BmC,EAAKnC,cAC9C5E,EAAOC,QAAQ4E,oBAA0BkC,EAAKlC,oBAC9C7E,EAAOC,QAAQgB,cAA0B8F,EAAK9F,cAC9CjB,EAAOC,QAAQ0B,UAA0BoF,EAAKrF,eAAeC,UAC7D3B,EAAOC,QAAQ2B,SAA0BmF,EAAKrF,eAAeE,SAC7D5B,EAAOC,QAAQ4B,aAA0BkF,EAAKrF,eAAeG,aAC7D7B,EAAOC,QAAQ6B,mBAA0BiF,EAAKrF,eAAeI,mBAC7D9B,EAAOC,QAAQ8B,YAA0BgF,EAAKrF,eAAeK,YAC7D/B,EAAOC,QAAQ+B,YAA0B+E,EAAKrF,eAAeM,YAC7DhC,EAAOC,QAAQgC,WAA0B8E,EAAKrF,eAAeO,WAC7DjC,EAAOC,QAAQiC,cAA0B6E,EAAKrF,eAAeQ,cAC7DlC,EAAOC,QAAQkC,cAA0B4E,EAAKrF,eAAeS,cAC7DnC,EAAOC,QAAQmC,YAA0B2E,EAAKrF,eAAeU,YAC7DpC,EAAOC,QAAQqB,YAA0ByF,EAAKzF,YAC9CtB,EAAOC,QAAQiB,kBAA0B6F,EAAK7F,kBAC9ClB,EAAOC,QAAQkB,kBAA0B4F,EAAK5F,kBAC9CnB,EAAOC,QAAQmB,gBAA0B2F,EAAK3F,gBAC9CpB,EAAOC,QAAQoB,oBAA0B0F,EAAK1F,oBAC9CrB,EAAOC,QAAQ+F,UAA0Be,EAAKjB,cAAcE,UAC5DhG,EAAOC,QAAQ6E,UAA0BiC,EAAKjC,UAC9C9E,EAAOC,QAAQ4F,iBAA0BkB,EAAKlB,iBAC9C7F,EAAOC,QAAQ6O,aAA0B0mB,EAAK1mB,aAC9C9O,EAAOC,QAAQ8O,UAA0BymB,EAAKzmB,UAC9C/O,EAAOC,QAAQiP,YAA0BsmB,EAAKtmB,YAC9ClP,EAAOC,QAAQoP,kBAA0BmmB,EAAKnmB,kBAC9CrP,EAAOC,QAAQuP,SAA0BgmB,EAAKhmB,SAC9CxP,EAAOC,QAAQwN,UAA0B+nB,EAAK/nB,UAC9CzN,EAAOC,QAAQwP,eAA0B+lB,EAAK/lB,eAC9CzP,EAAOC,QAAQw0C,UAA0B9sC,EAAO8sC,UAChDz0C,EAAOC,QAAQ4P,YAA0B2lB,EAAK3lB,YAC9C7P,EAAOC,QAAQoQ,WAA0BmlB,EAAKnlB,WAC9CrQ,EAAOC,QAAQkK,SAA0BqrB,EAAKrrB,SAC9CnK,EAAOC,QAAQyL,gBAA0B8pB,EAAK9pB,gBAC9C1L,EAAOC,QAAQsQ,SAA0BilB,EAAKjlB,SAC9CvQ,EAAOC,QAAQyQ,UAA0B8kB,EAAK9kB,UAC9C1Q,EAAOC,QAAQ2Q,OAA0B4kB,EAAK5kB,OAC9C5Q,EAAOC,QAAQ4Q,cAA0B2kB,EAAK3kB,cAC9C7Q,EAAOC,QAAQ+Q,kBAA0BwkB,EAAKxkB,kBAC9ChR,EAAOC,QAAQgR,aAA0BukB,EAAKvkB,aAC9CjR,EAAOC,QAAQiR,cAA0BskB,EAAKtkB,cAC9ClR,EAAOC,QAAQszB,YAA0BjsB,EAAOisB,YAChDvzB,EAAOC,QAAQuzB,iBAA0BlsB,EAAOksB,iBAChDxzB,EAAOC,QAAQwzB,gBAA0BnsB,EAAOmsB,gBAChDzzB,EAAOC,QAAQkR,SAA0BqkB,EAAKrkB,SAC9CnR,EAAOC,QAAQsZ,YAA0BjS,EAAOiS,YAChDvZ,EAAOC,QAAQyzB,aAA0BpsB,EAAOosB,aAChD1zB,EAAOC,QAAQmR,iBAA0BokB,EAAKpkB,iBAC9CpR,EAAOC,QAAQuZ,aAA0BlS,EAAOkS,aAChDxZ,EAAOC,QAAQwR,aAA0B+jB,EAAK/jB,aAC9CzR,EAAOC,QAAQnd,WAA0B0yC,EAAK1yC,WAC9Ckd,EAAOC,QAAQyR,eAA0B8jB,EAAK9jB,eAC9C1R,EAAOC,QAAQ4R,iBAA0B2jB,EAAK3jB,iBAC9C7R,EAAOC,QAAQgS,WAA0BujB,EAAKvjB,WAC9CjS,EAAOC,QAAQiS,cAA0BsjB,EAAKtjB,cAC9ClS,EAAOC,QAAQkS,gBAA0BqjB,EAAKrjB,gBAC9CnS,EAAOC,QAAQoS,eAA0BmjB,EAAKnjB,eAC9CrS,EAAOC,QAAQqS,cAA0BkjB,EAAKljB,cAC9CtS,EAAOC,QAAQuS,oBAA0BgjB,EAAKhjB,oBAC9CxS,EAAOC,QAAQwS,UAA0B+iB,EAAK/iB,UAC9CzS,EAAOC,QAAQyS,WAA0B8iB,EAAK9iB,WAC9C1S,EAAOC,QAAQ0S,gBAA0B6iB,EAAK7iB,gBAC9C3S,EAAOC,QAAQ2S,aAA0B4iB,EAAK5iB,aAC9C5S,EAAOC,QAAQ4S,YAA0B2iB,EAAK3iB,YAC9C7S,EAAOC,QAAQ+S,aAA0BwiB,EAAKxiB,aAC9ChT,EAAOC,QAAQgT,YAA0BuiB,EAAKviB,YAC9CjT,EAAOC,QAAQiT,aAA0BsiB,EAAKtiB,aAC9ClT,EAAOC,QAAQkT,eAA0BqiB,EAAKriB,eAC9CnT,EAAOC,QAAQwyB,gBAA0BlrB,EAAIkrB,gBAC7CzyB,EAAOC,QAAQoT,QAA0BmiB,EAAKniB,QAC9CrT,EAAOC,QAAQuT,SAA0BgiB,EAAKhiB,SAC9CxT,EAAOC,QAAQwZ,aAA0B9R,EAAO8R,aAChDzZ,EAAOC,QAAQ6T,aAA0B0hB,EAAK1hB,aAC9C9T,EAAOC,QAAQyyB,cAA0B/qB,EAAO+qB,cAChD1yB,EAAOC,QAAQ8T,gBAA0ByhB,EAAKzhB,gBAC9C/T,EAAOC,QAAQkU,SAA0BqhB,EAAKrhB,SAC9CnU,EAAOC,QAAQoU,UAA0BmhB,EAAKnhB,UAC9CrU,EAAOC,QAAQkO,WAA0BqnB,EAAKrnB,WAC9CnO,EAAOC,QAAQ0J,QAA0B6rB,EAAK7rB,QAC9C3J,EAAOC,QAAQqU,gBAA0BkhB,EAAKlhB,gBAC9CtU,EAAOC,QAAQsK,iBAA0BirB,EAAKjrB,iBAC9CvK,EAAOC,QAAQ2K,kBAA0B4qB,EAAK5qB,kBAC9C5K,EAAOC,QAAQsU,gBAA0BihB,EAAKjhB,gBAC9CvU,EAAOC,QAAQ0U,oBAA0B6gB,EAAK7gB,oBAC9C3U,EAAOC,QAAQ+G,gBAA0BwuB,EAAKxuB,gBAC9ChH,EAAOC,QAAQ0K,kBAA0B6qB,EAAK7qB,kBAC9C3K,EAAOC,QAAQ4K,mBAA0B2qB,EAAK3qB,mBAC9C7K,EAAOC,QAAQ2U,sBAA0B4gB,EAAK5gB,sBAC9C5U,EAAOC,QAAQgH,gBAA0BuuB,EAAKvuB,gBAC9CjH,EAAOC,QAAQ6U,gBAA0B0gB,EAAK1gB,gBAC9C9U,EAAOC,QAAQ+U,YAA0BwgB,EAAKxgB,YAC9ChV,EAAOC,QAAQgV,eAA0BugB,EAAKvgB,eAC9CjV,EAAOC,QAAQiV,eAA0BsgB,EAAKtgB,eAC9ClV,EAAOC,QAAQkV,eAA0BqgB,EAAKrgB,eAC9CnV,EAAOC,QAAQoV,cAA0BmgB,EAAKngB,cAC9CrV,EAAOC,QAAQqV,iBAA0BkgB,EAAKlgB,iBAC9CtV,EAAOC,QAAQsV,aAA0BigB,EAAKjgB,aAC9CvV,EAAOC,QAAQuV,WAA0BggB,EAAKhgB,WAC9CxV,EAAOC,QAAQsL,YAA0BiqB,EAAKjqB,YAC9CvL,EAAOC,QAAQyV,YAA0B8f,EAAK9f,YAC9C1V,EAAOC,QAAQ0V,WAA0B6f,EAAK7f,WAC9C3V,EAAOC,QAAQ6V,WAA0B0f,EAAK1f,WAC9C9V,EAAOC,QAAQgW,YAA0Buf,EAAKvf,YAC9CjW,EAAOC,QAAQkW,YAA0Bqf,EAAKrf,YAC9CnW,EAAOC,QAAQvb,aAA0B8wC,EAAK9wC,aAC9Csb,EAAOC,QAAQmW,WAA0Bof,EAAKpf,WAC9CpW,EAAOC,QAAQoW,YAA0Bmf,EAAKnf,YAC9CrW,EAAOC,QAAQ0yB,WAA0BprB,EAAIorB,WAC7C3yB,EAAOC,QAAQgK,WAA0BurB,EAAKvrB,WAC9CjK,EAAOC,QAAQkuD,aAA0B5mD,EAAI4mD,aAC7CnuD,EAAOC,QAAQiH,aAA0BsuB,EAAKtuB,aAC9ClH,EAAOC,QAAQiL,cAA0BsqB,EAAKtqB,cAC9ClL,EAAOC,QAAQ0zB,YAA0BrsB,EAAOqsB,YAChD3zB,EAAOC,QAAQsW,SAA0Bif,EAAKjf,SAC9CvW,EAAOC,QAAQ2zB,aAA0BtsB,EAAOssB,aAChD5zB,EAAOC,QAAQuW,iBAA0Bgf,EAAKhf,iBAC9CxW,EAAOC,QAAQyW,aAA0B8e,EAAK9e,aAC9C1W,EAAOC,QAAQsJ,WAA0BisB,EAAKjsB,WAC9CvJ,EAAOC,QAAQ0W,eAA0B6e,EAAK7e,eAC9C3W,EAAOC,QAAQ4W,iBAA0B2e,EAAK3e,iBAC9C7W,EAAOC,QAAQ6W,WAA0B0e,EAAK1e,WAC9C9W,EAAOC,QAAQ8W,mBAA0Bye,EAAKze,mBAC9C/W,EAAOC,QAAQiX,cAA0Bse,EAAKte,cAC9ClX,EAAOC,QAAQoX,eAA0Bme,EAAKne,eAC9CrX,EAAOC,QAAQ0X,cAA0B6d,EAAK7d,cAC9C3X,EAAOC,QAAQyM,eAA0B8oB,EAAK9oB,eAC9C1M,EAAOC,QAAQpd,eAA0B2yC,EAAK3yC,eAC9Cmd,EAAOC,QAAQmM,cAA0BopB,EAAKppB,cAC9CpM,EAAOC,QAAQ4X,aAA0B2d,EAAK3d,aAC9C7X,EAAOC,QAAQ2M,cAA0B4oB,EAAK5oB,cAC9C5M,EAAOC,QAAQ6X,cAA0B0d,EAAK1d,cAC9C9X,EAAOC,QAAQ8X,YAA0Byd,EAAKzd,YAC9C/X,EAAOC,QAAQwM,aAA0B+oB,EAAK/oB,aAC9CzM,EAAOC,QAAQmY,aAA0Bod,EAAKpd,aAC9CpY,EAAOC,QAAQqY,eAA0Bkd,EAAKld,eAC9CtY,EAAOC,QAAQmN,SAA0BooB,EAAKpoB,SAC9CpN,EAAOC,QAAQsY,aAA0Bid,EAAKjd,aAC9CvY,EAAOC,QAAQwY,cAA0B+c,EAAK/c,cAC9CzY,EAAOC,QAAQ0Y,gBAA0B6c,EAAK7c,gBAC9C3Y,EAAOC,QAAQkZ,YAA0Bqc,EAAKrc,YAC9CnZ,EAAOC,QAAQoZ,UAA0Bmc,EAAKnc,UAC9CrZ,EAAOC,QAAQ2yB,UAA0BrrB,EAAIqrB,UAC7C5yB,EAAOC,QAAQ0/B,WAA0Bp4B,EAAIo4B,WAC7C3/B,EAAOC,QAAQmX,gBAA0Boe,EAAKpe,6CC5L9C,MAAM9rB,EAAwE,IAExE,kBACF4V,EAAiB,kBACjBC,EAAiB,aACjB1B,GACA,EAAQ,MAUZO,EAAOC,QAAQsqC,aADO,IAItBvqC,EAAOC,QAAQqqC,cADO,IAItBtqC,EAAOC,QAAQkqC,aADO,IAYtB,MAAMikB,EAAWltD,EAAoB,IAAMC,EAC3CnB,EAAOC,QAAQmuD,SAAWA,EAEU,CAChC,MAAMlkB,EAAa,IACnBlqC,EAAOC,QAAQiqC,WAAaA,EAE5B,MAAMmkB,EAAW,SAAWD,EAAW,IACvCpuD,EAAOC,QAAQouD,SAAWA,EAE1B,MAAMC,EAAYD,EAClBruD,EAAOC,QAAQquD,UAAYA,EAE3B,MAAMjkB,EAAmB5qC,EACrB4uD,EAAW,SAAWA,EAAtBA,mCAIJruD,EAAOC,QAAQoqC,iBAAmBA,EAElC,MAAMD,EAAqB3qC,EACvB6uD,EAAY,QAAUA,EAAY,qBAEtCtuD,EAAOC,QAAQmqC,mBAAqBA,EAsExC,MAAMsD,EAAyBpiD,EAAKoiD,yBAA0B,EAGxD/E,GAAkB,WAQlB9lC,EAAgBvX,EAAKuX,eAAiB,IAOtC0yB,EAAajqC,EAAKiqC,YAAc,GAmChCjc,EAAkBhuB,EAAKguB,iBAAmB,KAiB1Cq0B,EAAQ,SAAS4gB,EAAUC,GAG7B,IAFA,IAAIC,EAAQ5kE,KAAK4J,IAAI,EAAG5J,KAAKu/C,KAAKv/C,KAAKo+B,IAAIumC,GAAY,OACnD75D,EAAS45D,EACJ/sE,EAAI,EAAGA,EAAIitE,EAAOjtE,IACvBmT,GAAU9K,KAAK4mD,IAAI,EAAG5mD,KAAKm4B,OAAOwsC,EAAWhtE,GAAKitE,IACtD,OAAO95D,GAGXqL,EAAOC,QAAQ4C,cAAyBA,EACxC7C,EAAOC,QAAQytC,uBAAyBA,EACxC1tC,EAAOC,QAAQs1B,WAAyBA,EACxCv1B,EAAOC,QAAQmkD,gBA9CS,KA+CxBpkD,EAAOC,QAAQokD,mBAlDY,GAmD3BrkD,EAAOC,QAAQyoC,eAjFQ,WAkFvB1oC,EAAOC,QAAQ0oC,eAAyBA,EACxC3oC,EAAOC,QAAQqkD,eAjDS,QAkDxBtkD,EAAOC,QAAQskD,kBArDW,GAsD1BvkD,EAAOC,QAAQqZ,gBAAyBA,EACxCtZ,EAAOC,QAAQukD,MAhCD,SAASpkD,GACnB,GAAc,IAAVA,EAAa,MAAO,CAACA,EAAO,GAChC,IAAI3L,EAAO,IAAI8iB,SAAS,IAAI8pB,YAAY,IACxC5sC,EAAKgtC,WAAW,EAAGrhC,GACnB,IAAIsuD,EAAQj6D,EAAKk6D,UAAU,KAAO,GAAM,KAC3B,IAATD,IACAj6D,EAAKgtC,WAAW,EAAGrhC,EAAQvW,KAAK4mD,IAAI,EAAG,KACvCie,GAASj6D,EAAKk6D,UAAU,KAAO,GAAM,MAAS,IAElD,IAAIH,EAAWE,EAAO,KAEtB,MAAO,CADQ/gB,EAAMvtC,GAAQouD,GACXA,IAsBtBxuD,EAAOC,QAAQ0tC,MAAyBA,EACxC3tC,EAAOC,QAAQwkD,sBApDe,WAK1B,OAAO,IAgDXzkD,EAAOC,QAAQ2tC,gBAvES,SAAS3iD,GAC7B,OAAOsJ,OAAOtJ,IAuElB+U,EAAOC,QAAQ4tC,eApEQ,SAAS5iD,GAC5B,OAAOsJ,OAAOlR,OAAO4H,EAAE2jE,YAAY,OAoEvC5uD,EAAOC,QAAQ2oC,oBAjEa,SAAS39C,GACjC,OAAOA,GAAK09C,GAAkB19C,EAAI,YAAkBA,GAiExD+U,EAAOC,QAAQsoC,cAhDO,SAAShsB,EAAGjzB,GAC9B,IAAKA,EAAG,MAAMjL,MAAMiL,iCC7KxB,MAAM,kBACF4X,EAAiB,kBACjBC,GACA,EAAQ,MAEN6qC,EAAgB,IAAM9qC,EAAoB,IAAMC,EACtDnB,EAAOC,QAAQ+rC,cAAgBA,EAE/BhsC,EAAOC,QAAQ+jB,WAAa,SAASzkB,KAErCS,EAAOC,QAAQ8jB,aAAe,EAA9B,mBAGA/jB,EAAOC,QAAQwjC,cADO,YAEtBzjC,EAAOC,QAAQqzB,kBAAoB,EAAnC,wBAGAtzB,EAAOC,QAAQyjC,eADQ,QAEvB1jC,EAAOC,QAAQqjC,cAAgB,EAA/B,oBASAtjC,EAAOC,QAAQ0jC,cADO,KAEtB3jC,EAAOC,QAAQmjC,WAAa,EAA5B,iBAGApjC,EAAOC,QAAQ2jC,eADQ,SAEvB5jC,EAAOC,QAAQojC,eAAiB,EAAhC,oBAGArjC,EAAOC,QAAQ6jC,gBADS,OAExB9jC,EAAOC,QAAQsjC,aAAe,EAA9B,mBAGAvjC,EAAOC,QAAQ4uD,eADQ,QAKvB7uD,EAAOC,QAAQ4jC,gBADS,OAExB7jC,EAAOC,QAAQijC,aAAe,EAA9B,mBAGAljC,EAAOC,QAAQ8jC,cADO,QAEtB/jC,EAAOC,QAAQq1B,cAAgB,EAA/B,oBAGAt1B,EAAOC,QAAQujC,gBADS,UAExBxjC,EAAOC,QAAQkjC,gBAAkB,EAAjC,sBAGAnjC,EAAOC,QAAQ+jC,mBADY,UAE3BhkC,EAAOC,QAAQmH,gBAAkB,EAAjC,sBAEA,MAAM0nD,EAAQ,EAAQ,MACtB9uD,EAAOC,QAAQzb,cAAgBsqE,EAAMtqE,2CC3DrC,MAAM,cACFyc,EACAS,gBAAgB,aACZG,EAAY,YACZU,EAAW,SACXX,EAAQ,YACRY,EAAW,YACXC,EAAW,YACXH,GAEJwD,eAAe,cAAEI,GAAe,aAChC/G,EAAY,aACZe,EAAY,aACZT,GACA,EAAQ,MACN8H,EAAW,EAAQ,MACnBE,EAAW,EAAQ,MACnBC,EAAW,EAAQ,OACnB,WACFwgB,EAAU,MACV2rB,EAAK,OACLC,EAAM,MACNC,EAAK,OACL1B,EAAM,MACND,EAAK,OACL4B,EAAM,OACNG,EAAM,QACNC,EAAO,OACPC,EAAM,QACNlC,EAAO,OACPmC,EAAM,QACNC,GACA,EAAQ,OACN,WAAEvwB,GAAe,EAAQ,OACzB,WAAEpc,GAAe,EAAQ,OACzB,UACFmnD,EAAS,IACT7mD,GACA,EAAQ,MAEZ,IAAI04B,EAAY,CAAC,GAAM,IAAM,GAAI,GAAI,GAAM,IAE3C,MAAMouB,EAEFjqD,YAAYziB,EAAG2sE,EAAGl7D,GACdxV,KAAK2wE,QAAU,EACf3wE,KAAK4wE,WAAa,EAClB5wE,KAAK6wE,gBAAkB,EACvB7wE,KAAK8wE,YAAc,EACnB9wE,KAAK+wE,WAAa,EAElBtrC,EAAWirC,aAAa/mD,EAAK,yCAC7B8b,EAAW7kB,EAAapL,IAER,KAAZA,EAAK,IAAmD,KAAZA,EAAK,GACjDxV,KAAKwV,KAAOA,EAAKghB,SAAS,GACrBhhB,EAAK,IAAMkN,EAAc,GAC9B1iB,KAAKwV,KAAO0L,EAAa,iBAAiB,GAE1ClhB,KAAKwV,KAAOA,EAEhBxV,KAAK+D,EAAIA,EACT/D,KAAK0wE,EAAIA,EAGT1wE,KAAKgxE,YAAc,IAAIluB,YACnBx3C,KAAKC,IAAIvL,KAAK2wE,QAAS3wE,KAAK4wE,WAAY5wE,KAAK6wE,gBAAiB7wE,KAAK8wE,YAAa9wE,KAAK+wE,aAEzF/wE,KAAKqpE,GAAK,IAAIrwC,SAASh5B,KAAKgxE,aAC5BhxE,KAAK+4B,GAAK,IAAIzY,WAAWtgB,KAAKgxE,aAGlCC,KAAKx7C,GACD,IAAIsD,EAAK,IAAIzY,WAAWmV,GAGxB,OAFsC,IAAnC+6C,EAAUxwE,KAAK0wE,EAAG33C,EAAI,EAAGtD,IACxBz1B,KAAKy/B,MAAM,aACR1G,EAGXm4C,WAGI,OAFyC,IAArCV,EAAUxwE,KAAK0wE,EAAG1wE,KAAK+4B,GAAI,EAAG,IAC9B/4B,KAAKy/B,MAAM,aACRz/B,KAAK+4B,GAAG,GAGnBo4C,UAGI,OAFoD,IAAhDX,EAAUxwE,KAAK0wE,EAAG1wE,KAAK+4B,GAAI,EAAG/4B,KAAK2wE,UACnC3wE,KAAKy/B,MAAM,aACRz/B,KAAKqpE,GAAG+H,SAAS,GAAG,GAG/BC,aAGI,OAFuD,IAAnDb,EAAUxwE,KAAK0wE,EAAG1wE,KAAK+4B,GAAI,EAAG/4B,KAAK+wE,aACnC/wE,KAAKy/B,MAAM,aACRz/B,KAAKqpE,GAAGG,WAAW,GAAG,GAGjC8H,cAGI,OAFwD,IAApDd,EAAUxwE,KAAK0wE,EAAG1wE,KAAK+4B,GAAI,EAAG/4B,KAAK8wE,cACnC9wE,KAAKy/B,MAAM,aACRz/B,KAAKqpE,GAAG+H,SAAS,GAAG,GAG/BG,aACI,OAAOvxE,KAAKsxE,cAGhBE,aACI,IAAI/7C,EAAOz1B,KAAKkxE,WAGhB,OAFa,MAATz7C,IACAA,EAAOz1B,KAAKuxE,cACH,IAAT97C,EACO,KACJpM,EAAWrpB,KAAK+D,EAAG/D,KAAKixE,KAAKx7C,EAAK,IAI7Cg8C,aAAa/kE,EAAGkL,GACZ,SAAW,GAAM,IAAO,EAG5B85D,SAASvnE,GACL,IAAIuC,EAAI1M,KAAKmxE,UACTv5D,EAAI64D,EAER,IAAK,IAAIxtE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IAAK,CACoC,IAAxDutE,EAAUxwE,KAAK0wE,EAAG1wE,KAAK+4B,GAAI,EAAG/4B,KAAK6wE,kBACnC7wE,KAAKy/B,MAAM,aACf,IAAIwS,EAAMjyC,KAAKqpE,GAAG+G,UAAU,GAAG,GAC/BjmE,EAAEnC,KAAK/E,GAAK,CACR+E,KAAQiqC,EACRvJ,OAASuJ,GAAOwjB,EAAU79C,EAAEm8C,MAAMiC,EAAS,GAC3CntB,EAASoJ,GAAOqjB,EAAU19C,EAAEm8C,MAAM6B,EAAS,GAC3Cl4B,EAASuU,GAAOujB,EAAU59C,EAAEm8C,MAAM+B,EAAS,GAC3CvrB,EAAS0H,GAAO4hB,EAAUj8C,EAAEm8C,MAAMgC,EAAS,GAC3C7c,GAASjH,GAAO6hB,EAAUl8C,EAAEm8C,MAAMH,EAAS,GAC3Cza,GAASlH,GAAOsjB,EAAU39C,EAAEm8C,MAAM8B,EAAS,GAC3CvsB,KAAU2I,GAAO6hB,EAAUl8C,EAAEm8C,MAAMH,EAAS,IAAMjqB,IAK9DgoC,cAAcxnE,GACV,IAAIuC,EAAI1M,KAAKmxE,UAEb,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IAAK,CACxB,IAAIO,EAAIxD,KAAKkxE,WAEb,OAAQ1tE,GACJ,KAAK6f,EACDlZ,EAAEqiB,EAAE3rB,KAAK,IAAIsoB,EAAQS,OAAOvG,EAAU,OACtC,MACJ,KAAKC,EACDnZ,EAAEqiB,EAAE3rB,KAAK,IAAIsoB,EAAQS,OAAOtG,EAAkC,IAApBtjB,KAAKkxE,aAC/C,MACJ,KAAKjtD,EACD9Z,EAAEqiB,EAAE3rB,KAAK,IAAIsoB,EAAQS,OAAO3F,EAAajkB,KAAKqxE,eAC9C,MACJ,KAAKntD,EACD/Z,EAAEqiB,EAAE3rB,KAAK,IAAIsoB,EAAQS,OAAO1F,EAAalkB,KAAKsxE,gBAC9C,MACJ,KAAKvtD,EACL,KAAKC,EACD7Z,EAAEqiB,EAAE3rB,KAAK,IAAIsoB,EAAQS,OAAO5F,EAAahkB,KAAKwxE,eAC9C,MACJ,QACIxxE,KAAKy/B,MAAM,0BAA0Bj8B,QAKrDouE,WAAWznE,GACP,IAAIuC,EAAI1M,KAAKmxE,UAEb,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkH,EAAEyN,EAAE3U,GAAK,IAAIimB,EAAMk7B,MAAMpkD,KAAK+D,GAC9B/D,KAAK6xE,aAAa1nE,EAAEyN,EAAE3U,GAAIkH,EAAE4L,QAIpC+7D,aAAa3nE,GACT,IAAIuC,EAAI1M,KAAKmxE,UAEb,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkH,EAAEujB,SAASzqB,GAAK,CACZuS,KAAS,KACTkuC,QAAS1jD,KAAKkxE,WACdhvE,IAASlC,KAAKkxE,YAK1Ba,UAAU5nE,GACN,IAAIuC,EAAI1M,KAAKmxE,UACb,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkH,EAAEuhC,SAASzoC,GAAKjD,KAAKmxE,UAEzBzkE,EAAI1M,KAAKmxE,UACT,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkH,EAAE05C,QAAQ5gD,GAAK,CACX6gD,QAAS9jD,KAAKwxE,aACdztB,QAAS/jD,KAAKmxE,UACdntB,MAAShkD,KAAKmxE,WAItBzkE,EAAI1M,KAAKmxE,UACT,IAAK,IAAIluE,EAAI,EAAGA,EAAIyJ,EAAGzJ,IACnBkH,EAAEujB,SAASzqB,GAAGuS,KAAOxV,KAAKwxE,aAIlCK,aAAa1nE,EAAGm5C,GACZn5C,EAAE4L,OAAS/V,KAAKwxE,aACC,OAAbrnE,EAAE4L,SACF5L,EAAE4L,OAASutC,GACfn5C,EAAE2c,YAAc9mB,KAAKmxE,UACrBhnE,EAAE4c,gBAAkB/mB,KAAKmxE,UACzBhnE,EAAEotC,UAAYv3C,KAAKkxE,WACnB/mE,EAAEuzC,UAAgC,IAApB19C,KAAKkxE,WACnB/mE,EAAEijC,aAAeptC,KAAKkxE,WACtBlxE,KAAK0xE,SAASvnE,GACdnK,KAAK2xE,cAAcxnE,GACnBnK,KAAK8xE,aAAa3nE,GAClBnK,KAAK4xE,WAAWznE,GAChBnK,KAAK+xE,UAAU5nE,GAGnB6nE,aAAar5D,EAAGjU,GACZ,IAAI65B,EAAOv+B,KAAKixE,KAAKt4D,EAAEpX,QAClBogB,EAAa4c,EAAM5lB,IACpB3Y,KAAKy/B,MAAM/6B,GAGnButE,cACIjyE,KAAKgyE,aAAatvD,EAAc8T,SAAS,GAAI,SAErB,KAApBx2B,KAAKkxE,YACLlxE,KAAKy/B,MAAM,uBAES,IAApBz/B,KAAKkxE,YACLlxE,KAAKy/B,MAAM,sBAEfz/B,KAAKgyE,aAAa3vB,EAAW,aAE7BriD,KAAK2wE,QAAkB3wE,KAAKkxE,WAC5BlxE,KAAK4wE,WAAkB5wE,KAAKkxE,WAC5BlxE,KAAK6wE,gBAAkB7wE,KAAKkxE,WAC5BlxE,KAAK8wE,YAAkB9wE,KAAKkxE,WAC5BlxE,KAAK+wE,WAAkB/wE,KAAKkxE,WAE5BlxE,KAAKkyE,UAAUlyE,KAAK2wE,QAAS,EAAG,OAChC3wE,KAAKkyE,UAAUlyE,KAAK4wE,WAAY,EAAG,UACnC5wE,KAAKkyE,UAAUlyE,KAAK6wE,gBAAiB,EAAG,eACxC7wE,KAAKkyE,UAAUlyE,KAAK8wE,YAAa,EAAG,WACpC9wE,KAAKkyE,UAAUlyE,KAAK+wE,WAAY,EAAG,UAER,QAAvB/wE,KAAKsxE,eACLtxE,KAAKy/B,MAAM,0BAEW,QAAtBz/B,KAAKqxE,cACLrxE,KAAKy/B,MAAM,4BAInBA,MAAM0yC,GACFhpD,EAAQ6yB,iBAAiBh8C,KAAK+D,EAAGmd,EAAa,4BAA6BlhB,KAAKwV,KAAM0L,EAAaixD,IACnGnpD,EAAIqzB,WAAWr8C,KAAK+D,EAAG4jB,GAG3BuqD,UAAUE,EAAM38C,EAAM4G,GACd+1C,IAAS38C,GACTz1B,KAAKy/B,MAAM,GAAGpD,uBAiB1B5a,EAAOC,QAAQsgC,YAbK,SAASj+C,EAAG2sE,EAAGl7D,GAC/B,IAAI68D,EAAI,IAAI5B,EAAe1sE,EAAG2sE,EAAGl7D,GACjC68D,EAAEJ,cACF,IAAI/lD,EAAKhD,EAAMs7B,iBAAiBzgD,EAAGsuE,EAAEnB,YAOrC,OANAloD,EAAIm5B,YAAYp+C,GAChBA,EAAEmT,MAAMnT,EAAEsH,IAAI,GAAGqlD,YAAYxkC,GAC7BA,EAAGtU,EAAI,IAAIsR,EAAMk7B,MAAMrgD,GACvBsuE,EAAER,aAAa3lD,EAAGtU,EAAG,MACrB6tB,EAAWvZ,EAAGrB,YAAcqB,EAAGtU,EAAE8V,SAASnsB,QAEnC2qB,gCC9RX,MAAM,WACF3nB,EAAU,kBACV8nB,EAAiB,gBACjB2J,EAAe,gBACfvN,EAAe,YACfgO,EAAW,eACXE,EAAc,cACdG,EAAa,aACbnO,EAAY,cACZyQ,GACA,EAAQ,OACN,YACFsC,EAAW,cACX4F,EAAa,cACbC,EAAa,cACbzD,EAAa,kBACbP,EAAiB,gBACjB8B,EAAe,iBACfpC,EAAgB,WAChBd,EAAU,YACVvT,EAAW,gBACX4Z,EAAe,gBACfrE,GACA,EAAQ,OACN,aACF9d,EAAY,aACZa,GACA,EAAQ,MAENoxD,EAAa,QAEbC,EAAS,SAAS36D,GAEpB,OAAa,MADD,IAAJA,IAKN46D,EAAa,SAASxuE,EAAKib,GAC7B,OAAIjb,GAAO,EAAUA,EACZ,EAAIA,EAAMib,EAAY,EACnBA,EAAMjb,EAAM,GAMtByuE,EAAS,CAAC,IAAM,IAAM,KAAO,OAC7BC,EAAc,SAAS/5D,EAAG3U,GAC5B,IAAIgd,EAAIrI,EAAE3U,GACNmtB,EAAM,EACV,GAAInQ,EAAI,IACJmQ,EAAMnQ,MACL,CACD,IAAIrb,EAAQ,EACZ,KAAW,GAAJqb,GAAU,CACb,IAAIi+C,EAAKtmD,EAAE3U,KAAS2B,GACpB,GAAoB,MAAV,IAALs5D,GACD,OAAO,KACX9tC,EAAOA,GAAO,EAAW,GAAL8tC,EACpBj+C,IAAM,EAGV,GADAmQ,IAAa,IAAJnQ,IAAsB,EAARrb,EACnBA,EAAQ,GAAKwrB,EAAMmhD,GAAcnhD,GAAOshD,EAAO9sE,GAC/C,OAAO,KACX3B,GAAO2B,EAGX,MAAO,CACHqC,KAAMmpB,EACNntB,IAAKA,EAAM,IAiCb2uE,EAAMzxD,EAAa,MACnB0xD,EAAc,SAAS7uE,EAAGk4B,GAC5B,IAAIj0B,EAAOu1B,EAAkBx5B,EAAGk4B,GAChCsF,EAAcx9B,EAAG,GAAKiE,GAAQA,GAAQsqE,EAAYr2C,EAAK,sBACvDjG,EAAgBjyB,EAAG4uE,EAAK3qE,IAgGtB6qE,EAAW,SAAS9uE,GACtB,IAAI4U,EAAIskB,EAAiBl5B,EAAG,GACxBkb,EAAMtG,EAAEpX,OACRmL,EAAI0sB,EAAcr1B,EAAG,GAAK,EAE9B,GAAI2I,EAAI,EACJA,EAAI,OACH,GAAIA,EAAIuS,EAET,IADAvS,IACO6lE,EAAO55D,EAAEjM,KAAKA,IAGzB,GAAIA,GAAKuS,EACL,OAAO,EACN,CACD,IAAI6zD,EAAMJ,EAAY/5D,EAAGjM,GACzB,OAAY,OAARomE,GAAgBP,EAAO55D,EAAEm6D,EAAI9uE,MACtBm4B,EAAWp4B,EAAGmd,EAAa,wBACtCuH,EAAgB1kB,EAAG2I,EAAI,GACvB+b,EAAgB1kB,EAAG+uE,EAAI9qE,MAChB,KAYT+qE,EAAQ,CACV,KA3HY,SAAShvE,GACrB,IAAI2I,EAAInI,EAAWR,GACnB,GAAU,IAAN2I,EACAkmE,EAAY7uE,EAAG,OACd,CACD,IAAIgN,EAAI,IAAI2qB,EACZoC,EAAc/5B,EAAGgN,GACjB,IAAK,IAAI9N,EAAI,EAAGA,GAAKyJ,EAAGzJ,IACpB2vE,EAAY7uE,EAAGd,GACfq+B,EAAcvwB,GAElBotB,EAAgBptB,GAEpB,OAAO,GA+GP,UA3Dc,SAAShN,GACvB,IAAI4U,EAAIskB,EAAiBl5B,EAAG,GACxB0oE,EAAO+F,EAAWhwC,EAAgBz+B,EAAG,EAAG,GAAI4U,EAAEpX,QAC9CmrE,EAAO8F,EAAWhwC,EAAgBz+B,EAAG,EAAG0oE,GAAO9zD,EAAEpX,QAKrD,GAHAggC,EAAcx9B,EAAG0oE,GAAQ,EAAG,EAAG,gBAC/BlrC,EAAcx9B,EAAG2oE,GAAQ/zD,EAAEpX,OAAQ,EAAG,gBAElCkrE,EAAOC,EAAM,OAAO,EACxB,GAAIA,EAAOD,GAAQ3nE,OAAO0yD,iBACtB,OAAOr7B,EAAWp4B,EAAG,yBACzB,IAAI2I,EAAKggE,EAAOD,EAAQ,EAGxB,IAFAptC,EAAgBt7B,EAAG2I,EAAG,yBACtBA,EAAI,EACC+/D,GAAQ,EAAGA,EAAOC,GAAO,CAC1B,IAAIoG,EAAMJ,EAAY/5D,EAAG8zD,GACzB,GAAY,OAARqG,EACA,OAAO32C,EAAWp4B,EAAG,sBACzB0kB,EAAgB1kB,EAAG+uE,EAAI9qE,MACvBykE,EAAOqG,EAAI9uE,IACX0I,IAEJ,OAAOA,GAsCP,MAXe,SAAS3I,GAKxB,OAJAk5B,EAAiBl5B,EAAG,GACpBsoB,EAAkBtoB,EAAG8uE,GACrB/7C,EAAc/yB,EAAG,GACjB0kB,EAAgB1kB,EAAG,GACZ,GAOP,IAhKW,SAASA,GACpB,IAAI2I,EAAI,EACJiM,EAAIskB,EAAiBl5B,EAAG,GACxBkb,EAAMtG,EAAEpX,OACRkrE,EAAO+F,EAAWhwC,EAAgBz+B,EAAG,EAAG,GAAIkb,GAC5C+zD,EAAOR,EAAWhwC,EAAgBz+B,EAAG,GAAI,GAAIkb,GAKjD,IAHAsiB,EAAcx9B,EAAG,GAAK0oE,KAAUA,GAAQxtD,EAAK,EAAG,kCAChDsiB,EAAcx9B,IAAKivE,EAAO/zD,EAAK,EAAG,gCAE3BwtD,GAAQuG,GAAM,CACjB,IAAIF,EAAMJ,EAAY/5D,EAAG8zD,GACzB,GAAY,OAARqG,EAGA,OAFAr8C,EAAY1yB,GACZ0kB,EAAgB1kB,EAAG0oE,EAAO,GACnB,EAEXA,EAAOqG,EAAI9uE,IACX0I,IAGJ,OADA+b,EAAgB1kB,EAAG2I,GACZ,GA4IP,OA3Ge,SAAS3I,GACxB,IAAI4U,EAAIskB,EAAiBl5B,EAAG,GACxB2I,EAAI6wB,EAAkBx5B,EAAG,GACzB0oE,EAAO//D,GAAK,EAAI,EAAIiM,EAAEpX,OAAS,EAKnC,GAJAkrE,EAAO+F,EAAWhwC,EAAgBz+B,EAAG,EAAG0oE,GAAO9zD,EAAEpX,QAEjDggC,EAAcx9B,EAAG,GAAK0oE,KAAUA,GAAQ9zD,EAAEpX,OAAQ,EAAG,yBAE3C,IAANmL,EAEA,KAAO+/D,EAAO,GAAK8F,EAAO55D,EAAE8zD,KAAQA,SAKpC,GAHI8F,EAAO55D,EAAE8zD,KACTtwC,EAAWp4B,EAAG,2CAEd2I,EAAI,EACJ,KAAOA,EAAI,GAAK+/D,EAAO,GAAG,CACtB,GACIA,UACKA,EAAO,GAAK8F,EAAO55D,EAAE8zD,KAC9B//D,SAIJ,IADAA,IACOA,EAAI,GAAK+/D,EAAO9zD,EAAEpX,QAAQ,CAC7B,GACIkrE,UACK8F,EAAO55D,EAAE8zD,KAClB//D,IAUZ,OALU,IAANA,EACA+b,EAAgB1kB,EAAG0oE,EAAO,GAE1Bh2C,EAAY1yB,GAET,IAyELkvE,EAAW5yD,EAAa,GAAI,EAAG,GAAI,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,IAStFoB,EAAOC,QAAQsjC,aAPM,SAASjhD,GAI1B,OAHA6kB,EAAY7kB,EAAGgvE,GACfp8C,EAAe5yB,EAAGkvE,GAClBtqD,EAAa5kB,GAAI,EAAGmd,EAAa,eAAe,IACzC,gCCzPX,MAAM,aACF6D,EAAY,cACZD,EAAa,YACbI,EACA/B,gBAAgB,aACZG,EAAY,SACZc,EAAQ,mBACRb,EAAkB,YAClBS,EAAW,SACXX,EAAQ,YACRG,EAAW,YACXS,EAAW,YACXC,EAAW,YACXH,EAAW,WACXL,EAAU,cACVE,GACH,aACD1C,GACA,EAAQ,OACN,OACFk3B,EAAM,IACN9K,EAAG,kBACHkG,EACA3N,UAAU,OACNuM,EAAM,QACNkI,EAAO,QACPW,EAAO,OACPT,EAAM,QACNE,EAAO,QACP9B,EAAO,WACPwc,EAAU,UACVjjB,EAAS,OACT+H,EAAM,MACN5H,EAAK,YACLzF,EAAW,WACXooB,EAAU,WACVC,EAAU,YACV/lB,EAAW,YACXC,EAAW,YACXL,EAAW,QACXqL,EAAO,OACP/P,EAAM,MACNoR,EAAK,OACLN,EAAM,YACN5L,EAAW,SACXxC,EAAQ,UACRC,EAAS,WACTrE,EAAU,MACV4S,EAAK,OACLzB,EAAM,QACNjK,EAAO,OACP+J,EAAM,YACNob,EAAW,OACXhkB,EAAM,OACNgJ,EAAM,UACN/G,EAAS,QACTG,EAAO,WACPK,GAAU,YACVM,GAAW,YACXC,GAAW,YACXF,GAAW,OACX8G,GAAM,OACNE,GAAM,OACNpB,GAAM,YACNb,GAAW,QACX5N,GAAO,WACPH,GAAU,YACV6N,GAAW,YACXwc,GAAW,OACXviB,GAAM,UACNyiB,KAEJ,EAAQ,OACN,eACFlL,GAAc,eACdC,GAAc,oBACdC,IACA,EAAQ,OACN,WACF5kB,GAAU,YACVwkB,IACA,EAAQ,MACN9gC,GAAU,EAAQ,MAClBD,GAAU,EAAQ,MAClBE,GAAU,EAAQ,OAClB,WACFC,GAAU,cACVwwC,GAAa,iBACbzT,IACA,EAAQ,MACNp9B,GAAU,EAAQ,MAClBQ,GAAU,EAAQ,MAClBE,GAAU,EAAQ,MAClBX,GAAU,EAAQ,MA6DlBmqD,GAAK,SAASnvE,EAAG2Q,EAAMzR,GACzB,OAAOyR,EAAOzR,EAAE4lC,GAGdsqC,GAAK,SAASpvE,EAAG2Q,EAAMzR,GACzB,OAAOyR,EAAOzR,EAAEy6B,GAOd01C,GAAM,SAASrvE,EAAG2Q,EAAM8X,EAAGvpB,GAC7B,OAAOqqC,EAAIrqC,EAAEy6B,GAAKlR,EAAE4rB,EAAOn1C,EAAEy6B,IAAM35B,EAAEmT,MAAMxC,EAAOzR,EAAEy6B,IAGlD21C,GAAM,SAAStvE,EAAG2Q,EAAM8X,EAAGvpB,GAC7B,OAAOqqC,EAAIrqC,EAAEsnC,GAAK/d,EAAE4rB,EAAOn1C,EAAEsnC,IAAMxmC,EAAEmT,MAAMxC,EAAOzR,EAAEsnC,IA6gBlD+oC,GAAS,SAASvvE,EAAGgmB,EAAI9mB,EAAG8H,GAC9B,IAAIpE,EAAI1D,EAAE4lC,EACA,IAANliC,GAASuiB,GAAM83B,WAAWj9C,EAAGgmB,EAAGytB,OAAS7wC,EAAI,GACjDojB,EAAGotB,WAAal0C,EAAEqmC,IAAMv+B,GAGtBwoE,GAAa,SAASxvE,EAAGgmB,GAC3BupD,GAAOvvE,EAAGgmB,EAAIA,EAAGs1B,OAAOt1B,EAAGotB,WAAY,IAIrCvlB,GAAgB,SAAS7tB,EAAGi6B,EAAGxd,GACjC,GAAIwd,EAAE2xB,cAAgBnvC,EAAEmvC,aACpB,OAAO6jB,GAAMx1C,EAAGxd,GAAK,EAAI,EACxB,GAAIwd,EAAElQ,cAAgBtN,EAAEsN,aACzB,OAAO2lD,GAASz1C,EAAEwlB,UAAWhjC,EAAEgjC,WAAa,EAAI,EAAI,EACnD,CACD,IAAIryB,EAAM3H,GAAImmD,iBAAiB5rE,EAAGi6B,EAAGxd,EAAGgJ,GAAI8vB,IAAIkC,OAGhD,OAFY,OAARrqB,GACApI,GAAO2zB,gBAAgB34C,EAAGi6B,EAAGxd,GAC1B2Q,EAAM,EAAI,IAInBU,GAAiB,SAAS9tB,EAAGi6B,EAAGxd,GAClC,IAAI2Q,EAEJ,OAAI6M,EAAE2xB,cAAgBnvC,EAAEmvC,aACb+jB,GAAM11C,EAAGxd,GAAK,EAAI,EACpBwd,EAAElQ,cAAgBtN,EAAEsN,aAClB2lD,GAASz1C,EAAEwlB,UAAWhjC,EAAEgjC,YAAc,EAAI,EAAI,GAErDryB,EAAM3H,GAAImmD,iBAAiB5rE,EAAGi6B,EAAGxd,EAAGgJ,GAAI8vB,IAAIoC,OAChC,OAARvqB,EACOA,EAAM,EAAI,GAGzBptB,EAAEgmB,GAAGsF,YAAcjG,GAAOk8C,SAC1Bn0C,EAAM3H,GAAImmD,iBAAiB5rE,EAAGyc,EAAGwd,EAAGxU,GAAI8vB,IAAIkC,OAC5Cz3C,EAAEgmB,GAAGsF,YAAcjG,GAAOk8C,SACd,OAARn0C,GACApI,GAAO2zB,gBAAgB34C,EAAGi6B,EAAGxd,GAC1B2Q,EAAM,EAAI,KAGfQ,GAAgB,SAAS5tB,EAAG44C,EAAIC,GAClC,GAAID,EAAGlvB,UAAYmvB,EAAGnvB,QAClB,OAAIkvB,EAAG5vB,UAAY6vB,EAAG7vB,SAAW4vB,EAAG5vB,UAAYvJ,EACrC,EAGCm5B,EAAG96B,QAAU+6B,EAAG/6B,MAAS,EAAI,EAI7C,IAAIu3B,EAGJ,OAAOuD,EAAGlvB,SACN,KAAKpK,EACD,OAAO,EACX,KAAKC,EACD,OAAOq5B,EAAG96B,OAAS+6B,EAAG/6B,MAAQ,EAAI,EACtC,KAAK0B,EACL,KAAKW,EACL,KAAKD,EACL,KAAKG,EACD,OAAOu4B,EAAG96B,QAAU+6B,EAAG/6B,MAAQ,EAAI,EACvC,KAAKkC,EACL,KAAKC,EACD,OAAO61C,GAAcld,EAAG6G,UAAW5G,EAAG4G,WAAa,EAAI,EAE3D,KAAK5/B,EACL,KAAKF,EACD,GAAIi5B,EAAG96B,QAAU+6B,EAAG/6B,MAAO,OAAO,EAC7B,GAAU,OAAN9d,EAAY,OAAO,EAE5Bq1C,EAAK5vB,GAAIimD,OAAO1rE,EAAG44C,EAAG96B,MAAMoR,UAAWzJ,GAAI8vB,IAAIgC,OACpC,OAAPlC,IACAA,EAAK5vB,GAAIimD,OAAO1rE,EAAG64C,EAAG/6B,MAAMoR,UAAWzJ,GAAI8vB,IAAIgC,QACnD,MACJ,QACI,OAAOqB,EAAG96B,QAAU+6B,EAAG/6B,MAAQ,EAAI,EAG3C,GAAW,OAAPu3B,EACA,OAAO,EAEX,IAAIrkB,EAAK,IAAI5L,GAAQS,OAErB,OADAJ,GAAI2lD,YAAYprE,EAAGq1C,EAAIuD,EAAIC,EAAI7nB,EAAI,GAC5BA,EAAG6D,YAAc,EAAI,GAO1B+6C,GAAW,SAAS3gD,EAAK4gD,GAC3B,IAAIC,GAAU,EACVC,EAASC,GAAe/gD,EAAK4gD,EAAO,EAAI,EAAI,GAChD,IAAe,IAAXE,EAAkB,CAClB,IAAIpnE,EAAI4hB,GAAS0E,GACjB,IAAU,IAANtmB,EACA,OAAO,EAEP,EAAIA,GACJonE,EAAS3pB,GACLypB,EAAO,IAAGC,GAAU,KAExBC,EAAS1pB,GACLwpB,GAAQ,IAAGC,GAAU,IAIjC,MAAO,CACHA,QAASA,EACTC,OAAQA,IAUVC,GAAiB,SAAS/gD,EAAKvpB,GACjC,GAAIupB,EAAIi1B,YAAa,CACjB,IAAIv7C,EAAIsmB,EAAInR,MACR1X,EAAImB,KAAKm4B,MAAM/2B,GAEnB,GAAIA,IAAMvC,EAAG,CACT,GAAa,IAATV,EACA,OAAO,EACFA,EAAO,IACZU,GAAK,GAGb,OAAOkgD,GAAoBlgD,GACxB,GAAI6oB,EAAIgB,cACX,OAAOhB,EAAInR,MACR,GAAImyD,GAAQhhD,GAAM,CACrB,IAAIvS,EAAI,IAAI0I,GAAQS,OACpB,GAAIT,GAAQuP,aAAa1F,EAAI/E,SAAUxN,KAAQuS,EAAIqE,QAAU,EACzD,OAAO08C,GAAetzD,EAAGhX,GAGjC,OAAO,GAGL2kB,GAAY,SAAS/D,GACvB,OAAOA,EAAE2J,cAAgB3J,EAAExI,MAAQkyD,GAAe1pD,EAAG,IAGnDiE,GAAW,SAASjE,GACtB,GAAIA,EAAE0C,UAAYvJ,EACd,OAAO6G,EAAExI,MAEb,GAAImyD,GAAQ3pD,GAAI,CACZ,IAAI5J,EAAI,IAAI0I,GAAQS,OACpB,GAAIT,GAAQuP,aAAarO,EAAE4D,SAAUxN,KAAQ4J,EAAEgN,QAAU,EACrD,OAAO5W,EAAEoB,MAGjB,OAAO,GAQL2xD,GAAQ,SAASx1C,EAAGxd,GACtB,OAAOwd,EAAEnc,MAAQrB,EAAEqB,OAMjB6xD,GAAQ,SAAS11C,EAAGxd,GACtB,OAAOwd,EAAEnc,OAASrB,EAAEqB,OAOlB4xD,GAAW,SAAS5pC,EAAIoqC,GAC1B,IAAIj2C,EAAIooB,GAAiBvc,GACrBrpB,EAAI4lC,GAAiB6tB,GAEzB,OAAIj2C,IAAMxd,EACC,EACFwd,EAAIxd,GACD,EAED,GAMTwU,GAAc,SAASjxB,EAAGmwE,EAAIC,GAChC,IAAI/6B,EACJ,OAAO+6B,EAAG1mD,SACN,KAAK/J,EAAY,CACb,IAAIuqB,EAAIkmC,EAAGtyD,MAEX,GADAu3B,EAAK5vB,GAAIimD,OAAO1rE,EAAGkqC,EAAEhb,UAAWzJ,GAAI8vB,IAAI8B,QAC7B,OAAPhC,EAAa,MAEjB,YADA86B,EAAGhkB,UAAUxmC,GAAO4N,UAAU2W,IAGlC,KAAKlqB,EACL,KAAKC,EAED,YADAkwD,EAAGhkB,UAAUikB,EAAG98C,SAEpB,QACI+hB,EAAK5vB,GAAIw2B,gBAAgBj8C,EAAGowE,EAAI3qD,GAAI8vB,IAAI8B,QACpChC,EAAGlhB,WACHnP,GAAOkzB,eAAel4C,EAAGowE,EAAIjzD,EAAa,iBAAiB,IAKvEsI,GAAI2lD,YAAYprE,EAAGq1C,EAAI+6B,EAAIA,EAAID,EAAI,IAIjCriB,GAAYvmD,KAAK8oE,MAAQ,SAASztE,EAAGoK,GACvC,IACIsjE,EAAU,MAAJ1tE,EAEN2tE,EAAU,MAAJvjE,EAKV,OAASsjE,EAAMC,IARJ3tE,IAAM,GAAM,OAQQ2tE,EAAMD,GAN1BtjE,IAAM,GAAM,QAM4B,KAAQ,GAAK,GAG9DghD,GAAW,SAAShuD,EAAG+O,EAAGpG,GAG5B,OAFU,IAANA,GACAqc,GAAOozB,cAAcp4C,EAAGmd,EAAa,8BAChB,EAAlB5V,KAAKm4B,MAAM3wB,EAAIpG,IAIpBolD,GAAW,SAAS/tD,EAAG+O,EAAGpG,GAG5B,OAFU,IAANA,GACAqc,GAAOozB,cAAcp4C,EAAGmd,EAAa,8BACjCpO,EAAIxH,KAAKm4B,MAAM3wB,EAAIpG,GAAKA,EAAG,GAKjCslD,GAAc,SAAS1rD,EAAGyH,GAC5B,OAAIA,EAAI,EACAA,IAJE,GAIkB,EACZzH,KAAOyH,EAGfA,GARE,GAQiB,EACXzH,GAAKyH,GASnBwmE,GAAY,SAAS38D,EAAG48D,EAAOt9D,EAAOxC,GACxC,IAAIsM,EAAIpJ,EAAEuJ,MACV,GAAU,OAANH,EAAY,CACZ,IAAIwS,EAAK5b,EAAE8V,SACP0R,EAAM5L,EAAGjyB,OACb,IAAK,IAAI0B,EAAI,EAAGA,EAAIm8B,EAAKn8B,IAAK,CAC1B,IAAIwd,EAAI+S,EAAGvwB,GAAGygD,QAAUxsC,EAAMxC,EAAO8e,EAAGvwB,GAAGf,KAAOsyE,EAAMhhD,EAAGvwB,GAAGf,KAC9D,GAAI8e,EAAE4M,OAAO3qB,KAAOwd,EAChB,OAAO,MAGnB,OAAOO,GAOLyzD,GAAc,SAAS1wE,EAAG6T,EAAG48D,EAAO9/D,EAAMw/D,GAC5C,IAAI90C,EAAMxnB,EAAE8V,SAASnsB,OACjBiyB,EAAK5b,EAAE8V,SACPgnD,EAAM,IAAIvrD,GAAQs7B,SAAS1gD,EAAGq7B,GAClCs1C,EAAI98D,EAAIA,EACR7T,EAAEmT,MAAMg9D,GAAIxjB,YAAYgkB,GACxB,IAAK,IAAIzxE,EAAI,EAAGA,EAAIm8B,EAAKn8B,IACjBuwB,EAAGvwB,GAAGygD,QACNgxB,EAAI9mD,OAAO3qB,GAAKimB,GAAMo7B,eAAevgD,EAAG2Q,EAAO8e,EAAGvwB,GAAGf,KAErDwyE,EAAI9mD,OAAO3qB,GAAKuxE,EAAMhhD,EAAGvwB,GAAGf,KAEpC0V,EAAEuJ,MAAQuzD,GAGR3mD,GAAU,SAAS1D,GACrB,OAAOA,EAAEslC,cAGPqkB,GAAU,SAAS3pD,GACrB,OAAOA,EAAEyD,cAGP6mD,GAAW,SAAS5wE,EAAGd,GACzB,IAAIonB,EAAItmB,EAAEmT,MAAMjU,GAEhB,QAAIonB,EAAEyD,gBAEFC,GAAQ1D,KACRlB,GAAQ6E,cAAcjqB,EAAGsmB,IAClB,IAMTuqD,GAAa,SAASvqD,GACxB,OAAOA,EAAEyD,cAA8B,IAAdzD,EAAEgN,SAIzBw9C,GAAY,SAAS9wE,EAAGsH,EAAKqB,EAAG6xB,GAClC,IAAIu2C,EAAK,EACT,EAAG,CACC,IAAI//C,EAAKhxB,EAAEmT,MAAM7L,EAAIqB,GACjBsxB,EAAIjJ,EAAGsC,QACP1e,EAAIoc,EAAG9G,SACXsQ,EAAK5E,IAAIhhB,EAAGm8D,GACZA,GAAM92C,UACCtxB,EAAI,IAObqlB,GAAc,SAAShuB,EAAGgxE,GAC5BtvC,GAAWsvC,GAAS,GACpB,EAAG,CACC,IAAI1pE,EAAMtH,EAAEsH,IACRqB,EAAI,EAER,IAAM3I,EAAEmT,MAAM7L,EAAI,GAAGyiB,cAAgBC,GAAQhqB,EAAEmT,MAAM7L,EAAI,MAASspE,GAAS5wE,EAAGsH,EAAM,GAE7E,GAAIupE,GAAW7wE,EAAEmT,MAAM7L,EAAI,IAC9BspE,GAAS5wE,EAAGsH,EAAM,QACf,GAAIupE,GAAW7wE,EAAEmT,MAAM7L,EAAI,IAC9B8d,GAAQqC,UAAUznB,EAAGsH,EAAM,EAAGA,EAAM,OACjC,CAEH,IAAIypE,EAAK/wE,EAAEmT,MAAM7L,EAAI,GAAGgsB,QAExB,IAAK3qB,EAAI,EAAGA,EAAIqoE,GAASJ,GAAS5wE,EAAGsH,EAAMqB,EAAI,GAAIA,IAE/CooE,GADQ/wE,EAAEmT,MAAM7L,EAAMqB,EAAI,GAAG2qB,QAGjC,IAAIkH,EAAO,IAAIje,WAAWw0D,GAC1BD,GAAU9wE,EAAGsH,EAAKqB,EAAG6xB,GACrB,IAAIjI,EAAKjN,GAAWtlB,EAAGw6B,GACvBpV,GAAQk1B,YAAYt6C,EAAGsH,EAAMqB,EAAG4pB,QAhBhC9M,GAAI6oC,cAActuD,EAAGA,EAAEmT,MAAM7L,EAAI,GAAItH,EAAEmT,MAAM7L,EAAI,GAAItH,EAAEmT,MAAM7L,EAAI,GAAIme,GAAI8vB,IAAI+B,WAoBjF,IAFA05B,GAASroE,EAAI,EAEN3I,EAAEsH,IAAMA,GAAKqB,EAAE,WACX3I,EAAEmT,QAAQnT,EAAEsH,WAClB0pE,EAAQ,IAKfjoD,GAAgB,SAAS/oB,EAAGP,EAAGwqC,EAAKkmC,GACtC,IAAK,IAAIj1C,EAAO,EAAGA,EAHJ,IAGuBA,IAAQ,CAC1C,IAAIma,EAEJ,GAAK51C,EAAEypB,YAKA,CACH,IAAI+nD,EAAOtrD,GAAOwN,SAASnzB,EAAGP,EAAEqe,MAAOmsB,GACvC,IAAKgnC,EAAK98C,UAEN,YADA/O,GAAQsC,SAAS1nB,EAAGmwE,EAAIc,GAIxB,GADA57B,EAAK5vB,GAAIimD,OAAO1rE,EAAGP,EAAEqe,MAAMoR,UAAWzJ,GAAI8vB,IAAIC,UACnC,OAAPH,EAEA,YADAr1C,EAAEmT,MAAMg9D,GAAIv0B,mBAZpBvG,EAAK5vB,GAAIw2B,gBAAgBj8C,EAAGP,EAAGgmB,GAAI8vB,IAAIC,UACnCH,EAAGlhB,WACHnP,GAAOkzB,eAAel4C,EAAGP,EAAG0d,EAAa,SAAS,IAgB1D,GAAIk4B,EAAGoE,eAEH,YADAh0B,GAAI2lD,YAAYprE,EAAGq1C,EAAI51C,EAAGwqC,EAAKjqC,EAAEmT,MAAMg9D,GAAK,GAGhD1wE,EAAI41C,EAGRrwB,GAAOozB,cAAcp4C,EAAGmd,EAAa,2CAA2C,KAG9EwL,GAAW,SAAS3oB,EAAGP,EAAGwqC,EAAKp8B,GACjC,IAAK,IAAIqtB,EAAO,EAAGA,EApCJ,IAoCuBA,IAAQ,CAC1C,IAAIma,EACJ,GAAI51C,EAAEypB,YAAa,CACf,IAAIghB,EAAIzqC,EAAEqe,MAEV,IADW6H,GAAOwN,SAASnzB,EAAGkqC,EAAGD,GACvB9V,WAAwE,QAA1DkhB,EAAK5vB,GAAIimD,OAAO1rE,EAAGkqC,EAAEhb,UAAWzJ,GAAI8vB,IAAIE,cAG5D,OAFA9vB,GAAO8N,aAAazzB,EAAGkqC,EAAGD,EAAKp8B,QAC/B8X,GAAO+N,kBAAkBwW,QAKxBmL,EAAK5vB,GAAIw2B,gBAAgBj8C,EAAGP,EAAGgmB,GAAI8vB,IAAIE,cAActhB,WACtDnP,GAAOkzB,eAAel4C,EAAGP,EAAG0d,EAAa,SAAS,IAG1D,GAAIk4B,EAAGoE,eAEH,YADAh0B,GAAI2lD,YAAYprE,EAAGq1C,EAAI51C,EAAGwqC,EAAKp8B,EAAK,GAGxCpO,EAAI41C,EAGRrwB,GAAOozB,cAAcp4C,EAAGmd,EAAa,8CAA8C,KAIvFO,EAAOC,QAAQqM,QAAmBA,GAClCtM,EAAOC,QAAQsyD,QAAmBA,GAClCvyD,EAAOC,QAAQoL,cAAmBA,GAClCrL,EAAOC,QAAQqQ,YAAmBA,GAClCtQ,EAAOC,QAAQqwC,SAAmBA,GAClCtwC,EAAOC,QAAQiQ,cAAmBA,GAClClQ,EAAOC,QAAQ2+B,aAx8BM,SAASt8C,GAC1B,IAAIgmB,EAAKhmB,EAAEgmB,GAEXA,EAAGsF,YAAcjG,GAAOi8C,WACxB4P,EACA,OAAS,CACLxvC,GAAW1b,IAAOhmB,EAAEgmB,IACpB,IAAImC,EAAKnC,EAAGY,KAAK9I,MACb2K,EAAIN,EAAGtU,EAAE4U,EACT9X,EAAOqV,EAAGytB,OAEVv0C,EAAI8mB,EAAGs1B,OAAOt1B,EAAGotB,aAEjBpzC,EAAEg5C,UAAYh4B,EAAeD,IAC7BiE,GAAO+zB,eAAe/4C,GAG1B,IAAImwE,EAAKhB,GAAGnvE,EAAG2Q,EAAMzR,GAGrB,OAFaA,EAAEylC,QAGX,KAAKmH,EACD1mB,GAAQqC,UAAUznB,EAAGmwE,EAAIf,GAAGpvE,EAAG2Q,EAAMzR,IACrC,MAEJ,KAAK8pC,EAAU,CACX,IAAImoC,EAAQ1oD,EAAEvpB,EAAEi2C,IAChB/vB,GAAQsC,SAAS1nB,EAAGmwE,EAAIgB,GACxB,MAEJ,KAAKloC,EAAW,CACZvH,GAAW1b,EAAGs1B,OAAOt1B,EAAGotB,WAAWzO,SAAWmE,GAC9C,IAAIqoC,EAAQ1oD,EAAEzC,EAAGs1B,OAAOt1B,EAAGotB,aAAagC,IACxChwB,GAAQsC,SAAS1nB,EAAGmwE,EAAIgB,GACxB,MAEJ,KAAK3lC,EACDxrC,EAAEmT,MAAMg9D,GAAI5jB,UAAkB,IAARrtD,EAAEy6B,GAEZ,IAARz6B,EAAEsnC,GACFxgB,EAAGotB,YAEP,MAEJ,KAAKxO,EACD,IAAK,IAAIpxB,EAAI,EAAGA,GAAKtU,EAAEy6B,EAAGnmB,IACtBxT,EAAEmT,MAAMg9D,EAAK38D,GAAGooC,cACpB,MAEJ,KAAK5Q,EAAa,CACd,IAAIh+B,EAAI9N,EAAEy6B,EACVvU,GAAQsC,SAAS1nB,EAAGmwE,EAAIhoD,EAAG0B,OAAO7c,IAClC,MAEJ,KAAKq+B,EAAa,CACd,IAAI+qB,EAAQjuC,EAAG0B,OAAO3qB,EAAEy6B,GACpBy3C,EAAK9B,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GACzB6pB,GAAc/oB,EAAGo2D,EAAOgb,EAAIjB,GAC5B,MAEJ,KAAK/kC,EAAa,CACd,IAAIglC,EAAKpwE,EAAEmT,MAAMi8D,GAAGpvE,EAAG2Q,EAAMzR,IACzBkyE,EAAK9B,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GACzB6pB,GAAc/oB,EAAGowE,EAAIgB,EAAIjB,GACzB,MAEJ,KAAKlgC,GAAa,CACd,IAAImmB,EAAQjuC,EAAG0B,OAAO3qB,EAAE4lC,GACpBsrC,EAAKf,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACrBkyE,EAAK9B,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GACzBypB,GAAS3oB,EAAGo2D,EAAOga,EAAIgB,GACvB,MAEJ,KAAKrhC,GACQ5nB,EAAG0B,OAAO3qB,EAAEy6B,GAClB3R,QAAQhoB,EAAEmT,MAAMg9D,IACnB,MAEJ,KAAKngC,GAAa,CACd,IAAIi6B,EAAQjqE,EAAEmT,MAAMg9D,GAChBlmC,EAAMolC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBwd,EAAI4yD,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAExBypB,GAAS3oB,EAAGiqE,EAAOhgC,EAAKvtB,GACxB,MAEJ,KAAKu0C,EACDjxD,EAAEmT,MAAMg9D,GAAIvjB,UAAUjnC,GAAO4D,SAASvpB,IACtC,MAEJ,KAAKqvC,EAAS,CACV,IAAI+gC,EAAKhB,GAAGpvE,EAAG2Q,EAAMzR,GACjBkyE,EAAK9B,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GACzBkmB,GAAQqC,UAAUznB,EAAGmwE,EAAK,EAAGC,GAC7BrnD,GAAc/oB,EAAGA,EAAEmT,MAAMi9D,GAAKgB,EAAIjB,GAClC,MAEJ,KAAK9hC,EAAQ,CACT,IAEIgjC,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAGtBqyE,EAAIthD,eAAiBuhD,EAAIvhD,cACzBjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAWolB,EAAIzzD,MAAQ0zD,EAAI1zD,MAAO,IACP,KAA/BuzD,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IACtExxE,EAAEmT,MAAMg9D,GAAIlkB,YAAYolB,EAAYC,GAEpC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIG,QAExD,MAEJ,KAAKC,GAAQ,CACT,IAEI07B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAGtBqyE,EAAIthD,eAAiBuhD,EAAIvhD,cACzBjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAWolB,EAAIzzD,MAAQ0zD,EAAI1zD,MAAO,IACP,KAA/BuzD,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IACtExxE,EAAEmT,MAAMg9D,GAAIlkB,YAAYolB,EAAYC,GAEpC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIK,QAExD,MAEJ,KAAKC,EAAQ,CACT,IAEIw7B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAGtBqyE,EAAIthD,eAAiBuhD,EAAIvhD,cACzBjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAU2B,GAAUyjB,EAAIzzD,MAAO0zD,EAAI1zD,SACR,KAA/BuzD,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IACtExxE,EAAEmT,MAAMg9D,GAAIlkB,YAAYolB,EAAYC,GAEpC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIO,QAExD,MAEJ,KAAKC,EAAQ,CACT,IAEIs7B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAGtBqyE,EAAIthD,eAAiBuhD,EAAIvhD,cACzBjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAU4B,GAAS/tD,EAAGuxE,EAAIzzD,MAAO0zD,EAAI1zD,SACV,KAA/BuzD,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IACtExxE,EAAEmT,MAAMg9D,GAAIlkB,YAAY/F,GAAYlmD,EAAGqxE,EAAWC,IAElD7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIS,QAExD,MAEJ,KAAKC,EAAQ,CACT,IAEIo7B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGU,KAA/BmyE,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IAC/DxxE,EAAEmT,MAAMg9D,GAAIlkB,YAAY1kD,KAAK4mD,IAAIkjB,EAAWC,IAE5C7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIW,QAExD,MAEJ,KAAKC,EAAQ,CACT,IAEIk7B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGU,KAA/BmyE,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IAC/DxxE,EAAEmT,MAAMg9D,GAAIlkB,YAAYolB,EAAYC,GAEpC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIa,QAExD,MAEJ,KAAKC,EAAS,CACV,IAEIg7B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,GAGtBqyE,EAAIthD,eAAiBuhD,EAAIvhD,cACzBjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAU6B,GAAShuD,EAAGuxE,EAAIzzD,MAAO0zD,EAAI1zD,SACV,KAA/BuzD,EAAY9mD,GAASgnD,MAAmD,KAA/BD,EAAY/mD,GAASinD,IACtExxE,EAAEmT,MAAMg9D,GAAIlkB,YAAY1kD,KAAKm4B,MAAM2xC,EAAYC,IAE/C7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIe,SAExD,MAEJ,KAAKC,EAAS,CACV,IAEI86B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGW,KAAhCmyE,EAAYhnD,GAAUknD,MAAoD,KAAhCD,EAAYjnD,GAAUmnD,IACjExxE,EAAEmT,MAAMg9D,GAAIhkB,UAAUklB,EAAYC,GAElC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIiB,SAExD,MAEJ,KAAKC,EAAQ,CACT,IAEI46B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGW,KAAhCmyE,EAAYhnD,GAAUknD,MAAoD,KAAhCD,EAAYjnD,GAAUmnD,IACjExxE,EAAEmT,MAAMg9D,GAAIhkB,UAAUklB,EAAYC,GAElC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAImB,QAExD,MAEJ,KAAKC,EAAS,CACV,IAEI06B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGW,KAAhCmyE,EAAYhnD,GAAUknD,MAAoD,KAAhCD,EAAYjnD,GAAUmnD,IACjExxE,EAAEmT,MAAMg9D,GAAIhkB,UAAUklB,EAAYC,GAElC7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIqB,SAExD,MAEJ,KAAKC,GAAQ,CACT,IAEIw6B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGW,KAAhCmyE,EAAYhnD,GAAUknD,MAAoD,KAAhCD,EAAYjnD,GAAUmnD,IACjExxE,EAAEmT,MAAMg9D,GAAIhkB,UAAU8B,GAAYojB,EAAWC,IAE7C7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIuB,QAExD,MAEJ,KAAKC,GAAQ,CACT,IAEIs6B,EAAWC,EAFXC,EAAMlC,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GACtBsyE,EAAMlC,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,IAGW,KAAhCmyE,EAAYhnD,GAAUknD,MAAoD,KAAhCD,EAAYjnD,GAAUmnD,IACjExxE,EAAEmT,MAAMg9D,GAAIhkB,UAAU8B,GAAYojB,GAAYC,IAE9C7rD,GAAI6oC,cAActuD,EAAGuxE,EAAKC,EAAKxxE,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAIyB,QAExD,MAEJ,KAAKnI,GAAQ,CACT,IACI4iC,EADA/kD,EAAK1sB,EAAEmT,MAAMi8D,GAAGpvE,EAAG2Q,EAAMzR,IAGzBwtB,EAAGuD,cACHjwB,EAAEmT,MAAMg9D,GAAIhkB,UAAsB,GAAVz/B,EAAG5O,QACU,KAA7B2zD,EAAWlnD,GAASmC,IAC5B1sB,EAAEmT,MAAMg9D,GAAIlkB,aAAawlB,GAEzBhsD,GAAI6oC,cAActuD,EAAG0sB,EAAIA,EAAI1sB,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAI0B,QAEtD,MAEJ,KAAKC,EAAS,CACV,IAAIxqB,EAAK1sB,EAAEmT,MAAMi8D,GAAGpvE,EAAG2Q,EAAMzR,IAEzBwtB,EAAGuD,cACHjwB,EAAEmT,MAAMg9D,GAAIhkB,WAAWz/B,EAAG5O,OAE1B2H,GAAI6oC,cAActuD,EAAG0sB,EAAIA,EAAI1sB,EAAEmT,MAAMg9D,GAAK1qD,GAAI8vB,IAAI4B,SAEtD,MAEJ,KAAKlK,EAAQ,CACT,IAAIvgB,EAAK1sB,EAAEmT,MAAMi8D,GAAGpvE,EAAG2Q,EAAMzR,IAC7Bc,EAAEmT,MAAMg9D,GAAI5jB,UAAU7/B,EAAGmI,aACzB,MAEJ,KAAKuiB,EACDnmB,GAAYjxB,EAAGA,EAAEmT,MAAMg9D,GAAKnwE,EAAEmT,MAAMi8D,GAAGpvE,EAAG2Q,EAAMzR,KAChD,MAEJ,KAAKkvC,EAAW,CACZ,IAAIphC,EAAI9N,EAAEy6B,EACN1c,EAAI/d,EAAEsnC,EACVxmC,EAAEsH,IAAMqJ,EAAOsM,EAAI,EACnB+Q,GAAYhuB,EAAGid,EAAIjQ,EAAI,GACvB,IAAIojE,EAAKz/D,EAAO3D,EAChBoY,GAAQqC,UAAUznB,EAAGmwE,EAAIC,GACzBnrD,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KACrB,MAEJ,KAAKg/B,EACDipC,GAAOvvE,EAAGgmB,EAAI9mB,EAAG,GACjB,MAEJ,KAAKqvC,EACG3gB,GAAc5tB,EAAGqvE,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GAAIowE,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,MAAQA,EAAE4lC,EAC/D9e,EAAGotB,YAEHo8B,GAAWxvE,EAAGgmB,GAClB,MAEJ,KAAKwxB,EACG3pB,GAAc7tB,EAAGqvE,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GAAIowE,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,MAAQA,EAAE4lC,EAC/D9e,EAAGotB,YAEHo8B,GAAWxvE,EAAGgmB,GAClB,MAEJ,KAAK0xB,EACG5pB,GAAe9tB,EAAGqvE,GAAIrvE,EAAG2Q,EAAM8X,EAAGvpB,GAAIowE,GAAItvE,EAAG2Q,EAAM8X,EAAGvpB,MAAQA,EAAE4lC,EAChE9e,EAAGotB,YAEHo8B,GAAWxvE,EAAGgmB,GAClB,MAEJ,KAAKkhB,IACGhoC,EAAEsnC,EAAIxmC,EAAEmT,MAAMg9D,GAAIt7C,aAAe70B,EAAEmT,MAAMg9D,GAAIt7C,aAC7C7O,EAAGotB,YAEHo8B,GAAWxvE,EAAGgmB,GAClB,MAEJ,KAAK+gB,GAAY,CACb,IAAI2qC,EAAQtC,GAAGpvE,EAAG2Q,EAAMzR,GACpBkxE,EAAKpwE,EAAEmT,MAAMu+D,IACbxyE,EAAEsnC,EAAI4pC,EAAGv7C,aAAeu7C,EAAGv7C,aAC3B7O,EAAGotB,aAEHhuB,GAAQqC,UAAUznB,EAAGmwE,EAAIuB,GACzBlC,GAAWxvE,EAAGgmB,IAElB,MAEJ,KAAK6uB,EAAS,CACV,IAAI7nC,EAAI9N,EAAEy6B,EACN9O,EAAW3rB,EAAEsnC,EAAI,EAErB,GADU,IAANx5B,GAASiY,GAAImC,WAAWpnB,EAAGmwE,EAAGnjE,IAC9BiY,GAAIg2B,aAAaj7C,EAAGmwE,EAAItlD,GAGrB,CACH7E,EAAKhmB,EAAEgmB,GACP,SAASkrD,EAJLrmD,GAAY,GACZ5F,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KAM7B,MAEJ,KAAKwtC,GAAa,CACd,IAAI9nC,EAAI9N,EAAEy6B,EAEV,GADU,IAAN3sB,GAASiY,GAAImC,WAAWpnB,EAAGmwE,EAAGnjE,IAC9BiY,GAAIg2B,aAAaj7C,EAAGmwE,EAAIhvD,GACrB,CAEH,IAAIwwD,EAAM3xE,EAAEgmB,GACR4rD,EAAMD,EAAIntC,SACVqtC,EAAQF,EAAI/qD,KACZkrD,EAAWH,EAAIzrD,QACf6rD,EAAWH,EAAI1rD,QACf20B,EAAM82B,EAAIl+B,OAASo+B,EAAM/zD,MAAMjK,EAAE2/B,UACjCrrB,EAAGtU,EAAEA,EAAErW,OAAS,GAAG2nB,GAAM83B,WAAWj9C,EAAG4xE,EAAIn+B,QAC/C,IAAK,IAAInf,EAAM,EAAGw9C,EAAWx9C,EAAMumB,EAAKvmB,IACpClP,GAAQqC,UAAUznB,EAAG+xE,EAAWz9C,EAAKw9C,EAAWx9C,GACpDs9C,EAAIn+B,OAASs+B,GAAYJ,EAAIl+B,OAASq+B,GACtCF,EAAItqE,IAAMyqE,GAAY/xE,EAAEsH,IAAMwqE,GAC9B7sD,GAAImC,WAAWpnB,EAAG4xE,EAAItqE,KACtBsqE,EAAIt2B,OAASq2B,EAAIr2B,OACjBs2B,EAAIx+B,UAAYu+B,EAAIv+B,UACpBw+B,EAAItmD,YAAcjG,GAAO4uB,UACzB29B,EAAI5rE,KAAO,KACXggB,EAAKhmB,EAAEgmB,GAAK4rD,EAEZlwC,GAAW1hC,EAAEsH,MAAQsqE,EAAIn+B,OAASzzC,EAAEmT,MAAM4+D,GAAUj0D,MAAMjK,EAAEw1B,cAE5D,SAAS6nC,EAEb,MAEJ,KAAKhiC,EAAW,CACR/mB,EAAGtU,EAAEA,EAAErW,OAAS,GAAG2nB,GAAM83B,WAAWj9C,EAAG2Q,GAC3C,IAAI3D,EAAIiY,GAAIk2B,aAAan7C,EAAGgmB,EAAImqD,EAAa,IAARjxE,EAAEy6B,EAAUz6B,EAAEy6B,EAAI,EAAI35B,EAAEsH,IAAM6oE,GAEnE,GAAInqD,EAAGsF,WAAajG,GAAOi8C,WACvB,OAEJt7C,EAAKhmB,EAAEgmB,GACHhZ,GAAGiY,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KAC5Bo6B,GAAW1b,EAAGsF,WAAajG,GAAOkG,UAClCmW,GAAW1b,EAAGs1B,OAAOt1B,EAAGotB,UAAY,GAAGzO,SAAWkQ,GAClD,SAASq8B,EAEb,KAAKhgB,EACD,GAAIlxD,EAAEmT,MAAMg9D,GAAIlgD,cAAe,CAC3B,IAAI4/C,EAAO7vE,EAAEmT,MAAMg9D,EAAK,GAAGryD,MACvB3f,EAAO6B,EAAEmT,MAAMg9D,GAAIryD,MAAQ+xD,EAAM,EACjC1Y,EAAQn3D,EAAEmT,MAAMg9D,EAAK,GAAGryD,OAExB,EAAI+xD,EAAO1xE,GAAOg5D,EAAQA,GAASh5D,KACnC6nB,EAAGotB,WAAal0C,EAAEqmC,IAClBvlC,EAAEmT,MAAMg9D,GAAI/jB,UAAUjuD,GACtB6B,EAAEmT,MAAMg9D,EAAK,GAAGhkB,UAAUhuD,QAE3B,CACH,IAAI0xE,EAAO7vE,EAAEmT,MAAMg9D,EAAK,GAAGryD,MACvB3f,EAAM6B,EAAEmT,MAAMg9D,GAAIryD,MAAQ+xD,EAC1B1Y,EAAQn3D,EAAEmT,MAAMg9D,EAAK,GAAGryD,OAExB,EAAI+xD,EAAO1xE,GAAOg5D,EAAQA,GAASh5D,KACnC6nB,EAAGotB,WAAal0C,EAAEqmC,IAClBvlC,EAAEmT,MAAMg9D,GAAIjkB,YAAY/tD,GACxB6B,EAAEmT,MAAMg9D,EAAK,GAAGlkB,YAAY9tD,IAGpC,MAEJ,KAAKgzD,EAAY,CACb,IAGI6gB,EAHAlnB,EAAO9qD,EAAEmT,MAAMg9D,GACf8B,EAASjyE,EAAEmT,MAAMg9D,EAAK,GACtB+B,EAAQlyE,EAAEmT,MAAMg9D,EAAK,GAGzB,GAAIrlB,EAAK76B,eAAiBiiD,EAAMjiD,gBAAkB+hD,EAASpC,GAASqC,EAAQC,EAAMp0D,QAAS,CAEvF,IAAIq0D,EAAQH,EAAOlC,QAAU,EAAIhlB,EAAKhtC,MACtCm0D,EAAOn0D,MAAQk0D,EAAOjC,OACtBjlB,EAAKhtC,MAASq0D,EAAQD,EAAMp0D,MAAO,MAChC,CACH,IAAIs0D,EAAQC,EAAOC,GACiB,KAA/BF,EAAS7nD,GAAS0nD,KACnBjtD,GAAOozB,cAAcp4C,EAAGmd,EAAa,gCAAgC,IACzEnd,EAAEmT,MAAMg9D,EAAK,GAAGlkB,YAAYmmB,IACM,KAA7BC,EAAQ9nD,GAAS2nD,KAClBltD,GAAOozB,cAAcp4C,EAAGmd,EAAa,+BAA+B,IACxEnd,EAAEmT,MAAMg9D,EAAK,GAAGlkB,YAAYomB,IACK,KAA5BC,EAAQ/nD,GAASugC,KAClB9lC,GAAOozB,cAAcp4C,EAAGmd,EAAa,wCAAwC,IACjFnd,EAAEmT,MAAMg9D,GAAIlkB,YAAYqmB,EAAQD,GAGpCrsD,EAAGotB,WAAal0C,EAAEqmC,IAClB,MAEJ,KAAKqP,GAAa,CACd,IAAI29B,EAAKpC,EAAK,EACd/qD,GAAQqC,UAAUznB,EAAGuyE,EAAG,EAAGpC,EAAG,GAC9B/qD,GAAQqC,UAAUznB,EAAGuyE,EAAG,EAAGpC,EAAG,GAC9B/qD,GAAQqC,UAAUznB,EAAGuyE,EAAIpC,GACzBlrD,GAAImC,WAAWpnB,EAAGuyE,EAAG,GACrBttD,GAAI2G,UAAU5rB,EAAGuyE,EAAIrzE,EAAEsnC,GACvBvhB,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KAErBpI,EAAI8mB,EAAGs1B,OAAOt1B,EAAGotB,aACjB+8B,EAAKhB,GAAGnvE,EAAG2Q,EAAMzR,GACjBwiC,GAAWxiC,EAAEylC,SAAWysB,IAG5B,KAAKA,GACIpxD,EAAEmT,MAAMg9D,EAAK,GAAGh8C,YACjB/O,GAAQqC,UAAUznB,EAAGmwE,EAAIA,EAAK,GAC9BnqD,EAAGotB,WAAal0C,EAAEqmC,KAEtB,MAEJ,KAAKmK,GAAY,CACb,IAAI/mC,EAAIzJ,EAAEy6B,EACN1c,EAAI/d,EAAEsnC,EAEA,IAAN79B,IAASA,EAAI3I,EAAEsH,IAAM6oE,EAAK,GAEpB,IAANlzD,IACAykB,GAAW1b,EAAGs1B,OAAOt1B,EAAGotB,WAAWzO,SAAWmE,GAC9C7rB,EAAI+I,EAAGs1B,OAAOt1B,EAAGotB,aAAagC,IAGlC,IAAIlL,EAAIlqC,EAAEmT,MAAMg9D,GAAIryD,MAChByhB,GAAStiB,EAAI,GAAKwyB,EAAqB9mC,EAE3C,KAAOA,EAAI,EAAGA,IACVgd,GAAOiO,YAAYsW,EAAG3K,IAAQv/B,EAAEmT,MAAMg9D,EAAKxnE,IAE/Csc,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KACrB,MAEJ,KAAK+pD,EAAY,CACb,IAAIx9C,EAAIsU,EAAGtU,EAAEA,EAAE3U,EAAEi2C,IACbw7B,EAAMH,GAAU38D,EAAGsU,EAAG0B,OAAQ7pB,EAAEmT,MAAOxC,GAC/B,OAARggE,EACAD,GAAY1wE,EAAG6T,EAAGsU,EAAG0B,OAAQlZ,EAAMw/D,GAEnCnwE,EAAEmT,MAAMg9D,GAAIxjB,YAAYgkB,GAC5B,MAEJ,KAAKrf,GAAW,CACZ,IAEI99C,EAFAxG,EAAI9N,EAAEy6B,EAAI,EACVhxB,EAAIgI,EAAOqV,EAAGE,QAAUiC,EAAGtU,EAAE2/B,UAAY,EAY7C,IATI7qC,EAAI,IACJA,EAAI,GAEJqE,EAAI,IACJA,EAAIrE,EACJsc,GAAIy1B,gBAAgB16C,EAAG2I,GACvBsc,GAAImC,WAAWpnB,EAAGmwE,EAAKxnE,IAGtB6K,EAAI,EAAGA,EAAIxG,GAAKwG,EAAI7K,EAAG6K,IACxB4R,GAAQqC,UAAUznB,EAAGmwE,EAAK38D,EAAG7C,EAAOhI,EAAI6K,GAE5C,KAAOA,EAAIxG,EAAGwG,IACVxT,EAAEmT,MAAMg9D,EAAK38D,GAAGooC,cACpB,MAEJ,KAAK9S,EACD,MAAM/sC,MAAM,qBAqc5B2hB,EAAOC,QAAQm/B,cArhCO,SAAS98C,GAC3B,IAAIgmB,EAAKhmB,EAAEgmB,GACPrV,EAAOqV,EAAGytB,OACV++B,EAAOxsD,EAAGs1B,OAAOt1B,EAAGotB,UAAY,GAChC1mB,EAAK8lD,EAAK7tC,OAEd,OAAQjY,GACJ,KAAK2hB,EAAQ,KAAKsH,GAAQ,KAAKE,EAAQ,KAAKM,EAAQ,KAAKE,EACzD,KAAKE,EAAS,KAAKE,EAAQ,KAAKE,EAAS,KAAKE,GAAQ,KAAKE,GAC3D,KAAKhB,EAAQ,KAAKE,EAClB,KAAKpH,GAAQ,KAAKqI,EAAS,KAAKE,EAChC,KAAK/L,EAAa,KAAKD,EAAa,KAAKiE,EACrCjqB,GAAQqC,UAAUznB,EAAG2Q,EAAO6hE,EAAK1tC,EAAG9kC,EAAEsH,IAAI,UACnCtH,EAAEmT,QAAQnT,EAAEsH,KACnB,MAEJ,KAAKowC,EAAO,KAAKF,EAAO,KAAKjJ,EAAO,CAChC,IAAInhB,GAAOptB,EAAEmT,MAAMnT,EAAEsH,IAAM,GAAGutB,mBACvB70B,EAAEmT,QAAQnT,EAAEsH,KACf0e,EAAGsF,WAAajG,GAAOk8C,WACvB7/B,GAAWhV,IAAOgrB,GAClB1xB,EAAGsF,YAAcjG,GAAOk8C,SACxBn0C,GAAOA,GAEXsU,GAAW1b,EAAGs1B,OAAOt1B,EAAGotB,WAAWzO,SAAW2B,GAC1ClZ,MAASolD,EAAK1tC,GACd9e,EAAGotB,YACP,MAEJ,KAAKhF,EAAW,CACZ,IAAI9mC,EAAMtH,EAAEsH,IAAM,EAEd0pE,EAAQ1pE,EAAM,GAAKqJ,EADf6hE,EAAK74C,GAEbvU,GAAQqC,UAAUznB,EAAGsH,EAAM,EAAGA,GAC1B0pE,EAAQ,IACRhxE,EAAEsH,IAAMA,EAAM,EACd0mB,GAAYhuB,EAAGgxE,IAGnB5rD,GAAQqC,UAAUznB,EAAGgmB,EAAGytB,OAAS++B,EAAK1tC,EAAG9kC,EAAEsH,IAAM,GACjD2d,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KACrB,MAEJ,KAAKstC,GACDlT,GAAW1b,EAAGs1B,OAAOt1B,EAAGotB,WAAWzO,SAAWysB,IAC9CnsC,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,KACrB,MAEJ,KAAKutC,EACG29B,EAAKhsC,EAAI,GAAK,GACdvhB,GAAImC,WAAWpnB,EAAGgmB,EAAG1e,OAo+BrCoW,EAAOC,QAAQmwC,UAAmBA,GAClCpwC,EAAOC,QAAQmQ,eAAmBA,GAClCpQ,EAAOC,QAAQkQ,cAAmBA,GAClCnQ,EAAOC,QAAQowC,SAAmBA,GAClCrwC,EAAOC,QAAQsT,YAAmBA,GAClCvT,EAAOC,QAAQ80D,iBAxWU,SAAS75B,EAAIC,GAClC,OAAOjrB,GAAc,KAAMgrB,EAAIC,IAwWnCn7B,EAAOC,QAAQswC,YAAmBA,GAClCvwC,EAAOC,QAAQqyD,eAAmBA,GAClCtyD,EAAOC,QAAQgL,SAAmBA,GAClCjL,EAAOC,QAAQ0M,UAAmBA,GAClC3M,EAAOC,QAAQ4M,SAAmBA,gCCloClC,MAAM,WAAEmX,GAAe,EAAQ,MA8CzBgxC,EAAY,SAASrhD,GACvB,IAAImJ,EAAOnJ,EAAEF,OAAOE,EAAErxB,EAAGqxB,EAAElf,MAC3B,GAAa,OAATqoB,EACA,OALI,EAMRkH,EAAWlH,aAAgBje,WAAY,6CACvC,IAAImV,EAAO8I,EAAKh9B,OAChB,OAAa,IAATk0B,GARI,GAURL,EAAE6D,OAASsF,EACXnJ,EAAEjqB,IAAM,EACRiqB,EAAE1oB,EAAI+oB,EAAO,EACNL,EAAE6D,OAAO7D,EAAEjqB,SA4BtBsW,EAAOC,QAAQ2kC,KAzCH,EA0CZ5kC,EAAOC,QAAQ4kC,YA7EK,SAAS/nB,GACzB,OAAOA,EAAKtF,OAAOzC,SAAS,EAAG+H,EAAK7xB,IA6ExC+U,EAAOC,QAAQ6kC,gBA1ES,SAAShoB,EAAMt7B,GACnCs7B,EAAK7xB,GAAKzJ,GA0Edwe,EAAOC,QAAQ+0D,UAAoBA,EACnCh1D,EAAOC,QAAQ8uD,UA3BG,SAASp7C,EAAGrkB,EAAG2lE,EAAUhqE,GACvC,KAAOA,GAAG,CACN,GAAY,IAAR0oB,EAAE1oB,EAAS,CACX,IArBA,IAqBI+pE,EAAUrhD,GACV,OAAO1oB,EAEP0oB,EAAE1oB,IACF0oB,EAAEjqB,MAGV,IAAI2H,EAAKpG,GAAK0oB,EAAE1oB,EAAKA,EAAI0oB,EAAE1oB,EAC3B,IAAK,IAAIzJ,EAAE,EAAGA,EAAE6P,EAAG7P,IACf8N,EAAE2lE,KAActhD,EAAE6D,OAAO7D,EAAEjqB,OAE/BiqB,EAAE1oB,GAAKoG,EACK,IAARsiB,EAAE1oB,IACF0oB,EAAE6D,OAAS,MACfvsB,GAAKoG,EAGT,OAAO,GAQX2O,EAAOC,QAAQ8kC,iBAzEU,SAASjoB,GAC9BA,EAAK7xB,EAAI,GAyEb+U,EAAOC,QAAQ+kC,kBAtEW,SAAS1iD,EAAGw6B,EAAM9I,GACxC,IAAIoI,EAAU,IAAIvd,WAAWmV,GACzB8I,EAAKtF,QACL4E,EAAQlE,IAAI4E,EAAKtF,QACrBsF,EAAKtF,OAAS4E,GAmElBpc,EAAOC,QAAQs8B,QA1Ff,MACIx3B,cACIxmB,KAAKi5B,OAAS,KACdj5B,KAAK0M,EAAI,IAwFjB+U,EAAOC,QAAQiI,IAjEf,MACInD,YAAYziB,EAAGmxB,EAAQhf,GACnBlW,KAAK+D,EAAIA,EACT0hC,EAA4B,mBAAVvQ,EAAsB,yBACxCl1B,KAAKk1B,OAASA,EACdl1B,KAAKkW,KAAOA,EACZlW,KAAK0M,EAAI,EACT1M,KAAKi5B,OAAS,KACdj5B,KAAKmL,IAAM,EAGf42C,QACI,OAAS/hD,KAAK0M,KAAO,EAAK1M,KAAKi5B,OAAOj5B,KAAKmL,OAASsrE,EAAUz2E,qCCrCtEyhB,EAAOC,QAAU,EAAjB,6BCCAD,EAAOC,QAAU,CACf,UACA,UACA,QACA,OACA,WACA,aACA,OACA,UACA,SACA,MACA,WACA,KACA,UACA,SACA,MACA,MACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,KACA,OACA,SACA,SACA,KACA,OACA,OACA,OACA,WACA,MACA,WACA,KACA,WACA,SACA,IACA,QACA,UACA,SACA,UACA,QACA,QACA,KACA,QACA,KACA,QACA,QACA,KACA,QACA,6BChEF,IAUIi1D,EAAc,kIAEdC,EAAc,mCAMdC,EAAc,IAAIjhE,OAAO,OAAS+gE,EAAW,IAAMC,EAA1B,4HAEzBE,EAAyB,IAAIlhE,OAAO,OAAS+gE,EAAW,IAAMC,EAAY,KAE9En1D,EAAOC,QAAQ,EAAcm1D,EAC7Bp1D,EAAOC,QAAQ,EAAyBo1D,+BClBxC,IAAIC,EAAkB3tB,OAAO52C,UAAUjF,eAEvC,SAAS8B,EAAI2nE,EAAQhpC,GACnB,OAAO+oC,EAAgBtkE,KAAKukE,EAAQhpC,GA+BtC,SAASipC,EAAkBj2D,GAGzB,QAAIA,GAAK,OAAUA,GAAK,OAEpBA,GAAK,OAAUA,GAAK,OACH,QAAZ,MAAJA,IAA2C,QAAZ,MAAJA,IAE5BA,GAAK,GAAQA,GAAK,GACZ,KAANA,GACAA,GAAK,IAAQA,GAAK,IAClBA,GAAK,KAAQA,GAAK,KAElBA,EAAI,SAIV,SAASk2D,EAAcl2D,GAErB,GAAIA,EAAI,MAAQ,CAEd,IAAIm2D,EAAa,QADjBn2D,GAAK,QAC2B,IAC5Bo2D,EAAa,OAAc,KAAJp2D,GAE3B,OAAOhL,OAAOgM,aAAam1D,EAAYC,GAEzC,OAAOphE,OAAOgM,aAAahB,GAI7B,IAAIq2D,EAAkB,8CAElBC,EAAkB,IAAI1hE,OAAOyhE,EAAethE,OAAS,IADnC,6BACmDA,OAAQ,MAE7EwhE,EAAyB,qCAEzBC,EAAW,EAAQ,MA2CnBC,EAAsB,SACtBC,EAAyB,UACzBC,EAAoB,CACtB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,UAGP,SAASC,EAAkB/yE,GACzB,OAAO8yE,EAAkB9yE,GAY3B,IAAIgzE,EAAmB,uBAwCnBC,EAAmB,EAAQ,MAiH/Bp2D,EAAQ7b,IAAsB,GAC9B6b,EAAQ7b,IAAIkyE,MAAZ,QACAr2D,EAAQ7b,IAAImyE,QAAZ,OAEAt2D,EAAQu2D,OA5RR,SAAgBjlD,GACd,IAAIklD,EAAU3lE,MAAMC,UAAUnL,MAAMoL,KAAKC,UAAW,GAcpD,OAZAwlE,EAAQ5uB,SAAQ,SAAUvzC,GACxB,GAAKA,EAAL,CAEA,GAAsB,iBAAXA,EACT,MAAM,IAAIqL,UAAUrL,EAAS,kBAG/BqzC,OAAO+uB,KAAKpiE,GAAQuzC,SAAQ,SAAUtb,GACpChb,EAAIgb,GAAOj4B,EAAOi4B,UAIfhb,GA8QTtR,EAAQ02D,SAvSR,SAAkBplD,GAAO,MAAuB,oBAFhD,SAAgBA,GAAO,OAAOo2B,OAAO52C,UAAUgQ,SAAS/P,KAAKugB,GAE7BqlD,CAAOrlD,IAwSvCtR,EAAQrS,IAAsBA,EAC9BqS,EAAQ42D,WAtMR,SAAoB13E,GAClB,OAAIA,EAAI2B,QAAQ,MAAQ,EAAY3B,EAC7BA,EAAIJ,QAAQ62E,EAAgB,OAqMrC31D,EAAQ62D,YAlMR,SAAqB33E,GACnB,OAAIA,EAAI2B,QAAQ,MAAQ,GAAK3B,EAAI2B,QAAQ,KAAO,EAAY3B,EAErDA,EAAIJ,QAAQ82E,GAAiB,SAAU3yE,EAAO6zE,EAASC,GAC5D,OAAID,GAlCR,SAA8B7zE,EAAO6Q,GACnC,IAAIxN,EAAO,EAEX,OAAIqH,EAAImoE,EAAUhiE,GACTgiE,EAAShiE,GAGS,KAAvBA,EAAK/T,WAAW,IAAsB81E,EAAuB5pE,KAAK6H,IAIhEyhE,EAHJjvE,EAAiC,MAA1BwN,EAAK,GAAGpS,cACbiiC,SAAS7vB,EAAKnO,MAAM,GAAI,IAAMg+B,SAAS7vB,EAAKnO,MAAM,GAAI,KAG/C6vE,EAAclvE,GAIlBrD,EAmBE+zE,CAAqB/zE,EAAO8zE,OA8LvC/2D,EAAQu1D,kBAAsBA,EAC9Bv1D,EAAQw1D,cAAsBA,EAE9Bx1D,EAAQi3D,WA9KR,SAAoB/3E,GAClB,OAAI62E,EAAoB9pE,KAAK/M,GACpBA,EAAIJ,QAAQk3E,EAAwBE,GAEtCh3E,GA2KT8gB,EAAQk3D,eAjRR,SAAwBh5E,EAAKoE,EAAK60E,GAChC,MAAO,GAAGzyE,OAAOxG,EAAIyH,MAAM,EAAGrD,GAAM60E,EAAaj5E,EAAIyH,MAAMrD,EAAM,KAiRnE0d,EAAQo3D,QA/JR,SAAiB9wE,GACf,OAAQA,GACN,KAAK,EACL,KAAK,GACH,OAAO,EAEX,OAAO,GA0JT0Z,EAAQlgB,aAtJR,SAAsBwG,GACpB,GAAIA,GAAQ,MAAUA,GAAQ,KAAU,OAAO,EAC/C,OAAQA,GACN,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACH,OAAO,EAEX,OAAO,GAuIT0Z,EAAQq3D,eAlHR,SAAwBl0E,GACtB,OAAQA,GACN,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,IACH,OAAO,EACT,QACE,OAAO,IA+Eb6c,EAAQs3D,YA/HR,SAAqBn0E,GACnB,OAAOizE,EAAiBnqE,KAAK9I,IA+H/B6c,EAAQu3D,SAzKR,SAAkBr4E,GAChB,OAAOA,EAAIJ,QAAQq3E,EAAkB,SAyKvCn2D,EAAQw3D,mBA3ER,SAA4Bt4E,GA+C1B,OA5CAA,EAAMA,EAAIiH,OAAOrH,QAAQ,OAAQ,KAQP,MAAtB,IAAI4C,gBACNxC,EAAMA,EAAIJ,QAAQ,KAAM,MAmCnBI,EAAIwC,cAAc+1E,4CCxR3B,IAAIC,EAAkB,EAAQ,MAG1BC,EAAS,CAGX,CAAE,QAAc,EAAQ,MAA6B,CAAE,YAAa,cACpE,CAAE,OAAc,EAAQ,OACxB,CAAE,QAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,aAAc,SAC/F,CAAE,aAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,aAAc,SAC/F,CAAE,KAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,aAAc,SAC/F,CAAE,OAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,eACjF,CAAE,YAAc,EAAQ,OACxB,CAAE,aAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,eACjF,CAAE,UAAc,EAAQ,MAA6B,CAAE,YAAa,YAAa,eACjF,CAAE,WAAc,EAAQ,OACxB,CAAE,YAAc,EAAQ,OAO1B,SAASC,IAMPt5E,KAAKK,MAAQ,IAAI+4E,EAEjB,IAAK,IAAIn2E,EAAI,EAAGA,EAAIo2E,EAAO93E,OAAQ0B,IACjCjD,KAAKK,MAAMQ,KAAKw4E,EAAOp2E,GAAG,GAAIo2E,EAAOp2E,GAAG,GAAI,CAAEs2E,KAAMF,EAAOp2E,GAAG,IAAM,IAAIoE,UAO5EiyE,EAAY9mE,UAAU1K,SAAW,SAAU/H,EAAOy5E,EAAWC,GAQ3D,IAPA,IAAQx2E,EACJ7C,EAAQJ,KAAKK,MAAMq5E,SAAS,IAC5Bz6D,EAAM7e,EAAMmB,OACZkD,EAAO+0E,EACPG,GAAgB,EAChBj6E,EAAaK,EAAMlB,GAAGI,QAAQS,WAE3B+E,EAAOg1E,IACZ15E,EAAM0E,KAAOA,EAAO1E,EAAM65E,eAAen1E,KACrCA,GAAQg1E,OAIR15E,EAAM85E,OAAOp1E,GAAQ1E,EAAM+5E,YANV,CAUrB,GAAI/5E,EAAMgB,OAASrB,EAAY,CAC7BK,EAAM0E,KAAOg1E,EACb,MAUF,IAAKx2E,EAAI,EAAGA,EAAIgc,IACT7e,EAAM6C,GAAGlD,EAAO0E,EAAMg1E,GAAS,GADjBx2E,KAOrBlD,EAAMg6E,OAASJ,EAGX55E,EAAMi6E,QAAQj6E,EAAM0E,KAAO,KAC7Bk1E,GAAgB,IAGlBl1E,EAAO1E,EAAM0E,MAEFg1E,GAAW15E,EAAMi6E,QAAQv1E,KAClCk1E,GAAgB,EAChBl1E,IACA1E,EAAM0E,KAAOA,KAWnB60E,EAAY9mE,UAAU7S,MAAQ,SAAUC,EAAKf,EAAIgB,EAAKo6E,GACpD,IAAIl6E,EAECH,IAELG,EAAQ,IAAIC,KAAKC,MAAML,EAAKf,EAAIgB,EAAKo6E,GAErCj6E,KAAK8H,SAAS/H,EAAOA,EAAM0E,KAAM1E,EAAMm6E,WAIzCZ,EAAY9mE,UAAUvS,MAAQ,EAAQ,MAGtCwhB,EAAOC,QAAU43D,+BChHjB,IAAIF,EAAS,EAAQ,MAGjBC,EAAS,CACX,CAAE,YAAkB,EAAQ,OAC5B,CAAE,QAAkB,EAAQ,OAC5B,CAAE,SAAkB,EAAQ,OAC5B,CAAE,UAAkB,EAAQ,MAC5B,CAAE,eAAkB,EAAQ,OAC5B,CAAE,cAAkB,EAAQ,OAG5B,CAAE,YAAkB,EAAQ,QAO9B,SAASc,IAMPn6E,KAAKK,MAAQ,IAAI+4E,EAEjB,IAAK,IAAIn2E,EAAI,EAAGA,EAAIo2E,EAAO93E,OAAQ0B,IACjCjD,KAAKK,MAAMQ,KAAKw4E,EAAOp2E,GAAG,GAAIo2E,EAAOp2E,GAAG,IAU5Ck3E,EAAK3nE,UAAUtS,QAAU,SAAUH,GACjC,IAAIkD,EAAG+6B,EAAG59B,EAIV,IAAK6C,EAAI,EAAG+6B,GAFZ59B,EAAQJ,KAAKK,MAAMq5E,SAAS,KAENn4E,OAAQ0B,EAAI+6B,EAAG/6B,IACnC7C,EAAM6C,GAAGlD,IAIbo6E,EAAK3nE,UAAUvS,MAAQ,EAAQ,MAG/BwhB,EAAOC,QAAUy4D,+BCpDjB,IAAIf,EAAkB,EAAQ,MAM1BC,EAAS,CACX,CAAE,OAAmB,EAAQ,OAC7B,CAAE,UAAmB,EAAQ,OAC7B,CAAE,UAAmB,EAAQ,OAC7B,CAAE,SAAmB,EAAQ,OAC7B,CAAE,YAAmB,EAAQ,OAC7B,CAAE,gBAAmB,WACrB,CAAE,WAAmB,WACrB,CAAE,OAAmB,EAAQ,OAC7B,CAAE,QAAmB,EAAQ,OAC7B,CAAE,WAAmB,EAAQ,OAC7B,CAAE,cAAmB,EAAQ,OAC7B,CAAE,SAAmB,EAAQ,QAQ3Be,EAAU,CACZ,CAAE,gBAAmB,EAAQ,OAC7B,CAAE,gBAAmB,WACrB,CAAE,WAAmB,WAGrB,CAAE,iBAAmB,EAAQ,QAO/B,SAASC,IACP,IAAIp3E,EASJ,IAFAjD,KAAKK,MAAQ,IAAI+4E,EAEZn2E,EAAI,EAAGA,EAAIo2E,EAAO93E,OAAQ0B,IAC7BjD,KAAKK,MAAMQ,KAAKw4E,EAAOp2E,GAAG,GAAIo2E,EAAOp2E,GAAG,IAW1C,IAFAjD,KAAKs6E,OAAS,IAAIlB,EAEbn2E,EAAI,EAAGA,EAAIm3E,EAAQ74E,OAAQ0B,IAC9BjD,KAAKs6E,OAAOz5E,KAAKu5E,EAAQn3E,GAAG,GAAIm3E,EAAQn3E,GAAG,IAQ/Co3E,EAAa7nE,UAAU+nE,UAAY,SAAUx6E,GAC3C,IAAIy6E,EAAIv3E,EAAGe,EAAMjE,EAAMiE,IACnB5D,EAAQJ,KAAKK,MAAMq5E,SAAS,IAC5Bz6D,EAAM7e,EAAMmB,OACZ7B,EAAaK,EAAMlB,GAAGI,QAAQS,WAC9ByhB,EAAQphB,EAAMohB,MAGlB,QAA0B,IAAfA,EAAMnd,GAAjB,CAKA,GAAIjE,EAAMgB,MAAQrB,EAChB,IAAKuD,EAAI,EAAGA,EAAIgc,IAKdlf,EAAMgB,QACNy5E,EAAKp6E,EAAM6C,GAAGlD,GAAO,GACrBA,EAAMgB,SAEFy5E,GATev3E,UAuBrBlD,EAAMiE,IAAMjE,EAAMyH,OAGfgzE,GAAMz6E,EAAMiE,MACjBmd,EAAMnd,GAAOjE,EAAMiE,SAhCjBjE,EAAMiE,IAAMmd,EAAMnd,IAsCtBq2E,EAAa7nE,UAAU1K,SAAW,SAAU/H,GAO1C,IANA,IAAIy6E,EAAIv3E,EACJ7C,EAAQJ,KAAKK,MAAMq5E,SAAS,IAC5Bz6D,EAAM7e,EAAMmB,OACZmB,EAAM3C,EAAMyH,OACZ9H,EAAaK,EAAMlB,GAAGI,QAAQS,WAE3BK,EAAMiE,IAAMtB,GAAK,CAQtB,GAAI3C,EAAMgB,MAAQrB,EAChB,IAAKuD,EAAI,EAAGA,EAAIgc,KACdu7D,EAAKp6E,EAAM6C,GAAGlD,GAAO,IADFkD,KAMvB,GAAIu3E,GACF,GAAIz6E,EAAMiE,KAAOtB,EAAO,WAI1B3C,EAAMwW,SAAWxW,EAAMH,IAAIG,EAAMiE,OAG/BjE,EAAMwW,SACRxW,EAAM06E,eAUVJ,EAAa7nE,UAAU7S,MAAQ,SAAUiB,EAAK/B,EAAIgB,EAAKo6E,GACrD,IAAIh3E,EAAG7C,EAAO6e,EACVlf,EAAQ,IAAIC,KAAKC,MAAMW,EAAK/B,EAAIgB,EAAKo6E,GAOzC,IALAj6E,KAAK8H,SAAS/H,GAGdkf,GADA7e,EAAQJ,KAAKs6E,OAAOZ,SAAS,KACjBn4E,OAEP0B,EAAI,EAAGA,EAAIgc,EAAKhc,IACnB7C,EAAM6C,GAAGlD,IAKbs6E,EAAa7nE,UAAUvS,MAAQ,EAAQ,MAGvCwhB,EAAOC,QAAU24D,yBCjKjB,SAASjB,IAUPp5E,KAAK06E,UAAY,GAOjB16E,KAAK26E,UAAY,KASnBvB,EAAM5mE,UAAUooE,SAAW,SAAUplE,GACnC,IAAK,IAAIvS,EAAI,EAAGA,EAAIjD,KAAK06E,UAAUn5E,OAAQ0B,IACzC,GAAIjD,KAAK06E,UAAUz3E,GAAGuS,OAASA,EAC7B,OAAOvS,EAGX,OAAQ,GAMVm2E,EAAM5mE,UAAUqoE,YAAc,WAC5B,IAAIzuB,EAAOpsD,KACP86E,EAAS,CAAE,IAGf1uB,EAAKsuB,UAAUpxB,SAAQ,SAAUtyC,GAC1BA,EAAK+jE,SAEV/jE,EAAKuiE,IAAIjwB,SAAQ,SAAU0xB,GACrBF,EAAOv4E,QAAQy4E,GAAW,GAC5BF,EAAOj6E,KAAKm6E,SAKlB5uB,EAAKuuB,UAAY,GAEjBG,EAAOxxB,SAAQ,SAAU2xB,GACvB7uB,EAAKuuB,UAAUM,GAAS,GACxB7uB,EAAKsuB,UAAUpxB,SAAQ,SAAUtyC,GAC1BA,EAAK+jE,UAENE,GAASjkE,EAAKuiE,IAAIh3E,QAAQ04E,GAAS,GAEvC7uB,EAAKuuB,UAAUM,GAAOp6E,KAAKmW,EAAKiV,YA+BtCmtD,EAAM5mE,UAAU0oE,GAAK,SAAU1lE,EAAMyW,EAAIhtB,GACvC,IAAI8T,EAAQ/S,KAAK46E,SAASplE,GACtBozD,EAAM3pE,GAAW,GAErB,IAAe,IAAX8T,EAAgB,MAAM,IAAIjT,MAAM,0BAA4B0V,GAEhExV,KAAK06E,UAAU3nE,GAAOkZ,GAAKA,EAC3BjsB,KAAK06E,UAAU3nE,GAAOwmE,IAAM3Q,EAAI2Q,KAAO,GACvCv5E,KAAK26E,UAAY,MA4BnBvB,EAAM5mE,UAAU0M,OAAS,SAAUi8D,EAAYC,EAAUnvD,EAAIhtB,GAC3D,IAAI8T,EAAQ/S,KAAK46E,SAASO,GACtBvS,EAAM3pE,GAAW,GAErB,IAAe,IAAX8T,EAAgB,MAAM,IAAIjT,MAAM,0BAA4Bq7E,GAEhEn7E,KAAK06E,UAAU5zE,OAAOiM,EAAO,EAAG,CAC9ByC,KAAM4lE,EACNL,SAAS,EACT9uD,GAAIA,EACJstD,IAAK3Q,EAAI2Q,KAAO,KAGlBv5E,KAAK26E,UAAY,MA4BnBvB,EAAM5mE,UAAU2M,MAAQ,SAAUk8D,EAAWD,EAAUnvD,EAAIhtB,GACzD,IAAI8T,EAAQ/S,KAAK46E,SAASS,GACtBzS,EAAM3pE,GAAW,GAErB,IAAe,IAAX8T,EAAgB,MAAM,IAAIjT,MAAM,0BAA4Bu7E,GAEhEr7E,KAAK06E,UAAU5zE,OAAOiM,EAAQ,EAAG,EAAG,CAClCyC,KAAM4lE,EACNL,SAAS,EACT9uD,GAAIA,EACJstD,IAAK3Q,EAAI2Q,KAAO,KAGlBv5E,KAAK26E,UAAY,MA0BnBvB,EAAM5mE,UAAU3R,KAAO,SAAUu6E,EAAUnvD,EAAIhtB,GAC7C,IAAI2pE,EAAM3pE,GAAW,GAErBe,KAAK06E,UAAU75E,KAAK,CAClB2U,KAAM4lE,EACNL,SAAS,EACT9uD,GAAIA,EACJstD,IAAK3Q,EAAI2Q,KAAO,KAGlBv5E,KAAK26E,UAAY,MAgBnBvB,EAAM5mE,UAAU8oE,OAAS,SAAU7iE,EAAM8iE,GAClChpE,MAAMipE,QAAQ/iE,KAASA,EAAO,CAAEA,IAErC,IAAIrC,EAAS,GAeb,OAZAqC,EAAK6wC,SAAQ,SAAU9zC,GACrB,IAAItT,EAAMlC,KAAK46E,SAASplE,GAExB,GAAItT,EAAM,EAAG,CACX,GAAIq5E,EAAiB,OACrB,MAAM,IAAIz7E,MAAM,oCAAsC0V,GAExDxV,KAAK06E,UAAUx4E,GAAK64E,SAAU,EAC9B3kE,EAAOvV,KAAK2U,KACXxV,MAEHA,KAAK26E,UAAY,KACVvkE,GAcTgjE,EAAM5mE,UAAUipE,WAAa,SAAUhjE,EAAM8iE,GACtChpE,MAAMipE,QAAQ/iE,KAASA,EAAO,CAAEA,IAErCzY,KAAK06E,UAAUpxB,SAAQ,SAAUtyC,GAAQA,EAAK+jE,SAAU,KAExD/6E,KAAKs7E,OAAO7iE,EAAM8iE,IAgBpBnC,EAAM5mE,UAAU7P,QAAU,SAAU8V,EAAM8iE,GACnChpE,MAAMipE,QAAQ/iE,KAASA,EAAO,CAAEA,IAErC,IAAIrC,EAAS,GAeb,OAZAqC,EAAK6wC,SAAQ,SAAU9zC,GACrB,IAAItT,EAAMlC,KAAK46E,SAASplE,GAExB,GAAItT,EAAM,EAAG,CACX,GAAIq5E,EAAiB,OACrB,MAAM,IAAIz7E,MAAM,oCAAsC0V,GAExDxV,KAAK06E,UAAUx4E,GAAK64E,SAAU,EAC9B3kE,EAAOvV,KAAK2U,KACXxV,MAEHA,KAAK26E,UAAY,KACVvkE,GAaTgjE,EAAM5mE,UAAUknE,SAAW,SAAUgC,GAMnC,OALuB,OAAnB17E,KAAK26E,WACP36E,KAAK66E,cAIA76E,KAAK26E,UAAUe,IAAc,IAGtCj6D,EAAOC,QAAU03D,+BC3VjB,IAAIN,EAAU,gBAGdr3D,EAAOC,QAAU,SAAoB3hB,EAAOy5E,EAAWC,EAAS7yE,GAC9D,IAAI+0E,EACA92E,EACA5B,EACA24E,EACA59C,EACA69C,EACA7qE,EACA8qE,EACAzyC,EACA0yC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAv6E,EACAw6E,EACAC,EAAa18E,EAAMm6E,QACnBl2E,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAG7D,GAAoC,KAAhC/5E,EAAMH,IAAI6B,WAAWuC,KAA0B,OAAO,EAI1D,GAAI4C,EAAU,OAAO,EAqCrB,IAlCAg1E,EAAUvyC,EAAStpC,EAAM85E,OAAOL,GAAa,EAGX,KAA9Bz5E,EAAMH,IAAI6B,WAAWuC,IAGvBA,IACA43E,IACAvyC,IACAsyC,GAAY,EACZU,GAAmB,GACoB,IAA9Bt8E,EAAMH,IAAI6B,WAAWuC,IAC9Bq4E,GAAmB,GAEdt8E,EAAM88E,QAAQrD,GAAanwC,GAAU,GAAM,GAG9CrlC,IACA43E,IACAvyC,IACAsyC,GAAY,GAKZA,GAAY,GAGdU,GAAmB,EAGrBN,EAAY,CAAEh8E,EAAM28E,OAAOlD,IAC3Bz5E,EAAM28E,OAAOlD,GAAax1E,EAEnBA,EAAMuH,IACX1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,GAEtB80E,EAAQj0E,KACC,IAAPA,EACFwkC,GAAU,GAAKA,EAAStpC,EAAM88E,QAAQrD,IAAcmC,EAAY,EAAI,IAAM,EAE1EtyC,IAMJrlC,IAqCF,IAlCAg4E,EAAa,CAAEj8E,EAAM88E,QAAQrD,IAC7Bz5E,EAAM88E,QAAQrD,GAAaz5E,EAAM85E,OAAOL,GAAa,GAAK6C,EAAmB,EAAI,GAEjFR,EAAgB73E,GAAOuH,EAEvB4wE,EAAY,CAAEp8E,EAAM85E,OAAOL,IAC3Bz5E,EAAM85E,OAAOL,GAAanwC,EAASuyC,EAEnCQ,EAAY,CAAEr8E,EAAM48E,OAAOnD,IAC3Bz5E,EAAM48E,OAAOnD,GAAax1E,EAAMjE,EAAM28E,OAAOlD,GAE7C+C,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,cAEhDwC,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,aAoBdhB,EAAWtC,EAAY,EAAGsC,EAAWrC,IASxC+C,EAAcz8E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,aAE7C91E,EAAMjE,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,MAC5CvwE,EAAMxL,EAAM68E,OAAOd,MAZ8BA,IAmBjD,GAAoC,KAAhC/7E,EAAMH,IAAI6B,WAAWuC,MAA2Bw4E,EAApD,CAoEA,GAAIX,EAAiB,MAIrB,IADAS,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAIJ,GAAIA,EAAW,CAKbv8E,EAAMm6E,QAAU4B,EAEQ,IAApB/7E,EAAM+5E,YAIRiC,EAAUl7E,KAAKd,EAAM28E,OAAOZ,IAC5BE,EAAWn7E,KAAKd,EAAM88E,QAAQf,IAC9BM,EAAUv7E,KAAKd,EAAM48E,OAAOb,IAC5BK,EAAUt7E,KAAKd,EAAM85E,OAAOiC,IAC5B/7E,EAAM85E,OAAOiC,IAAa/7E,EAAM+5E,WAGlC,MAGFiC,EAAUl7E,KAAKd,EAAM28E,OAAOZ,IAC5BE,EAAWn7E,KAAKd,EAAM88E,QAAQf,IAC9BM,EAAUv7E,KAAKd,EAAM48E,OAAOb,IAC5BK,EAAUt7E,KAAKd,EAAM85E,OAAOiC,IAI5B/7E,EAAM85E,OAAOiC,IAAa,MA3G1B,CAsCE,IAlCAF,EAAUvyC,EAAStpC,EAAM85E,OAAOiC,GAAY,EAGV,KAA9B/7E,EAAMH,IAAI6B,WAAWuC,IAGvBA,IACA43E,IACAvyC,IACAsyC,GAAY,EACZU,GAAmB,GACoB,IAA9Bt8E,EAAMH,IAAI6B,WAAWuC,IAC9Bq4E,GAAmB,GAEdt8E,EAAM88E,QAAQf,GAAYzyC,GAAU,GAAM,GAG7CrlC,IACA43E,IACAvyC,IACAsyC,GAAY,GAKZA,GAAY,GAGdU,GAAmB,EAGrBN,EAAUl7E,KAAKd,EAAM28E,OAAOZ,IAC5B/7E,EAAM28E,OAAOZ,GAAY93E,EAElBA,EAAMuH,IACX1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,GAEtB80E,EAAQj0E,KACC,IAAPA,EACFwkC,GAAU,GAAKA,EAAStpC,EAAM88E,QAAQf,IAAaH,EAAY,EAAI,IAAM,EAEzEtyC,IAMJrlC,IAGF63E,EAAgB73E,GAAOuH,EAEvBywE,EAAWn7E,KAAKd,EAAM88E,QAAQf,IAC9B/7E,EAAM88E,QAAQf,GAAY/7E,EAAM85E,OAAOiC,GAAY,GAAKO,EAAmB,EAAI,GAE/EF,EAAUt7E,KAAKd,EAAM85E,OAAOiC,IAC5B/7E,EAAM85E,OAAOiC,GAAYzyC,EAASuyC,EAElCQ,EAAUv7E,KAAKd,EAAM48E,OAAOb,IAC5B/7E,EAAM48E,OAAOb,GAAY93E,EAAMjE,EAAM28E,OAAOZ,GAiEhD,IAlBAG,EAAYl8E,EAAM+5E,UAClB/5E,EAAM+5E,UAAY,GAElB93E,EAAejC,EAAMc,KAAK,kBAAmB,aAAc,IACrDk8E,OAAS,IACf/6E,EAAMuB,IAASyN,EAAQ,CAAEwoE,EAAW,GAEpCz5E,EAAMlB,GAAGE,MAAM+I,SAAS/H,EAAOy5E,EAAWsC,IAE1C95E,EAAejC,EAAMc,KAAK,mBAAoB,cAAe,IACvDk8E,OAAS,IAEfh9E,EAAMm6E,QAAUuC,EAChB18E,EAAM+8E,WAAaZ,EACnBlrE,EAAM,GAAKjR,EAAM0E,KAIZxB,EAAI,EAAGA,EAAIm5E,EAAU76E,OAAQ0B,IAChClD,EAAM28E,OAAOz5E,EAAIu2E,GAAauC,EAAU94E,GACxClD,EAAM48E,OAAO15E,EAAIu2E,GAAa4C,EAAUn5E,GACxClD,EAAM85E,OAAO52E,EAAIu2E,GAAa2C,EAAUl5E,GACxClD,EAAM88E,QAAQ55E,EAAIu2E,GAAawC,EAAW/4E,GAI5C,OAFAlD,EAAM+5E,UAAYmC,GAEX,0BCrRTx6D,EAAOC,QAAU,SAAc3hB,EAAOy5E,EAAWC,GAC/C,IAAIqC,EAAUx4C,EAAMthC,EAEpB,GAAIjC,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,UAAY,EAAK,OAAO,EAI5D,IAFAx2C,EAAOw4C,EAAWtC,EAAY,EAEvBsC,EAAWrC,GAChB,GAAI15E,EAAMi6E,QAAQ8B,GAChBA,QADF,CAKA,KAAI/7E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WAAa,GAKhD,MAHEx2C,IADAw4C,EAaJ,OANA/7E,EAAM0E,KAAO6+B,GAEbthC,EAAgBjC,EAAMc,KAAK,aAAc,OAAQ,IAC3CG,QAAUjB,EAAMi9E,SAASxD,EAAWl2C,EAAM,EAAIvjC,EAAM+5E,WAAW,GAAS,KAC9E93E,EAAMuB,IAAU,CAAEi2E,EAAWz5E,EAAM0E,OAE5B,0BC3BTgd,EAAOC,QAAU,SAAe3hB,EAAOy5E,EAAWC,EAAS7yE,GACzD,IAAIkJ,EAAQmP,EAAKg+D,EAAQnB,EAAUoB,EAAKl7E,EAAO+6E,EAC3CI,GAAgB,EAChBn5E,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAE7D,GAAI91E,EAAM,EAAIuH,EAAO,OAAO,EAI5B,GAAe,OAFfuE,EAAS/P,EAAMH,IAAI6B,WAAWuC,KAEW,KAAX8L,EAC5B,OAAO,EAST,GALAotE,EAAMl5E,GAGNib,GAFAjb,EAAMjE,EAAMq9E,UAAUp5E,EAAK8L,IAEfotE,GAEF,EAAK,OAAO,EAKtB,GAHAH,EAASh9E,EAAMH,IAAIyH,MAAM61E,EAAKl5E,GAC9Bi5E,EAASl9E,EAAMH,IAAIyH,MAAMrD,EAAKuH,GAEf,KAAXuE,GACEmtE,EAAO16E,QAAQyT,OAAOgM,aAAalS,KAAY,EACjD,OAAO,EAKX,GAAIlJ,EAAU,OAAO,EAKrB,IAFAk1E,EAAWtC,MAGTsC,GACgBrC,IAMhBz1E,EAAMk5E,EAAMn9E,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,KAClDvwE,EAAMxL,EAAM68E,OAAOd,KAEF/7E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,YAOhD,GAAI/5E,EAAMH,IAAI6B,WAAWuC,KAAS8L,KAE9B/P,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WAAa,IAKhD91E,EAAMjE,EAAMq9E,UAAUp5E,EAAK8L,IAGjBotE,EAAMj+D,IAGhBjb,EAAMjE,EAAMs9E,WAAWr5E,IAEbuH,GAAV,CAEA4xE,GAAgB,EAEhB,MAcF,OAVAl+D,EAAMlf,EAAM85E,OAAOL,GAEnBz5E,EAAM0E,KAAOq3E,GAAYqB,EAAgB,EAAI,IAE7Cn7E,EAAgBjC,EAAMc,KAAK,QAAS,OAAQ,IACtCsoC,KAAU8zC,EAChBj7E,EAAMhB,QAAUjB,EAAMi9E,SAASxD,EAAY,EAAGsC,EAAU78D,GAAK,GAC7Djd,EAAM+6E,OAAUA,EAChB/6E,EAAMuB,IAAU,CAAEi2E,EAAWz5E,EAAM0E,OAE5B,gCC5FT,IAAIq0E,EAAU,gBAGdr3D,EAAOC,QAAU,SAAiB3hB,EAAOy5E,EAAWC,EAAS7yE,GAC3D,IAAI/B,EAAI9D,EAAOu8E,EAAKt7E,EAChBgC,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAI7D,GAAW,MAFXj1E,EAAM9E,EAAMH,IAAI6B,WAAWuC,KAEDA,GAAOuH,EAAO,OAAO,EAK/C,IAFAxK,EAAQ,EACR8D,EAAK9E,EAAMH,IAAI6B,aAAauC,GACd,KAAPa,GAAsBb,EAAMuH,GAAOxK,GAAS,GACjDA,IACA8D,EAAK9E,EAAMH,IAAI6B,aAAauC,GAG9B,QAAIjD,EAAQ,GAAMiD,EAAMuH,IAAQutE,EAAQj0E,KAEpC+B,IAIJ2E,EAAMxL,EAAMw9E,eAAehyE,EAAKvH,IAChCs5E,EAAMv9E,EAAMy9E,cAAcjyE,EAAK,GAAMvH,IAC3BA,GAAO80E,EAAQ/4E,EAAMH,IAAI6B,WAAW67E,EAAM,MAClD/xE,EAAM+xE,GAGRv9E,EAAM0E,KAAO+0E,EAAY,GAEzBx3E,EAAejC,EAAMc,KAAK,eAAgB,IAAMmV,OAAOjV,GAAQ,IACzDg8E,OAAS,WAAW11E,MAAM,EAAGtG,GACnCiB,EAAMuB,IAAS,CAAEi2E,EAAWz5E,EAAM0E,OAElCzC,EAAiBjC,EAAMc,KAAK,SAAU,GAAI,IACpCG,QAAWjB,EAAMH,IAAIyH,MAAMrD,EAAKuH,GAAK1D,OAC3C7F,EAAMuB,IAAW,CAAEi2E,EAAWz5E,EAAM0E,MACpCzC,EAAMV,SAAW,IAEjBU,EAAejC,EAAMc,KAAK,gBAAiB,IAAMmV,OAAOjV,IAAS,IAC3Dg8E,OAAS,WAAW11E,MAAM,EAAGtG,IAtBd,kCCzBvB,IAAI+3E,EAAU,gBAGdr3D,EAAOC,QAAU,SAAY3hB,EAAOy5E,EAAWC,EAAS7yE,GACtD,IAAIkJ,EAAQ2tE,EAAK54E,EAAI7C,EACjBgC,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAK7D,GAAe,MAHfhqE,EAAS/P,EAAMH,IAAI6B,WAAWuC,OAIf,KAAX8L,GACW,KAAXA,EACF,OAAO,EAMT,IADA2tE,EAAM,EACCz5E,EAAMuH,GAAK,CAEhB,IADA1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,QACf8L,IAAWgpE,EAAQj0E,GAAO,OAAO,EACxCA,IAAOiL,GAAU2tE,IAGvB,QAAIA,EAAM,IAEN72E,IAEJ7G,EAAM0E,KAAO+0E,EAAY,GAEzBx3E,EAAejC,EAAMc,KAAK,KAAM,KAAM,IAChC0C,IAAS,CAAEi2E,EAAWz5E,EAAM0E,MAClCzC,EAAM+6E,OAASxqE,MAAMkrE,EAAM,GAAGh6E,KAAKuS,OAAOgM,aAAalS,KANlC,kCC9BvB,IAAI4tE,EAAc,EAAQ,MACtB5G,EAAyB,UAKzB6G,EAAiB,CACnB,CAAE,6CAA8C,oCAAoC,GACpF,CAAE,QAAgB,OAAS,GAC3B,CAAE,OAAgB,OAAS,GAC3B,CAAE,WAAgB,KAAS,GAC3B,CAAE,eAAgB,SAAS,GAC3B,CAAE,IAAI/nE,OAAO,QAAU8nE,EAAYj6E,KAAK,KAAO,mBAAoB,KAAM,MAAM,GAC/E,CAAE,IAAImS,OAAOkhE,EAAuB/gE,OAAS,SAAW,MAAM,IAIhE0L,EAAOC,QAAU,SAAoB3hB,EAAOy5E,EAAWC,EAAS7yE,GAC9D,IAAI3D,EAAG64E,EAAU95E,EAAO47E,EACpB55E,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAE7D,IAAK/5E,EAAMlB,GAAGI,QAAQC,KAAQ,OAAO,EAErC,GAAkC,KAA9Ba,EAAMH,IAAI6B,WAAWuC,GAAwB,OAAO,EAIxD,IAFA45E,EAAW79E,EAAMH,IAAIyH,MAAMrD,EAAKuH,GAE3BtI,EAAI,EAAGA,EAAI06E,EAAep8E,SACzBo8E,EAAe16E,GAAG,GAAG0K,KAAKiwE,GADO36E,KAIvC,GAAIA,IAAM06E,EAAep8E,OAAU,OAAO,EAE1C,GAAIqF,EAEF,OAAO+2E,EAAe16E,GAAG,GAO3B,GAJA64E,EAAWtC,EAAY,GAIlBmE,EAAe16E,GAAG,GAAG0K,KAAKiwE,GAC7B,KAAO9B,EAAWrC,KACZ15E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WADVgC,IAOzB,GAJA93E,EAAMjE,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,GAC5CvwE,EAAMxL,EAAM68E,OAAOd,GACnB8B,EAAW79E,EAAMH,IAAIyH,MAAMrD,EAAKuH,GAE5BoyE,EAAe16E,GAAG,GAAG0K,KAAKiwE,GAAW,CACf,IAApBA,EAASr8E,QAAgBu6E,IAC7B,MAWN,OANA/7E,EAAM0E,KAAOq3E,GAEb95E,EAAgBjC,EAAMc,KAAK,aAAc,GAAI,IACvC0C,IAAU,CAAEi2E,EAAWsC,GAC7B95E,EAAMhB,QAAUjB,EAAMi9E,SAASxD,EAAWsC,EAAU/7E,EAAM+5E,WAAW,IAE9D,0BCnETr4D,EAAOC,QAAU,SAAkB3hB,EAAOy5E,EAAWC,GACnD,IAAIz4E,EAASs7E,EAAWr5E,EAAG+6B,EAAGh8B,EAAOgC,EAAKuH,EAAKxK,EAAO+O,EACxBosE,EAA1BJ,EAAWtC,EAAY,EACvB+C,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,aAGpD,GAAI35E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAM7D,IAJAoC,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,YAGZhB,EAAWrC,IAAY15E,EAAMi6E,QAAQ8B,GAAWA,IAGrD,KAAI/7E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,UAAY,GAA/C,CAKA,GAAI/5E,EAAM85E,OAAOiC,IAAa/7E,EAAM+5E,YAClC91E,EAAMjE,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,KAC5CvwE,EAAMxL,EAAM68E,OAAOd,MAKF,MAFfhsE,EAAS/P,EAAMH,IAAI6B,WAAWuC,KAEW,KAAX8L,KAC5B9L,EAAMjE,EAAMq9E,UAAUp5E,EAAK8L,IAC3B9L,EAAMjE,EAAMs9E,WAAWr5E,KAEZuH,GAAK,CACdxK,EAAoB,KAAX+O,EAAyB,EAAI,EACtC,MAOR,KAAI/P,EAAM85E,OAAOiC,GAAY,GAA7B,CAIA,IADAQ,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAGJ,GAAIA,EAAa,OAGnB,QAAKv7E,IAKLC,EAAUjB,EAAMi9E,SAASxD,EAAWsC,EAAU/7E,EAAM+5E,WAAW,GAAOjyE,OAEtE9H,EAAM0E,KAAOq3E,EAAW,GAExB95E,EAAiBjC,EAAMc,KAAK,eAAgB,IAAMmV,OAAOjV,GAAQ,IAC3Dg8E,OAAW/mE,OAAOgM,aAAalS,GACrC9N,EAAMuB,IAAW,CAAEi2E,EAAWz5E,EAAM0E,OAEpCzC,EAAiBjC,EAAMc,KAAK,SAAU,GAAI,IACpCG,QAAWA,EACjBgB,EAAMuB,IAAW,CAAEi2E,EAAWz5E,EAAM0E,KAAO,GAC3CzC,EAAMV,SAAW,IAEjBU,EAAiBjC,EAAMc,KAAK,gBAAiB,IAAMmV,OAAOjV,IAAS,IAC7Dg8E,OAAW/mE,OAAOgM,aAAalS,GAErC/P,EAAM+8E,WAAaZ,GAEZ,iCC7ET,IAAIpD,EAAU,gBAKd,SAAS+E,EAAqB99E,EAAOy5E,GACnC,IAAI1pE,EAAQ9L,EAAKuH,EAAK1G,EAOtB,OALAb,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GAIJ,MAFf1pE,EAAS/P,EAAMH,IAAI6B,WAAWuC,OAGf,KAAX8L,GACW,KAAXA,GAIA9L,EAAMuH,IACR1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,IAErB80E,EAAQj0E,KANL,EAYHb,EAKT,SAAS85E,EAAsB/9E,EAAOy5E,GACpC,IAAI30E,EACAxC,EAAQtC,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC/Cx1E,EAAM3B,EACNkJ,EAAMxL,EAAM68E,OAAOpD,GAGvB,GAAIx1E,EAAM,GAAKuH,EAAO,OAAQ,EAI9B,IAFA1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,MAEjB,IAAea,EAAK,GAAe,OAAQ,EAEpD,OAAS,CAEP,GAAIb,GAAOuH,EAAO,OAAQ,EAI1B,MAFA1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,OAEhB,IAAea,GAAM,IAA/B,CAUA,GAAW,KAAPA,GAA6B,KAAPA,EACxB,MAGF,OAAQ,EAVN,GAAIb,EAAM3B,GAAS,GAAM,OAAQ,EAcrC,OAAI2B,EAAMuH,IACR1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,IAErB80E,EAAQj0E,KAEH,EAGLb,EAiBTyd,EAAOC,QAAU,SAAc3hB,EAAOy5E,EAAWC,EAAS7yE,GACxD,IAAI/B,EACAk5E,EACA96E,EACAgR,EACA+pE,EACApC,EACAqC,EACAC,EACAlgD,EACAmgD,EACAC,EACAC,EACAC,EACA/yE,EACAuwE,EACAzyC,EACAk1C,EACArC,EACAC,EACAC,EACAoC,EACAx6E,EACAy6E,EACAC,EACAr8E,EACAi6E,EACAC,EACAv6E,EACA28E,GAAyB,EACzB5E,GAAQ,EAGZ,GAAIh6E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAQ7D,GAAI/5E,EAAM6+E,YAAc,GACpB7+E,EAAM85E,OAAOL,GAAaz5E,EAAM6+E,YAAc,GAC9C7+E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,UAClC,OAAO,EAiBT,GAZIlzE,GAA+B,cAArB7G,EAAM+8E,YAMd/8E,EAAM85E,OAAOL,IAAcz5E,EAAM+5E,YACnC6E,GAAyB,IAKxBF,EAAiBX,EAAsB/9E,EAAOy5E,KAAe,GAOhE,GANAyE,GAAY,EACZ57E,EAAQtC,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC/C8E,EAAcx5E,OAAO/E,EAAMH,IAAIyH,MAAMhF,EAAOo8E,EAAiB,IAIzDE,GAA0C,IAAhBL,EAAmB,OAAO,MAEnD,OAAKG,EAAiBZ,EAAqB99E,EAAOy5E,KAAe,GAItE,OAAO,EAHPyE,GAAY,EAQd,GAAIU,GACE5+E,EAAMs9E,WAAWoB,IAAmB1+E,EAAM68E,OAAOpD,GAAY,OAAO,EAO1E,GAHA6E,EAAiBt+E,EAAMH,IAAI6B,WAAWg9E,EAAiB,GAGnD73E,EAAU,OAAO,EA6BrB,IA1BAw3E,EAAar+E,EAAMI,OAAOoB,OAEtB08E,GACFj8E,EAAcjC,EAAMc,KAAK,oBAAqB,KAAM,GAChC,IAAhBy9E,IACFt8E,EAAM+E,MAAQ,CAAE,CAAE,QAASu3E,MAI7Bt8E,EAAcjC,EAAMc,KAAK,mBAAoB,KAAM,GAGrDmB,EAAMuB,IAAS46E,EAAY,CAAE3E,EAAW,GACxCx3E,EAAM+6E,OAAS/mE,OAAOgM,aAAaq8D,GAMnCvC,EAAWtC,EACXkF,GAAe,EACfnC,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,QAEhDwC,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,OAEZhB,EAAWrC,GAAS,CAMzB,IALAz1E,EAAMy6E,EACNlzE,EAAMxL,EAAM68E,OAAOd,GAEnBF,EAAUvyC,EAAStpC,EAAM85E,OAAOiC,GAAY2C,GAAkB1+E,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,IAE9Fx1E,EAAMuH,GAAK,CAGhB,GAAW,KAFX1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,IAGxBqlC,GAAU,GAAKA,EAAStpC,EAAM88E,QAAQf,IAAa,MAC9C,IAAW,KAAPj3E,EAGT,MAFAwkC,IAKFrlC,IA+EF,IAxEEg6E,GAJFD,EAAe/5E,IAEKuH,EAEE,EAEA89B,EAASuyC,GAKP,IAAKoC,EAAoB,GAIjD/pE,EAAS2nE,EAAUoC,GAGnBh8E,EAAejC,EAAMc,KAAK,iBAAkB,KAAM,IAC5Ck8E,OAAS/mE,OAAOgM,aAAaq8D,GACnCr8E,EAAMuB,IAAS26E,EAAY,CAAE1E,EAAW,GACpCyE,IACFj8E,EAAMmnC,KAAOppC,EAAMH,IAAIyH,MAAMhF,EAAOo8E,EAAiB,IAIvDD,EAAWz+E,EAAMg6E,MACjBqC,EAAYr8E,EAAM48E,OAAOnD,GACzB2C,EAAYp8E,EAAM85E,OAAOL,GAMzB+E,EAAgBx+E,EAAM6+E,WACtB7+E,EAAM6+E,WAAa7+E,EAAM+5E,UACzB/5E,EAAM+5E,UAAY7lE,EAElBlU,EAAMg6E,OAAQ,EACdh6E,EAAM48E,OAAOnD,GAAauE,EAAeh+E,EAAM28E,OAAOlD,GACtDz5E,EAAM85E,OAAOL,GAAanwC,EAEtB00C,GAAgBxyE,GAAOxL,EAAMi6E,QAAQR,EAAY,GAQnDz5E,EAAM0E,KAAO6G,KAAK4J,IAAInV,EAAM0E,KAAO,EAAGg1E,GAEtC15E,EAAMlB,GAAGE,MAAM+I,SAAS/H,EAAOy5E,EAAWC,GAAS,GAIhD15E,EAAMg6E,QAAS2E,IAClB3E,GAAQ,GAIV2E,EAAgB3+E,EAAM0E,KAAO+0E,EAAa,GAAKz5E,EAAMi6E,QAAQj6E,EAAM0E,KAAO,GAE1E1E,EAAM+5E,UAAY/5E,EAAM6+E,WACxB7+E,EAAM6+E,WAAaL,EACnBx+E,EAAM48E,OAAOnD,GAAa4C,EAC1Br8E,EAAM85E,OAAOL,GAAa2C,EAC1Bp8E,EAAMg6E,MAAQyE,GAEdx8E,EAAejC,EAAMc,KAAK,kBAAmB,MAAO,IAC9Ck8E,OAAS/mE,OAAOgM,aAAaq8D,GAEnCvC,EAAWtC,EAAYz5E,EAAM0E,KAC7By5E,EAAU,GAAKpC,EACfiC,EAAeh+E,EAAM28E,OAAOlD,GAExBsC,GAAYrC,EAAW,MAK3B,GAAI15E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,UAAa,MAGhD,GAAI/5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,MAItD,IADAwC,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAGJ,GAAIA,EAAa,MAGjB,GAAI2B,EAAW,CAEb,IADAQ,EAAiBX,EAAsB/9E,EAAO+7E,IACzB,EAAK,MAC1Bz5E,EAAQtC,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,QAG9C,IADA2C,EAAiBZ,EAAqB99E,EAAO+7E,IACxB,EAAK,MAG5B,GAAIuC,IAAmBt+E,EAAMH,IAAI6B,WAAWg9E,EAAiB,GAAM,MAqBrE,OAhBEz8E,EADEi8E,EACMl+E,EAAMc,KAAK,qBAAsB,MAAO,GAExCd,EAAMc,KAAK,oBAAqB,MAAO,IAE3Ck8E,OAAS/mE,OAAOgM,aAAaq8D,GAEnCF,EAAU,GAAKrC,EACf/7E,EAAM0E,KAAOq3E,EAEb/7E,EAAM+8E,WAAaZ,EAGfnC,GAjRN,SAA6Bh6E,EAAOmC,GAClC,IAAIe,EAAG+6B,EACHj9B,EAAQhB,EAAMgB,MAAQ,EAE1B,IAAKkC,EAAIf,EAAM,EAAG87B,EAAIj+B,EAAMI,OAAOoB,OAAS,EAAG0B,EAAI+6B,EAAG/6B,IAChDlD,EAAMI,OAAO8C,GAAGlC,QAAUA,GAAkC,mBAAzBhB,EAAMI,OAAO8C,GAAG7B,OACrDrB,EAAMI,OAAO8C,EAAI,GAAG47E,QAAS,EAC7B9+E,EAAMI,OAAO8C,GAAG47E,QAAS,EACzB57E,GAAK,GA0QP67E,CAAoB/+E,EAAOq+E,IAGtB,yBCrWT38D,EAAOC,QAAU,SAAmB3hB,EAAOy5E,GACzC,IAAIx4E,EAASs7E,EAAWr5E,EAAG+6B,EAAGh8B,EAAOk6E,EACjCJ,EAAWtC,EAAY,EACvB+C,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,aAChDD,EAAU15E,EAAMm6E,QAMpB,IAJAgC,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,YAGZhB,EAAWrC,IAAY15E,EAAMi6E,QAAQ8B,GAAWA,IAGrD,KAAI/7E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,UAAY,GAG3C/5E,EAAM85E,OAAOiC,GAAY,GAA7B,CAIA,IADAQ,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAGJ,GAAIA,EAAa,MAmBnB,OAhBAt7E,EAAUjB,EAAMi9E,SAASxD,EAAWsC,EAAU/7E,EAAM+5E,WAAW,GAAOjyE,OAEtE9H,EAAM0E,KAAOq3E,GAEb95E,EAAiBjC,EAAMc,KAAK,iBAAkB,IAAK,IAC7C0C,IAAW,CAAEi2E,EAAWz5E,EAAM0E,OAEpCzC,EAAiBjC,EAAMc,KAAK,SAAU,GAAI,IACpCG,QAAWA,EACjBgB,EAAMuB,IAAW,CAAEi2E,EAAWz5E,EAAM0E,MACpCzC,EAAMV,SAAW,GAEjBU,EAAiBjC,EAAMc,KAAK,kBAAmB,KAAM,GAErDd,EAAM+8E,WAAaZ,GAEZ,gCC/CT,IAAIhD,EAAuB,2BACvBJ,EAAuB,gBAG3Br3D,EAAOC,QAAU,SAAmB3hB,EAAOy5E,EAAWuF,EAAUn4E,GAC9D,IAAI/B,EACAm6E,EACAC,EACAxF,EACAt4E,EACA8B,EACA+6B,EACAk/B,EACAgiB,EACAhD,EACA/qD,EACA9uB,EACAzB,EACA07E,EACAC,EACA4C,EACAnuE,EAAQ,EACRhN,EAAMjE,EAAM28E,OAAOlD,GAAaz5E,EAAM48E,OAAOnD,GAC7CjuE,EAAMxL,EAAM68E,OAAOpD,GACnBsC,EAAWtC,EAAY,EAG3B,GAAIz5E,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAE7D,GAAkC,KAA9B/5E,EAAMH,IAAI6B,WAAWuC,GAAwB,OAAO,EAIxD,OAASA,EAAMuH,GACb,GAAkC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,IACa,KAAlCjE,EAAMH,IAAI6B,WAAWuC,EAAM,GAAoB,CACjD,GAAIA,EAAM,IAAMuH,EAAO,OAAO,EAC9B,GAAsC,KAAlCxL,EAAMH,IAAI6B,WAAWuC,EAAM,GAAsB,OAAO,EAC5D,MAYJ,IARAy1E,EAAU15E,EAAMm6E,QAGhBqC,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,aAEhDwC,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,YAEZhB,EAAWrC,IAAY15E,EAAMi6E,QAAQ8B,GAAWA,IAGrD,KAAI/7E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,UAAY,GAG3C/5E,EAAM85E,OAAOiC,GAAY,GAA7B,CAIA,IADAQ,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAGJ,GAAIA,EAAa,MAMnB,IAFA/wE,GADA3K,EAAMb,EAAMi9E,SAASxD,EAAWsC,EAAU/7E,EAAM+5E,WAAW,GAAOjyE,QACxDtG,OAELyC,EAAM,EAAGA,EAAMuH,EAAKvH,IAAO,CAE9B,GAAW,MADXa,EAAKjE,EAAIa,WAAWuC,IAElB,OAAO,EACF,GAAW,KAAPa,EAAqB,CAC9Bq6E,EAAWl7E,EACX,OACgB,KAAPa,GAEO,KAAPA,KACTb,EACUuH,GAA+B,KAAxB3K,EAAIa,WAAWuC,KAHhCgN,IASJ,GAAIkuE,EAAW,GAAsC,KAAjCt+E,EAAIa,WAAWy9E,EAAW,GAAsB,OAAO,EAI3E,IAAKl7E,EAAMk7E,EAAW,EAAGl7E,EAAMuH,EAAKvH,IAElC,GAAW,MADXa,EAAKjE,EAAIa,WAAWuC,IAElBgN,SACK,IAAI8nE,EAAQj0E,GAGjB,MAOJ,KADAssB,EAAMpxB,EAAMlB,GAAGugF,QAAQC,qBAAqBz+E,EAAKoD,EAAKuH,IAC7CivE,GAAM,OAAO,EAGtB,GADAr5E,EAAOpB,EAAMlB,GAAGygF,cAAcnuD,EAAIvwB,MAC7Bb,EAAMlB,GAAG0gF,aAAap+E,GAAS,OAAO,EAY3C,IANA69E,EAJAh7E,EAAMmtB,EAAIntB,IAKVi7E,EAJAjuE,GAASmgB,EAAIngB,MAQb3O,EAAQ2B,EACDA,EAAMuH,EAAKvH,IAEhB,GAAW,MADXa,EAAKjE,EAAIa,WAAWuC,IAElBgN,SACK,IAAI8nE,EAAQj0E,GAGjB,MAkBJ,IAZAssB,EAAMpxB,EAAMlB,GAAGugF,QAAQI,eAAe5+E,EAAKoD,EAAKuH,GAC5CvH,EAAMuH,GAAOlJ,IAAU2B,GAAOmtB,EAAIqpD,IACpC2E,EAAQhuD,EAAIvwB,IACZoD,EAAMmtB,EAAIntB,IACVgN,GAASmgB,EAAIngB,QAEbmuE,EAAQ,GACRn7E,EAAMg7E,EACNhuE,EAAQiuE,GAIHj7E,EAAMuH,IACX1G,EAAKjE,EAAIa,WAAWuC,GACf80E,EAAQj0E,KACbb,IAGF,GAAIA,EAAMuH,GAA+B,KAAxB3K,EAAIa,WAAWuC,IAC1Bm7E,EAMF,IAHAA,EAAQ,GACRn7E,EAAMg7E,EACNhuE,EAAQiuE,EACDj7E,EAAMuH,IACX1G,EAAKjE,EAAIa,WAAWuC,GACf80E,EAAQj0E,KACbb,IAKN,QAAIA,EAAMuH,GAA+B,KAAxB3K,EAAIa,WAAWuC,MAKhCk5D,EAAQgc,EAAmBt4E,EAAIyG,MAAM,EAAG63E,OAQpCt4E,SAEgC,IAAzB7G,EAAMF,IAAI4/E,aACnB1/E,EAAMF,IAAI4/E,WAAa,SAEkB,IAAhC1/E,EAAMF,IAAI4/E,WAAWviB,KAC9Bn9D,EAAMF,IAAI4/E,WAAWviB,GAAS,CAAEiiB,MAAOA,EAAOh+E,KAAMA,IAGtDpB,EAAM+8E,WAAaZ,EAEnBn8E,EAAM0E,KAAO+0E,EAAYxoE,EAAQ,GAXZ,kCCpLvB,IAAIi2C,EAAQ,EAAQ,MAChB6xB,EAAU,gBAGd,SAAS4G,EAAW9/E,EAAKf,EAAIgB,EAAKM,GAChC,IAAI0E,EAAI8T,EAAGtW,EAAO2B,EAAKib,EAAKhL,EAAQo1B,EAAQs2C,EAuD5C,IArDA3/E,KAAKJ,IAAMA,EAGXI,KAAKnB,GAASA,EAEdmB,KAAKH,IAAMA,EAMXG,KAAKG,OAASA,EAEdH,KAAK08E,OAAS,GACd18E,KAAK48E,OAAS,GACd58E,KAAK28E,OAAS,GACd38E,KAAK65E,OAAS,GAYd75E,KAAK68E,QAAU,GAGf78E,KAAK85E,UAAa,EAElB95E,KAAKyE,KAAa,EAClBzE,KAAKk6E,QAAa,EAClBl6E,KAAK+5E,OAAa,EAClB/5E,KAAK4/E,UAAc,EACnB5/E,KAAK4+E,YAAc,EAInB5+E,KAAK88E,WAAa,OAElB98E,KAAKe,MAAQ,EAGbf,KAAKoW,OAAS,GAKdupE,GAAe,EAEVt9E,EAAQ2B,EAAMiQ,EAASo1B,EAAS,EAAGpqB,GAHxCtG,EAAI3Y,KAAKJ,KAGuC2B,OAAQyC,EAAMib,EAAKjb,IAAO,CAGxE,GAFAa,EAAK8T,EAAElX,WAAWuC,IAEb27E,EAAc,CACjB,GAAI7G,EAAQj0E,GAAK,CACfoP,IAEW,IAAPpP,EACFwkC,GAAU,EAAIA,EAAS,EAEvBA,IAEF,SAEAs2C,GAAe,EAIR,KAAP96E,GAAeb,IAAQib,EAAM,IACpB,KAAPpa,GAAeb,IACnBhE,KAAK08E,OAAO77E,KAAKwB,GACjBrC,KAAK48E,OAAO/7E,KAAKmD,GACjBhE,KAAK28E,OAAO97E,KAAKoT,GACjBjU,KAAK65E,OAAOh5E,KAAKwoC,GACjBrpC,KAAK68E,QAAQh8E,KAAK,GAElB8+E,GAAe,EACf1rE,EAAS,EACTo1B,EAAS,EACThnC,EAAQ2B,EAAM,GAKlBhE,KAAK08E,OAAO77E,KAAK8X,EAAEpX,QACnBvB,KAAK48E,OAAO/7E,KAAK8X,EAAEpX,QACnBvB,KAAK28E,OAAO97E,KAAK,GACjBb,KAAK65E,OAAOh5E,KAAK,GACjBb,KAAK68E,QAAQh8E,KAAK,GAElBb,KAAKk6E,QAAUl6E,KAAK08E,OAAOn7E,OAAS,EAKtCm+E,EAAWltE,UAAU3R,KAAO,SAAUO,EAAMQ,EAAKD,GAC/C,IAAIK,EAAQ,IAAIilD,EAAM7lD,EAAMQ,EAAKD,GAQjC,OAPAK,EAAMjD,OAAQ,EAEV4C,EAAU,GAAG3B,KAAKe,QACtBiB,EAAMjB,MAAQf,KAAKe,MACfY,EAAU,GAAG3B,KAAKe,QAEtBf,KAAKG,OAAOU,KAAKmB,GACVA,GAGT09E,EAAWltE,UAAUwnE,QAAU,SAAiBv1E,GAC9C,OAAOzE,KAAK08E,OAAOj4E,GAAQzE,KAAK28E,OAAOl4E,IAASzE,KAAK48E,OAAOn4E,IAG9Di7E,EAAWltE,UAAUonE,eAAiB,SAAwBh1E,GAC5D,IAAK,IAAI2G,EAAMvL,KAAKk6E,QAASt1E,EAAO2G,KAC9BvL,KAAK08E,OAAO93E,GAAQ5E,KAAK28E,OAAO/3E,GAAQ5E,KAAK48E,OAAOh4E,IADjBA,KAKzC,OAAOA,GAIT86E,EAAWltE,UAAU6qE,WAAa,SAAoBr5E,GAGpD,IAFA,IAAIa,EAEK0G,EAAMvL,KAAKJ,IAAI2B,OAAQyC,EAAMuH,IACpC1G,EAAK7E,KAAKJ,IAAI6B,WAAWuC,GACpB80E,EAAQj0E,IAF4Bb,KAI3C,OAAOA,GAIT07E,EAAWltE,UAAU+qE,eAAiB,SAAwBv5E,EAAKkR,GACjE,GAAIlR,GAAOkR,EAAO,OAAOlR,EAEzB,KAAOA,EAAMkR,GACX,IAAK4jE,EAAQ94E,KAAKJ,IAAI6B,aAAauC,IAAS,OAAOA,EAAM,EAE3D,OAAOA,GAIT07E,EAAWltE,UAAU4qE,UAAY,SAAmBp5E,EAAKgE,GACvD,IAAK,IAAIuD,EAAMvL,KAAKJ,IAAI2B,OAAQyC,EAAMuH,GAChCvL,KAAKJ,IAAI6B,WAAWuC,KAASgE,EADQhE,KAG3C,OAAOA,GAIT07E,EAAWltE,UAAUgrE,cAAgB,SAAuBx5E,EAAKgE,EAAMkN,GACrE,GAAIlR,GAAOkR,EAAO,OAAOlR,EAEzB,KAAOA,EAAMkR,GACX,GAAIlN,IAAShI,KAAKJ,IAAI6B,aAAauC,GAAQ,OAAOA,EAAM,EAE1D,OAAOA,GAIT07E,EAAWltE,UAAUwqE,SAAW,SAAkB50E,EAAO1F,EAAKuR,EAAQ4rE,GACpE,IAAI58E,EAAG68E,EAAYj7E,EAAIkuC,EAAOzP,EAAMy8C,EAAOC,EACvCv7E,EAAO2D,EAEX,GAAIA,GAAS1F,EACX,MAAO,GAKT,IAFAq9E,EAAQ,IAAIxtE,MAAM7P,EAAM0F,GAEnBnF,EAAI,EAAGwB,EAAO/B,EAAK+B,IAAQxB,IAAK,CAWnC,IAVA68E,EAAa,EACbE,EAAYjtC,EAAQ/yC,KAAK08E,OAAOj4E,GAI9B6+B,EAFE7+B,EAAO,EAAI/B,GAAOm9E,EAEb7/E,KAAK48E,OAAOn4E,GAAQ,EAEpBzE,KAAK48E,OAAOn4E,GAGdsuC,EAAQzP,GAAQw8C,EAAa7rE,GAAQ,CAG1C,GAFApP,EAAK7E,KAAKJ,IAAI6B,WAAWsxC,GAErB+lC,EAAQj0E,GACC,IAAPA,EACFi7E,GAAc,GAAKA,EAAa9/E,KAAK68E,QAAQp4E,IAAS,EAEtDq7E,QAEG,MAAI/sC,EAAQitC,EAAYhgF,KAAK28E,OAAOl4E,IAIzC,MAFAq7E,IAKF/sC,IAMAgtC,EAAM98E,GAHJ68E,EAAa7rE,EAGJ,IAAI1B,MAAMutE,EAAa7rE,EAAS,GAAGxQ,KAAK,KAAOzD,KAAKJ,IAAIyH,MAAM0rC,EAAOzP,GAErEtjC,KAAKJ,IAAIyH,MAAM0rC,EAAOzP,GAIrC,OAAOy8C,EAAMt8E,KAAK,KAIpBi8E,EAAWltE,UAAUy0C,MAAQA,EAG7BxlC,EAAOC,QAAUg+D,+BClOjB,IAAI5G,EAAU,gBAGd,SAASmH,EAAQlgF,EAAO0E,GACtB,IAAIT,EAAMjE,EAAM28E,OAAOj4E,GAAQ1E,EAAM48E,OAAOl4E,GACxC8G,EAAMxL,EAAM68E,OAAOn4E,GAEvB,OAAO1E,EAAMH,IAAIyH,MAAMrD,EAAKuH,GAG9B,SAAS20E,EAAat/E,GACpB,IAGIiE,EAHAuR,EAAS,GACTpS,EAAM,EACNuH,EAAM3K,EAAIW,OAEV4+E,GAAY,EACZC,EAAU,EACVtpE,EAAU,GAId,IAFAjS,EAAMjE,EAAIa,WAAWuC,GAEdA,EAAMuH,GACA,MAAP1G,IACGs7E,GAOHrpE,GAAWlW,EAAI6B,UAAU29E,EAASp8E,EAAM,GACxCo8E,EAAUp8E,IANVoS,EAAOvV,KAAKiW,EAAUlW,EAAI6B,UAAU29E,EAASp8E,IAC7C8S,EAAU,GACVspE,EAAUp8E,EAAM,IAQpBm8E,EAAoB,KAAPt7E,EACbb,IAEAa,EAAKjE,EAAIa,WAAWuC,GAKtB,OAFAoS,EAAOvV,KAAKiW,EAAUlW,EAAI6B,UAAU29E,IAE7BhqE,EAITqL,EAAOC,QAAU,SAAe3hB,EAAOy5E,EAAWC,EAAS7yE,GACzD,IAAI/B,EAAI+4E,EAAU55E,EAAKf,EAAG+6B,EAAG89C,EAAUuE,EAASC,EAAat+E,EACzDu+E,EAAQ/8E,EAAGg9E,EAAYC,EAAYvE,EAAeI,EAClDC,EAAiBmE,EAASC,EAG9B,GAAInH,EAAY,EAAIC,EAAW,OAAO,EAItC,GAFAqC,EAAWtC,EAAY,EAEnBz5E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,UAAa,OAAO,EAGvD,GAAI/5E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WAAa,EAAK,OAAO,EAO5D,IADA91E,EAAMjE,EAAM28E,OAAOZ,GAAY/7E,EAAM48E,OAAOb,KACjC/7E,EAAM68E,OAAOd,GAAa,OAAO,EAG5C,GAAgB,OADhB4E,EAAU3gF,EAAMH,IAAI6B,WAAWuC,OACY,KAAZ08E,GAAuC,KAAZA,EAA2B,OAAO,EAE5F,GAAI18E,GAAOjE,EAAM68E,OAAOd,GAAa,OAAO,EAG5C,GAAiB,OADjB6E,EAAW5gF,EAAMH,IAAI6B,WAAWuC,OACa,KAAb28E,GAAyC,KAAbA,IAA6B7H,EAAQ6H,GAC/F,OAAO,EAKT,GAAgB,KAAZD,GAA2B5H,EAAQ6H,GAAa,OAAO,EAE3D,KAAO38E,EAAMjE,EAAM68E,OAAOd,IAAW,CAGnC,GAAW,OAFXj3E,EAAK9E,EAAMH,IAAI6B,WAAWuC,KAEO,KAAPa,GAA6B,KAAPA,IAAuBi0E,EAAQj0E,GAAO,OAAO,EAE7Fb,IAOF,IAFAq8E,GAFAzC,EAAWqC,EAAQlgF,EAAOy5E,EAAY,IAEnBl2E,MAAM,KACzBi9E,EAAS,GACJt9E,EAAI,EAAGA,EAAIo9E,EAAQ9+E,OAAQ0B,IAAK,CAEnC,KADAO,EAAI68E,EAAQp9E,GAAG4E,QACP,CAGN,GAAU,IAAN5E,GAAWA,IAAMo9E,EAAQ9+E,OAAS,EACpC,SAEA,OAAO,EAIX,IAAK,WAAWoM,KAAKnK,GAAM,OAAO,EACC,KAA/BA,EAAE/B,WAAW+B,EAAEjC,OAAS,GAC1Bg/E,EAAO1/E,KAAyB,KAApB2C,EAAE/B,WAAW,GAAqB,SAAW,SAC5B,KAApB+B,EAAE/B,WAAW,GACtB8+E,EAAO1/E,KAAK,QAEZ0/E,EAAO1/E,KAAK,IAKhB,IAA+B,KAD/B+8E,EAAWqC,EAAQlgF,EAAOy5E,GAAW3xE,QACxBtF,QAAQ,KAAe,OAAO,EAC3C,GAAIxC,EAAM85E,OAAOL,GAAaz5E,EAAM+5E,WAAa,EAAK,OAAO,EAQ7D,IAPAuG,EAAUH,EAAatC,IACXr8E,QAAyB,KAAf8+E,EAAQ,IAAWA,EAAQ5pE,QAC7C4pE,EAAQ9+E,QAA0C,KAAhC8+E,EAAQA,EAAQ9+E,OAAS,IAAW8+E,EAAQv2E,MAK9C,KADpBw2E,EAAcD,EAAQ9+E,SACG++E,IAAgBC,EAAOh/E,OAAU,OAAO,EAEjE,GAAIqF,EAAU,OAAO,EAkBrB,IAhBAs1E,EAAgBn8E,EAAM+8E,WACtB/8E,EAAM+8E,WAAa,QAInBP,EAAkBx8E,EAAMlB,GAAGE,MAAMsB,MAAMq5E,SAAS,eAEhD13E,EAAYjC,EAAMc,KAAK,aAAc,QAAS,IACxC0C,IAAMi9E,EAAa,CAAEhH,EAAW,IAEtCx3E,EAAYjC,EAAMc,KAAK,aAAc,QAAS,IACxC0C,IAAM,CAAEi2E,EAAWA,EAAY,IAErCx3E,EAAYjC,EAAMc,KAAK,UAAW,KAAM,IAClC0C,IAAM,CAAEi2E,EAAWA,EAAY,GAEhCv2E,EAAI,EAAGA,EAAIo9E,EAAQ9+E,OAAQ0B,IAC9BjB,EAAiBjC,EAAMc,KAAK,UAAW,KAAM,GACzC0/E,EAAOt9E,KACTjB,EAAM+E,MAAS,CAAE,CAAE,QAAS,cAAgBw5E,EAAOt9E,OAGrDjB,EAAiBjC,EAAMc,KAAK,SAAU,GAAI,IACpCG,QAAWq/E,EAAQp9E,GAAG4E,OAC5B7F,EAAMV,SAAW,GAEjBU,EAAiBjC,EAAMc,KAAK,WAAY,MAAO,GAMjD,IAHAmB,EAAYjC,EAAMc,KAAK,WAAY,MAAO,GAC1CmB,EAAYjC,EAAMc,KAAK,cAAe,SAAU,GAE3Ci7E,EAAWtC,EAAY,EAAGsC,EAAWrC,KACpC15E,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WADcgC,IAAY,CAI7D,IADAQ,GAAY,EACPr5E,EAAI,EAAG+6B,EAAIu+C,EAAgBh7E,OAAQ0B,EAAI+6B,EAAG/6B,IAC7C,GAAIs5E,EAAgBt5E,GAAGlD,EAAO+7E,EAAUrC,GAAS,GAAO,CACtD6C,GAAY,EACZ,MAIJ,GAAIA,EAAa,MAEjB,KADAsB,EAAWqC,EAAQlgF,EAAO+7E,GAAUj0E,QACnB,MACjB,GAAI9H,EAAM85E,OAAOiC,GAAY/7E,EAAM+5E,WAAa,EAAK,MAarD,KAZAuG,EAAUH,EAAatC,IACXr8E,QAAyB,KAAf8+E,EAAQ,IAAWA,EAAQ5pE,QAC7C4pE,EAAQ9+E,QAA0C,KAAhC8+E,EAAQA,EAAQ9+E,OAAS,IAAW8+E,EAAQv2E,MAE9DgyE,IAAatC,EAAY,KAC3Bx3E,EAAYjC,EAAMc,KAAK,aAAc,QAAS,IACxC0C,IAAMk9E,EAAa,CAAEjH,EAAY,EAAG,KAG5Cx3E,EAAYjC,EAAMc,KAAK,UAAW,KAAM,IAClC0C,IAAM,CAAEu4E,EAAUA,EAAW,GAE9B74E,EAAI,EAAGA,EAAIq9E,EAAar9E,IAC3BjB,EAAiBjC,EAAMc,KAAK,UAAW,KAAM,GACzC0/E,EAAOt9E,KACTjB,EAAM+E,MAAS,CAAE,CAAE,QAAS,cAAgBw5E,EAAOt9E,OAGrDjB,EAAiBjC,EAAMc,KAAK,SAAU,GAAI,IACpCG,QAAWq/E,EAAQp9E,GAAKo9E,EAAQp9E,GAAG4E,OAAS,GAClD7F,EAAMV,SAAW,GAEjBU,EAAiBjC,EAAMc,KAAK,WAAY,MAAO,GAEjDmB,EAAQjC,EAAMc,KAAK,WAAY,MAAO,GAaxC,OAVI4/E,IACFz+E,EAAQjC,EAAMc,KAAK,cAAe,SAAU,GAC5C4/E,EAAW,GAAK3E,GAGlB95E,EAAQjC,EAAMc,KAAK,cAAe,SAAU,GAC5C2/E,EAAW,GAAK1E,EAEhB/7E,EAAM+8E,WAAaZ,EACnBn8E,EAAM0E,KAAOq3E,GACN,0BCxNTr6D,EAAOC,QAAU,SAAe3hB,GAC9B,IAAIiC,EAEAjC,EAAM6gF,aACR5+E,EAAiB,IAAIjC,EAAMknD,MAAM,SAAU,GAAI,IACzCjmD,QAAWjB,EAAMH,IACvBoC,EAAMuB,IAAW,CAAE,EAAG,GACtBvB,EAAMV,SAAW,GACjBvB,EAAMI,OAAOU,KAAKmB,IAElBjC,EAAMlB,GAAGE,MAAMY,MAAMI,EAAMH,IAAKG,EAAMlB,GAAIkB,EAAMF,IAAKE,EAAMI,gCCX/DshB,EAAOC,QAAU,SAAgB3hB,GAC/B,IAA2BqH,EAAKnE,EAAG+6B,EAA/B79B,EAASJ,EAAMI,OAGnB,IAAK8C,EAAI,EAAG+6B,EAAI79B,EAAOoB,OAAQ0B,EAAI+6B,EAAG/6B,IAEnB,YADjBmE,EAAMjH,EAAO8C,IACL7B,MACNrB,EAAMlB,GAAGC,OAAOa,MAAMyH,EAAIpG,QAASjB,EAAMlB,GAAIkB,EAAMF,IAAKuH,EAAI9F,uCCFlE,IAAIs3E,EAAiB,uBAMrB,SAASiI,EAAYjgF,GACnB,MAAO,aAAa+M,KAAK/M,GAI3B6gB,EAAOC,QAAU,SAAiB3hB,GAChC,IAAIkD,EAAGsU,EAAGymB,EAAG79B,EAAQ6B,EAAO8+E,EAAcC,EAAOC,EAAIv6E,EAAMzC,EAAKo8E,EAC5Dr/E,EAAOkgF,EAAeC,EAAKC,EAASC,EAEpC1/E,EAZcd,EAWdygF,EAActhF,EAAMI,OAGxB,GAAKJ,EAAMlB,GAAGI,QAAQK,QAEtB,IAAKiY,EAAI,EAAGymB,EAAIqjD,EAAY9/E,OAAQgW,EAAIymB,EAAGzmB,IACzC,GAA4B,WAAxB8pE,EAAY9pE,GAAGnW,MACdrB,EAAMlB,GAAGS,QAAQgiF,QAAQD,EAAY9pE,GAAGvW,SAU7C,IAJAigF,EAAgB,EAIXh+E,GANL9C,EAASkhF,EAAY9pE,GAAGjW,UAMRC,OAAS,EAAG0B,GAAK,EAAGA,IAIlC,GAA0B,gBAH1B69E,EAAe3gF,EAAO8C,IAGL7B,MAiBjB,GAR0B,gBAAtB0/E,EAAa1/E,OAzCHR,EA0CGkgF,EAAa9/E,QAzC3B,YAAY2M,KAAK/M,IAyCsBqgF,EAAgB,GACtDA,IAEEJ,EAAYC,EAAa9/E,UAC3BigF,OAGAA,EAAgB,IAEM,SAAtBH,EAAa1/E,MAAmBrB,EAAMlB,GAAGS,QAAQqO,KAAKmzE,EAAa9/E,SAAU,CAoB/E,IAlBAyF,EAAOq6E,EAAa9/E,QACpBU,EAAQ3B,EAAMlB,GAAGS,QAAQqF,MAAM8B,GAG/Bs6E,EAAQ,GACRhgF,EAAQ+/E,EAAa//E,MACrBq/E,EAAU,EAKN1+E,EAAMH,OAAS,GACI,IAAnBG,EAAM,GAAGqR,OACT9P,EAAI,GACmB,iBAAvB9C,EAAO8C,EAAI,GAAG7B,OAChBM,EAAQA,EAAM2F,MAAM,IAGjB25E,EAAK,EAAGA,EAAKt/E,EAAMH,OAAQy/E,IAC9BE,EAAMx/E,EAAMs/E,GAAIE,IAChBC,EAAUphF,EAAMlB,GAAGygF,cAAc4B,GAC5BnhF,EAAMlB,GAAG0gF,aAAa4B,KAE3BC,EAAU1/E,EAAMs/E,GAAIv6E,KAWlB26E,EALG1/E,EAAMs/E,GAAIO,OAEiB,YAArB7/E,EAAMs/E,GAAIO,QAAyB,YAAY5zE,KAAKyzE,GAGnDrhF,EAAMlB,GAAG2iF,kBAAkBJ,GAF3BrhF,EAAMlB,GAAG2iF,kBAAkB,UAAYJ,GAAS5gF,QAAQ,WAAY,IAFpET,EAAMlB,GAAG2iF,kBAAkB,UAAYJ,GAAS5gF,QAAQ,aAAc,KAOlFwD,EAAMtC,EAAMs/E,GAAIjuE,OAENqtE,KACRp+E,EAAgB,IAAIjC,EAAMknD,MAAM,OAAQ,GAAI,IACtCjmD,QAAUyF,EAAKY,MAAM+4E,EAASp8E,GACpChC,EAAMjB,MAAUA,EAChBggF,EAAMlgF,KAAKmB,KAGbA,EAAgB,IAAIjC,EAAMknD,MAAM,YAAa,IAAK,IAC5ClgD,MAAU,CAAE,CAAE,OAAQo6E,IAC5Bn/E,EAAMjB,MAAUA,IAChBiB,EAAM+6E,OAAU,UAChB/6E,EAAMmnC,KAAU,OAChB43C,EAAMlgF,KAAKmB,IAEXA,EAAgB,IAAIjC,EAAMknD,MAAM,OAAQ,GAAI,IACtCjmD,QAAUogF,EAChBp/E,EAAMjB,MAAUA,EAChBggF,EAAMlgF,KAAKmB,IAEXA,EAAgB,IAAIjC,EAAMknD,MAAM,aAAc,KAAM,IAC9ClmD,QAAYA,EAClBiB,EAAM+6E,OAAU,UAChB/6E,EAAMmnC,KAAU,OAChB43C,EAAMlgF,KAAKmB,GAEXo+E,EAAU1+E,EAAMs/E,GAAIS,WAElBrB,EAAU35E,EAAKlF,UACjBS,EAAgB,IAAIjC,EAAMknD,MAAM,OAAQ,GAAI,IACtCjmD,QAAUyF,EAAKY,MAAM+4E,GAC3Bp+E,EAAMjB,MAAUA,EAChBggF,EAAMlgF,KAAKmB,IAIbq/E,EAAY9pE,GAAGjW,SAAWnB,EAASy4E,EAAez4E,EAAQ8C,EAAG89E,SA7F7D,IADA99E,IACO9C,EAAO8C,GAAGlC,QAAU+/E,EAAa//E,OAA4B,cAAnBZ,EAAO8C,GAAG7B,MACzD6B,4BCvCV,IAAIy+E,EAAe,YACfC,EAAe,MAGnBlgE,EAAOC,QAAU,SAAmB3hB,GAClC,IAAIa,EAMJA,GAHAA,EAAMb,EAAMH,IAAIY,QAAQkhF,EAAa,OAG3BlhF,QAAQmhF,EAAS,KAE3B5hF,EAAMH,IAAMgB,0BCFd,IAAIghF,EAAU,+BAIVC,EAAsB,gBAEtBC,EAAiB,iBACjBC,EAAc,CAChB/gE,EAAG,IACHR,EAAG,IACH44B,GAAI,KAGN,SAAS4oC,EAAUr9E,EAAO6Q,GACxB,OAAOusE,EAAYvsE,EAAKpS,eAG1B,SAAS6+E,EAAeC,GACtB,IAAIj/E,EAAGjB,EAAOmgF,EAAkB,EAEhC,IAAKl/E,EAAIi/E,EAAa3gF,OAAS,EAAG0B,GAAK,EAAGA,IAGrB,UAFnBjB,EAAQkgF,EAAaj/E,IAEX7B,MAAoB+gF,IAC5BngF,EAAMhB,QAAUgB,EAAMhB,QAAQR,QAAQshF,EAAgBE,IAGrC,cAAfhgF,EAAMZ,MAAuC,SAAfY,EAAMmnC,MACtCg5C,IAGiB,eAAfngF,EAAMZ,MAAwC,SAAfY,EAAMmnC,MACvCg5C,IAKN,SAASC,EAAaF,GACpB,IAAIj/E,EAAGjB,EAAOmgF,EAAkB,EAEhC,IAAKl/E,EAAIi/E,EAAa3gF,OAAS,EAAG0B,GAAK,EAAGA,IAGrB,UAFnBjB,EAAQkgF,EAAaj/E,IAEX7B,MAAoB+gF,GACxBP,EAAQj0E,KAAK3L,EAAMhB,WACrBgB,EAAMhB,QAAUgB,EAAMhB,QACnBR,QAAQ,OAAQ,KAGhBA,QAAQ,UAAW,KAAKA,QAAQ,WAAY,QAC5CA,QAAQ,cAAe,UAAUA,QAAQ,SAAU,KAEnDA,QAAQ,0BAA2B,OAEnCA,QAAQ,qBAAsB,OAC9BA,QAAQ,6BAA8B,QAI1B,cAAfwB,EAAMZ,MAAuC,SAAfY,EAAMmnC,MACtCg5C,IAGiB,eAAfngF,EAAMZ,MAAwC,SAAfY,EAAMmnC,MACvCg5C,IAMN1gE,EAAOC,QAAU,SAAiB3hB,GAChC,IAAIsiF,EAEJ,GAAKtiF,EAAMlB,GAAGI,QAAQM,YAEtB,IAAK8iF,EAAStiF,EAAMI,OAAOoB,OAAS,EAAG8gF,GAAU,EAAGA,IAEhB,WAA9BtiF,EAAMI,OAAOkiF,GAAQjhF,OAErBygF,EAAoBl0E,KAAK5N,EAAMI,OAAOkiF,GAAQrhF,UAChDihF,EAAeliF,EAAMI,OAAOkiF,GAAQ/gF,UAGlCsgF,EAAQj0E,KAAK5N,EAAMI,OAAOkiF,GAAQrhF,UACpCohF,EAAariF,EAAMI,OAAOkiF,GAAQ/gF,yCChGxC,IAAIE,EAAiB,qBACjBw3E,EAAiB,oBACjBD,EAAiB,uBAEjBuJ,EAAgB,OAChBC,EAAW,QAIf,SAASC,EAAU5hF,EAAKmS,EAAOlO,GAC7B,OAAOjE,EAAIyG,MAAM,EAAG0L,GAASlO,EAAKjE,EAAIyG,MAAM0L,EAAQ,GAGtD,SAAS0vE,EAAgBtiF,EAAQJ,GAC/B,IAAIkD,EAAGjB,EAAOyE,EAAMjD,EAAGQ,EAAKuH,EAAKm3E,EAAWvxE,EAAMwxE,EAAUC,EACxDC,EAAiBC,EAAiBC,EAAkBC,EACpDC,EAASC,EAAU3rE,EAAG4rE,EAAUjsE,EAAOksE,EAAWC,EAItD,IAFAnsE,EAAQ,GAEHjU,EAAI,EAAGA,EAAI9C,EAAOoB,OAAQ0B,IAAK,CAKlC,IAJAjB,EAAQ7B,EAAO8C,GAEfy/E,EAAYviF,EAAO8C,GAAGlC,MAEjBwW,EAAIL,EAAM3V,OAAS,EAAGgW,GAAK,KAC1BL,EAAMK,GAAGxW,OAAS2hF,GADWnrE,KAKnC,GAFAL,EAAM3V,OAASgW,EAAI,EAEA,SAAfvV,EAAMZ,KAAV,CAGA4C,EAAM,EACNuH,GAFA9E,EAAOzE,EAAMhB,SAEFO,OAGX+hF,EACA,KAAOt/E,EAAMuH,IACXg3E,EAASd,UAAYz9E,EACrBR,EAAI++E,EAAShzE,KAAK9I,KAFF,CAchB,GATAw8E,EAAUC,GAAW,EACrBl/E,EAAMR,EAAEuP,MAAQ,EAChBowE,EAAqB,MAAT3/E,EAAE,GAKdm/E,EAAW,GAEPn/E,EAAEuP,MAAQ,GAAK,EACjB4vE,EAAWl8E,EAAKhF,WAAW+B,EAAEuP,MAAQ,QAErC,IAAKwE,EAAItU,EAAI,EAAGsU,GAAK,GACI,cAAnBpX,EAAOoX,GAAGnW,MAA2C,cAAnBjB,EAAOoX,GAAGnW,KAD1BmW,IAEtB,GAAKpX,EAAOoX,GAAGvW,QAAf,CAEA2hF,EAAWxiF,EAAOoX,GAAGvW,QAAQS,WAAWtB,EAAOoX,GAAGvW,QAAQO,OAAS,GACnE,MASJ,GAFAqhF,EAAW,GAEP5+E,EAAMuH,EACRq3E,EAAWn8E,EAAKhF,WAAWuC,QAE3B,IAAKuT,EAAItU,EAAI,EAAGsU,EAAIpX,EAAOoB,QACF,cAAnBpB,EAAOoX,GAAGnW,MAA2C,cAAnBjB,EAAOoX,GAAGnW,KADfmW,IAEjC,GAAKpX,EAAOoX,GAAGvW,QAAf,CAEA4hF,EAAWziF,EAAOoX,GAAGvW,QAAQS,WAAW,GACxC,MA6CJ,GAzCAohF,EAAkB9J,EAAe4J,IAAa3J,EAAYhjE,OAAOgM,aAAa2gE,IAC9EG,EAAkB/J,EAAe6J,IAAa5J,EAAYhjE,OAAOgM,aAAa4gE,IAE9EG,EAAmBvhF,EAAamhF,IAChCK,EAAmBxhF,EAAaohF,IAG9BK,GAAU,EACDH,IACHC,GAAoBF,IACxBI,GAAU,IAIVF,EACFG,GAAW,EACFL,IACHG,GAAoBF,IACxBI,GAAW,IAIE,KAAbN,GAAsC,MAATp/E,EAAE,IAC7Bm/E,GAAY,IAAgBA,GAAY,KAE1CO,EAAWD,GAAU,GAIrBA,GAAWC,IAQbD,EAAUJ,EACVK,EAAWJ,GAGRG,GAAYC,EAAjB,CAQA,GAAIA,EAEF,IAAK3rE,EAAIL,EAAM3V,OAAS,EAAGgW,GAAK,IAC9BpG,EAAO+F,EAAMK,KACTL,EAAMK,GAAGxW,MAAQ2hF,IAFYnrE,IAGjC,GAAIpG,EAAKoyE,SAAWJ,GAAYjsE,EAAMK,GAAGxW,QAAU2hF,EAAW,CAC5DvxE,EAAO+F,EAAMK,GAET4rE,GACFC,EAAYrjF,EAAMlB,GAAGI,QAAQO,OAAO,GACpC6jF,EAAatjF,EAAMlB,GAAGI,QAAQO,OAAO,KAErC4jF,EAAYrjF,EAAMlB,GAAGI,QAAQO,OAAO,GACpC6jF,EAAatjF,EAAMlB,GAAGI,QAAQO,OAAO,IAMvCwC,EAAMhB,QAAUwhF,EAAUxgF,EAAMhB,QAASwC,EAAEuP,MAAOswE,GAClDljF,EAAOgR,EAAKnP,OAAOhB,QAAUwhF,EAC3BriF,EAAOgR,EAAKnP,OAAOhB,QAASmQ,EAAKnN,IAAKo/E,GAExCp/E,GAAOq/E,EAAW9hF,OAAS,EACvB4P,EAAKnP,QAAUiB,IAAKe,GAAOo/E,EAAU7hF,OAAS,GAGlDgK,GADA9E,EAAOzE,EAAMhB,SACFO,OAEX2V,EAAM3V,OAASgW,EACf,SAAS+rE,EAKXL,EACF/rE,EAAMrW,KAAK,CACTmB,MAAOiB,EACPe,IAAKR,EAAEuP,MACPwwE,OAAQJ,EACRpiF,MAAO2hF,IAEAQ,GAAYC,IACrBnhF,EAAMhB,QAAUwhF,EAAUxgF,EAAMhB,QAASwC,EAAEuP,MAvKlC,WAsHLowE,IACFnhF,EAAMhB,QAAUwhF,EAAUxgF,EAAMhB,QAASwC,EAAEuP,MAvHpC,SA8KjB0O,EAAOC,QAAU,SAAqB3hB,GAEpC,IAAIsiF,EAEJ,GAAKtiF,EAAMlB,GAAGI,QAAQM,YAEtB,IAAK8iF,EAAStiF,EAAMI,OAAOoB,OAAS,EAAG8gF,GAAU,EAAGA,IAEhB,WAA9BtiF,EAAMI,OAAOkiF,GAAQjhF,MACpBkhF,EAAc30E,KAAK5N,EAAMI,OAAOkiF,GAAQrhF,UAI7CyhF,EAAgB1iF,EAAMI,OAAOkiF,GAAQ/gF,SAAUvB,iCClMnD,IAAIknD,EAAQ,EAAQ,MAGpB,SAASu8B,EAAU5jF,EAAKf,EAAIgB,GAC1BG,KAAKJ,IAAMA,EACXI,KAAKH,IAAMA,EACXG,KAAKG,OAAS,GACdH,KAAK4gF,YAAa,EAClB5gF,KAAKnB,GAAKA,EAIZ2kF,EAAUhxE,UAAUy0C,MAAQA,EAG5BxlC,EAAOC,QAAU8hE,yBCTjB/hE,EAAOC,QAAU,SAAmB3hB,GAClC,IAAIwX,EAAGymB,EAAG79B,EAAQsjF,EAAMl4E,EAAK+3B,EACzB+9C,EAActhF,EAAMI,OAExB,IAAKoX,EAAI,EAAGymB,EAAIqjD,EAAY9/E,OAAQgW,EAAIymB,EAAGzmB,IACzC,GAA4B,WAAxB8pE,EAAY9pE,GAAGnW,KAAnB,CAKA,IAFAmK,GADApL,EAASkhF,EAAY9pE,GAAGjW,UACXC,OAERkiF,EAAO,EAAGA,EAAOl4E,EAAKk4E,IACC,iBAAtBtjF,EAAOsjF,GAAMriF,OACfjB,EAAOsjF,GAAMriF,KAAO,QAIxB,IAAKqiF,EAAOngD,EAAO,EAAGmgD,EAAOl4E,EAAKk4E,IACN,SAAtBtjF,EAAOsjF,GAAMriF,MACbqiF,EAAO,EAAIl4E,GACe,SAA1BpL,EAAOsjF,EAAO,GAAGriF,KAGnBjB,EAAOsjF,EAAO,GAAGziF,QAAUb,EAAOsjF,GAAMziF,QAAUb,EAAOsjF,EAAO,GAAGziF,SAE/DyiF,IAASngD,IAAQnjC,EAAOmjC,GAAQnjC,EAAOsjF,IAE3CngD,KAIAmgD,IAASngD,IACXnjC,EAAOoB,OAAS+hC,4BCnCtB,IAAIogD,EAAc,0IACdC,EAAc,sDAGlBliE,EAAOC,QAAU,SAAkB3hB,EAAO6G,GACxC,IAAIs6E,EAAKC,EAASn/E,EAAO6C,EAAIxC,EAAOkJ,EAChCvH,EAAMjE,EAAMiE,IAEhB,GAAkC,KAA9BjE,EAAMH,IAAI6B,WAAWuC,GAAwB,OAAO,EAKxD,IAHA3B,EAAQtC,EAAMiE,IACduH,EAAMxL,EAAMyH,SAEH,CACP,KAAMxD,GAAOuH,EAAK,OAAO,EAIzB,GAAW,MAFX1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,IAED,OAAO,EAChC,GAAW,KAAPa,EAAqB,MAK3B,OAFAq8E,EAAMnhF,EAAMH,IAAIyH,MAAMhF,EAAQ,EAAG2B,GAE7B2/E,EAAYh2E,KAAKuzE,IACnBC,EAAUphF,EAAMlB,GAAGygF,cAAc4B,KAC5BnhF,EAAMlB,GAAG0gF,aAAa4B,KAEtBv6E,KACH5E,EAAgBjC,EAAMc,KAAK,YAAa,IAAK,IACvCkG,MAAU,CAAE,CAAE,OAAQo6E,IAC5Bn/E,EAAM+6E,OAAU,WAChB/6E,EAAMmnC,KAAU,QAEhBnnC,EAAgBjC,EAAMc,KAAK,OAAQ,GAAI,IACjCG,QAAUjB,EAAMlB,GAAG2iF,kBAAkBN,IAE3Cl/E,EAAgBjC,EAAMc,KAAK,aAAc,KAAM,IACzCk8E,OAAU,WAChB/6E,EAAMmnC,KAAU,QAGlBppC,EAAMiE,KAAOk9E,EAAI3/E,OAAS,GACnB,MAGLmiF,EAAS/1E,KAAKuzE,KAChBC,EAAUphF,EAAMlB,GAAGygF,cAAc,UAAY4B,KACxCnhF,EAAMlB,GAAG0gF,aAAa4B,KAEtBv6E,KACH5E,EAAgBjC,EAAMc,KAAK,YAAa,IAAK,IACvCkG,MAAU,CAAE,CAAE,OAAQo6E,IAC5Bn/E,EAAM+6E,OAAU,WAChB/6E,EAAMmnC,KAAU,QAEhBnnC,EAAgBjC,EAAMc,KAAK,OAAQ,GAAI,IACjCG,QAAUjB,EAAMlB,GAAG2iF,kBAAkBN,IAE3Cl/E,EAAgBjC,EAAMc,KAAK,aAAc,KAAM,IACzCk8E,OAAU,WAChB/6E,EAAMmnC,KAAU,QAGlBppC,EAAMiE,KAAOk9E,EAAI3/E,OAAS,GACnB,4BClEXkgB,EAAOC,QAAU,SAAkB3hB,EAAO6G,GACxC,IAAIvE,EAAOkJ,EAAKuE,EAAQ9N,EAAO4hF,EAAYC,EAAUC,EAAcC,EAC/D//E,EAAMjE,EAAMiE,IAGhB,GAAW,KAFFjE,EAAMH,IAAI6B,WAAWuC,GAEJ,OAAO,EAOjC,IALA3B,EAAQ2B,EACRA,IACAuH,EAAMxL,EAAMyH,OAGLxD,EAAMuH,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,IAAwBA,IAKjE,GAFA8/E,GADAh0E,EAAS/P,EAAMH,IAAIyH,MAAMhF,EAAO2B,IACVzC,OAElBxB,EAAMikF,mBAAqBjkF,EAAMkkF,UAAUH,IAAiB,IAAMzhF,EAGpE,OAFKuE,IAAQ7G,EAAMwW,SAAWzG,GAC9B/P,EAAMiE,KAAO8/E,GACN,EAMT,IAHAF,EAAaC,EAAW7/E,GAGoC,KAApD4/E,EAAa7jF,EAAMH,IAAI2C,QAAQ,IAAKshF,KAAmB,CAI7D,IAHAA,EAAWD,EAAa,EAGjBC,EAAWt4E,GAA0C,KAAnCxL,EAAMH,IAAI6B,WAAWoiF,IAA6BA,IAI3E,IAFAE,EAAeF,EAAWD,KAELE,EAUnB,OARKl9E,KACH5E,EAAYjC,EAAMc,KAAK,cAAe,OAAQ,IACxCk8E,OAAUjtE,EAChB9N,EAAMhB,QAAUjB,EAAMH,IAAIyH,MAAMrD,EAAK4/E,GAClCpjF,QAAQ,MAAO,KACfA,QAAQ,WAAY,OAEzBT,EAAMiE,IAAM6/E,GACL,EAIT9jF,EAAMkkF,UAAUF,GAAgBH,EAQlC,OAJA7jF,EAAMikF,kBAAmB,EAEpBp9E,IAAQ7G,EAAMwW,SAAWzG,GAC9B/P,EAAMiE,KAAO8/E,GACN,0BCxDT,SAASI,EAAkBnkF,EAAOokF,GAChC,IAAIC,EAAWC,EAAWC,EAAQC,EAAQC,EAAcC,EACpDC,EAAYC,EACZC,EAAgB,GAChBr5E,EAAM44E,EAAW5iF,OAErB,GAAKgK,EAAL,CAGA,IAAIs5E,EAAY,EACZC,GAAgB,EAChBC,EAAQ,GAEZ,IAAKX,EAAY,EAAGA,EAAY74E,EAAK64E,IAqBnC,GApBAE,EAASH,EAAWC,GAEpBW,EAAMlkF,KAAK,GAMPsjF,EAAWU,GAAW/0E,SAAWw0E,EAAOx0E,QAAUg1E,IAAiBR,EAAOtiF,MAAQ,IACpF6iF,EAAYT,GAGdU,EAAeR,EAAOtiF,MAMtBsiF,EAAO/iF,OAAS+iF,EAAO/iF,QAAU,EAE5B+iF,EAAO/wE,MAAZ,CAgBA,IAVKqxE,EAAcr3E,eAAe+2E,EAAOx0E,UACvC80E,EAAcN,EAAOx0E,QAAU,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAGxD00E,EAAeI,EAAcN,EAAOx0E,SAASw0E,EAAOvwE,KAAO,EAAI,GAAMuwE,EAAO/iF,OAAS,GAIrFkjF,EAFAJ,EAAYQ,EAAYE,EAAMF,GAAa,EAIpCR,EAAYG,EAAcH,GAAaU,EAAMV,GAAa,EAG/D,IAFAE,EAASJ,EAAWE,IAETv0E,SAAWw0E,EAAOx0E,QAEzBy0E,EAAOxwE,MAAQwwE,EAAO7hF,IAAM,IAE9BgiF,GAAa,GASTH,EAAOhxE,OAAS+wE,EAAOvwE,QACpBwwE,EAAOhjF,OAAS+iF,EAAO/iF,QAAU,GAAM,IACtCgjF,EAAOhjF,OAAS,GAAM,GAAK+iF,EAAO/iF,OAAS,GAAM,IACnDmjF,GAAa,KAKdA,GAAY,CAKfC,EAAWN,EAAY,IAAMF,EAAWE,EAAY,GAAGtwE,KACrDgxE,EAAMV,EAAY,GAAK,EACvB,EAEFU,EAAMX,GAAaA,EAAYC,EAAYM,EAC3CI,EAAMV,GAAaM,EAEnBL,EAAOvwE,MAAQ,EACfwwE,EAAO7hF,IAAQ0hF,EACfG,EAAOhxE,OAAQ,EACfkxE,GAAmB,EAGnBK,GAAgB,EAChB,OAKmB,IAArBL,IAQFG,EAAcN,EAAOx0E,SAASw0E,EAAOvwE,KAAO,EAAI,IAAOuwE,EAAO/iF,QAAU,GAAK,GAAMkjF,KAMzFhjE,EAAOC,QAAU,SAAoB3hB,GACnC,IAAI0jF,EACAuB,EAAcjlF,EAAMilF,YACpBz5E,EAAMxL,EAAMilF,YAAYzjF,OAI5B,IAFA2iF,EAAkBnkF,EAAOA,EAAMokF,YAE1BV,EAAO,EAAGA,EAAOl4E,EAAKk4E,IACrBuB,EAAYvB,IAASuB,EAAYvB,GAAMU,YACzCD,EAAkBnkF,EAAOilF,EAAYvB,GAAMU,oCCxEjD,SAASc,EAAYllF,EAAOokF,GAC1B,IAAIlhF,EACAiiF,EACAC,EACAnjF,EACA6C,EACAugF,EAGJ,IAAKniF,EAFKkhF,EAAW5iF,OAEN,EAAG0B,GAAK,EAAGA,IAGE,MAF1BiiF,EAAaf,EAAWlhF,IAET6M,QAAgD,KAAtBo1E,EAAWp1E,SAK5B,IAApBo1E,EAAWxiF,MAIfyiF,EAAWhB,EAAWe,EAAWxiF,KAOjC0iF,EAAWniF,EAAI,GACJkhF,EAAWlhF,EAAI,GAAGP,MAAQwiF,EAAWxiF,IAAM,GAE3CyhF,EAAWlhF,EAAI,GAAG6M,SAAWo1E,EAAWp1E,QACxCq0E,EAAWlhF,EAAI,GAAGjB,QAAUkjF,EAAWljF,MAAQ,GAE/CmiF,EAAWe,EAAWxiF,IAAM,GAAGV,QAAUmjF,EAASnjF,MAAQ,EAErE6C,EAAKmR,OAAOgM,aAAakjE,EAAWp1E,SAEpC9N,EAAgBjC,EAAMI,OAAO+kF,EAAWljF,QAClCZ,KAAUgkF,EAAW,cAAgB,UAC3CpjF,EAAMJ,IAAUwjF,EAAW,SAAW,KACtCpjF,EAAML,QAAU,EAChBK,EAAM+6E,OAAUqI,EAAWvgF,EAAKA,EAAKA,EACrC7C,EAAMhB,QAAU,IAEhBgB,EAAgBjC,EAAMI,OAAOglF,EAASnjF,QAChCZ,KAAUgkF,EAAW,eAAiB,WAC5CpjF,EAAMJ,IAAUwjF,EAAW,SAAW,KACtCpjF,EAAML,SAAW,EACjBK,EAAM+6E,OAAUqI,EAAWvgF,EAAKA,EAAKA,EACrC7C,EAAMhB,QAAU,GAEZokF,IACFrlF,EAAMI,OAAOgkF,EAAWlhF,EAAI,GAAGjB,OAAOhB,QAAU,GAChDjB,EAAMI,OAAOgkF,EAAWe,EAAWxiF,IAAM,GAAGV,OAAOhB,QAAU,GAC7DiC,MAtGNwe,EAAOC,QAAQ,EAAW,SAAkB3hB,EAAO6G,GACjD,IAAI3D,EAAGoiF,EACHhjF,EAAQtC,EAAMiE,IACd8L,EAAS/P,EAAMH,IAAI6B,WAAWY,GAElC,GAAIuE,EAAU,OAAO,EAErB,GAAe,KAAXkJ,GAAsC,KAAXA,EAA2B,OAAO,EAIjE,IAFAu1E,EAAUtlF,EAAMulF,WAAWvlF,EAAMiE,IAAgB,KAAX8L,GAEjC7M,EAAI,EAAGA,EAAIoiF,EAAQ9jF,OAAQ0B,IACdlD,EAAMc,KAAK,OAAQ,GAAI,GACjCG,QAAUgV,OAAOgM,aAAalS,GAEpC/P,EAAMokF,WAAWtjF,KAAK,CAGpBiP,OAAQA,EAIRvO,OAAQ8jF,EAAQ9jF,OAIhBS,MAAQjC,EAAMI,OAAOoB,OAAS,EAK9BmB,KAAS,EAKTqR,KAAQsxE,EAAQE,SAChBhyE,MAAQ8xE,EAAQG,YAMpB,OAFAzlF,EAAMiE,KAAOqhF,EAAQ9jF,QAEd,GAmETkgB,EAAOC,QAAQ,EAAc,SAAkB3hB,GAC7C,IAAI0jF,EACAuB,EAAcjlF,EAAMilF,YACpBz5E,EAAMxL,EAAMilF,YAAYzjF,OAI5B,IAFA0jF,EAAYllF,EAAOA,EAAMokF,YAEpBV,EAAO,EAAGA,EAAOl4E,EAAKk4E,IACrBuB,EAAYvB,IAASuB,EAAYvB,GAAMU,YACzCc,EAAYllF,EAAOilF,EAAYvB,GAAMU,0CC1H3C,IAAI3M,EAAoB,EAAQ,MAC5BnoE,EAAoB,YACpB4nE,EAAoB,0BACpBC,EAAoB,sBAGpBuO,EAAa,uCACbC,EAAa,4BAGjBjkE,EAAOC,QAAU,SAAgB3hB,EAAO6G,GACtC,IAAQoB,EAAMrD,EAAO3C,EAAOgC,EAAMjE,EAAMiE,IAAKuH,EAAMxL,EAAMyH,OAEzD,GAAkC,KAA9BzH,EAAMH,IAAI6B,WAAWuC,GAAsB,OAAO,EAEtD,GAAIA,EAAM,GAAKuH,EAAK,OAAO,EAI3B,GAAW,KAFNxL,EAAMH,IAAI6B,WAAWuC,EAAM,IAI9B,GADAW,EAAQ5E,EAAMH,IAAIyH,MAAMrD,GAAKW,MAAM8gF,GAWjC,OATK7+E,IACHoB,EAAqC,MAA9BrD,EAAM,GAAG,GAAGvB,cAAwBiiC,SAAS1gC,EAAM,GAAG0C,MAAM,GAAI,IAAMg+B,SAAS1gC,EAAM,GAAI,KAEhG3C,EAAgBjC,EAAMc,KAAK,eAAgB,GAAI,IACzCG,QAAUi2E,EAAkBjvE,GAAQkvE,EAAclvE,GAAQkvE,EAAc,OAC9El1E,EAAM+6E,OAAUp4E,EAAM,GACtB3C,EAAMmnC,KAAU,UAElBppC,EAAMiE,KAAOW,EAAM,GAAGpD,QACf,OAIT,IADAoD,EAAQ5E,EAAMH,IAAIyH,MAAMrD,GAAKW,MAAM+gF,KAE7Br2E,EAAImoE,EAAU7yE,EAAM,IAQtB,OAPKiC,KACH5E,EAAgBjC,EAAMc,KAAK,eAAgB,GAAI,IACzCG,QAAUw2E,EAAS7yE,EAAM,IAC/B3C,EAAM+6E,OAAUp4E,EAAM,GACtB3C,EAAMmnC,KAAU,UAElBppC,EAAMiE,KAAOW,EAAM,GAAGpD,QACf,EAKb,OAAO,gCC7CT,IAJA,IAAIu3E,EAAU,gBAEV6M,EAAU,GAEL1iF,EAAI,EAAGA,EAAI,IAAKA,IAAO0iF,EAAQ9kF,KAAK,GAE7C,qCACGyC,MAAM,IAAIgmD,SAAQ,SAAUzkD,GAAM8gF,EAAQ9gF,EAAGpD,WAAW,IAAM,KAGjEggB,EAAOC,QAAU,SAAgB3hB,EAAO6G,GACtC,IAAIg/E,EAAKC,EAAKC,EAASC,EAAY/jF,EAAOgC,EAAMjE,EAAMiE,IAAKuH,EAAMxL,EAAMyH,OAEvE,GAAkC,KAA9BzH,EAAMH,IAAI6B,WAAWuC,GAAsB,OAAO,EAItD,KAHAA,GAGWuH,EAAK,OAAO,EAIvB,GAAY,MAFZq6E,EAAM7lF,EAAMH,IAAI6B,WAAWuC,IAET,CAOhB,IANK4C,GACH7G,EAAMc,KAAK,YAAa,KAAM,GAGhCmD,IAEOA,EAAMuH,IACXq6E,EAAM7lF,EAAMH,IAAI6B,WAAWuC,GACtB80E,EAAQ8M,KACb5hF,IAIF,OADAjE,EAAMiE,IAAMA,GACL,EA8BT,OA3BA+hF,EAAahmF,EAAMH,IAAIoE,GAEnB4hF,GAAO,OAAUA,GAAO,OAAU5hF,EAAM,EAAIuH,IAC9Cs6E,EAAM9lF,EAAMH,IAAI6B,WAAWuC,EAAM,KAEtB,OAAU6hF,GAAO,QAC1BE,GAAchmF,EAAMH,IAAIoE,EAAM,GAC9BA,KAIJ8hF,EAAU,KAAOC,EAEZn/E,IACH5E,EAAQjC,EAAMc,KAAK,eAAgB,GAAI,GAEnC+kF,EAAM,KAAwB,IAAjBD,EAAQC,GACvB5jF,EAAMhB,QAAU+kF,EAEhB/jF,EAAMhB,QAAU8kF,EAGlB9jF,EAAM+6E,OAAS+I,EACf9jF,EAAMmnC,KAAS,UAGjBppC,EAAMiE,IAAMA,EAAM,GACX,0BC1DTyd,EAAOC,QAAU,SAAwB3hB,GACvC,IAAI0jF,EAAMngD,EACNviC,EAAQ,EACRZ,EAASJ,EAAMI,OACfoL,EAAMxL,EAAMI,OAAOoB,OAEvB,IAAKkiF,EAAOngD,EAAO,EAAGmgD,EAAOl4E,EAAKk4E,IAG5BtjF,EAAOsjF,GAAM9hF,QAAU,GAAGZ,IAC9BZ,EAAOsjF,GAAM1iF,MAAQA,EACjBZ,EAAOsjF,GAAM9hF,QAAU,GAAGZ,IAEJ,SAAtBZ,EAAOsjF,GAAMriF,MACbqiF,EAAO,EAAIl4E,GACe,SAA1BpL,EAAOsjF,EAAO,GAAGriF,KAGnBjB,EAAOsjF,EAAO,GAAGziF,QAAUb,EAAOsjF,GAAMziF,QAAUb,EAAOsjF,EAAO,GAAGziF,SAE/DyiF,IAASngD,IAAQnjC,EAAOmjC,GAAQnjC,EAAOsjF,IAE3CngD,KAIAmgD,IAASngD,IACXnjC,EAAOoB,OAAS+hC,iCCjCpB,IAAIuzC,EAAc,UAkBlBp1D,EAAOC,QAAU,SAAqB3hB,EAAO6G,GAC3C,IAAI/B,EAAIF,EAAO4G,EAAKvJ,EAhBFpB,EAiBdoD,EAAMjE,EAAMiE,IAEhB,SAAKjE,EAAMlB,GAAGI,QAAQC,OAGtBqM,EAAMxL,EAAMyH,OACsB,KAA9BzH,EAAMH,IAAI6B,WAAWuC,IACrBA,EAAM,GAAKuH,GAMJ,MADX1G,EAAK9E,EAAMH,IAAI6B,WAAWuC,EAAM,KAErB,KAAPa,GACO,KAAPA,IAxBN,SAAkBA,GAEhB,IAAImhF,EAAU,GAALnhF,EACT,OAAQmhF,GAAM,IAAiBA,GAAM,IAsBhCj+E,CAASlD,MAIdF,EAAQ5E,EAAMH,IAAIyH,MAAMrD,GAAKW,MAAMkyE,MAG9BjwE,KACH5E,EAAgBjC,EAAMc,KAAK,cAAe,GAAI,IACxCG,QAAUjB,EAAMH,IAAIyH,MAAMrD,EAAKA,EAAMW,EAAM,GAAGpD,QA1CpCX,EA4CDoB,EAAMhB,QA3ChB,YAAY2M,KAAK/M,IA2CUb,EAAMkmF,YAzC1C,SAAqBrlF,GACnB,MAAO,aAAa+M,KAAK/M,GAyCnBigF,CAAY7+E,EAAMhB,UAAUjB,EAAMkmF,aAExClmF,EAAMiE,KAAOW,EAAM,GAAGpD,OACf,mCCpDT,IAAI23E,EAAuB,2BACvBJ,EAAuB,gBAG3Br3D,EAAOC,QAAU,SAAe3hB,EAAO6G,GACrC,IAAIG,EACAiB,EACAhH,EACAk8D,EACAgiB,EACAgH,EACAliF,EACAm2B,EACAhJ,EACAguD,EACAn9E,EACA7B,EACAkC,EACAlB,EAAO,GACPglF,EAASpmF,EAAMiE,IACfuH,EAAMxL,EAAMyH,OAEhB,GAAwC,KAApCzH,EAAMH,IAAI6B,WAAW1B,EAAMiE,KAAwB,OAAO,EAC9D,GAA4C,KAAxCjE,EAAMH,IAAI6B,WAAW1B,EAAMiE,IAAM,GAAsB,OAAO,EAMlE,GAJAkiF,EAAanmF,EAAMiE,IAAM,GACzBk7E,EAAWn/E,EAAMlB,GAAGugF,QAAQgH,eAAermF,EAAOA,EAAMiE,IAAM,GAAG,IAGlD,EAAK,OAAO,EAG3B,IADAA,EAAMk7E,EAAW,GACP3zE,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,GAAsB,CAQ1D,IADAA,IACOA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,KAIlB,GAAIA,GAAOuH,EAAO,OAAO,EAkBzB,IAdAlJ,EAAQ2B,GACRmtB,EAAMpxB,EAAMlB,GAAGugF,QAAQC,qBAAqBt/E,EAAMH,IAAKoE,EAAKjE,EAAMyH,SAC1DgzE,KACNr5E,EAAOpB,EAAMlB,GAAGygF,cAAcnuD,EAAIvwB,KAC9Bb,EAAMlB,GAAG0gF,aAAap+E,GACxB6C,EAAMmtB,EAAIntB,IAEV7C,EAAO,IAMXkB,EAAQ2B,EACDA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,KAQlB,GADAmtB,EAAMpxB,EAAMlB,GAAGugF,QAAQI,eAAez/E,EAAMH,IAAKoE,EAAKjE,EAAMyH,QACxDxD,EAAMuH,GAAOlJ,IAAU2B,GAAOmtB,EAAIqpD,GAMpC,IALA2E,EAAQhuD,EAAIvwB,IACZoD,EAAMmtB,EAAIntB,IAIHA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,UAKlBm7E,EAAQ,GAGV,GAAIn7E,GAAOuH,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,GAErC,OADAjE,EAAMiE,IAAMmiF,GACL,EAETniF,QACK,CAIL,QAAoC,IAAzBjE,EAAMF,IAAI4/E,WAA8B,OAAO,EAmB1D,GAjBIz7E,EAAMuH,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,IACpC3B,EAAQ2B,EAAM,GACdA,EAAMjE,EAAMlB,GAAGugF,QAAQgH,eAAermF,EAAOiE,KAClC,EACTk5D,EAAQn9D,EAAMH,IAAIyH,MAAMhF,EAAO2B,KAE/BA,EAAMk7E,EAAW,GAGnBl7E,EAAMk7E,EAAW,EAKdhiB,IAASA,EAAQn9D,EAAMH,IAAIyH,MAAM6+E,EAAYhH,MAElD/kD,EAAMp6B,EAAMF,IAAI4/E,WAAWvG,EAAmBhc,KAG5C,OADAn9D,EAAMiE,IAAMmiF,GACL,EAEThlF,EAAOg5B,EAAIh5B,KACXg+E,EAAQhlD,EAAIglD,MA6Bd,OAtBKv4E,IACH5F,EAAUjB,EAAMH,IAAIyH,MAAM6+E,EAAYhH,GAEtCn/E,EAAMlB,GAAGC,OAAOa,MACdqB,EACAjB,EAAMlB,GACNkB,EAAMF,IACNM,EAAS,KAGX6B,EAAiBjC,EAAMc,KAAK,QAAS,MAAO,IACtCkG,MAAWA,EAAQ,CAAE,CAAE,MAAO5F,GAAQ,CAAE,MAAO,KACrDa,EAAMV,SAAWnB,EACjB6B,EAAMhB,QAAWA,EAEbm+E,GACFp4E,EAAMlG,KAAK,CAAE,QAASs+E,KAI1Bp/E,EAAMiE,IAAMA,EACZjE,EAAMyH,OAAS+D,GACR,gCClJT,IAAI2tE,EAAuB,2BACvBJ,EAAuB,gBAG3Br3D,EAAOC,QAAU,SAAc3hB,EAAO6G,GACpC,IAAIG,EACAiB,EACAk1D,EACAgiB,EACAgH,EACAliF,EACAmtB,EACAgJ,EAEAh5B,EAAO,GACPg+E,EAAQ,GACRgH,EAASpmF,EAAMiE,IACfuH,EAAMxL,EAAMyH,OACZnF,EAAQtC,EAAMiE,IACdqiF,GAAiB,EAErB,GAAwC,KAApCtmF,EAAMH,IAAI6B,WAAW1B,EAAMiE,KAAwB,OAAO,EAM9D,GAJAkiF,EAAanmF,EAAMiE,IAAM,GACzBk7E,EAAWn/E,EAAMlB,GAAGugF,QAAQgH,eAAermF,EAAOA,EAAMiE,KAAK,IAG9C,EAAK,OAAO,EAG3B,IADAA,EAAMk7E,EAAW,GACP3zE,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,GAAsB,CAW1D,IALAqiF,GAAiB,EAIjBriF,IACOA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,KAIlB,GAAIA,GAAOuH,EAAO,OAAO,EAMzB,GAFAlJ,EAAQ2B,GACRmtB,EAAMpxB,EAAMlB,GAAGugF,QAAQC,qBAAqBt/E,EAAMH,IAAKoE,EAAKjE,EAAMyH,SAC1DgzE,GAAI,CAWV,IAVAr5E,EAAOpB,EAAMlB,GAAGygF,cAAcnuD,EAAIvwB,KAC9Bb,EAAMlB,GAAG0gF,aAAap+E,GACxB6C,EAAMmtB,EAAIntB,IAEV7C,EAAO,GAKTkB,EAAQ2B,EACDA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,KAQlB,GADAmtB,EAAMpxB,EAAMlB,GAAGugF,QAAQI,eAAez/E,EAAMH,IAAKoE,EAAKjE,EAAMyH,QACxDxD,EAAMuH,GAAOlJ,IAAU2B,GAAOmtB,EAAIqpD,GAMpC,IALA2E,EAAQhuD,EAAIvwB,IACZoD,EAAMmtB,EAAIntB,IAIHA,EAAMuH,IACXvD,EAAOjI,EAAMH,IAAI6B,WAAWuC,GACvB80E,EAAQ9wE,IAAkB,KAATA,GAFNhE,OAOlBA,GAAOuH,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,MAErCqiF,GAAiB,GAEnBriF,IAGF,GAAIqiF,EAAgB,CAIlB,QAAoC,IAAzBtmF,EAAMF,IAAI4/E,WAA8B,OAAO,EAmB1D,GAjBIz7E,EAAMuH,GAAqC,KAA9BxL,EAAMH,IAAI6B,WAAWuC,IACpC3B,EAAQ2B,EAAM,GACdA,EAAMjE,EAAMlB,GAAGugF,QAAQgH,eAAermF,EAAOiE,KAClC,EACTk5D,EAAQn9D,EAAMH,IAAIyH,MAAMhF,EAAO2B,KAE/BA,EAAMk7E,EAAW,GAGnBl7E,EAAMk7E,EAAW,EAKdhiB,IAASA,EAAQn9D,EAAMH,IAAIyH,MAAM6+E,EAAYhH,MAElD/kD,EAAMp6B,EAAMF,IAAI4/E,WAAWvG,EAAmBhc,KAG5C,OADAn9D,EAAMiE,IAAMmiF,GACL,EAEThlF,EAAOg5B,EAAIh5B,KACXg+E,EAAQhlD,EAAIglD,MA0Bd,OAnBKv4E,IACH7G,EAAMiE,IAAMkiF,EACZnmF,EAAMyH,OAAS03E,EAEAn/E,EAAMc,KAAK,YAAa,IAAK,GACtCkG,MAASA,EAAQ,CAAE,CAAE,OAAQ5F,IAC/Bg+E,GACFp4E,EAAMlG,KAAK,CAAE,QAASs+E,IAGxBp/E,EAAMkmF,YACNlmF,EAAMlB,GAAGC,OAAOgJ,SAAS/H,GACzBA,EAAMkmF,YAESlmF,EAAMc,KAAK,aAAc,KAAM,IAGhDd,EAAMiE,IAAMA,EACZjE,EAAMyH,OAAS+D,GACR,0BC9IT,IAAI+6E,EAAY,0CAGhB7kE,EAAOC,QAAU,SAAiB3hB,EAAO6G,GACvC,IAAI5C,EAAUW,EAAO4hF,EAAOC,EAAMtF,EAAKC,EAASn/E,EAEhD,SAAKjC,EAAMlB,GAAGI,QAAQK,SAClBS,EAAMkmF,UAAY,IAEtBjiF,EAAMjE,EAAMiE,KAGF,EAFJjE,EAAMyH,QAGsB,KAA9BzH,EAAMH,IAAI6B,WAAWuC,IACa,KAAlCjE,EAAMH,IAAI6B,WAAWuC,EAAM,IACO,KAAlCjE,EAAMH,IAAI6B,WAAWuC,EAAM,MAE/BW,EAAQ5E,EAAMwW,QAAQ5R,MAAM2hF,MAG5BC,EAAQ5hF,EAAM,KAEd6hF,EAAOzmF,EAAMlB,GAAGS,QAAQmnF,aAAa1mF,EAAMH,IAAIyH,MAAMrD,EAAMuiF,EAAMhlF,YAMjE2/E,GAHAA,EAAMsF,EAAKtF,KAGD1gF,QAAQ,OAAQ,IAE1B2gF,EAAUphF,EAAMlB,GAAGygF,cAAc4B,IAC5BnhF,EAAMlB,GAAG0gF,aAAa4B,KAEtBv6E,IACH7G,EAAMwW,QAAUxW,EAAMwW,QAAQlP,MAAM,GAAIk/E,EAAMhlF,SAE9CS,EAAgBjC,EAAMc,KAAK,YAAa,IAAK,IACvCkG,MAAU,CAAE,CAAE,OAAQo6E,IAC5Bn/E,EAAM+6E,OAAU,UAChB/6E,EAAMmnC,KAAU,QAEhBnnC,EAAgBjC,EAAMc,KAAK,OAAQ,GAAI,IACjCG,QAAUjB,EAAMlB,GAAG2iF,kBAAkBN,IAE3Cl/E,EAAgBjC,EAAMc,KAAK,aAAc,KAAM,IACzCk8E,OAAU,UAChB/6E,EAAMmnC,KAAU,QAGlBppC,EAAMiE,KAAOk9E,EAAI3/E,OAASglF,EAAMhlF,OACzB,oCCpDT,IAAIu3E,EAAU,gBAGdr3D,EAAOC,QAAU,SAAiB3hB,EAAO6G,GACvC,IAAI8/E,EAAMn7E,EAAKo7E,EAAI3iF,EAAMjE,EAAMiE,IAE/B,GAAkC,KAA9BjE,EAAMH,IAAI6B,WAAWuC,GAAyB,OAAO,EASzD,GAPA0iF,EAAO3mF,EAAMwW,QAAQhV,OAAS,EAC9BgK,EAAMxL,EAAMyH,QAMPZ,EACH,GAAI8/E,GAAQ,GAAwC,KAAnC3mF,EAAMwW,QAAQ9U,WAAWilF,GACxC,GAAIA,GAAQ,GAA4C,KAAvC3mF,EAAMwW,QAAQ9U,WAAWilF,EAAO,GAAa,CAG5D,IADAC,EAAKD,EAAO,EACLC,GAAM,GAA0C,KAArC5mF,EAAMwW,QAAQ9U,WAAWklF,EAAK,IAAaA,IAE7D5mF,EAAMwW,QAAUxW,EAAMwW,QAAQlP,MAAM,EAAGs/E,GACvC5mF,EAAMc,KAAK,YAAa,KAAM,QAE9Bd,EAAMwW,QAAUxW,EAAMwW,QAAQlP,MAAM,GAAI,GACxCtH,EAAMc,KAAK,YAAa,KAAM,QAIhCd,EAAMc,KAAK,YAAa,KAAM,GAOlC,IAHAmD,IAGOA,EAAMuH,GAAOutE,EAAQ/4E,EAAMH,IAAI6B,WAAWuC,KAASA,IAG1D,OADAjE,EAAMiE,IAAMA,GACL,gCCvCT,IAAIijD,EAAiB,EAAQ,MACzBzlD,EAAiB,qBACjBw3E,EAAiB,oBACjBD,EAAiB,uBAGrB,SAAS6N,EAAYhnF,EAAKf,EAAIgB,EAAKo6E,GACjCj6E,KAAKJ,IAAMA,EACXI,KAAKH,IAAMA,EACXG,KAAKnB,GAAKA,EACVmB,KAAKG,OAAS85E,EACdj6E,KAAKglF,YAAczyE,MAAM0nE,EAAU14E,QAEnCvB,KAAKgE,IAAM,EACXhE,KAAKwH,OAASxH,KAAKJ,IAAI2B,OACvBvB,KAAKe,MAAQ,EACbf,KAAKuW,QAAU,GACfvW,KAAK6mF,aAAe,EAIpB7mF,KAAKmhB,MAAQ,GAGbnhB,KAAKmkF,WAAa,GAGlBnkF,KAAK8mF,iBAAmB,GAGxB9mF,KAAKikF,UAAY,GACjBjkF,KAAKgkF,kBAAmB,EAIxBhkF,KAAKimF,UAAY,EAMnBW,EAAYp0E,UAAUioE,YAAc,WAClC,IAAIz4E,EAAQ,IAAIilD,EAAM,OAAQ,GAAI,GAKlC,OAJAjlD,EAAMhB,QAAUhB,KAAKuW,QACrBvU,EAAMjB,MAAQf,KAAK6mF,aACnB7mF,KAAKG,OAAOU,KAAKmB,GACjBhC,KAAKuW,QAAU,GACRvU,GAOT4kF,EAAYp0E,UAAU3R,KAAO,SAAUO,EAAMQ,EAAKD,GAC5C3B,KAAKuW,SACPvW,KAAKy6E,cAGP,IAAIz4E,EAAQ,IAAIilD,EAAM7lD,EAAMQ,EAAKD,GAC7BolF,EAAa,KAqBjB,OAnBIplF,EAAU,IAEZ3B,KAAKe,QACLf,KAAKmkF,WAAankF,KAAK8mF,iBAAiBh9E,OAG1C9H,EAAMjB,MAAQf,KAAKe,MAEfY,EAAU,IAEZ3B,KAAKe,QACLf,KAAK8mF,iBAAiBjmF,KAAKb,KAAKmkF,YAChCnkF,KAAKmkF,WAAa,GAClB4C,EAAa,CAAE5C,WAAYnkF,KAAKmkF,aAGlCnkF,KAAK6mF,aAAe7mF,KAAKe,MACzBf,KAAKG,OAAOU,KAAKmB,GACjBhC,KAAKglF,YAAYnkF,KAAKkmF,GACf/kF,GAUT4kF,EAAYp0E,UAAU8yE,WAAa,SAAUjjF,EAAO2kF,GAClD,IAAiBrE,EAAUC,EAAUj9E,EAAO4/E,EAAUC,EAClDzC,EAAkBF,EAClBG,EAAkBF,EAFlB9+E,EAAM3B,EAGN4kF,GAAgB,EAChBC,GAAiB,EACjB37E,EAAMvL,KAAKwH,OACXsI,EAAS9P,KAAKJ,IAAI6B,WAAWY,GAKjC,IAFAsgF,EAAWtgF,EAAQ,EAAIrC,KAAKJ,IAAI6B,WAAWY,EAAQ,GAAK,GAEjD2B,EAAMuH,GAAOvL,KAAKJ,IAAI6B,WAAWuC,KAAS8L,GAAU9L,IAqC3D,OAnCA2B,EAAQ3B,EAAM3B,EAGdugF,EAAW5+E,EAAMuH,EAAMvL,KAAKJ,IAAI6B,WAAWuC,GAAO,GAElD6+E,EAAkB9J,EAAe4J,IAAa3J,EAAYhjE,OAAOgM,aAAa2gE,IAC9EG,EAAkB/J,EAAe6J,IAAa5J,EAAYhjE,OAAOgM,aAAa4gE,IAE9EG,EAAmBvhF,EAAamhF,IAChCK,EAAmBxhF,EAAaohF,IAG9BqE,GAAgB,EACPnE,IACHC,GAAoBF,IACxBoE,GAAgB,IAIhBlE,EACFmE,GAAiB,EACRrE,IACHG,GAAoBF,IACxBoE,GAAiB,IAIhBF,GAIHzB,EAAY0B,EACZzB,EAAY0B,IAJZ3B,EAAY0B,KAAoBC,GAAkBrE,GAClD2C,EAAY0B,KAAoBD,GAAkBnE,IAM7C,CACLyC,SAAWA,EACXC,UAAWA,EACXjkF,OAAWoE,IAMfihF,EAAYp0E,UAAUy0C,MAAQA,EAG9BxlC,EAAOC,QAAUklE,yBC7GjB,SAAS3B,EAAYllF,EAAOokF,GAC1B,IAAIlhF,EAAGsU,EACH2tE,EACAC,EACAnjF,EACAmlF,EAAc,GACd57E,EAAM44E,EAAW5iF,OAErB,IAAK0B,EAAI,EAAGA,EAAIsI,EAAKtI,IAGO,OAF1BiiF,EAAaf,EAAWlhF,IAET6M,SAIS,IAApBo1E,EAAWxiF,MAIfyiF,EAAWhB,EAAWe,EAAWxiF,MAEjCV,EAAgBjC,EAAMI,OAAO+kF,EAAWljF,QAClCZ,KAAU,SAChBY,EAAMJ,IAAU,IAChBI,EAAML,QAAU,EAChBK,EAAM+6E,OAAU,KAChB/6E,EAAMhB,QAAU,IAEhBgB,EAAgBjC,EAAMI,OAAOglF,EAASnjF,QAChCZ,KAAU,UAChBY,EAAMJ,IAAU,IAChBI,EAAML,SAAW,EACjBK,EAAM+6E,OAAU,KAChB/6E,EAAMhB,QAAU,GAE8B,SAA1CjB,EAAMI,OAAOglF,EAASnjF,MAAQ,GAAGZ,MACY,MAA7CrB,EAAMI,OAAOglF,EAASnjF,MAAQ,GAAGhB,SAEnCmmF,EAAYtmF,KAAKskF,EAASnjF,MAAQ,IAUtC,KAAOmlF,EAAY5lF,QAAQ,CAIzB,IAFAgW,GADAtU,EAAIkkF,EAAYr9E,OACR,EAEDyN,EAAIxX,EAAMI,OAAOoB,QAAmC,YAAzBxB,EAAMI,OAAOoX,GAAGnW,MAChDmW,IAKEtU,MAFJsU,IAGEvV,EAAQjC,EAAMI,OAAOoX,GACrBxX,EAAMI,OAAOoX,GAAKxX,EAAMI,OAAO8C,GAC/BlD,EAAMI,OAAO8C,GAAKjB,IAtGxByf,EAAOC,QAAQ,EAAW,SAAuB3hB,EAAO6G,GACtD,IAAI3D,EAAGoiF,EAAgBpmE,EAAKpa,EACxBxC,EAAQtC,EAAMiE,IACd8L,EAAS/P,EAAMH,IAAI6B,WAAWY,GAElC,GAAIuE,EAAU,OAAO,EAErB,GAAe,MAAXkJ,EAA0B,OAAO,EAMrC,GAHAmP,GADAomE,EAAUtlF,EAAMulF,WAAWvlF,EAAMiE,KAAK,IACxBzC,OACdsD,EAAKmR,OAAOgM,aAAalS,GAErBmP,EAAM,EAAK,OAAO,EAQtB,IANIA,EAAM,IACQlf,EAAMc,KAAK,OAAQ,GAAI,GACjCG,QAAU6D,EAChBoa,KAGGhc,EAAI,EAAGA,EAAIgc,EAAKhc,GAAK,EACRlD,EAAMc,KAAK,OAAQ,GAAI,GACjCG,QAAU6D,EAAKA,EAErB9E,EAAMokF,WAAWtjF,KAAK,CACpBiP,OAAQA,EACRvO,OAAQ,EACRS,MAAQjC,EAAMI,OAAOoB,OAAS,EAC9BmB,KAAS,EACTqR,KAAQsxE,EAAQE,SAChBhyE,MAAQ8xE,EAAQG,YAMpB,OAFAzlF,EAAMiE,KAAOqhF,EAAQ9jF,QAEd,GAyETkgB,EAAOC,QAAQ,EAAc,SAAuB3hB,GAClD,IAAI0jF,EACAuB,EAAcjlF,EAAMilF,YACpBz5E,EAAMxL,EAAMilF,YAAYzjF,OAI5B,IAFA0jF,EAAYllF,EAAOA,EAAMokF,YAEpBV,EAAO,EAAGA,EAAOl4E,EAAKk4E,IACrBuB,EAAYvB,IAASuB,EAAYvB,GAAMU,YACzCc,EAAYllF,EAAOilF,EAAYvB,GAAMU,oCCjH3C,SAASiD,EAAiBviF,GACxB,OAAQA,GACN,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,IACL,KAAK,IACH,OAAO,EACT,QACE,OAAO,GAIb4c,EAAOC,QAAU,SAAc3hB,EAAO6G,GAGpC,IAFA,IAAI5C,EAAMjE,EAAMiE,IAETA,EAAMjE,EAAMyH,SAAW4/E,EAAiBrnF,EAAMH,IAAI6B,WAAWuC,KAClEA,IAGF,OAAIA,IAAQjE,EAAMiE,MAEb4C,IAAU7G,EAAMwW,SAAWxW,EAAMH,IAAIyH,MAAMtH,EAAMiE,IAAKA,IAE3DjE,EAAMiE,IAAMA,GAEL,2BC3CT,SAASijD,EAAM7lD,EAAMQ,EAAKD,GAMxB3B,KAAKoB,KAAWA,EAOhBpB,KAAK4B,IAAWA,EAOhB5B,KAAK+G,MAAW,KAOhB/G,KAAKuD,IAAW,KAWhBvD,KAAK2B,QAAWA,EAOhB3B,KAAKe,MAAW,EAOhBf,KAAKsB,SAAW,KAQhBtB,KAAKgB,QAAW,GAOhBhB,KAAK+8E,OAAW,GAWhB/8E,KAAKmpC,KAAW,GAOhBnpC,KAAKsF,KAAW,KAQhBtF,KAAKjB,OAAW,EAQhBiB,KAAK6+E,QAAW,EASlB53B,EAAMz0C,UAAU60E,UAAY,SAAmB7xE,GAC7C,IAAIzO,EAAO9D,EAAGgc,EAEd,IAAKjf,KAAK+G,MAAS,OAAQ,EAI3B,IAAK9D,EAAI,EAAGgc,GAFZlY,EAAQ/G,KAAK+G,OAEWxF,OAAQ0B,EAAIgc,EAAKhc,IACvC,GAAI8D,EAAM9D,GAAG,KAAOuS,EAAQ,OAAOvS,EAErC,OAAQ,GASVgkD,EAAMz0C,UAAU80E,SAAW,SAAkBC,GACvCvnF,KAAK+G,MACP/G,KAAK+G,MAAMlG,KAAK0mF,GAEhBvnF,KAAK+G,MAAQ,CAAEwgF,IAUnBtgC,EAAMz0C,UAAUg1E,QAAU,SAAiBhyE,EAAMqM,GAC/C,IAAI3f,EAAMlC,KAAKqnF,UAAU7xE,GACrB+xE,EAAW,CAAE/xE,EAAMqM,GAEnB3f,EAAM,EACRlC,KAAKsnF,SAASC,GAEdvnF,KAAK+G,MAAM7E,GAAOqlF,GAUtBtgC,EAAMz0C,UAAUtR,QAAU,SAAiBsU,GACzC,IAAItT,EAAMlC,KAAKqnF,UAAU7xE,GAAOqM,EAAQ,KAIxC,OAHI3f,GAAO,IACT2f,EAAQ7hB,KAAK+G,MAAM7E,GAAK,IAEnB2f,GAUTolC,EAAMz0C,UAAUi1E,SAAW,SAAkBjyE,EAAMqM,GACjD,IAAI3f,EAAMlC,KAAKqnF,UAAU7xE,GAErBtT,EAAM,EACRlC,KAAKsnF,SAAS,CAAE9xE,EAAMqM,IAEtB7hB,KAAK+G,MAAM7E,GAAK,GAAKlC,KAAK+G,MAAM7E,GAAK,GAAK,IAAM2f,GAKpDJ,EAAOC,QAAUulC,cCtMhB,WACG,aAEA,IAAIygC,EAAK,CACLC,WAAY,OACZC,SAAU,OACVC,SAAU,OACVC,cAAe,OACfC,OAAQ,UACRC,YAAa,eACbC,KAAM,MACNC,SAAU,OACVzhF,KAAM,YACN0hF,OAAQ,WACRC,YAAa,2FACbp6C,IAAK,sBACLq6C,WAAY,wBACZC,aAAc,aACdC,KAAM,SAGV,SAAS3iB,EAAQ53B,GAEb,OAAOw6C,EAAeC,EAAcz6C,GAAMt7B,WAO9C,SAAS81E,EAAeE,EAAYC,GAChC,IAAiD1sD,EAAkBh5B,EAAGupB,EAAGo8D,EAAI7vB,EAAK8vB,EAAeC,EAAYC,EAAaR,EAAtHS,EAAS,EAAGC,EAAcP,EAAWnnF,OAAab,EAAS,GAC/D,IAAKuC,EAAI,EAAGA,EAAIgmF,EAAahmF,IACzB,GAA6B,iBAAlBylF,EAAWzlF,GAClBvC,GAAUgoF,EAAWzlF,QAEpB,GAA6B,iBAAlBylF,EAAWzlF,GAAiB,CAExC,IADA2lF,EAAKF,EAAWzlF,IACTk1E,KAEH,IADAl8C,EAAM0sD,EAAKK,GACNx8D,EAAI,EAAGA,EAAIo8D,EAAGzQ,KAAK52E,OAAQirB,IAAK,CACjC,GAAWviB,MAAPgyB,EACA,MAAM,IAAIn8B,MAAM8lE,EAAQ,gEAAiEgjB,EAAGzQ,KAAK3rD,GAAIo8D,EAAGzQ,KAAK3rD,EAAE,KAEnHyP,EAAMA,EAAI2sD,EAAGzQ,KAAK3rD,SAItByP,EADK2sD,EAAGM,SACFP,EAAKC,EAAGM,UAGRP,EAAKK,KAOf,GAJItB,EAAGG,SAASl6E,KAAKi7E,EAAGxnF,OAASsmF,EAAGI,cAAcn6E,KAAKi7E,EAAGxnF,OAAS66B,aAAe9uB,WAC9E8uB,EAAMA,KAGNyrD,EAAGM,YAAYr6E,KAAKi7E,EAAGxnF,OAAyB,iBAAR66B,GAAoBqJ,MAAMrJ,GAClE,MAAM,IAAI7a,UAAUwkD,EAAQ,0CAA2C3pC,IAO3E,OAJIyrD,EAAGK,OAAOp6E,KAAKi7E,EAAGxnF,QAClB2nF,EAAc9sD,GAAO,GAGjB2sD,EAAGxnF,MACP,IAAK,IACD66B,EAAMoJ,SAASpJ,EAAK,IAAIzZ,SAAS,GACjC,MACJ,IAAK,IACDyZ,EAAMjmB,OAAOgM,aAAaqjB,SAASpJ,EAAK,KACxC,MACJ,IAAK,IACL,IAAK,IACDA,EAAMoJ,SAASpJ,EAAK,IACpB,MACJ,IAAK,IACDA,EAAMw1B,KAAKC,UAAUz1B,EAAK,KAAM2sD,EAAGO,MAAQ9jD,SAASujD,EAAGO,OAAS,GAChE,MACJ,IAAK,IACDltD,EAAM2sD,EAAGQ,UAAY/1B,WAAWp3B,GAAKotD,cAAcT,EAAGQ,WAAa/1B,WAAWp3B,GAAKotD,gBACnF,MACJ,IAAK,IACDptD,EAAM2sD,EAAGQ,UAAY/1B,WAAWp3B,GAAKqtD,QAAQV,EAAGQ,WAAa/1B,WAAWp3B,GACxE,MACJ,IAAK,IACDA,EAAM2sD,EAAGQ,UAAYpzE,OAAOlR,OAAOm3B,EAAIo0C,YAAYuY,EAAGQ,aAAe/1B,WAAWp3B,GAChF,MACJ,IAAK,IACDA,GAAOoJ,SAASpJ,EAAK,MAAQ,GAAGzZ,SAAS,GACzC,MACJ,IAAK,IACDyZ,EAAMjmB,OAAOimB,GACbA,EAAO2sD,EAAGQ,UAAYntD,EAAIx5B,UAAU,EAAGmmF,EAAGQ,WAAantD,EACvD,MACJ,IAAK,IACDA,EAAMjmB,SAASimB,GACfA,EAAO2sD,EAAGQ,UAAYntD,EAAIx5B,UAAU,EAAGmmF,EAAGQ,WAAantD,EACvD,MACJ,IAAK,IACDA,EAAMmtB,OAAO52C,UAAUgQ,SAAS/P,KAAKwpB,GAAK50B,MAAM,GAAI,GAAGjE,cACvD64B,EAAO2sD,EAAGQ,UAAYntD,EAAIx5B,UAAU,EAAGmmF,EAAGQ,WAAantD,EACvD,MACJ,IAAK,IACDA,EAAMoJ,SAASpJ,EAAK,MAAQ,EAC5B,MACJ,IAAK,IACDA,EAAMA,EAAIstD,UACVttD,EAAO2sD,EAAGQ,UAAYntD,EAAIx5B,UAAU,EAAGmmF,EAAGQ,WAAantD,EACvD,MACJ,IAAK,IACDA,GAAOoJ,SAASpJ,EAAK,MAAQ,GAAGzZ,SAAS,IACzC,MACJ,IAAK,IACDyZ,GAAOoJ,SAASpJ,EAAK,MAAQ,GAAGzZ,SAAS,IAAI22D,cAGjDuO,EAAGO,KAAKt6E,KAAKi7E,EAAGxnF,MAChBV,GAAUu7B,IAGNyrD,EAAGK,OAAOp6E,KAAKi7E,EAAGxnF,OAAW2nF,IAAeH,EAAGL,KAK/CA,EAAO,IAJPA,EAAOQ,EAAc,IAAM,IAC3B9sD,EAAMA,EAAIzZ,WAAWhiB,QAAQknF,EAAGa,KAAM,KAK1CM,EAAgBD,EAAGY,SAA2B,MAAhBZ,EAAGY,SAAmB,IAAMZ,EAAGY,SAASzrE,OAAO,GAAK,IAClF+qE,EAAaF,EAAGO,OAASZ,EAAOtsD,GAAK16B,OACrCw3D,EAAM6vB,EAAGO,OAASL,EAAa,EAAID,EAAc/nF,OAAOgoF,GAAoB,GAC5EpoF,GAAUkoF,EAAG5f,MAAQuf,EAAOtsD,EAAM88B,EAAyB,MAAlB8vB,EAAwBN,EAAOxvB,EAAM98B,EAAM88B,EAAMwvB,EAAOtsD,GAI7G,OAAOv7B,EAGX,IAAI+oF,EAAgBrgC,OAAOC,OAAO,MAElC,SAASo/B,EAAcxyD,GACnB,GAAIwzD,EAAcxzD,GACd,OAAOwzD,EAAcxzD,GAIzB,IADA,IAAgBtxB,EAAZ+kF,EAAOzzD,EAAYyyD,EAAa,GAAIiB,EAAY,EAC7CD,GAAM,CACT,GAAqC,QAAhC/kF,EAAQ+iF,EAAGjhF,KAAK8I,KAAKm6E,IACtBhB,EAAW7nF,KAAK8D,EAAM,SAErB,GAAuC,QAAlCA,EAAQ+iF,EAAGS,OAAO54E,KAAKm6E,IAC7BhB,EAAW7nF,KAAK,SAEf,IAA4C,QAAvC8D,EAAQ+iF,EAAGU,YAAY74E,KAAKm6E,IA6ClC,MAAM,IAAIE,YAAY,oCA5CtB,GAAIjlF,EAAM,GAAI,CACVglF,GAAa,EACb,IAAIE,EAAa,GAAIC,EAAoBnlF,EAAM,GAAIolF,EAAc,GACjE,GAAuD,QAAlDA,EAAcrC,EAAG15C,IAAIz+B,KAAKu6E,IAe3B,MAAM,IAAIF,YAAY,gDAbtB,IADAC,EAAWhpF,KAAKkpF,EAAY,IACwD,MAA5ED,EAAoBA,EAAkBrnF,UAAUsnF,EAAY,GAAGxoF,UACnE,GAA8D,QAAzDwoF,EAAcrC,EAAGW,WAAW94E,KAAKu6E,IAClCD,EAAWhpF,KAAKkpF,EAAY,QAE3B,IAAgE,QAA3DA,EAAcrC,EAAGY,aAAa/4E,KAAKu6E,IAIzC,MAAM,IAAIF,YAAY,gDAHtBC,EAAWhpF,KAAKkpF,EAAY,IAUxCplF,EAAM,GAAKklF,OAGXF,GAAa,EAEjB,GAAkB,IAAdA,EACA,MAAM,IAAI7pF,MAAM,6EAGpB4oF,EAAW7nF,KACP,CACIunF,YAAazjF,EAAM,GACnBukF,SAAavkF,EAAM,GACnBwzE,KAAaxzE,EAAM,GACnB4jF,KAAa5jF,EAAM,GACnB6kF,SAAa7kF,EAAM,GACnBqkE,MAAarkE,EAAM,GACnBwkF,MAAaxkF,EAAM,GACnBykF,UAAazkF,EAAM,GACnBvD,KAAauD,EAAM,KAO/B+kF,EAAOA,EAAKjnF,UAAUkC,EAAM,GAAGpD,QAEnC,OAAOkoF,EAAcxzD,GAAOyyD,EAWV,oBAAXz/E,SACPA,OAAgB,QAAI28D,EACpB38D,OAAiB,SA9LrB,SAAkBgtB,EAAK0yD,GACnB,OAAO/iB,EAAQzvD,MAAM,KAAM,CAAC8f,GAAK7vB,OAAOuiF,GAAQ,OA3BvD,aCFDlnE,EAAOC,QAAQ,+BCAfD,EAAOC,QAAQ,kOCAfD,EAAOC,QAAQ,+2DCAfD,EAAOC,QAAQ,uFCEfA,EAAQsoE,IAAM,EAAd,MACAtoE,EAAQuoE,GAAR,QACAvoE,EAAQwoE,GAAR,QACAxoE,EAAQyoE,EAAR,QACAzoE,EAAQgvD,EAAR,kBCNAjvD,EAAOC,QAAQ,+ICcV,SAASxY,GACZ,aAEAA,EAAWC,WAAW,OAAO,SAASE,EAAQ+gF,GAC5C,IAAI/yE,EAAahO,EAAOgO,WAKxB,SAASgzE,EAAOC,GACd,OAAO,IAAI10E,OAAO,OAAS00E,EAAM7mF,KAAK,KAAO,MAE/C,IAAI8mF,EAAWF,EAAOD,EAAaG,UAAY,IAG3CC,EAAWH,EAAO,CACpB,KAAK,WAAW,SAAS,iBAAiB,SAAS,QAAQ,UAAU,eAAe,SAAS,OAC7F,WAAW,aAAa,SAAS,OAAO,QAAQ,QAAQ,QAAQ,WAAW,SAAS,SAAS,UAC7F,SAAS,UAAU,eAAe,WAAW,WAAW,OAAO,SAAS,SAExE,mBAAmB,mBAAmB,oBAAoB,mBAAmB,iBAAiB,kBAE9F,cAAc,gBAAgB,gBAAgB,gBAAgB,iBAAiB,qBAC/E,oBAAoB,mBAAmB,gBAAgB,gBAAgB,iBAAiB,qBACxF,mBAAmB,kBAEnB,QAAQ,QAAQ,QAAQ,OAAO,OAAO,UAAU,QAEhD,WAAW,WAAW,WAAW,WAAW,UAAU,YAAY,WAAW,UAAU,YAAY,WACnG,YAAY,aAAa,UAAU,WAEnC,WAAW,YAAY,YAAY,YAAY,aAAa,YAAY,WAAW,YAAY,WAC/F,WAAW,aAAa,YAAY,aAAa,YAAY,aAAa,WAAW,aAAa,WAClG,WAAW,YAAY,UAAU,WAAW,WAAW,cAAc,kBAAkB,WAAW,YAClG,YAAY,WAAW,YAEvB,WAAW,UAAU,cAAc,aAAa,UAAU,YAAY,YAAY,YAAY,eAC9F,UAAU,aAEV,gBAAgB,iBAAiB,kBAAkB,kBAAkB,eAAe,kBACpF,iBAEA,cAAc,cAAc,cAAc,cAAc,gBAAgB,gBAAgB,cACxF,aAAa,eAAe,eAAe,aAAa,iBAAiB,aAAa,eAEtF,eAAe,eAAe,aAAa,eAAe,eAExDI,EAAWJ,EAAO,CAAC,MAAM,QAAQ,SAAS,QAAQ,MAAM,MAAM,KAAK,SAChD,OAAO,WAAY,MAAO,KAAM,OAAQ,OAAQ,KAChD,QAAS,SAAU,QAAS,MAAO,KAAM,UAE5DK,EAAeL,EAAO,CAAC,WAAY,KAAK,SAAS,KAAM,MAAO,MAC9DM,EAAeN,EAAO,CAAC,MAAO,QAAS,MAAO,MAC9CO,EA9CK,IAAIh1E,OAAO,OA8CS,CAAC,MAAO,QAAS,MAAO,IAAK,OAAQ,UA9C/BnS,KAAK,KAAO,KAgD/C,SAASonF,EAAYz3E,GAEnB,IADA,IAAIrS,EAAQ,EACLqS,EAAOiK,IAAI,QAAQtc,EAE1B,OADAqS,EAAOiK,IAAI,KACJtc,EAGT,SAAS+pF,EAAO13E,EAAQrT,GACtB,IAmCc4Z,EAnCV9U,EAAKuO,EAAOrJ,OAChB,MAAU,KAANlF,GAAauO,EAAOiK,IAAI,KACtBjK,EAAOiK,IAAI,MAAQjK,EAAOiK,IAAI,MACxBtd,EAAMgrF,IAAMC,EAAUH,EAAYz3E,GAAS,YAAYA,EAAQrT,IACzEqT,EAAO8J,YACA,WAEC,KAANrY,GAAoB,KAANA,GACR9E,EAAMgrF,KA2BFpxE,EA3Be9U,EA4BtB,SAASuO,EAAQrT,GAEtB,IADA,IAAqB8E,EAAjB2zE,GAAU,EACiB,OAAvB3zE,EAAKuO,EAAOrJ,UACdlF,GAAM8U,GAAU6+D,IACpBA,GAAWA,GAAiB,MAAN3zE,EAGxB,OADK2zE,IAASz4E,EAAMgrF,IAAMD,GACnB,YAnCyB13E,EAAQrT,GAChC,KAAN8E,GAAa,QAAQ8I,KAAKyF,EAAO4K,SAC3Bje,EAAMgrF,IAAMC,EAAUH,EAAYz3E,GAAS,WAAWA,EAAQrT,GACpE,KAAK4N,KAAK9I,IACZuO,EAAO0L,SAAS,UACT,UAEL,QAAQnR,KAAK9I,IACfuO,EAAO0L,SAAS,cACT,YAEF,KAGT,SAASksE,EAAUjqF,EAAOqK,GACxB,OAAO,SAASgI,EAAQrT,GAEtB,IADA,IAAmB8E,EAAfomF,EAAS,KACkB,OAAvBpmF,EAAKuO,EAAOrJ,SAClB,GAAc,MAAVkhF,EAA2B,KAANpmF,IAAWomF,EAAS,QACxC,GAAU,KAANpmF,IAAaomF,MACjB,IAAU,KAANpmF,GAAaomF,GAAUlqF,EAAO,CAAEhB,EAAMgrF,IAAMD,EAAQ,MACxDG,EAAS,KAEhB,OAAO7/E,GAgBX,MAAO,CACL4H,WAAY,SAASk4E,GACnB,MAAO,CAACA,QAASA,GAAW,EAAGC,YAAa,EAAGJ,IAAKD,IAGtD9oF,MAAO,SAASoR,EAAQrT,GACtB,GAAIqT,EAAO+J,WAAY,OAAO,KAC9B,IAAI/R,EAAQrL,EAAMgrF,IAAI33E,EAAQrT,GAC1BqrF,EAAOh4E,EAAO0D,UAUlB,MATa,YAAT1L,IACEq/E,EAAS98E,KAAKy9E,GAAOhgF,EAAQ,UACxBo/E,EAAS78E,KAAKy9E,GAAOhgF,EAAQ,UAC7Bm/E,EAAS58E,KAAKy9E,KAAOhgF,EAAQ,eAE1B,WAATA,GAAiC,UAATA,IACvBs/E,EAAa/8E,KAAKy9E,KAASrrF,EAAMorF,YAC5BR,EAAah9E,KAAKy9E,MAASrrF,EAAMorF,aAErC//E,GAGT6I,OAAQ,SAASlU,EAAOsU,GACtB,IAAIg3E,EAAUT,EAAcj9E,KAAK0G,GACjC,OAAOtU,EAAMmrF,QAAU7zE,GAActX,EAAMorF,aAAeE,EAAU,EAAI,KAG1EC,cAAe,gCACfC,YAAa,KACbzrE,kBAAmB,OACnBC,gBAAiB,SAIrB7W,EAAWgX,WAAW,aAAc,OAhJhC/N,CAAIjJ,w7kDCZNsiF,EAA2B,IAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBzhF,IAAjB0hF,EACH,OAAOA,EAAajqE,QAGrB,IAAID,EAAS+pE,EAAyBE,GAAY,CAGjDhqE,QAAS,IAOV,OAHAkqE,EAAoBF,GAAUj5E,KAAKgP,EAAOC,QAASD,EAAQA,EAAOC,QAAS+pE,GAGpEhqE,EAAOC,QClBW+pE,CAAoB","sources":["webpack://moontale/./src/convert.ts","webpack://moontale/./src/linter.ts","webpack://moontale/./src/rules/content_block.ts","webpack://moontale/./src/rules/expression.ts","webpack://moontale/./src/rules/passage_link.ts","webpack://moontale/./src/rules/script_block.ts","webpack://moontale/./src/rules/variable.ts","webpack://moontale/./src/setup.ts","webpack://moontale/./.yarn/cache/codemirror-npm-5.65.5-869a3f61ca-7d9e50b0e9.zip/node_modules/codemirror/addon/lint/lint.js","webpack://moontale/./.yarn/cache/codemirror-npm-5.65.5-869a3f61ca-7d9e50b0e9.zip/node_modules/codemirror/addon/mode/multiplex.js","webpack://moontale/./.yarn/cache/codemirror-npm-5.65.5-869a3f61ca-7d9e50b0e9.zip/node_modules/codemirror/addon/mode/overlay.js","webpack://moontale/./.yarn/cache/codemirror-npm-5.65.5-869a3f61ca-7d9e50b0e9.zip/node_modules/codemirror/addon/mode/simple.js","webpack://moontale/./.yarn/cache/codemirror-npm-5.65.5-869a3f61ca-7d9e50b0e9.zip/node_modules/codemirror/mode/markdown/markdown.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/defs.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/fengari.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/fengaricore.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/fengarilib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lapi.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lauxlib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lbaselib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lcode.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lcorolib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ldblib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ldebug.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ldo.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ldump.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lfunc.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/linit.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ljstype.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/llex.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/llimits.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lmathlib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/loadlib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lobject.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lopcodes.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/loslib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lparser.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lstate.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lstring.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lstrlib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ltable.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ltablib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/ltm.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lua.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/luaconf.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lualib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lundump.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lutf8lib.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lvm.js","webpack://moontale/./.yarn/cache/fengari-npm-0.1.4-f367acc87f-bd6b04f973.zip/node_modules/fengari/src/lzio.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/common/entities.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/common/html_blocks.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/common/html_re.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/common/utils.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/parser_block.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/parser_core.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/parser_inline.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/ruler.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/blockquote.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/code.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/fence.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/heading.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/hr.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/html_block.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/lheading.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/list.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/paragraph.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/reference.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/state_block.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_block/table.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/block.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/inline.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/linkify.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/normalize.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/replacements.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/state_core.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_core/text_join.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/autolink.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/backticks.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/entity.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/escape.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/fragments_join.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/image.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/link.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/linkify.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/newline.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/rules_inline/text.js","webpack://moontale/./.yarn/cache/markdown-it-npm-13.0.1-dcb1a8675c-faf5891d38.zip/node_modules/markdown-it/lib/token.js","webpack://moontale/./.yarn/cache/sprintf-js-npm-1.1.2-ea16269a6d-d4bb464646.zip/node_modules/sprintf-js/src/sprintf.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/categories/Cc/regex.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/categories/Cf/regex.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/categories/P/regex.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/categories/Z/regex.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/index.js","webpack://moontale/./.yarn/cache/uc.micro-npm-1.0.6-36f3dc2fc4-6898bb5563.zip/node_modules/uc.micro/properties/Any/regex.js","webpack://moontale/./src/mode-lua.js","webpack://moontale/webpack/bootstrap","webpack://moontale/webpack/startup"],"sourcesContent":["import content_block from './rules/content_block'\nimport expression from './rules/expression'\nimport passage_link from './rules/passage_link'\nimport variable from './rules/variable'\nimport script_block from './rules/script_block'\nimport Token from 'markdown-it/lib/token'\nimport ParserInline from 'markdown-it/lib/parser_inline'\nimport ParserBlock from 'markdown-it/lib/parser_block'\nimport ParserCore from 'markdown-it/lib/parser_core'\nimport { isWhiteSpace } from 'markdown-it/lib/common/utils'\n\n// We construct our own MarkdownIt instance here to exclude the features we don't use\n// (which saves on the bundle size)\nconst md = {\n    inline: new ParserInline(),\n    block: new ParserBlock(),\n    core: new ParserCore(),\n    options: {\n        html:         false,\n        xhtmlOut:     false,\n        breaks:       false,\n        langPrefix:   'language-',\n        linkify:      false,\n        typographer:  true,\n        quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n        highlight: null as null,\n        maxNesting:   100\n    },\n    parse: function(src: string, env: object) {\n        if (typeof src !== 'string') {\n            throw new Error('Input data should be a String');\n        }\n        var state = new this.core.State(src, this, env);\n        this.core.process(state);\n        return state.tokens;\n    } \n}\n\nconst rules = md.inline.ruler\nrules.disable(['link', 'image', 'autolink'])\nrules.push('passage_link', passage_link)\nrules.push('content_block', content_block)\nrules.push('expression', expression)\nrules.push('script_block', script_block)\nrules.push('variable', variable)\nmd.block.ruler.disable(['reference'])\n\nfunction escape(input: string): string {\n    return input\n        .replace(/\\'/g, '\\\\\\'')\n        .replace(/\\n/g, '\\\\\\n')\n}\n\nfunction renderOne(input: Token, output: string[], state: {level: number, links: string[]}) {\n\n    function add(str: string) {\n        output.push(`${'  '.repeat(state.level)}${str}`)\n    }\n    // Undo the placeholder character added in preprocess()\n    input.content = input.content?.replace(/\\f/g, '\\n')\n    const changer = input.attrGet('changer')?.replace(/\\f/g, '\\n')\n    const href = escape(input.attrGet('href') ?? '')\n    switch (input.type) {\n    case 'inline':\n        for (const child of input.children) {\n            renderOne(child, output, state)\n        }\n        break\n    case 'text':\n        let content = input.content\n        if (content.length > 0) {\n            if (!isWhiteSpace(content.charCodeAt(content.length - 1))) {\n                content = content + ' '\n            }\n            add(`Text('${escape(content)}')`)\n        }\n        break\n    case 'link_open':\n        if (changer == null) {\n            add(`Link('${href}')(function()`)\n        } else {\n            add(`Combine(AsChanger(${changer}), Link('${href}'))(function()`)\n        }\n        state.level++\n        state.links.push(href)\n        break\n    case 'link_inline':\n        if (changer == null) {\n            add(`Display('${href}')`)\n        } else {\n            add(`AsChanger(${changer})(function() Display('${href}') end)`)\n        }\n        break\n    case 'content_open':\n        if (changer == null) {\n            add(`Show(function()`)\n        } else {\n            add(`AsChanger(${changer})(function()`)\n        }\n        state.level++\n        break\n    case 'code_variable':\n    case 'code_expression':\n        add(`Show(${input.content})`)\n        break\n    case 'code_block':\n        add(input.content)\n        break\n    default: \n        switch (input.nesting) {\n        case 1:\n            add(`Style.${input.tag}(function()`)\n            state.level++\n            break\n        case -1:\n            state.level--\n            add(`end)`)\n            break\n        case 0:\n            if (input.type == 'softbreak') {\n            } else if (input.tag != \"\") {\n                add(`Object('${input.tag}')`)\n            }\n            break\n        }\n    }\n}\n\nexport function parse(src: string) { return md.parse(preprocess(src), {}) }\n\nexport function markdownToLua(src: string, outputBuffer: string[], state: {level: number, links: string[]}) {\n    let startLevel = state.level\n    for(const token of md.parse(preprocess(src), {})) {\n        renderOne(token, outputBuffer, state)\n    }\n    while (state.level > startLevel) {\n        renderOne(new Token('content_close', '', -1), outputBuffer, state)\n    }\n}\n\nfunction preprocess(src: string): string {\n    let idx = 0\n    let out = \"\"\n    while (idx < src.length) {\n        let i1 = src.indexOf(\"{$\", idx)\n        let i2 = src.indexOf(\"<$\", idx)\n        let search: string\n        let start: number\n        if (i1 >= 0) {\n            start = i1\n            search = \"$}\"\n        } else if (i2 >= 0) {\n            start = i2\n            search = \"$>\"\n        } else {\n            out += src.substring(idx)\n            break\n        }\n        out += src.substring(idx, start)\n        let end = src.indexOf(search, idx + 2)\n        if (end < 0) {\n            end = src.length;\n        } else {\n            end = end + 2;\n        }\n        // Swap out newlines for a placeholder character, to force them to be 'inline'\n        out += src.substring(start, end).replace(/\\n/g, '\\f')\n        idx = end\n    }\n    return out\n}\n\nexport function storyToLua(story: Element): string {\n    let startNode = story.getAttribute('startnode')\n    let startNodeName: string | null = null\n    const buf: string[] = ['-- Generated with Moontale']\n    buf.push(`story = '${escape(story.getAttribute('name'))}'`)\n    buf.push(`Passages = {`)\n    for (let i = 0; i < story.children.length; i++) {\n        let node = story.children[i]\n        if (node.tagName.toLowerCase() === \"tw-passagedata\") {\n            if (startNode === node.getAttribute('pid')) {\n                startNodeName = node.getAttribute('name')\n            }\n            buf.push(`  ['${escape(node.getAttribute('name'))}'] = {`)\n            let tags = node.getAttribute('tags').split(' ')\n            if (tags.length === 1 && tags[0] === '') {\n                tags = []\n            }\n            buf.push(`    tags = { ${tags.map(t => `['${escape(t)}'] = true`).join(',')} },`)\n            buf.push(`    position = {${node.getAttribute('position')}},`)\n            buf.push(`    content = function()`)\n            let links: string[] = []\n            markdownToLua(node.textContent, buf, {level: 3, links})\n            buf.push(`    end,`)\n            buf.push(`    links = { ${links.map(t => `'${escape(t)}'`).join(',')} }`)\n            buf.push(`  },`)\n        }\n    }\n    buf.push(`}`)\n    buf.push(`StartPassage = '${escape(startNodeName)}'`)\n\n    return buf.join('\\n')\n}","\nimport { Annotation, Linter } from 'codemirror/addon/lint/lint'\nimport { parse, markdownToLua } from \"./convert\"\nimport Token from 'markdown-it/lib/token'\nimport { lua, lauxlib, lualib, lua_State } from 'fengari'\n\nconst enc = new TextEncoder()\nconst errorPattern = /]:(\\d+): (.*)/\n\nfunction doLua(L: lua_State, src: string, output: Annotation[], pos: [number, number]) {\n    if (lauxlib.luaL_dostring(L, enc.encode(src))) {\n        let errorStr = lua.lua_tojsstring(L, lua.lua_gettop(L))\n        let [_, line, msg] = errorStr.match(errorPattern)\n        output.push({\n            // TODO: Limit line position\n            from: {ch: 0, line: pos[0] + Number(line) - 1},\n            to: {ch: 0, line: pos[0] + Number(line)},\n            severity: 'error',\n            message: msg\n        })\n    }\n}\n\nfunction countChars(src: string, charCode: number) {\n    let count = 0\n    for (let i = 0; i < src.length; i++) {\n        if (src.charCodeAt(i) == charCode) {\n            count++\n        }\n    }\n    return count\n}\n\nfunction lintOne(token: Token, output: Annotation[], L: lua_State, parent: Token | null,\n    state: {extraLines: number, pendingExtraLines: number}\n) {\n\n    function getLineAndChar(): [number, number] {\n        if (parent == null) {\n            return [0, 0]\n        }\n        let src = parent.content\n        let line = 0;\n        let lastLineAt = 0;\n        let pos = token.meta as number\n        for (let i = 0; i < pos; i++) {\n            if (src.charCodeAt(i) == 0xA) /* \\n */ {\n                line++\n                lastLineAt = i\n            }\n        }\n        return [line + parent.map!![0] + state.extraLines, pos - lastLineAt]\n    }\n\n    function undoPreprocess() {\n        // Ensure that the script-replaced lines get added to token.map when figuring out the line number\n        state.pendingExtraLines += countChars(token.content ?? \"\", 0xC) /* \\f */\n        return token.content?.replace(/\\f/g, '\\n')\n    }\n\n    switch (token.type) {\n    case 'inline':\n        for (const child of token.children) {\n            lintOne(child, output, L, token, state)\n        }\n        break\n    case 'code_block':\n        doLua(L, undoPreprocess(), output, getLineAndChar())\n        break\n    case 'code_variable':\n    case 'code_expression':\n        doLua(L, `Show(${undoPreprocess()})`, output, getLineAndChar())\n        break\n    case 'content_open':\n        doLua(L, `AsChanger(${undoPreprocess()})(function() end)`, output, getLineAndChar())\n        break\n    }\n    state.extraLines += state.pendingExtraLines\n    state.pendingExtraLines = 0\n    \n}\n\nfunction getLintingContext(passages: {text: string, tags: string[]}[]): string {\n    if (passages) {\n        return [].concat(\n            passages.filter(x => x.tags.includes('startup'))\n                .concat(passages.filter(x => x.tags.includes('header')))\n            .map(x => {\n                let outbuf = []\n                markdownToLua(x.text, outbuf, {level: 0, links: []})\n                return outbuf.join('\\n')\n            })).join('\\n')\n    } else {\n        return ''\n    }\n}\n\nexport function makeLinter(lib: string, passages: () => {text: string, tags: string[]}[]): Linter<unknown> {\n    return content => {\n        // TODO: This isn't super performant. Is it possible to copy the Lua state? Or run the linted code in a sandbox?\n        let L = lauxlib.luaL_newstate()\n        lualib.luaL_openlibs(L)\n        for (let fname of [\"Log\", \"Push\", \"Pop\", \"Text\", \"Object\", \"Clear\", \"Invalidate\"]) {\n            lua.lua_register(L, fname, L => 0)\n        }\n        let output: Annotation[] = []\n        doLua(L, lib, output, [0, 0])\n        // TODO: Cache the lint context\n        doLua(L, getLintingContext(passages()), output, [0, 0])\n\n        // Put any errors from the context at 0,0\n        for (let a of output) {\n            a.from = {ch: 0, line: 0}\n            a.to = {ch: 1, line: 0}\n        }\n\n        let state = {extraLines: 0, pendingExtraLines: 0}\n        for(let token of parse(content)) {\n            lintOne(token, output, L, null, state)\n        }\n        return output\n    }\n}","// Handle [nested [content blocks]]\nimport StateInline from 'markdown-it/lib/rules_inline/state_inline'\n\nexport default function (state: StateInline, silent: boolean): boolean {\n\n    if (state.src.charCodeAt(state.pos) === 0x5B /* [ */) {\n\n        // If we immediately followed a variable or expression, use it as a Changer for this content:\n        const prevToken = state.tokens[state.tokens.length - 1]\n        let changer: string | null\n        if (prevToken && (prevToken.type == 'code_variable' || prevToken.type == 'code_expression')) {\n            // Remove the expression token; we don't want it to be printed in the output\n            state.tokens.splice(state.tokens.length - 1, 1)\n            changer = prevToken.content\n        } else {\n            changer = null\n        }\n\n        state.push('content_open', '', 1).attrs = [['changer', changer]]\n        state.pos++\n        return true\n    }\n\n    if (state.src.charCodeAt(state.pos) === 0x5D /* ] */) {\n        state.push('content_close', '', state.level <= 0 ? 0 : -1)\n        state.pos++\n        return true\n    }\n\n    return false\n}\n","// Handle <$ lua_expression $>\nimport StateInline from 'markdown-it/lib/rules_inline/state_inline'\n\nexport default function (state: StateInline, silent: boolean): boolean {\n\n    const markerLength = 2\n    if (!state.src.startsWith('<$', state.pos)) {\n        return false\n    }\n    const endMarker = state.src.indexOf('$>', state.pos + markerLength)\n    let endBlock: number, endSyntax: number;\n    if (endMarker < 0) {\n        endBlock = state.src.length\n        endSyntax = state.src.length\n    } else {\n        endBlock = endMarker\n        endSyntax = endMarker + markerLength\n    }\n    let tok = state.push('code_expression', '', 0)\n    tok.content = state.src.slice(state.pos + markerLength, endBlock)\n    tok.meta = state.pos\n    state.pos = endSyntax\n    return true\n}","// Handle [[passage->links]], all three forms\nimport StateInline from 'markdown-it/lib/rules_inline/state_inline'\n\nexport default function (state: StateInline, silent: boolean): boolean {\n\n    const markerLength = 2\n    if (!state.src.startsWith('[[', state.pos)) {\n        return false\n    }\n\n    const startPos = state.pos + markerLength\n    const srcEnd = state.posMax\n    let endPos = startPos\n    let ltrLink = -1\n    let rtlLink = -1\n    while (endPos < srcEnd && !state.src.startsWith(']]', endPos)) {\n        // For complex links, we always want to minimise the length of the 'target' and maximise the length of the 'label'\n        // So for RTL links, we want to take the left-most (first) occurrence, and for LTR, the right-most (last)\n        if (rtlLink === -1 && state.src.startsWith('<-', endPos)) {\n            rtlLink = endPos\n        } else if (state.src.startsWith('->', endPos)) {\n            ltrLink = endPos\n        }\n        endPos++\n    }\n\n    if (endPos === srcEnd) {\n        // No ']]' found; not a valid link\n        return false\n    }\n\n    if (ltrLink !== -1 && rtlLink !== -1) {\n        // In the first instance, prefer the form where the marker is closest to its 'end'\n        const rtlLength = rtlLink - startPos\n        const ltrLength = endPos - (ltrLink + markerLength)\n        // If it's something stupid like [[foo<- ->bar]] or [[foo-> <-bar]], prefer LTR links\n        if (rtlLength < ltrLength) {\n            ltrLink = -1\n        } else {\n            rtlLink = -1\n        }\n    }\n\n    // Slice up the target and label based on the link form\n    let target: string\n    if (ltrLink !== -1) {\n        target = state.src.slice(ltrLink + markerLength, endPos).trim()\n        state.pos = startPos\n        state.posMax = ltrLink\n    } else if (rtlLink !== -1) {\n        target = state.src.slice(startPos, rtlLink).trim()\n        state.pos = rtlLink + markerLength\n        state.posMax = endPos\n    } else {\n        target = state.src.slice(startPos, endPos).trim()\n        state.pos = startPos\n        state.posMax = endPos\n    }\n\n    // If we immediately followed a variable or expression, use it as a Changer for this content:\n    const prevToken = state.tokens[state.tokens.length - 1]\n    let changer: string | null\n    if (prevToken && (prevToken.type == 'code_variable' || prevToken.type == 'code_expression')) {\n        // Remove the expression token; we don't want it to be printed in the output\n        state.tokens.splice(state.tokens.length - 1, 1)\n        changer = prevToken.content\n    } else {\n        changer = null\n    }\n\n    // If the link matches [[ ->Foo]], then just display Foo inline\n    if (ltrLink !== -1 && state.src.slice(state.pos, state.posMax).trim() == \"\") {\n        state.push('link_inline', '', 0).attrs = [ ['href', target], ['changer', changer] ]\n    } else {\n        // The label can contain tokens itself, so we need to call 'tokenize' here\n        state.push('link_open', 'a', 1).attrs = [ ['href', target], ['changer', changer] ]\n        state.md.inline.tokenize(state)\n        state.push('link_close', 'a', -1)\n    }\n\n    // Restore the state to its original... state\n    state.pos = endPos + markerLength\n    state.posMax = srcEnd\n    return true\n\n}","// Handle {$ lua_script $}\nimport StateInline from 'markdown-it/lib/rules_inline/state_inline'\n\nexport default function (state: StateInline, silent: boolean): boolean {\n\n    const markerLength = 2\n    if (!state.src.startsWith('{$', state.pos)) {\n        return false\n    }\n    const endMarker = state.src.indexOf('$}', state.pos + markerLength)\n    let endBlock: number, endSyntax: number;\n    if (endMarker < 0) {\n        endBlock = state.src.length\n        endSyntax = state.src.length\n    } else {\n        endBlock = endMarker\n        endSyntax = endMarker + markerLength\n    }\n    let tok = state.push('code_block', '', 0)\n    tok.content = state.src.slice(state.pos + markerLength, endBlock)\n    tok.meta = state.pos\n    state.pos = endSyntax\n    return true\n}","// Handle $variables\nimport StateInline from 'markdown-it/lib/rules_inline/state_inline'\n\nfunction isLetter(code: number): boolean {\n    return code === 0x5F || (code >= 0x41 && code <= 0x5A) || (code >= 0x61 && code <= 0x7A)\n}\n\nfunction isLetterOrNumber(code: number): boolean {\n    return isLetter(code) || (code >= 0x30 && code <= 0x39)\n}\n\nfunction propertyExpression(state: StateInline, output: string[]): boolean {\n    let start = state.pos\n    if (state.src.charCodeAt(state.pos) != 0x2E /* . */) {\n        return false\n    }\n    if (!isLetter(state.src.charCodeAt(state.pos + 1))) {\n        return false\n    }\n    state.pos++\n    do {\n        state.pos++\n    } while (state.pos < state.src.length && isLetterOrNumber(state.src.charCodeAt(state.pos)))\n    output.push(state.src.slice(start, state.pos))\n    return true\n}\n\nfunction callExpression(state: StateInline, output: string[], begin: number, end: number): boolean {\n    if (state.src.charCodeAt(state.pos) != begin) {\n        return false\n    }\n    let start = state.pos\n    let pos = state.pos\n    let level = 1\n    let code: Number\n    do {\n        pos++\n        code = state.src.charCodeAt(pos)\n        if (code == begin) {\n            level++\n        } else if (code == end) {\n            level--\n        }\n    } while (level > 0 && code != 0x0A && pos < state.src.length)\n    if (level == 0) {\n        state.pos = pos + 1\n        output.push(state.src.slice(start, state.pos))\n        return true\n    }\n    return false\n}\n\nfunction lambdaExpression(state: StateInline, output: string[]): boolean {\n    if (!state.src.startsWith(\"<<\", state.pos)) {\n        return false\n    }\n    let found = state.src.indexOf(\">>\", state.pos + 2)\n    if (found < 0) {\n        return false\n    }\n    output.push(\"(function() \")\n    output.push(state.src.slice(state.pos + 2, found))\n    output.push(\" end)\")\n    state.pos = found + 2\n    return true\n}\n\nexport default function (state: StateInline, silent: boolean): boolean {\n\n    if (state.src.charCodeAt(state.pos) !== 0x24 /* $ */) {\n        return false\n    }\n    if (!isLetter(state.src.charCodeAt(state.pos + 1))) {\n        return false\n    }\n    const start = state.pos = state.pos + 1\n    do {\n        state.pos++\n    } while (isLetterOrNumber(state.src.charCodeAt(state.pos)))\n    let output = [state.src.slice(start, state.pos)]\n    while (propertyExpression(state, output) // foo.bar\n        || callExpression(state, output, 0x28, 0x29) // foo(bar)\n        || callExpression(state, output, 0x7B, 0x7D) // foo{bar}\n        || lambdaExpression(state, output) // foo<<bar>>\n    ) {\n        // Continue\n    }\n    let tok = state.push('code_variable', '', 0)\n    tok.content = output.join('')\n    tok.meta = start\n    return true\n}","import 'codemirror/addon/mode/multiplex'\nimport 'codemirror/addon/mode/overlay'\nimport 'codemirror/addon/mode/simple'\nimport 'codemirror/addon/lint/lint'\nimport 'codemirror/mode/markdown/markdown'\n// We need to use a custom modification of the default Lua mode which\n// removes the case-insensitivity of the delimiter regexes.\n// import 'codemirror/mode/lua/lua'\nimport './mode-lua'\nimport editorCss from './editor.css'\nimport { makeLinter } from \"./linter\"\nimport lintCss from \"codemirror/addon/lint/lint.css\"\nimport { Editor, EditorConfiguration, Mode } from 'codemirror'\nimport moontaleLib from '../moontale-unity/Packages/com.hmilne.moontale/Runtime/moontale.lua'\n\nfunction loadExtraCss(id: string, src: string) {\n    let styleContainer = document.querySelector(`style#${id}`);\n    if (!styleContainer) {\n        styleContainer = document.createElement('style')\n        styleContainer.setAttribute('id', id)\n        document.head.appendChild(styleContainer)\n    }\n    styleContainer.innerHTML = src\n}\n\nloadExtraCss('cm-lint', lintCss)\nloadExtraCss('cm-moontale', editorCss)\n\nfunction modeFactory(config: EditorConfiguration): Mode<any> {\n    let modeObj = window.CodeMirror.simpleMode(config, {\n    start: [\n        {regex: /\\{\\$/, token: 'tag', mode: {spec: 'lua', end: /\\$\\}/}},\n        {regex: /\\<\\$/, token: 'tag', mode: {spec: 'lua', end: /\\$\\>/}},\n        {regex: /\\$[A-Za-z_]\\w*/, token: 'variable-2', push: 'expression'},\n        {regex: /(\\[\\[)(.*?)(<\\-)/, token: ['bracket', 'link', 'special', 'bracket']},\n        {regex: /(\\[\\[)((?:(?!->).)*?)(\\]\\])/, token: ['bracket', 'link', 'bracket']},\n        {regex: /\\[\\[/, token: 'bracket'},\n        {regex: /(->)(.*?)(]])/, token: ['special', 'link', 'bracket']},\n        {regex: /(->)/, token: 'special'},\n        {regex: /]]/, token: 'bracket'},\n        {regex: /\\[|]/, token: 'tag'},\n        {regex: /-|\\{|<|\\[|]|\\$/},\n        {regex: /(?!\\$)/, mode: {spec: 'markdown', end: /(?=-|\\{|<|\\[|]|\\$)/, persistent: true}},\n    ],\n    expression: [\n        {sol: true, pop: true},\n        {regex: /<</, token: 'bracket', mode: {spec: 'lua', end: />>/}},\n        {regex: /(\\.)(\\w+)/, token: ['punctuation', 'variable'], next: 'expression'},\n        {regex: /\\(/, token: 'bracket', mode: {spec: 'lua', end: /\\)/}},\n        {regex: /\\{/, token: 'bracket', mode: {spec: 'lua', end: /\\}/}},\n        {regex: '', pop: true},\n    ]\n    }) \n    let cm = (modeFactory as any).cm as Editor | undefined\n    // This is a TwineJS hack that lets us access the CodeMirror Editor instance\n    if (cm != undefined) {\n        cm.setOption(\"lint\", true)\n        cm.setOption(\"lineNumbers\", true);\n        cm.setOption(\"indentWithTabs\", true);\n        cm.setOption(\"indentUnit\", 4);\n        // HACK: Force a change to get it to lint for the first time\n        for (let f of (cm as any)._handlers.change) {\n            f(cm)\n        }\n    }\n    return modeObj\n}\n\nwindow.CodeMirror.defineMode('moontale', modeFactory)\n\nwindow.CodeMirror.registerHelper('lint', 'moontale', makeLinter(moontaleLib,\n    () => (document.querySelector('div#storyEditView') as any)?.__vue__?.story?.passages ?? []    \n))\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var GUTTER_ID = \"CodeMirror-lint-markers\";\n  var LINT_LINE_ID = \"CodeMirror-lint-line-\";\n\n  function showTooltip(cm, e, content) {\n    var tt = document.createElement(\"div\");\n    tt.className = \"CodeMirror-lint-tooltip cm-s-\" + cm.options.theme;\n    tt.appendChild(content.cloneNode(true));\n    if (cm.state.lint.options.selfContain)\n      cm.getWrapperElement().appendChild(tt);\n    else\n      document.body.appendChild(tt);\n\n    function position(e) {\n      if (!tt.parentNode) return CodeMirror.off(document, \"mousemove\", position);\n      tt.style.top = Math.max(0, e.clientY - tt.offsetHeight - 5) + \"px\";\n      tt.style.left = (e.clientX + 5) + \"px\";\n    }\n    CodeMirror.on(document, \"mousemove\", position);\n    position(e);\n    if (tt.style.opacity != null) tt.style.opacity = 1;\n    return tt;\n  }\n  function rm(elt) {\n    if (elt.parentNode) elt.parentNode.removeChild(elt);\n  }\n  function hideTooltip(tt) {\n    if (!tt.parentNode) return;\n    if (tt.style.opacity == null) rm(tt);\n    tt.style.opacity = 0;\n    setTimeout(function() { rm(tt); }, 600);\n  }\n\n  function showTooltipFor(cm, e, content, node) {\n    var tooltip = showTooltip(cm, e, content);\n    function hide() {\n      CodeMirror.off(node, \"mouseout\", hide);\n      if (tooltip) { hideTooltip(tooltip); tooltip = null; }\n    }\n    var poll = setInterval(function() {\n      if (tooltip) for (var n = node;; n = n.parentNode) {\n        if (n && n.nodeType == 11) n = n.host;\n        if (n == document.body) return;\n        if (!n) { hide(); break; }\n      }\n      if (!tooltip) return clearInterval(poll);\n    }, 400);\n    CodeMirror.on(node, \"mouseout\", hide);\n  }\n\n  function LintState(cm, conf, hasGutter) {\n    this.marked = [];\n    if (conf instanceof Function) conf = {getAnnotations: conf};\n    if (!conf || conf === true) conf = {};\n    this.options = {};\n    this.linterOptions = conf.options || {};\n    for (var prop in defaults) this.options[prop] = defaults[prop];\n    for (var prop in conf) {\n      if (defaults.hasOwnProperty(prop)) {\n        if (conf[prop] != null) this.options[prop] = conf[prop];\n      } else if (!conf.options) {\n        this.linterOptions[prop] = conf[prop];\n      }\n    }\n    this.timeout = null;\n    this.hasGutter = hasGutter;\n    this.onMouseOver = function(e) { onMouseOver(cm, e); };\n    this.waitingFor = 0\n  }\n\n  var defaults = {\n    highlightLines: false,\n    tooltips: true,\n    delay: 500,\n    lintOnChange: true,\n    getAnnotations: null,\n    async: false,\n    selfContain: null,\n    formatAnnotation: null,\n    onUpdateLinting: null\n  }\n\n  function clearMarks(cm) {\n    var state = cm.state.lint;\n    if (state.hasGutter) cm.clearGutter(GUTTER_ID);\n    if (state.options.highlightLines) clearErrorLines(cm);\n    for (var i = 0; i < state.marked.length; ++i)\n      state.marked[i].clear();\n    state.marked.length = 0;\n  }\n\n  function clearErrorLines(cm) {\n    cm.eachLine(function(line) {\n      var has = line.wrapClass && /\\bCodeMirror-lint-line-\\w+\\b/.exec(line.wrapClass);\n      if (has) cm.removeLineClass(line, \"wrap\", has[0]);\n    })\n  }\n\n  function makeMarker(cm, labels, severity, multiple, tooltips) {\n    var marker = document.createElement(\"div\"), inner = marker;\n    marker.className = \"CodeMirror-lint-marker CodeMirror-lint-marker-\" + severity;\n    if (multiple) {\n      inner = marker.appendChild(document.createElement(\"div\"));\n      inner.className = \"CodeMirror-lint-marker CodeMirror-lint-marker-multiple\";\n    }\n\n    if (tooltips != false) CodeMirror.on(inner, \"mouseover\", function(e) {\n      showTooltipFor(cm, e, labels, inner);\n    });\n\n    return marker;\n  }\n\n  function getMaxSeverity(a, b) {\n    if (a == \"error\") return a;\n    else return b;\n  }\n\n  function groupByLine(annotations) {\n    var lines = [];\n    for (var i = 0; i < annotations.length; ++i) {\n      var ann = annotations[i], line = ann.from.line;\n      (lines[line] || (lines[line] = [])).push(ann);\n    }\n    return lines;\n  }\n\n  function annotationTooltip(ann) {\n    var severity = ann.severity;\n    if (!severity) severity = \"error\";\n    var tip = document.createElement(\"div\");\n    tip.className = \"CodeMirror-lint-message CodeMirror-lint-message-\" + severity;\n    if (typeof ann.messageHTML != 'undefined') {\n      tip.innerHTML = ann.messageHTML;\n    } else {\n      tip.appendChild(document.createTextNode(ann.message));\n    }\n    return tip;\n  }\n\n  function lintAsync(cm, getAnnotations) {\n    var state = cm.state.lint\n    var id = ++state.waitingFor\n    function abort() {\n      id = -1\n      cm.off(\"change\", abort)\n    }\n    cm.on(\"change\", abort)\n    getAnnotations(cm.getValue(), function(annotations, arg2) {\n      cm.off(\"change\", abort)\n      if (state.waitingFor != id) return\n      if (arg2 && annotations instanceof CodeMirror) annotations = arg2\n      cm.operation(function() {updateLinting(cm, annotations)})\n    }, state.linterOptions, cm);\n  }\n\n  function startLinting(cm) {\n    var state = cm.state.lint;\n    if (!state) return;\n    var options = state.options;\n    /*\n     * Passing rules in `options` property prevents JSHint (and other linters) from complaining\n     * about unrecognized rules like `onUpdateLinting`, `delay`, `lintOnChange`, etc.\n     */\n    var getAnnotations = options.getAnnotations || cm.getHelper(CodeMirror.Pos(0, 0), \"lint\");\n    if (!getAnnotations) return;\n    if (options.async || getAnnotations.async) {\n      lintAsync(cm, getAnnotations)\n    } else {\n      var annotations = getAnnotations(cm.getValue(), state.linterOptions, cm);\n      if (!annotations) return;\n      if (annotations.then) annotations.then(function(issues) {\n        cm.operation(function() {updateLinting(cm, issues)})\n      });\n      else cm.operation(function() {updateLinting(cm, annotations)})\n    }\n  }\n\n  function updateLinting(cm, annotationsNotSorted) {\n    var state = cm.state.lint;\n    if (!state) return;\n    var options = state.options;\n    clearMarks(cm);\n\n    var annotations = groupByLine(annotationsNotSorted);\n\n    for (var line = 0; line < annotations.length; ++line) {\n      var anns = annotations[line];\n      if (!anns) continue;\n\n      // filter out duplicate messages\n      var message = [];\n      anns = anns.filter(function(item) { return message.indexOf(item.message) > -1 ? false : message.push(item.message) });\n\n      var maxSeverity = null;\n      var tipLabel = state.hasGutter && document.createDocumentFragment();\n\n      for (var i = 0; i < anns.length; ++i) {\n        var ann = anns[i];\n        var severity = ann.severity;\n        if (!severity) severity = \"error\";\n        maxSeverity = getMaxSeverity(maxSeverity, severity);\n\n        if (options.formatAnnotation) ann = options.formatAnnotation(ann);\n        if (state.hasGutter) tipLabel.appendChild(annotationTooltip(ann));\n\n        if (ann.to) state.marked.push(cm.markText(ann.from, ann.to, {\n          className: \"CodeMirror-lint-mark CodeMirror-lint-mark-\" + severity,\n          __annotation: ann\n        }));\n      }\n      // use original annotations[line] to show multiple messages\n      if (state.hasGutter)\n        cm.setGutterMarker(line, GUTTER_ID, makeMarker(cm, tipLabel, maxSeverity, annotations[line].length > 1,\n                                                       options.tooltips));\n\n      if (options.highlightLines)\n        cm.addLineClass(line, \"wrap\", LINT_LINE_ID + maxSeverity);\n    }\n    if (options.onUpdateLinting) options.onUpdateLinting(annotationsNotSorted, annotations, cm);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.lint;\n    if (!state) return;\n    clearTimeout(state.timeout);\n    state.timeout = setTimeout(function(){startLinting(cm);}, state.options.delay);\n  }\n\n  function popupTooltips(cm, annotations, e) {\n    var target = e.target || e.srcElement;\n    var tooltip = document.createDocumentFragment();\n    for (var i = 0; i < annotations.length; i++) {\n      var ann = annotations[i];\n      tooltip.appendChild(annotationTooltip(ann));\n    }\n    showTooltipFor(cm, e, tooltip, target);\n  }\n\n  function onMouseOver(cm, e) {\n    var target = e.target || e.srcElement;\n    if (!/\\bCodeMirror-lint-mark-/.test(target.className)) return;\n    var box = target.getBoundingClientRect(), x = (box.left + box.right) / 2, y = (box.top + box.bottom) / 2;\n    var spans = cm.findMarksAt(cm.coordsChar({left: x, top: y}, \"client\"));\n\n    var annotations = [];\n    for (var i = 0; i < spans.length; ++i) {\n      var ann = spans[i].__annotation;\n      if (ann) annotations.push(ann);\n    }\n    if (annotations.length) popupTooltips(cm, annotations, e);\n  }\n\n  CodeMirror.defineOption(\"lint\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      clearMarks(cm);\n      if (cm.state.lint.options.lintOnChange !== false)\n        cm.off(\"change\", onChange);\n      CodeMirror.off(cm.getWrapperElement(), \"mouseover\", cm.state.lint.onMouseOver);\n      clearTimeout(cm.state.lint.timeout);\n      delete cm.state.lint;\n    }\n\n    if (val) {\n      var gutters = cm.getOption(\"gutters\"), hasLintGutter = false;\n      for (var i = 0; i < gutters.length; ++i) if (gutters[i] == GUTTER_ID) hasLintGutter = true;\n      var state = cm.state.lint = new LintState(cm, val, hasLintGutter);\n      if (state.options.lintOnChange)\n        cm.on(\"change\", onChange);\n      if (state.options.tooltips != false && state.options.tooltips != \"gutter\")\n        CodeMirror.on(cm.getWrapperElement(), \"mouseover\", state.onMouseOver);\n\n      startLinting(cm);\n    }\n  });\n\n  CodeMirror.defineExtension(\"performLint\", function() {\n    startLinting(this);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.multiplexingMode = function(outer /*, others */) {\n  // Others should be {open, close, mode [, delimStyle] [, innerStyle] [, parseDelimiters]} objects\n  var others = Array.prototype.slice.call(arguments, 1);\n\n  function indexOf(string, pattern, from, returnEnd) {\n    if (typeof pattern == \"string\") {\n      var found = string.indexOf(pattern, from);\n      return returnEnd && found > -1 ? found + pattern.length : found;\n    }\n    var m = pattern.exec(from ? string.slice(from) : string);\n    return m ? m.index + from + (returnEnd ? m[0].length : 0) : -1;\n  }\n\n  return {\n    startState: function() {\n      return {\n        outer: CodeMirror.startState(outer),\n        innerActive: null,\n        inner: null,\n        startingInner: false\n      };\n    },\n\n    copyState: function(state) {\n      return {\n        outer: CodeMirror.copyState(outer, state.outer),\n        innerActive: state.innerActive,\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner),\n        startingInner: state.startingInner\n      };\n    },\n\n    token: function(stream, state) {\n      if (!state.innerActive) {\n        var cutOff = Infinity, oldContent = stream.string;\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          var found = indexOf(oldContent, other.open, stream.pos);\n          if (found == stream.pos) {\n            if (!other.parseDelimiters) stream.match(other.open);\n            state.startingInner = !!other.parseDelimiters\n            state.innerActive = other;\n\n            // Get the outer indent, making sure to handle CodeMirror.Pass\n            var outerIndent = 0;\n            if (outer.indent) {\n              var possibleOuterIndent = outer.indent(state.outer, \"\", \"\");\n              if (possibleOuterIndent !== CodeMirror.Pass) outerIndent = possibleOuterIndent;\n            }\n\n            state.inner = CodeMirror.startState(other.mode, outerIndent);\n            return other.delimStyle && (other.delimStyle + \" \" + other.delimStyle + \"-open\");\n          } else if (found != -1 && found < cutOff) {\n            cutOff = found;\n          }\n        }\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\n        var outerToken = outer.token(stream, state.outer);\n        if (cutOff != Infinity) stream.string = oldContent;\n        return outerToken;\n      } else {\n        var curInner = state.innerActive, oldContent = stream.string;\n        if (!curInner.close && stream.sol()) {\n          state.innerActive = state.inner = null;\n          return this.token(stream, state);\n        }\n        var found = curInner.close && !state.startingInner ?\n            indexOf(oldContent, curInner.close, stream.pos, curInner.parseDelimiters) : -1;\n        if (found == stream.pos && !curInner.parseDelimiters) {\n          stream.match(curInner.close);\n          state.innerActive = state.inner = null;\n          return curInner.delimStyle && (curInner.delimStyle + \" \" + curInner.delimStyle + \"-close\");\n        }\n        if (found > -1) stream.string = oldContent.slice(0, found);\n        var innerToken = curInner.mode.token(stream, state.inner);\n        if (found > -1) stream.string = oldContent;\n        else if (stream.pos > stream.start) state.startingInner = false\n\n        if (found == stream.pos && curInner.parseDelimiters)\n          state.innerActive = state.inner = null;\n\n        if (curInner.innerStyle) {\n          if (innerToken) innerToken = innerToken + \" \" + curInner.innerStyle;\n          else innerToken = curInner.innerStyle;\n        }\n\n        return innerToken;\n      }\n    },\n\n    indent: function(state, textAfter, line) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (!mode.indent) return CodeMirror.Pass;\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter, line);\n    },\n\n    blankLine: function(state) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (mode.blankLine) {\n        mode.blankLine(state.innerActive ? state.inner : state.outer);\n      }\n      if (!state.innerActive) {\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          if (other.open === \"\\n\") {\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, mode.indent ? mode.indent(state.outer, \"\", \"\") : 0);\n          }\n        }\n      } else if (state.innerActive.close === \"\\n\") {\n        state.innerActive = state.inner = null;\n      }\n    },\n\n    electricChars: outer.electricChars,\n\n    innerMode: function(state) {\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode = function(name, states) {\n    CodeMirror.defineMode(name, function(config) {\n      return CodeMirror.simpleMode(config, states);\n    });\n  };\n\n  CodeMirror.simpleMode = function(config, states) {\n    ensureState(states, \"start\");\n    var states_ = {}, meta = states.meta || {}, hasIndentation = false;\n    for (var state in states) if (state != meta && states.hasOwnProperty(state)) {\n      var list = states_[state] = [], orig = states[state];\n      for (var i = 0; i < orig.length; i++) {\n        var data = orig[i];\n        list.push(new Rule(data, states));\n        if (data.indent || data.dedent) hasIndentation = true;\n      }\n    }\n    var mode = {\n      startState: function() {\n        return {state: \"start\", pending: null,\n                local: null, localState: null,\n                indent: hasIndentation ? [] : null};\n      },\n      copyState: function(state) {\n        var s = {state: state.state, pending: state.pending,\n                 local: state.local, localState: null,\n                 indent: state.indent && state.indent.slice(0)};\n        if (state.localState)\n          s.localState = CodeMirror.copyState(state.local.mode, state.localState);\n        if (state.stack)\n          s.stack = state.stack.slice(0);\n        for (var pers = state.persistentStates; pers; pers = pers.next)\n          s.persistentStates = {mode: pers.mode,\n                                spec: pers.spec,\n                                state: pers.state == state.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),\n                                next: s.persistentStates};\n        return s;\n      },\n      token: tokenFunction(states_, config),\n      innerMode: function(state) { return state.local && {mode: state.local.mode, state: state.localState}; },\n      indent: indentFunction(states_, meta)\n    };\n    if (meta) for (var prop in meta) if (meta.hasOwnProperty(prop))\n      mode[prop] = meta[prop];\n    return mode;\n  };\n\n  function ensureState(states, name) {\n    if (!states.hasOwnProperty(name))\n      throw new Error(\"Undefined state \" + name + \" in simple mode\");\n  }\n\n  function toRegex(val, caret) {\n    if (!val) return /(?:)/;\n    var flags = \"\";\n    if (val instanceof RegExp) {\n      if (val.ignoreCase) flags = \"i\";\n      if (val.unicode) flags += \"u\"\n      val = val.source;\n    } else {\n      val = String(val);\n    }\n    return new RegExp((caret === false ? \"\" : \"^\") + \"(?:\" + val + \")\", flags);\n  }\n\n  function asToken(val) {\n    if (!val) return null;\n    if (val.apply) return val\n    if (typeof val == \"string\") return val.replace(/\\./g, \" \");\n    var result = [];\n    for (var i = 0; i < val.length; i++)\n      result.push(val[i] && val[i].replace(/\\./g, \" \"));\n    return result;\n  }\n\n  function Rule(data, states) {\n    if (data.next || data.push) ensureState(states, data.next || data.push);\n    this.regex = toRegex(data.regex);\n    this.token = asToken(data.token);\n    this.data = data;\n  }\n\n  function tokenFunction(states, config) {\n    return function(stream, state) {\n      if (state.pending) {\n        var pend = state.pending.shift();\n        if (state.pending.length == 0) state.pending = null;\n        stream.pos += pend.text.length;\n        return pend.token;\n      }\n\n      if (state.local) {\n        if (state.local.end && stream.match(state.local.end)) {\n          var tok = state.local.endToken || null;\n          state.local = state.localState = null;\n          return tok;\n        } else {\n          var tok = state.local.mode.token(stream, state.localState), m;\n          if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))\n            stream.pos = stream.start + m.index;\n          return tok;\n        }\n      }\n\n      var curState = states[state.state];\n      for (var i = 0; i < curState.length; i++) {\n        var rule = curState[i];\n        var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);\n        if (matches) {\n          if (rule.data.next) {\n            state.state = rule.data.next;\n          } else if (rule.data.push) {\n            (state.stack || (state.stack = [])).push(state.state);\n            state.state = rule.data.push;\n          } else if (rule.data.pop && state.stack && state.stack.length) {\n            state.state = state.stack.pop();\n          }\n\n          if (rule.data.mode)\n            enterLocalMode(config, state, rule.data.mode, rule.token);\n          if (rule.data.indent)\n            state.indent.push(stream.indentation() + config.indentUnit);\n          if (rule.data.dedent)\n            state.indent.pop();\n          var token = rule.token\n          if (token && token.apply) token = token(matches)\n          if (matches.length > 2 && rule.token && typeof rule.token != \"string\") {\n            for (var j = 2; j < matches.length; j++)\n              if (matches[j])\n                (state.pending || (state.pending = [])).push({text: matches[j], token: rule.token[j - 1]});\n            stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n            return token[0];\n          } else if (token && token.join) {\n            return token[0];\n          } else {\n            return token;\n          }\n        }\n      }\n      stream.next();\n      return null;\n    };\n  }\n\n  function cmp(a, b) {\n    if (a === b) return true;\n    if (!a || typeof a != \"object\" || !b || typeof b != \"object\") return false;\n    var props = 0;\n    for (var prop in a) if (a.hasOwnProperty(prop)) {\n      if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;\n      props++;\n    }\n    for (var prop in b) if (b.hasOwnProperty(prop)) props--;\n    return props == 0;\n  }\n\n  function enterLocalMode(config, state, spec, token) {\n    var pers;\n    if (spec.persistent) for (var p = state.persistentStates; p && !pers; p = p.next)\n      if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;\n    var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);\n    var lState = pers ? pers.state : CodeMirror.startState(mode);\n    if (spec.persistent && !pers)\n      state.persistentStates = {mode: mode, spec: spec.spec, state: lState, next: state.persistentStates};\n\n    state.localState = lState;\n    state.local = {mode: mode,\n                   end: spec.end && toRegex(spec.end),\n                   endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),\n                   endToken: token && token.join ? token[token.length - 1] : token};\n  }\n\n  function indexOf(val, arr) {\n    for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;\n  }\n\n  function indentFunction(states, meta) {\n    return function(state, textAfter, line) {\n      if (state.local && state.local.mode.indent)\n        return state.local.mode.indent(state.localState, textAfter, line);\n      if (state.indent == null || state.local || meta.dontIndentStates && indexOf(state.state, meta.dontIndentStates) > -1)\n        return CodeMirror.Pass;\n\n      var pos = state.indent.length - 1, rules = states[state.state];\n      scan: for (;;) {\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i];\n          if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {\n            var m = rule.regex.exec(textAfter);\n            if (m && m[0]) {\n              pos--;\n              if (rule.next || rule.push) rules = states[rule.next || rule.push];\n              textAfter = textAfter.slice(m[0].length);\n              continue scan;\n            }\n          }\n        }\n        break;\n      }\n      return pos < 0 ? 0 : state.indent[pos];\n    };\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","\"use strict\";\n\n/*\n * Fengari specific string conversion functions\n */\n\nlet luastring_from;\nif (typeof Uint8Array.from === \"function\") {\n    luastring_from = Uint8Array.from.bind(Uint8Array);\n} else {\n    luastring_from = function(a) {\n        let i = 0;\n        let len = a.length;\n        let r = new Uint8Array(len);\n        while (len > i) r[i] = a[i++];\n        return r;\n    };\n}\n\nlet luastring_indexOf;\nif (typeof (new Uint8Array().indexOf) === \"function\") {\n    luastring_indexOf = function(s, v, i) {\n        return s.indexOf(v, i);\n    };\n} else {\n    /* Browsers that don't support Uint8Array.indexOf seem to allow using Array.indexOf on Uint8Array objects e.g. IE11 */\n    let array_indexOf = [].indexOf;\n    if (array_indexOf.call(new Uint8Array(1), 0) !== 0) throw Error(\"missing .indexOf\");\n    luastring_indexOf = function(s, v, i) {\n        return array_indexOf.call(s, v, i);\n    };\n}\n\nlet luastring_of;\nif (typeof Uint8Array.of === \"function\") {\n    luastring_of = Uint8Array.of.bind(Uint8Array);\n} else {\n    luastring_of = function() {\n        return luastring_from(arguments);\n    };\n}\n\nconst is_luastring = function(s) {\n    return s instanceof Uint8Array;\n};\n\n/* test two lua strings for equality */\nconst luastring_eq = function(a, b) {\n    if (a !== b) {\n        let len = a.length;\n        if (len !== b.length) return false;\n        /* XXX: Should this be a constant time algorithm? */\n        for (let i=0; i<len; i++)\n            if (a[i] !== b[i]) return false;\n    }\n    return true;\n};\n\nconst unicode_error_message = \"cannot convert invalid utf8 to javascript string\";\nconst to_jsstring = function(value, from, to, replacement_char) {\n    if (!is_luastring(value)) throw new TypeError(\"to_jsstring expects a Uint8Array\");\n\n    if (to === void 0) {\n        to = value.length;\n    } else {\n        to = Math.min(value.length, to);\n    }\n\n    let str = \"\";\n    for (let i = (from!==void 0?from:0); i < to;) {\n        let u0 = value[i++];\n        if (u0 < 0x80) {\n            /* single byte sequence */\n            str += String.fromCharCode(u0);\n        } else if (u0 < 0xC2 || u0 > 0xF4) {\n            if (!replacement_char) throw RangeError(unicode_error_message);\n            str += \"\";\n        } else if (u0 <= 0xDF) {\n            /* two byte sequence */\n            if (i >= to) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u1 = value[i++];\n            if ((u1&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            str += String.fromCharCode(((u0 & 0x1F) << 6) + (u1 & 0x3F));\n        } else if (u0 <= 0xEF) {\n            /* three byte sequence */\n            if (i+1 >= to) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u1 = value[i++];\n            if ((u1&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u2 = value[i++];\n            if ((u2&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u = ((u0 & 0x0F) << 12) + ((u1 & 0x3F) << 6) + (u2 & 0x3F);\n            if (u <= 0xFFFF) { /* BMP codepoint */\n                str += String.fromCharCode(u);\n            } else { /* Astral codepoint */\n                u -= 0x10000;\n                let s1 = (u >> 10) + 0xD800;\n                let s2 = (u % 0x400) + 0xDC00;\n                str += String.fromCharCode(s1, s2);\n            }\n        } else {\n            /* four byte sequence */\n            if (i+2 >= to) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u1 = value[i++];\n            if ((u1&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u2 = value[i++];\n            if ((u2&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            let u3 = value[i++];\n            if ((u3&0xC0) !== 0x80) {\n                if (!replacement_char) throw RangeError(unicode_error_message);\n                str += \"\";\n                continue;\n            }\n            /* Has to be astral codepoint */\n            let u = ((u0 & 0x07) << 18) + ((u1 & 0x3F) << 12) + ((u2 & 0x3F) << 6) + (u3 & 0x3F);\n            u -= 0x10000;\n            let s1 = (u >> 10) + 0xD800;\n            let s2 = (u % 0x400) + 0xDC00;\n            str += String.fromCharCode(s1, s2);\n        }\n    }\n    return str;\n};\n\n/* bytes allowed unescaped in a uri */\nconst uri_allowed = (\";,/?:@&=+$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,-_.!~*'()#\").split('').reduce(function(uri_allowed, c) {\n    uri_allowed[c.charCodeAt(0)] = true;\n    return uri_allowed;\n}, {});\n\n/* utility function to convert a lua string to a js string with uri escaping */\nconst to_uristring = function(a) {\n    if (!is_luastring(a)) throw new TypeError(\"to_uristring expects a Uint8Array\");\n    let s = \"\";\n    for (let i=0; i<a.length; i++) {\n        let v = a[i];\n        if (uri_allowed[v]) {\n            s += String.fromCharCode(v);\n        } else {\n            s += \"%\" + (v<0x10?\"0\":\"\") + v.toString(16);\n        }\n    }\n    return s;\n};\n\nconst to_luastring_cache = {};\n\nconst to_luastring = function(str, cache) {\n    if (typeof str !== \"string\") throw new TypeError(\"to_luastring expects a javascript string\");\n\n    if (cache) {\n        let cached = to_luastring_cache[str];\n        if (is_luastring(cached)) return cached;\n    }\n\n    let len = str.length;\n    let outU8Array = Array(len); /* array is at *least* going to be length of string */\n    let outIdx = 0;\n    for (let i = 0; i < len; ++i) {\n        let u = str.charCodeAt(i);\n        if (u <= 0x7F) {\n            outU8Array[outIdx++] = u;\n        } else if (u <= 0x7FF) {\n            outU8Array[outIdx++] = 0xC0 | (u >> 6);\n            outU8Array[outIdx++] = 0x80 | (u & 63);\n        } else {\n            /* This part is to work around possible lack of String.codePointAt */\n            if (u >= 0xD800 && u <= 0xDBFF && (i+1) < len) {\n                /* is first half of surrogate pair */\n                let v = str.charCodeAt(i+1);\n                if (v >= 0xDC00 && v <= 0xDFFF) {\n                    /* is valid low surrogate */\n                    i++;\n                    u = (u - 0xD800) * 0x400 + v + 0x2400;\n                }\n            }\n            if (u <= 0xFFFF) {\n                outU8Array[outIdx++] = 0xE0 | (u >> 12);\n                outU8Array[outIdx++] = 0x80 | ((u >> 6) & 63);\n                outU8Array[outIdx++] = 0x80 | (u & 63);\n            } else {\n                outU8Array[outIdx++] = 0xF0 | (u >> 18);\n                outU8Array[outIdx++] = 0x80 | ((u >> 12) & 63);\n                outU8Array[outIdx++] = 0x80 | ((u >> 6) & 63);\n                outU8Array[outIdx++] = 0x80 | (u & 63);\n            }\n        }\n    }\n    outU8Array = luastring_from(outU8Array);\n\n    if (cache) to_luastring_cache[str] = outU8Array;\n\n    return outU8Array;\n};\n\nconst from_userstring = function(str) {\n    if (!is_luastring(str)) {\n        if (typeof str === \"string\") {\n            str = to_luastring(str);\n        } else {\n            throw new TypeError(\"expects an array of bytes or javascript string\");\n        }\n    }\n    return str;\n};\n\nmodule.exports.luastring_from    = luastring_from;\nmodule.exports.luastring_indexOf = luastring_indexOf;\nmodule.exports.luastring_of      = luastring_of;\nmodule.exports.is_luastring      = is_luastring;\nmodule.exports.luastring_eq      = luastring_eq;\nmodule.exports.to_jsstring       = to_jsstring;\nmodule.exports.to_uristring      = to_uristring;\nmodule.exports.to_luastring      = to_luastring;\nmodule.exports.from_userstring   = from_userstring;\n\n\n/* mark for precompiled code ('<esc>Lua') */\nconst LUA_SIGNATURE = to_luastring(\"\\x1bLua\");\n\nconst LUA_VERSION_MAJOR   = \"5\";\nconst LUA_VERSION_MINOR   = \"3\";\nconst LUA_VERSION_NUM     = 503;\nconst LUA_VERSION_RELEASE = \"4\";\n\nconst LUA_VERSION         = \"Lua \" + LUA_VERSION_MAJOR + \".\" + LUA_VERSION_MINOR;\nconst LUA_RELEASE         = LUA_VERSION + \".\" + LUA_VERSION_RELEASE;\nconst LUA_COPYRIGHT       = LUA_RELEASE + \"  Copyright (C) 1994-2017 Lua.org, PUC-Rio\";\nconst LUA_AUTHORS         = \"R. Ierusalimschy, L. H. de Figueiredo, W. Celes\";\n\nmodule.exports.LUA_SIGNATURE       = LUA_SIGNATURE;\nmodule.exports.LUA_VERSION_MAJOR   = LUA_VERSION_MAJOR;\nmodule.exports.LUA_VERSION_MINOR   = LUA_VERSION_MINOR;\nmodule.exports.LUA_VERSION_NUM     = LUA_VERSION_NUM;\nmodule.exports.LUA_VERSION_RELEASE = LUA_VERSION_RELEASE;\nmodule.exports.LUA_VERSION         = LUA_VERSION;\nmodule.exports.LUA_RELEASE         = LUA_RELEASE;\nmodule.exports.LUA_COPYRIGHT       = LUA_COPYRIGHT;\nmodule.exports.LUA_AUTHORS         = LUA_AUTHORS;\n\n\nconst thread_status = {\n    LUA_OK:        0,\n    LUA_YIELD:     1,\n    LUA_ERRRUN:    2,\n    LUA_ERRSYNTAX: 3,\n    LUA_ERRMEM:    4,\n    LUA_ERRGCMM:   5,\n    LUA_ERRERR:    6\n};\n\nconst constant_types = {\n    LUA_TNONE:          -1,\n    LUA_TNIL:           0,\n    LUA_TBOOLEAN:       1,\n    LUA_TLIGHTUSERDATA: 2,\n    LUA_TNUMBER:        3,\n    LUA_TSTRING:        4,\n    LUA_TTABLE:         5,\n    LUA_TFUNCTION:      6,\n    LUA_TUSERDATA:      7,\n    LUA_TTHREAD:        8,\n    LUA_NUMTAGS:        9\n};\n\nconstant_types.LUA_TSHRSTR = constant_types.LUA_TSTRING | (0 << 4);  /* short strings */\nconstant_types.LUA_TLNGSTR = constant_types.LUA_TSTRING | (1 << 4);  /* long strings */\n\nconstant_types.LUA_TNUMFLT = constant_types.LUA_TNUMBER | (0 << 4);  /* float numbers */\nconstant_types.LUA_TNUMINT = constant_types.LUA_TNUMBER | (1 << 4);  /* integer numbers */\n\nconstant_types.LUA_TLCL = constant_types.LUA_TFUNCTION | (0 << 4);  /* Lua closure */\nconstant_types.LUA_TLCF = constant_types.LUA_TFUNCTION | (1 << 4);  /* light C function */\nconstant_types.LUA_TCCL = constant_types.LUA_TFUNCTION | (2 << 4);  /* C closure */\n\n/*\n** Comparison and arithmetic functions\n*/\n\nconst LUA_OPADD  = 0;   /* ORDER TM, ORDER OP */\nconst LUA_OPSUB  = 1;\nconst LUA_OPMUL  = 2;\nconst LUA_OPMOD  = 3;\nconst LUA_OPPOW  = 4;\nconst LUA_OPDIV  = 5;\nconst LUA_OPIDIV = 6;\nconst LUA_OPBAND = 7;\nconst LUA_OPBOR  = 8;\nconst LUA_OPBXOR = 9;\nconst LUA_OPSHL  = 10;\nconst LUA_OPSHR  = 11;\nconst LUA_OPUNM  = 12;\nconst LUA_OPBNOT = 13;\n\nconst LUA_OPEQ = 0;\nconst LUA_OPLT = 1;\nconst LUA_OPLE = 2;\n\nconst LUA_MINSTACK = 20;\n\nconst { LUAI_MAXSTACK } = require('./luaconf.js');\nconst LUA_REGISTRYINDEX = -LUAI_MAXSTACK - 1000;\n\nconst lua_upvalueindex = function(i) {\n    return LUA_REGISTRYINDEX - i;\n};\n\n/* predefined values in the registry */\nconst LUA_RIDX_MAINTHREAD = 1;\nconst LUA_RIDX_GLOBALS    = 2;\nconst LUA_RIDX_LAST       = LUA_RIDX_GLOBALS;\n\nclass lua_Debug {\n    constructor() {\n        this.event = NaN;\n        this.name = null;           /* (n) */\n        this.namewhat = null;       /* (n) 'global', 'local', 'field', 'method' */\n        this.what = null;           /* (S) 'Lua', 'C', 'main', 'tail' */\n        this.source = null;         /* (S) */\n        this.currentline = NaN;     /* (l) */\n        this.linedefined = NaN;     /* (S) */\n        this.lastlinedefined = NaN; /* (S) */\n        this.nups = NaN;            /* (u) number of upvalues */\n        this.nparams = NaN;         /* (u) number of parameters */\n        this.isvararg = NaN;        /* (u) */\n        this.istailcall = NaN;      /* (t) */\n        this.short_src = null;      /* (S) */\n        /* private part */\n        this.i_ci = null;           /* active function */\n    }\n}\n\n/*\n** Event codes\n*/\nconst LUA_HOOKCALL     = 0;\nconst LUA_HOOKRET      = 1;\nconst LUA_HOOKLINE     = 2;\nconst LUA_HOOKCOUNT    = 3;\nconst LUA_HOOKTAILCALL = 4;\n\n\n/*\n** Event masks\n*/\nconst LUA_MASKCALL  = (1 << LUA_HOOKCALL);\nconst LUA_MASKRET   = (1 << LUA_HOOKRET);\nconst LUA_MASKLINE  = (1 << LUA_HOOKLINE);\nconst LUA_MASKCOUNT = (1 << LUA_HOOKCOUNT);\n\nmodule.exports.LUA_HOOKCALL            = LUA_HOOKCALL;\nmodule.exports.LUA_HOOKCOUNT           = LUA_HOOKCOUNT;\nmodule.exports.LUA_HOOKLINE            = LUA_HOOKLINE;\nmodule.exports.LUA_HOOKRET             = LUA_HOOKRET;\nmodule.exports.LUA_HOOKTAILCALL        = LUA_HOOKTAILCALL;\nmodule.exports.LUA_MASKCALL            = LUA_MASKCALL;\nmodule.exports.LUA_MASKCOUNT           = LUA_MASKCOUNT;\nmodule.exports.LUA_MASKLINE            = LUA_MASKLINE;\nmodule.exports.LUA_MASKRET             = LUA_MASKRET;\nmodule.exports.LUA_MINSTACK            = LUA_MINSTACK;\nmodule.exports.LUA_MULTRET             = -1;\nmodule.exports.LUA_OPADD               = LUA_OPADD;\nmodule.exports.LUA_OPBAND              = LUA_OPBAND;\nmodule.exports.LUA_OPBNOT              = LUA_OPBNOT;\nmodule.exports.LUA_OPBOR               = LUA_OPBOR;\nmodule.exports.LUA_OPBXOR              = LUA_OPBXOR;\nmodule.exports.LUA_OPDIV               = LUA_OPDIV;\nmodule.exports.LUA_OPEQ                = LUA_OPEQ;\nmodule.exports.LUA_OPIDIV              = LUA_OPIDIV;\nmodule.exports.LUA_OPLE                = LUA_OPLE;\nmodule.exports.LUA_OPLT                = LUA_OPLT;\nmodule.exports.LUA_OPMOD               = LUA_OPMOD;\nmodule.exports.LUA_OPMUL               = LUA_OPMUL;\nmodule.exports.LUA_OPPOW               = LUA_OPPOW;\nmodule.exports.LUA_OPSHL               = LUA_OPSHL;\nmodule.exports.LUA_OPSHR               = LUA_OPSHR;\nmodule.exports.LUA_OPSUB               = LUA_OPSUB;\nmodule.exports.LUA_OPUNM               = LUA_OPUNM;\nmodule.exports.LUA_REGISTRYINDEX       = LUA_REGISTRYINDEX;\nmodule.exports.LUA_RIDX_GLOBALS        = LUA_RIDX_GLOBALS;\nmodule.exports.LUA_RIDX_LAST           = LUA_RIDX_LAST;\nmodule.exports.LUA_RIDX_MAINTHREAD     = LUA_RIDX_MAINTHREAD;\nmodule.exports.constant_types          = constant_types;\nmodule.exports.lua_Debug               = lua_Debug;\nmodule.exports.lua_upvalueindex        = lua_upvalueindex;\nmodule.exports.thread_status           = thread_status;\n","/**\n@license MIT\n\nCopyright  2017-2018 Benoit Giannangeli\nCopyright  2017-2018 Daurnimator\nCopyright  19942017 Lua.org, PUC-Rio.\n*/\n\n\"use strict\";\n\nconst core = require(\"./fengaricore.js\");\n\nmodule.exports.FENGARI_AUTHORS         = core.FENGARI_AUTHORS;\nmodule.exports.FENGARI_COPYRIGHT       = core.FENGARI_COPYRIGHT;\nmodule.exports.FENGARI_RELEASE         = core.FENGARI_RELEASE;\nmodule.exports.FENGARI_VERSION         = core.FENGARI_VERSION;\nmodule.exports.FENGARI_VERSION_MAJOR   = core.FENGARI_VERSION_MAJOR;\nmodule.exports.FENGARI_VERSION_MINOR   = core.FENGARI_VERSION_MINOR;\nmodule.exports.FENGARI_VERSION_NUM     = core.FENGARI_VERSION_NUM;\nmodule.exports.FENGARI_VERSION_RELEASE = core.FENGARI_VERSION_RELEASE;\n\nmodule.exports.luastring_eq      = core.luastring_eq;\nmodule.exports.luastring_indexOf = core.luastring_indexOf;\nmodule.exports.luastring_of      = core.luastring_of;\nmodule.exports.to_jsstring       = core.to_jsstring;\nmodule.exports.to_luastring      = core.to_luastring;\nmodule.exports.to_uristring      = core.to_uristring;\n\nconst luaconf = require('./luaconf.js');\nconst lua     = require('./lua.js');\nconst lauxlib = require('./lauxlib.js');\nconst lualib  = require('./lualib.js');\n\nmodule.exports.luaconf = luaconf;\nmodule.exports.lua     = lua;\nmodule.exports.lauxlib = lauxlib;\nmodule.exports.lualib  = lualib;\n","/* Fengari specific functions\n *\n * This file includes fengari-specific data or and functionality for users to\n * manipulate fengari's string type.\n * The fields are exposed to the user on the 'fengari' entry point; however to\n * avoid a dependency on defs.js from lauxlib.js they are defined in this file.\n */\n\nconst defs = require(\"./defs.js\");\n\nconst FENGARI_VERSION_MAJOR   = \"0\";\nconst FENGARI_VERSION_MINOR   = \"1\";\nconst FENGARI_VERSION_NUM     = 1;\nconst FENGARI_VERSION_RELEASE = \"4\";\nconst FENGARI_VERSION         = \"Fengari \" + FENGARI_VERSION_MAJOR + \".\" + FENGARI_VERSION_MINOR;\nconst FENGARI_RELEASE         = FENGARI_VERSION + \".\" + FENGARI_VERSION_RELEASE;\nconst FENGARI_AUTHORS         = \"B. Giannangeli, Daurnimator\";\nconst FENGARI_COPYRIGHT       = FENGARI_RELEASE + \"  Copyright (C) 2017-2018 \" + FENGARI_AUTHORS + \"\\nBased on: \" + defs.LUA_COPYRIGHT;\n\nmodule.exports.FENGARI_AUTHORS         = FENGARI_AUTHORS;\nmodule.exports.FENGARI_COPYRIGHT       = FENGARI_COPYRIGHT;\nmodule.exports.FENGARI_RELEASE         = FENGARI_RELEASE;\nmodule.exports.FENGARI_VERSION         = FENGARI_VERSION;\nmodule.exports.FENGARI_VERSION_MAJOR   = FENGARI_VERSION_MAJOR;\nmodule.exports.FENGARI_VERSION_MINOR   = FENGARI_VERSION_MINOR;\nmodule.exports.FENGARI_VERSION_NUM     = FENGARI_VERSION_NUM;\nmodule.exports.FENGARI_VERSION_RELEASE = FENGARI_VERSION_RELEASE;\nmodule.exports.is_luastring            = defs.is_luastring;\nmodule.exports.luastring_eq            = defs.luastring_eq;\nmodule.exports.luastring_from          = defs.luastring_from;\nmodule.exports.luastring_indexOf       = defs.luastring_indexOf;\nmodule.exports.luastring_of            = defs.luastring_of;\nmodule.exports.to_jsstring             = defs.to_jsstring;\nmodule.exports.to_luastring            = defs.to_luastring;\nmodule.exports.to_uristring            = defs.to_uristring;\nmodule.exports.from_userstring         = defs.from_userstring;\n","const {\n    lua_pushinteger,\n    lua_pushliteral,\n    lua_setfield\n} = require('./lua.js');\nconst {\n    luaL_newlib\n} = require('./lauxlib.js');\nconst {\n    FENGARI_AUTHORS,\n    FENGARI_COPYRIGHT,\n    FENGARI_RELEASE,\n    FENGARI_VERSION,\n    FENGARI_VERSION_MAJOR,\n    FENGARI_VERSION_MINOR,\n    FENGARI_VERSION_NUM,\n    FENGARI_VERSION_RELEASE,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\nconst luaopen_fengari = function(L) {\n    luaL_newlib(L, {});\n    lua_pushliteral(L, FENGARI_AUTHORS);\n    lua_setfield(L, -2, to_luastring(\"AUTHORS\"));\n    lua_pushliteral(L, FENGARI_COPYRIGHT);\n    lua_setfield(L, -2, to_luastring(\"COPYRIGHT\"));\n    lua_pushliteral(L, FENGARI_RELEASE);\n    lua_setfield(L, -2, to_luastring(\"RELEASE\"));\n    lua_pushliteral(L, FENGARI_VERSION);\n    lua_setfield(L, -2, to_luastring(\"VERSION\"));\n    lua_pushliteral(L, FENGARI_VERSION_MAJOR);\n    lua_setfield(L, -2, to_luastring(\"VERSION_MAJOR\"));\n    lua_pushliteral(L, FENGARI_VERSION_MINOR);\n    lua_setfield(L, -2, to_luastring(\"VERSION_MINOR\"));\n    lua_pushinteger(L, FENGARI_VERSION_NUM);\n    lua_setfield(L, -2, to_luastring(\"VERSION_NUM\"));\n    lua_pushliteral(L, FENGARI_VERSION_RELEASE);\n    lua_setfield(L, -2, to_luastring(\"VERSION_RELEASE\"));\n    return 1;\n};\n\nmodule.exports.luaopen_fengari = luaopen_fengari;\n","\"use strict\";\n\nconst {\n    LUA_MULTRET,\n    LUA_OPBNOT,\n    LUA_OPEQ,\n    LUA_OPLE,\n    LUA_OPLT,\n    LUA_OPUNM,\n    LUA_REGISTRYINDEX,\n    LUA_RIDX_GLOBALS,\n    LUA_VERSION_NUM,\n    constant_types: {\n        LUA_NUMTAGS,\n        LUA_TBOOLEAN,\n        LUA_TCCL,\n        LUA_TFUNCTION,\n        LUA_TLCF,\n        LUA_TLCL,\n        LUA_TLIGHTUSERDATA,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNONE,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR,\n        LUA_TTABLE,\n        LUA_TTHREAD,\n        LUA_TUSERDATA\n    },\n    thread_status: { LUA_OK },\n    from_userstring,\n    to_luastring,\n} = require('./defs.js');\nconst { api_check } = require('./llimits.js');\nconst ldebug    = require('./ldebug.js');\nconst ldo       = require('./ldo.js');\nconst { luaU_dump } = require('./ldump.js');\nconst lfunc     = require('./lfunc.js');\nconst lobject   = require('./lobject.js');\nconst lstate    = require('./lstate.js');\nconst {\n    luaS_bless,\n    luaS_new,\n    luaS_newliteral\n} = require('./lstring.js');\nconst ltm       = require('./ltm.js');\nconst { LUAI_MAXSTACK } = require('./luaconf.js');\nconst lvm       = require('./lvm.js');\nconst ltable    = require('./ltable.js');\nconst { ZIO } = require('./lzio.js');\nconst TValue    = lobject.TValue;\nconst CClosure  = lobject.CClosure;\n\nconst api_incr_top = function(L) {\n    L.top++;\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n};\n\nconst api_checknelems = function(L, n) {\n    api_check(L, n < (L.top - L.ci.funcOff), \"not enough elements in the stack\");\n};\n\nconst fengari_argcheck = function(c) {\n    if (!c) throw TypeError(\"invalid argument\");\n};\n\nconst fengari_argcheckinteger = function(n) {\n    fengari_argcheck(typeof n === \"number\" && (n|0) === n);\n};\n\nconst isvalid = function(o) {\n    return o !== lobject.luaO_nilobject;\n};\n\nconst lua_version = function(L) {\n    if (L === null) return LUA_VERSION_NUM;\n    else return L.l_G.version;\n};\n\nconst lua_atpanic = function(L, panicf) {\n    let old = L.l_G.panic;\n    L.l_G.panic = panicf;\n    return old;\n};\n\nconst lua_atnativeerror = function(L, errorf) {\n    let old = L.l_G.atnativeerror;\n    L.l_G.atnativeerror = errorf;\n    return old;\n};\n\n// Return value for idx on stack\nconst index2addr = function(L, idx) {\n    let ci = L.ci;\n    if (idx > 0) {\n        let o = ci.funcOff + idx;\n        api_check(L, idx <= ci.top - (ci.funcOff + 1), \"unacceptable index\");\n        if (o >= L.top) return lobject.luaO_nilobject;\n        else return L.stack[o];\n    } else if (idx > LUA_REGISTRYINDEX) {\n        api_check(L, idx !== 0 && -idx <= L.top, \"invalid index\");\n        return L.stack[L.top + idx];\n    } else if (idx === LUA_REGISTRYINDEX) {\n        return L.l_G.l_registry;\n    } else { /* upvalues */\n        idx = LUA_REGISTRYINDEX - idx;\n        api_check(L, idx <= lfunc.MAXUPVAL + 1, \"upvalue index too large\");\n        if (ci.func.ttislcf()) /* light C function? */\n            return lobject.luaO_nilobject; /* it has no upvalues */\n        else {\n            return idx <= ci.func.value.nupvalues ? ci.func.value.upvalue[idx - 1] : lobject.luaO_nilobject;\n        }\n    }\n};\n\n// Like index2addr but returns the index on stack; doesn't allow pseudo indices\nconst index2addr_ = function(L, idx) {\n    let ci = L.ci;\n    if (idx > 0) {\n        let o = ci.funcOff + idx;\n        api_check(L, idx <= ci.top - (ci.funcOff + 1), \"unacceptable index\");\n        if (o >= L.top) return null;\n        else return o;\n    } else if (idx > LUA_REGISTRYINDEX) {\n        api_check(L, idx !== 0 && -idx <= L.top, \"invalid index\");\n        return L.top + idx;\n    } else { /* registry or upvalue */\n        throw Error(\"attempt to use pseudo-index\");\n    }\n};\n\nconst lua_checkstack = function(L, n) {\n    let res;\n    let ci = L.ci;\n    api_check(L, n >= 0, \"negative 'n'\");\n    if (L.stack_last - L.top > n) /* stack large enough? */\n        res = true;\n    else { /* no; need to grow stack */\n        let inuse = L.top + lstate.EXTRA_STACK;\n        if (inuse > LUAI_MAXSTACK - n)  /* can grow without overflow? */\n            res = false;  /* no */\n        else { /* try to grow stack */\n            ldo.luaD_growstack(L, n);\n            res = true;\n        }\n    }\n\n    if (res && ci.top < L.top + n)\n        ci.top = L.top + n;  /* adjust frame top */\n\n    return res;\n};\n\nconst lua_xmove = function(from, to, n) {\n    if (from === to) return;\n    api_checknelems(from, n);\n    api_check(from, from.l_G === to.l_G, \"moving among independent states\");\n    api_check(from, to.ci.top - to.top >= n, \"stack overflow\");\n    from.top -= n;\n    for (let i = 0; i < n; i++) {\n        to.stack[to.top] = new lobject.TValue();\n        lobject.setobj2s(to, to.top, from.stack[from.top + i]);\n        delete from.stack[from.top + i];\n        to.top++;\n    }\n};\n\n/*\n** basic stack manipulation\n*/\n\n/*\n** convert an acceptable stack index into an absolute index\n*/\nconst lua_absindex = function(L, idx) {\n    return (idx > 0 || idx <= LUA_REGISTRYINDEX)\n        ? idx\n        : (L.top - L.ci.funcOff) + idx;\n};\n\nconst lua_gettop = function(L) {\n    return L.top - (L.ci.funcOff + 1);\n};\n\nconst lua_pushvalue = function(L, idx) {\n    lobject.pushobj2s(L, index2addr(L, idx));\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n};\n\nconst lua_settop = function(L, idx) {\n    let func = L.ci.funcOff;\n    let newtop;\n    if (idx >= 0) {\n        api_check(L, idx <= L.stack_last - (func + 1), \"new top too large\");\n        newtop = func + 1 + idx;\n    } else {\n        api_check(L, -(idx + 1) <= L.top - (func + 1), \"invalid new top\");\n        newtop = L.top + idx + 1; /* 'subtract' index (index is negative) */\n    }\n    ldo.adjust_top(L, newtop);\n};\n\nconst lua_pop = function(L, n) {\n    lua_settop(L, -n - 1);\n};\n\nconst reverse = function(L, from, to) {\n    for (; from < to; from++, to--) {\n        let fromtv = L.stack[from];\n        let temp = new TValue(fromtv.type, fromtv.value);\n        lobject.setobjs2s(L, from, to);\n        lobject.setobj2s(L, to, temp);\n    }\n};\n\n/*\n** Let x = AB, where A is a prefix of length 'n'. Then,\n** rotate x n === BA. But BA === (A^r . B^r)^r.\n*/\nconst lua_rotate = function(L, idx, n) {\n    let t = L.top - 1;\n    let pIdx = index2addr_(L, idx);\n    let p = L.stack[pIdx];\n    api_check(L, isvalid(p) && idx > LUA_REGISTRYINDEX, \"index not in the stack\");\n    api_check(L, (n >= 0 ? n : -n) <= (t - pIdx + 1), \"invalid 'n'\");\n    let m = n >= 0 ? t - n : pIdx - n - 1;  /* end of prefix */\n    reverse(L, pIdx, m);\n    reverse(L, m + 1, L.top - 1);\n    reverse(L, pIdx, L.top - 1);\n};\n\nconst lua_copy = function(L, fromidx, toidx) {\n    let from = index2addr(L, fromidx);\n    index2addr(L, toidx).setfrom(from);\n};\n\nconst lua_remove = function(L, idx) {\n    lua_rotate(L, idx, -1);\n    lua_pop(L, 1);\n};\n\nconst lua_insert = function(L, idx) {\n    lua_rotate(L, idx, 1);\n};\n\nconst lua_replace = function(L, idx) {\n    lua_copy(L, -1, idx);\n    lua_pop(L, 1);\n};\n\n/*\n** push functions (JS -> stack)\n*/\n\nconst lua_pushnil = function(L) {\n    L.stack[L.top] = new TValue(LUA_TNIL, null);\n    api_incr_top(L);\n};\n\nconst lua_pushnumber = function(L, n) {\n    fengari_argcheck(typeof n === \"number\");\n    L.stack[L.top] = new TValue(LUA_TNUMFLT, n);\n    api_incr_top(L);\n};\n\nconst lua_pushinteger = function(L, n) {\n    fengari_argcheckinteger(n);\n    L.stack[L.top] = new TValue(LUA_TNUMINT, n);\n    api_incr_top(L);\n};\n\nconst lua_pushlstring = function(L, s, len) {\n    fengari_argcheckinteger(len);\n    let ts;\n    if (len === 0) {\n        s = to_luastring(\"\", true);\n        ts = luaS_bless(L, s);\n    } else {\n        s = from_userstring(s);\n        api_check(L, s.length >= len, \"invalid length to lua_pushlstring\");\n        ts = luaS_new(L, s.subarray(0, len));\n    }\n    lobject.pushsvalue2s(L, ts);\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    return ts.value;\n};\n\nconst lua_pushstring = function (L, s) {\n    if (s === undefined || s === null) {\n        L.stack[L.top] = new TValue(LUA_TNIL, null);\n        L.top++;\n    } else {\n        let ts = luaS_new(L, from_userstring(s));\n        lobject.pushsvalue2s(L, ts);\n        s = ts.getstr(); /* internal copy */\n    }\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    return s;\n};\n\nconst lua_pushvfstring = function (L, fmt, argp) {\n    fmt = from_userstring(fmt);\n    return lobject.luaO_pushvfstring(L, fmt, argp);\n};\n\nconst lua_pushfstring = function (L, fmt, ...argp) {\n    fmt = from_userstring(fmt);\n    return lobject.luaO_pushvfstring(L, fmt, argp);\n};\n\n/* Similar to lua_pushstring, but takes a JS string */\nconst lua_pushliteral = function (L, s) {\n    if (s === undefined || s === null) {\n        L.stack[L.top] = new TValue(LUA_TNIL, null);\n        L.top++;\n    } else {\n        fengari_argcheck(typeof s === \"string\");\n        let ts = luaS_newliteral(L, s);\n        lobject.pushsvalue2s(L, ts);\n        s = ts.getstr(); /* internal copy */\n    }\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n\n    return s;\n};\n\nconst lua_pushcclosure = function(L, fn, n) {\n    fengari_argcheck(typeof fn === \"function\");\n    fengari_argcheckinteger(n);\n    if (n === 0)\n        L.stack[L.top] = new TValue(LUA_TLCF, fn);\n    else {\n        api_checknelems(L, n);\n        api_check(L, n <= lfunc.MAXUPVAL, \"upvalue index too large\");\n        let cl = new CClosure(L, fn, n);\n        for (let i=0; i<n; i++)\n            cl.upvalue[i].setfrom(L.stack[L.top - n + i]);\n        for (let i=1; i<n; i++)\n            delete L.stack[--L.top];\n        if (n>0)\n            --L.top;\n        L.stack[L.top].setclCvalue(cl);\n    }\n    api_incr_top(L);\n};\n\nconst lua_pushjsclosure = lua_pushcclosure;\n\nconst lua_pushcfunction = function(L, fn) {\n    lua_pushcclosure(L, fn, 0);\n};\n\nconst lua_pushjsfunction = lua_pushcfunction;\n\nconst lua_pushboolean = function(L, b) {\n    L.stack[L.top] = new TValue(LUA_TBOOLEAN, !!b);\n    api_incr_top(L);\n};\n\nconst lua_pushlightuserdata = function(L, p) {\n    L.stack[L.top] = new TValue(LUA_TLIGHTUSERDATA, p);\n    api_incr_top(L);\n};\n\nconst lua_pushthread = function(L) {\n    L.stack[L.top] = new TValue(LUA_TTHREAD, L);\n    api_incr_top(L);\n    return L.l_G.mainthread === L;\n};\n\nconst lua_pushglobaltable = function(L) {\n    lua_rawgeti(L, LUA_REGISTRYINDEX, LUA_RIDX_GLOBALS);\n};\n\n/*\n** set functions (stack -> Lua)\n*/\n\n/*\n** t[k] = value at the top of the stack (where 'k' is a string)\n*/\nconst auxsetstr = function(L, t, k) {\n    let str = luaS_new(L, from_userstring(k));\n    api_checknelems(L, 1);\n    lobject.pushsvalue2s(L, str); /* push 'str' (to make it a TValue) */\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    lvm.settable(L, t, L.stack[L.top - 1], L.stack[L.top - 2]);\n    /* pop value and key */\n    delete L.stack[--L.top];\n    delete L.stack[--L.top];\n};\n\nconst lua_setglobal = function(L, name) {\n    auxsetstr(L, ltable.luaH_getint(L.l_G.l_registry.value, LUA_RIDX_GLOBALS), name);\n};\n\nconst lua_setmetatable = function(L, objindex) {\n    api_checknelems(L, 1);\n    let mt;\n    let obj = index2addr(L, objindex);\n    if (L.stack[L.top - 1].ttisnil())\n        mt = null;\n    else {\n        api_check(L, L.stack[L.top - 1].ttistable(), \"table expected\");\n        mt = L.stack[L.top - 1].value;\n    }\n\n    switch (obj.ttnov()) {\n        case LUA_TUSERDATA:\n        case LUA_TTABLE: {\n            obj.value.metatable = mt;\n            break;\n        }\n        default: {\n            L.l_G.mt[obj.ttnov()] = mt;\n            break;\n        }\n    }\n\n    delete L.stack[--L.top];\n    return true;\n};\n\nconst lua_settable = function(L, idx) {\n    api_checknelems(L, 2);\n    let t = index2addr(L, idx);\n    lvm.settable(L, t, L.stack[L.top - 2], L.stack[L.top - 1]);\n    delete L.stack[--L.top];\n    delete L.stack[--L.top];\n};\n\nconst lua_setfield = function(L, idx, k) {\n    auxsetstr(L, index2addr(L, idx), k);\n};\n\nconst lua_seti = function(L, idx, n) {\n    fengari_argcheckinteger(n);\n    api_checknelems(L, 1);\n    let t = index2addr(L, idx);\n    L.stack[L.top] = new TValue(LUA_TNUMINT, n);\n    api_incr_top(L);\n    lvm.settable(L, t, L.stack[L.top - 1], L.stack[L.top - 2]);\n    /* pop value and key */\n    delete L.stack[--L.top];\n    delete L.stack[--L.top];\n};\n\nconst lua_rawset = function(L, idx) {\n    api_checknelems(L, 2);\n    let o = index2addr(L, idx);\n    api_check(L, o.ttistable(), \"table expected\");\n    let k = L.stack[L.top - 2];\n    let v = L.stack[L.top - 1];\n    ltable.luaH_setfrom(L, o.value, k, v);\n    ltable.invalidateTMcache(o.value);\n    delete L.stack[--L.top];\n    delete L.stack[--L.top];\n};\n\nconst lua_rawseti = function(L, idx, n) {\n    fengari_argcheckinteger(n);\n    api_checknelems(L, 1);\n    let o = index2addr(L, idx);\n    api_check(L, o.ttistable(), \"table expected\");\n    ltable.luaH_setint(o.value, n, L.stack[L.top - 1]);\n    delete L.stack[--L.top];\n};\n\nconst lua_rawsetp = function(L, idx, p) {\n    api_checknelems(L, 1);\n    let o = index2addr(L, idx);\n    api_check(L, o.ttistable(), \"table expected\");\n    let k = new TValue(LUA_TLIGHTUSERDATA, p);\n    let v = L.stack[L.top - 1];\n    ltable.luaH_setfrom(L, o.value, k, v);\n    delete L.stack[--L.top];\n};\n\n/*\n** get functions (Lua -> stack)\n*/\n\nconst auxgetstr = function(L, t, k) {\n    let str = luaS_new(L, from_userstring(k));\n    lobject.pushsvalue2s(L, str);\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    lvm.luaV_gettable(L, t, L.stack[L.top - 1], L.top - 1);\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_rawgeti = function(L, idx, n) {\n    let t = index2addr(L, idx);\n    fengari_argcheckinteger(n);\n    api_check(L, t.ttistable(), \"table expected\");\n    lobject.pushobj2s(L, ltable.luaH_getint(t.value, n));\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_rawgetp = function(L, idx, p) {\n    let t = index2addr(L, idx);\n    api_check(L, t.ttistable(), \"table expected\");\n    let k = new TValue(LUA_TLIGHTUSERDATA, p);\n    lobject.pushobj2s(L, ltable.luaH_get(L, t.value, k));\n    api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_rawget = function(L, idx) {\n    let t = index2addr(L, idx);\n    api_check(L, t.ttistable(t), \"table expected\");\n    lobject.setobj2s(L, L.top - 1, ltable.luaH_get(L, t.value, L.stack[L.top - 1]));\n    return L.stack[L.top - 1].ttnov();\n};\n\n// narray and nrec are mostly useless for this implementation\nconst lua_createtable = function(L, narray, nrec) {\n    let t = new lobject.TValue(LUA_TTABLE, ltable.luaH_new(L));\n    L.stack[L.top] = t;\n    api_incr_top(L);\n};\n\nconst luaS_newudata = function(L, size) {\n    return new lobject.Udata(L, size);\n};\n\nconst lua_newuserdata = function(L, size) {\n    let u = luaS_newudata(L, size);\n    L.stack[L.top] = new lobject.TValue(LUA_TUSERDATA, u);\n    api_incr_top(L);\n    return u.data;\n};\n\nconst aux_upvalue = function(L, fi, n) {\n    fengari_argcheckinteger(n);\n    switch(fi.ttype()) {\n        case LUA_TCCL: {  /* C closure */\n            let f = fi.value;\n            if (!(1 <= n && n <= f.nupvalues)) return null;\n            return {\n                name: to_luastring(\"\", true),\n                val: f.upvalue[n-1]\n            };\n        }\n        case LUA_TLCL: {  /* Lua closure */\n            let f = fi.value;\n            let p = f.p;\n            if (!(1 <= n && n <= p.upvalues.length)) return null;\n            let name = p.upvalues[n-1].name;\n            return {\n                name: name ? name.getstr() : to_luastring(\"(*no name)\", true),\n                val: f.upvals[n-1]\n            };\n        }\n        default: return null;  /* not a closure */\n    }\n};\n\nconst lua_getupvalue = function(L, funcindex, n) {\n    let up = aux_upvalue(L, index2addr(L, funcindex), n);\n    if (up) {\n        let name = up.name;\n        let val = up.val;\n        lobject.pushobj2s(L, val);\n        api_check(L, L.top <= L.ci.top, \"stack overflow\");\n        return name;\n    }\n    return null;\n};\n\nconst lua_setupvalue = function(L, funcindex, n) {\n    let fi = index2addr(L, funcindex);\n    api_checknelems(L, 1);\n    let aux = aux_upvalue(L, fi, n);\n    if (aux) {\n        let name = aux.name;\n        let val = aux.val;\n        val.setfrom(L.stack[L.top-1]);\n        delete L.stack[--L.top];\n        return name;\n    }\n    return null;\n};\n\nconst lua_newtable = function(L) {\n    lua_createtable(L, 0, 0);\n};\n\nconst lua_register = function(L, n, f) {\n    lua_pushcfunction(L, f);\n    lua_setglobal(L, n);\n};\n\nconst lua_getmetatable = function(L, objindex) {\n    let obj = index2addr(L, objindex);\n    let mt;\n    let res = false;\n    switch (obj.ttnov()) {\n        case LUA_TTABLE:\n        case LUA_TUSERDATA:\n            mt = obj.value.metatable;\n            break;\n        default:\n            mt = L.l_G.mt[obj.ttnov()];\n            break;\n    }\n\n    if (mt !== null && mt !== undefined) {\n        L.stack[L.top] = new TValue(LUA_TTABLE, mt);\n        api_incr_top(L);\n        res = true;\n    }\n\n    return res;\n};\n\nconst lua_getuservalue = function(L, idx) {\n    let o = index2addr(L, idx);\n    api_check(L, o.ttisfulluserdata(), \"full userdata expected\");\n    let uv = o.value.uservalue;\n    L.stack[L.top] = new TValue(uv.type, uv.value);\n    api_incr_top(L);\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_gettable = function(L, idx) {\n    let t = index2addr(L, idx);\n    lvm.luaV_gettable(L, t, L.stack[L.top - 1], L.top - 1);\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_getfield = function(L, idx, k) {\n    return auxgetstr(L, index2addr(L, idx), k);\n};\n\nconst lua_geti = function(L, idx, n) {\n    let t = index2addr(L, idx);\n    fengari_argcheckinteger(n);\n    L.stack[L.top] = new TValue(LUA_TNUMINT, n);\n    api_incr_top(L);\n    lvm.luaV_gettable(L, t, L.stack[L.top - 1], L.top - 1);\n    return L.stack[L.top - 1].ttnov();\n};\n\nconst lua_getglobal = function(L, name) {\n    return auxgetstr(L, ltable.luaH_getint(L.l_G.l_registry.value, LUA_RIDX_GLOBALS), name);\n};\n\n/*\n** access functions (stack -> JS)\n*/\n\nconst lua_toboolean = function(L, idx) {\n    let o = index2addr(L, idx);\n    return !o.l_isfalse();\n};\n\nconst lua_tolstring = function(L, idx) {\n    let o = index2addr(L, idx);\n\n    if (!o.ttisstring()) {\n        if (!lvm.cvt2str(o)) {  /* not convertible? */\n            return null;\n        }\n        lobject.luaO_tostring(L, o);\n    }\n    return o.svalue();\n};\n\nconst lua_tostring =  lua_tolstring;\n\nconst lua_tojsstring = function(L, idx) {\n    let o = index2addr(L, idx);\n\n    if (!o.ttisstring()) {\n        if (!lvm.cvt2str(o)) {  /* not convertible? */\n            return null;\n        }\n        lobject.luaO_tostring(L, o);\n    }\n    return o.jsstring();\n};\n\nconst lua_todataview = function(L, idx) {\n    let u8 = lua_tolstring(L, idx);\n    return new DataView(u8.buffer, u8.byteOffset, u8.byteLength);\n};\n\nconst lua_rawlen = function(L, idx) {\n    let o = index2addr(L, idx);\n    switch (o.ttype()) {\n        case LUA_TSHRSTR:\n        case LUA_TLNGSTR:\n            return o.vslen();\n        case LUA_TUSERDATA:\n            return o.value.len;\n        case LUA_TTABLE:\n            return ltable.luaH_getn(o.value);\n        default:\n            return 0;\n    }\n};\n\nconst lua_tocfunction = function(L, idx) {\n    let o = index2addr(L, idx);\n    if (o.ttislcf() || o.ttisCclosure()) return o.value;\n    else return null;  /* not a C function */\n};\n\nconst lua_tointeger = function(L, idx) {\n    let n = lua_tointegerx(L, idx);\n    return n === false ? 0 : n;\n};\n\nconst lua_tointegerx = function(L, idx) {\n    return lvm.tointeger(index2addr(L, idx));\n};\n\nconst lua_tonumber = function(L, idx) {\n    let n = lua_tonumberx(L, idx);\n    return n === false ? 0 : n;\n};\n\nconst lua_tonumberx = function(L, idx) {\n    return lvm.tonumber(index2addr(L, idx));\n};\n\nconst lua_touserdata = function(L, idx) {\n    let o = index2addr(L, idx);\n    switch (o.ttnov()) {\n        case LUA_TUSERDATA:\n            return o.value.data;\n        case LUA_TLIGHTUSERDATA:\n            return o.value;\n        default: return null;\n    }\n};\n\nconst lua_tothread = function(L, idx) {\n    let o = index2addr(L, idx);\n    return o.ttisthread() ? o.value : null;\n};\n\nconst lua_topointer = function(L, idx) {\n    let o = index2addr(L, idx);\n    switch (o.ttype()) {\n        case LUA_TTABLE:\n        case LUA_TLCL:\n        case LUA_TCCL:\n        case LUA_TLCF:\n        case LUA_TTHREAD:\n        case LUA_TUSERDATA: /* note: this differs in behaviour to reference lua implementation */\n        case LUA_TLIGHTUSERDATA:\n            return o.value;\n        default:\n            return null;\n    }\n};\n\n\n/* A proxy is a function that the same lua value to the given lua state. */\n\n/* Having a weakmap of created proxies was only way I could think of to provide an 'isproxy' function */\nconst seen = new WeakMap();\n\n/* is the passed object a proxy? is it from the given state? (if passed) */\nconst lua_isproxy = function(p, L) {\n    let G = seen.get(p);\n    if (!G)\n        return false;\n    return (L === null) || (L.l_G === G);\n};\n\n/* Use 'create_proxy' helper function so that 'L' is not in scope */\nconst create_proxy = function(G, type, value) {\n    let proxy = function(L) {\n        api_check(L, L instanceof lstate.lua_State && G === L.l_G, \"must be from same global state\");\n        L.stack[L.top] = new TValue(type, value);\n        api_incr_top(L);\n    };\n    seen.set(proxy, G);\n    return proxy;\n};\n\nconst lua_toproxy = function(L, idx) {\n    let tv = index2addr(L, idx);\n    /* pass broken down tv incase it is an upvalue index */\n    return create_proxy(L.l_G, tv.type, tv.value);\n};\n\n\nconst lua_compare = function(L, index1, index2, op) {\n    let o1 = index2addr(L, index1);\n    let o2 = index2addr(L, index2);\n\n    let i = 0;\n\n    if (isvalid(o1) && isvalid(o2)) {\n        switch (op) {\n            case LUA_OPEQ: i = lvm.luaV_equalobj(L, o1, o2); break;\n            case LUA_OPLT: i = lvm.luaV_lessthan(L, o1, o2); break;\n            case LUA_OPLE: i = lvm.luaV_lessequal(L, o1, o2); break;\n            default: api_check(L, false, \"invalid option\");\n        }\n    }\n\n    return i;\n};\n\nconst lua_stringtonumber = function(L, s) {\n    let tv = new TValue();\n    let sz = lobject.luaO_str2num(s, tv);\n    if (sz !== 0) {\n        L.stack[L.top] = tv;\n        api_incr_top(L);\n    }\n    return sz;\n};\n\nconst f_call = function(L, ud) {\n    ldo.luaD_callnoyield(L, ud.funcOff, ud.nresults);\n};\n\nconst lua_type = function(L, idx) {\n    let o = index2addr(L, idx);\n    return isvalid(o) ?  o.ttnov() : LUA_TNONE;\n};\n\nconst lua_typename = function(L, t) {\n    api_check(L, LUA_TNONE <= t && t < LUA_NUMTAGS, \"invalid tag\");\n    return ltm.ttypename(t);\n};\n\nconst lua_iscfunction = function(L, idx) {\n    let o = index2addr(L, idx);\n    return o.ttislcf(o) || o.ttisCclosure();\n};\n\nconst lua_isnil = function(L, n) {\n    return lua_type(L, n) === LUA_TNIL;\n};\n\nconst lua_isboolean = function(L, n) {\n    return lua_type(L, n) === LUA_TBOOLEAN;\n};\n\nconst lua_isnone = function(L, n) {\n    return lua_type(L, n) === LUA_TNONE;\n};\n\nconst lua_isnoneornil = function(L, n) {\n    return lua_type(L, n) <= 0;\n};\n\nconst lua_istable = function(L, idx) {\n    return index2addr(L, idx).ttistable();\n};\n\nconst lua_isinteger = function(L, idx) {\n    return index2addr(L, idx).ttisinteger();\n};\n\nconst lua_isnumber = function(L, idx) {\n    return lvm.tonumber(index2addr(L, idx)) !== false;\n};\n\nconst lua_isstring = function(L, idx) {\n    let o = index2addr(L, idx);\n    return o.ttisstring() || lvm.cvt2str(o);\n};\n\nconst lua_isuserdata = function(L, idx) {\n    let o = index2addr(L, idx);\n    return o.ttisfulluserdata(o) || o.ttislightuserdata();\n};\n\nconst lua_isthread = function(L, idx) {\n    return lua_type(L, idx) === LUA_TTHREAD;\n};\n\nconst lua_isfunction = function(L, idx) {\n    return lua_type(L, idx) === LUA_TFUNCTION;\n};\n\nconst lua_islightuserdata = function(L, idx) {\n    return lua_type(L, idx) === LUA_TLIGHTUSERDATA;\n};\n\nconst lua_rawequal = function(L, index1, index2) {\n    let o1 = index2addr(L, index1);\n    let o2 = index2addr(L, index2);\n    return isvalid(o1) && isvalid(o2) ? lvm.luaV_equalobj(null, o1, o2) : 0;\n};\n\nconst lua_arith = function(L, op) {\n    if (op !== LUA_OPUNM && op !== LUA_OPBNOT)\n        api_checknelems(L, 2);  /* all other operations expect two operands */\n    else {  /* for unary operations, add fake 2nd operand */\n        api_checknelems(L, 1);\n        lobject.pushobj2s(L, L.stack[L.top-1]);\n        api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    }\n    /* first operand at top - 2, second at top - 1; result go to top - 2 */\n    lobject.luaO_arith(L, op, L.stack[L.top - 2], L.stack[L.top - 1], L.stack[L.top - 2]);\n    delete L.stack[--L.top];  /* remove second operand */\n};\n\n/*\n** 'load' and 'call' functions (run Lua code)\n*/\n\nconst default_chunkname = to_luastring(\"?\");\nconst lua_load = function(L, reader, data, chunkname, mode) {\n    if (!chunkname) chunkname = default_chunkname;\n    else chunkname = from_userstring(chunkname);\n    if (mode !== null) mode = from_userstring(mode);\n    let z = new ZIO(L, reader, data);\n    let status = ldo.luaD_protectedparser(L, z, chunkname, mode);\n    if (status === LUA_OK) {  /* no errors? */\n        let f = L.stack[L.top - 1].value; /* get newly created function */\n        if (f.nupvalues >= 1) {  /* does it have an upvalue? */\n            /* get global table from registry */\n            let gt = ltable.luaH_getint(L.l_G.l_registry.value, LUA_RIDX_GLOBALS);\n            /* set global table as 1st upvalue of 'f' (may be LUA_ENV) */\n            f.upvals[0].setfrom(gt);\n        }\n    }\n    return status;\n};\n\nconst lua_dump = function(L, writer, data, strip) {\n    api_checknelems(L, 1);\n    let o = L.stack[L.top -1];\n    if (o.ttisLclosure())\n        return luaU_dump(L, o.value.p, writer, data, strip);\n    return 1;\n};\n\nconst lua_status = function(L) {\n    return L.status;\n};\n\nconst lua_setuservalue = function(L, idx) {\n    api_checknelems(L, 1);\n    let o = index2addr(L, idx);\n    api_check(L, o.ttisfulluserdata(), \"full userdata expected\");\n    o.value.uservalue.setfrom(L.stack[L.top - 1]);\n    delete L.stack[--L.top];\n};\n\nconst checkresults = function(L,na,nr) {\n    api_check(L, nr === LUA_MULTRET || (L.ci.top - L.top >= (nr) - (na)),\n        \"results from function overflow current stack size\");\n};\n\nconst lua_callk = function(L, nargs, nresults, ctx, k) {\n    api_check(L, k === null || !(L.ci.callstatus & lstate.CIST_LUA), \"cannot use continuations inside hooks\");\n    api_checknelems(L, nargs + 1);\n    api_check(L, L.status === LUA_OK, \"cannot do calls on non-normal thread\");\n    checkresults(L, nargs, nresults);\n    let func = L.top - (nargs + 1);\n    if (k !== null && L.nny === 0) { /* need to prepare continuation? */\n        L.ci.c_k = k;\n        L.ci.c_ctx = ctx;\n        ldo.luaD_call(L, func, nresults);\n    } else { /* no continuation or no yieldable */\n        ldo.luaD_callnoyield(L, func, nresults);\n    }\n\n    if (nresults === LUA_MULTRET && L.ci.top < L.top)\n        L.ci.top = L.top;\n};\n\nconst lua_call = function(L, n, r) {\n    lua_callk(L, n, r, 0, null);\n};\n\nconst lua_pcallk = function(L, nargs, nresults, errfunc, ctx, k) {\n    api_check(L, k === null || !(L.ci.callstatus & lstate.CIST_LUA), \"cannot use continuations inside hooks\");\n    api_checknelems(L, nargs + 1);\n    api_check(L, L.status === LUA_OK, \"cannot do calls on non-normal thread\");\n    checkresults(L, nargs, nresults);\n    let status;\n    let func;\n    if (errfunc === 0)\n        func = 0;\n    else {\n        func = index2addr_(L, errfunc);\n    }\n    let funcOff = L.top - (nargs + 1); /* function to be called */\n    if (k === null || L.nny > 0) { /* no continuation or no yieldable? */\n        let c = {\n            funcOff: funcOff,\n            nresults: nresults /* do a 'conventional' protected call */\n        };\n        status = ldo.luaD_pcall(L, f_call, c, funcOff, func);\n    } else { /* prepare continuation (call is already protected by 'resume') */\n        let ci = L.ci;\n        ci.c_k = k;  /* prepare continuation (call is already protected by 'resume') */\n        ci.c_ctx = ctx;  /* prepare continuation (call is already protected by 'resume') */\n        /* save information for error recovery */\n        ci.extra = funcOff;\n        ci.c_old_errfunc = L.errfunc;\n        L.errfunc = func;\n        ci.callstatus &= ~lstate.CIST_OAH | L.allowhook;\n        ci.callstatus |= lstate.CIST_YPCALL;  /* function can do error recovery */\n        ldo.luaD_call(L, funcOff, nresults);  /* do the call */\n        ci.callstatus &= ~lstate.CIST_YPCALL;\n        L.errfunc = ci.c_old_errfunc;\n        status = LUA_OK;\n    }\n\n    if (nresults === LUA_MULTRET && L.ci.top < L.top)\n        L.ci.top = L.top;\n\n    return status;\n};\n\nconst lua_pcall = function(L, n, r, f) {\n    return lua_pcallk(L, n, r, f, 0, null);\n};\n\n/*\n** miscellaneous functions\n*/\n\nconst lua_error = function(L) {\n    api_checknelems(L, 1);\n    ldebug.luaG_errormsg(L);\n};\n\nconst lua_next = function(L, idx) {\n    let t = index2addr(L, idx);\n    api_check(L, t.ttistable(), \"table expected\");\n    L.stack[L.top] = new TValue();\n    let more = ltable.luaH_next(L, t.value, L.top - 1);\n    if (more) {\n        api_incr_top(L);\n        return 1;\n    } else {\n        delete L.stack[L.top];\n        delete L.stack[--L.top];\n        return 0;\n    }\n};\n\nconst lua_concat = function(L, n) {\n    api_checknelems(L, n);\n    if (n >= 2)\n        lvm.luaV_concat(L, n);\n    else if (n === 0) {\n        lobject.pushsvalue2s(L, luaS_bless(L, to_luastring(\"\", true)));\n        api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    }\n};\n\nconst lua_len = function(L, idx) {\n    let t = index2addr(L, idx);\n    let tv = new TValue();\n    lvm.luaV_objlen(L, tv, t);\n    L.stack[L.top] = tv;\n    api_incr_top(L);\n};\n\nconst getupvalref = function(L, fidx, n) {\n    let fi = index2addr(L, fidx);\n    api_check(L, fi.ttisLclosure(), \"Lua function expected\");\n    let f = fi.value;\n    fengari_argcheckinteger(n);\n    api_check(L, 1 <= n && n <= f.p.upvalues.length, \"invalid upvalue index\");\n    return {\n        f: f,\n        i: n - 1\n    };\n};\n\nconst lua_upvalueid = function(L, fidx, n) {\n    let fi = index2addr(L, fidx);\n    switch (fi.ttype()) {\n        case LUA_TLCL: {  /* lua closure */\n            let ref = getupvalref(L, fidx, n);\n            return ref.f.upvals[ref.i];\n        }\n        case LUA_TCCL: {  /* C closure */\n            let f = fi.value;\n            api_check(L, (n|0) === n && n > 0 && n <= f.nupvalues, \"invalid upvalue index\");\n            return f.upvalue[n - 1];\n        }\n        default: {\n            api_check(L, false, \"closure expected\");\n            return null;\n        }\n    }\n};\n\nconst lua_upvaluejoin = function(L, fidx1, n1, fidx2, n2) {\n    let ref1 = getupvalref(L, fidx1, n1);\n    let ref2 = getupvalref(L, fidx2, n2);\n    let up2 = ref2.f.upvals[ref2.i];\n    ref1.f.upvals[ref1.i] = up2;\n};\n\n// This functions are only there for compatibility purposes\nconst lua_gc = function () {};\n\nconst lua_getallocf = function () {\n    console.warn(\"lua_getallocf is not available\");\n    return 0;\n};\n\nconst lua_setallocf = function () {\n    console.warn(\"lua_setallocf is not available\");\n    return 0;\n};\n\nconst lua_getextraspace = function () {\n    console.warn(\"lua_getextraspace is not available\");\n    return 0;\n};\n\nmodule.exports.api_incr_top          = api_incr_top;\nmodule.exports.api_checknelems       = api_checknelems;\nmodule.exports.lua_absindex          = lua_absindex;\nmodule.exports.lua_arith             = lua_arith;\nmodule.exports.lua_atpanic           = lua_atpanic;\nmodule.exports.lua_atnativeerror     = lua_atnativeerror;\nmodule.exports.lua_call              = lua_call;\nmodule.exports.lua_callk             = lua_callk;\nmodule.exports.lua_checkstack        = lua_checkstack;\nmodule.exports.lua_compare           = lua_compare;\nmodule.exports.lua_concat            = lua_concat;\nmodule.exports.lua_copy              = lua_copy;\nmodule.exports.lua_createtable       = lua_createtable;\nmodule.exports.lua_dump              = lua_dump;\nmodule.exports.lua_error             = lua_error;\nmodule.exports.lua_gc                = lua_gc;\nmodule.exports.lua_getallocf         = lua_getallocf;\nmodule.exports.lua_getextraspace     = lua_getextraspace;\nmodule.exports.lua_getfield          = lua_getfield;\nmodule.exports.lua_getglobal         = lua_getglobal;\nmodule.exports.lua_geti              = lua_geti;\nmodule.exports.lua_getmetatable      = lua_getmetatable;\nmodule.exports.lua_gettable          = lua_gettable;\nmodule.exports.lua_gettop            = lua_gettop;\nmodule.exports.lua_getupvalue        = lua_getupvalue;\nmodule.exports.lua_getuservalue      = lua_getuservalue;\nmodule.exports.lua_insert            = lua_insert;\nmodule.exports.lua_isboolean         = lua_isboolean;\nmodule.exports.lua_iscfunction       = lua_iscfunction;\nmodule.exports.lua_isfunction        = lua_isfunction;\nmodule.exports.lua_isinteger         = lua_isinteger;\nmodule.exports.lua_islightuserdata   = lua_islightuserdata;\nmodule.exports.lua_isnil             = lua_isnil;\nmodule.exports.lua_isnone            = lua_isnone;\nmodule.exports.lua_isnoneornil       = lua_isnoneornil;\nmodule.exports.lua_isnumber          = lua_isnumber;\nmodule.exports.lua_isproxy           = lua_isproxy;\nmodule.exports.lua_isstring          = lua_isstring;\nmodule.exports.lua_istable           = lua_istable;\nmodule.exports.lua_isthread          = lua_isthread;\nmodule.exports.lua_isuserdata        = lua_isuserdata;\nmodule.exports.lua_len               = lua_len;\nmodule.exports.lua_load              = lua_load;\nmodule.exports.lua_newtable          = lua_newtable;\nmodule.exports.lua_newuserdata       = lua_newuserdata;\nmodule.exports.lua_next              = lua_next;\nmodule.exports.lua_pcall             = lua_pcall;\nmodule.exports.lua_pcallk            = lua_pcallk;\nmodule.exports.lua_pop               = lua_pop;\nmodule.exports.lua_pushboolean       = lua_pushboolean;\nmodule.exports.lua_pushcclosure      = lua_pushcclosure;\nmodule.exports.lua_pushcfunction     = lua_pushcfunction;\nmodule.exports.lua_pushfstring       = lua_pushfstring;\nmodule.exports.lua_pushglobaltable   = lua_pushglobaltable;\nmodule.exports.lua_pushinteger       = lua_pushinteger;\nmodule.exports.lua_pushjsclosure     = lua_pushjsclosure;\nmodule.exports.lua_pushjsfunction    = lua_pushjsfunction;\nmodule.exports.lua_pushlightuserdata = lua_pushlightuserdata;\nmodule.exports.lua_pushliteral       = lua_pushliteral;\nmodule.exports.lua_pushlstring       = lua_pushlstring;\nmodule.exports.lua_pushnil           = lua_pushnil;\nmodule.exports.lua_pushnumber        = lua_pushnumber;\nmodule.exports.lua_pushstring        = lua_pushstring;\nmodule.exports.lua_pushthread        = lua_pushthread;\nmodule.exports.lua_pushvalue         = lua_pushvalue;\nmodule.exports.lua_pushvfstring      = lua_pushvfstring;\nmodule.exports.lua_rawequal          = lua_rawequal;\nmodule.exports.lua_rawget            = lua_rawget;\nmodule.exports.lua_rawgeti           = lua_rawgeti;\nmodule.exports.lua_rawgetp           = lua_rawgetp;\nmodule.exports.lua_rawlen            = lua_rawlen;\nmodule.exports.lua_rawset            = lua_rawset;\nmodule.exports.lua_rawseti           = lua_rawseti;\nmodule.exports.lua_rawsetp           = lua_rawsetp;\nmodule.exports.lua_register          = lua_register;\nmodule.exports.lua_remove            = lua_remove;\nmodule.exports.lua_replace           = lua_replace;\nmodule.exports.lua_rotate            = lua_rotate;\nmodule.exports.lua_setallocf         = lua_setallocf;\nmodule.exports.lua_setfield          = lua_setfield;\nmodule.exports.lua_setglobal         = lua_setglobal;\nmodule.exports.lua_seti              = lua_seti;\nmodule.exports.lua_setmetatable      = lua_setmetatable;\nmodule.exports.lua_settable          = lua_settable;\nmodule.exports.lua_settop            = lua_settop;\nmodule.exports.lua_setupvalue        = lua_setupvalue;\nmodule.exports.lua_setuservalue      = lua_setuservalue;\nmodule.exports.lua_status            = lua_status;\nmodule.exports.lua_stringtonumber    = lua_stringtonumber;\nmodule.exports.lua_toboolean         = lua_toboolean;\nmodule.exports.lua_tocfunction       = lua_tocfunction;\nmodule.exports.lua_todataview        = lua_todataview;\nmodule.exports.lua_tointeger         = lua_tointeger;\nmodule.exports.lua_tointegerx        = lua_tointegerx;\nmodule.exports.lua_tojsstring        = lua_tojsstring;\nmodule.exports.lua_tolstring         = lua_tolstring;\nmodule.exports.lua_tonumber          = lua_tonumber;\nmodule.exports.lua_tonumberx         = lua_tonumberx;\nmodule.exports.lua_topointer         = lua_topointer;\nmodule.exports.lua_toproxy           = lua_toproxy;\nmodule.exports.lua_tostring          = lua_tostring;\nmodule.exports.lua_tothread          = lua_tothread;\nmodule.exports.lua_touserdata        = lua_touserdata;\nmodule.exports.lua_type              = lua_type;\nmodule.exports.lua_typename          = lua_typename;\nmodule.exports.lua_upvalueid         = lua_upvalueid;\nmodule.exports.lua_upvaluejoin       = lua_upvaluejoin;\nmodule.exports.lua_version           = lua_version;\nmodule.exports.lua_xmove             = lua_xmove;\n","\"use strict\";\n\nconst {\n    LUAL_BUFFERSIZE\n} = require('./luaconf.js');\nconst {\n    LUA_ERRERR,\n    LUA_MULTRET,\n    LUA_REGISTRYINDEX,\n    LUA_SIGNATURE,\n    LUA_TBOOLEAN,\n    LUA_TLIGHTUSERDATA,\n    LUA_TNIL,\n    LUA_TNONE,\n    LUA_TNUMBER,\n    LUA_TSTRING,\n    LUA_TTABLE,\n    LUA_VERSION_NUM,\n    lua_Debug,\n    lua_absindex,\n    lua_atpanic,\n    lua_call,\n    lua_checkstack,\n    lua_concat,\n    lua_copy,\n    lua_createtable,\n    lua_error,\n    lua_getfield,\n    lua_getinfo,\n    lua_getmetatable,\n    lua_getstack,\n    lua_gettop,\n    lua_insert,\n    lua_isinteger,\n    lua_isnil,\n    lua_isnumber,\n    lua_isstring,\n    lua_istable,\n    lua_len,\n    lua_load,\n    lua_newstate,\n    lua_newtable,\n    lua_next,\n    lua_pcall,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushcclosure,\n    lua_pushcfunction,\n    lua_pushfstring,\n    lua_pushinteger,\n    lua_pushliteral,\n    lua_pushlstring,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_pushvfstring,\n    lua_rawequal,\n    lua_rawget,\n    lua_rawgeti,\n    lua_rawlen,\n    lua_rawseti,\n    lua_remove,\n    lua_setfield,\n    lua_setglobal,\n    lua_setmetatable,\n    lua_settop,\n    lua_toboolean,\n    lua_tointeger,\n    lua_tointegerx,\n    lua_tojsstring,\n    lua_tolstring,\n    lua_tonumber,\n    lua_tonumberx,\n    lua_topointer,\n    lua_tostring,\n    lua_touserdata,\n    lua_type,\n    lua_typename,\n    lua_version\n} = require('./lua.js');\nconst {\n    from_userstring,\n    luastring_eq,\n    to_luastring,\n    to_uristring\n} = require(\"./fengaricore.js\");\n\n/* extra error code for 'luaL_loadfilex' */\nconst LUA_ERRFILE = LUA_ERRERR+1;\n\n/* key, in the registry, for table of loaded modules */\nconst LUA_LOADED_TABLE = to_luastring(\"_LOADED\");\n\n/* key, in the registry, for table of preloaded loaders */\nconst LUA_PRELOAD_TABLE = to_luastring(\"_PRELOAD\");\n\nconst LUA_FILEHANDLE = to_luastring(\"FILE*\");\n\nconst LUAL_NUMSIZES  = 4*16 + 8;\n\nconst __name = to_luastring(\"__name\");\nconst __tostring = to_luastring(\"__tostring\");\n\nconst empty = new Uint8Array(0);\n\nclass luaL_Buffer {\n    constructor() {\n        this.L = null;\n        this.b = empty;\n        this.n = 0;\n    }\n}\n\nconst LEVELS1 = 10;  /* size of the first part of the stack */\nconst LEVELS2 = 11;  /* size of the second part of the stack */\n\n/*\n** search for 'objidx' in table at index -1.\n** return 1 + string at top if find a good name.\n*/\nconst findfield = function(L, objidx, level) {\n    if (level === 0 || !lua_istable(L, -1))\n        return 0;  /* not found */\n\n    lua_pushnil(L);  /* start 'next' loop */\n\n    while (lua_next(L, -2)) {  /* for each pair in table */\n        if (lua_type(L, -2) === LUA_TSTRING) {  /* ignore non-string keys */\n            if (lua_rawequal(L, objidx, -1)) {  /* found object? */\n                lua_pop(L, 1);  /* remove value (but keep name) */\n                return 1;\n            } else if (findfield(L, objidx, level - 1)) {  /* try recursively */\n                lua_remove(L, -2);  /* remove table (but keep name) */\n                lua_pushliteral(L, \".\");\n                lua_insert(L, -2);  /* place '.' between the two names */\n                lua_concat(L, 3);\n                return 1;\n            }\n        }\n        lua_pop(L, 1);  /* remove value */\n    }\n\n    return 0;  /* not found */\n};\n\n/*\n** Search for a name for a function in all loaded modules\n*/\nconst pushglobalfuncname = function(L, ar) {\n    let top = lua_gettop(L);\n    lua_getinfo(L, to_luastring(\"f\"), ar);  /* push function */\n    lua_getfield(L, LUA_REGISTRYINDEX, LUA_LOADED_TABLE);\n    if (findfield(L, top + 1, 2)) {\n        let name = lua_tostring(L, -1);\n        if (name[0] === 95 /* '_'.charCodeAt(0) */ &&\n            name[1] === 71 /* 'G'.charCodeAt(0) */ &&\n            name[2] === 46 /* '.'.charCodeAt(0) */\n        ) {  /* name start with '_G.'? */\n            lua_pushstring(L, name.subarray(3));  /* push name without prefix */\n            lua_remove(L, -2);  /* remove original name */\n        }\n        lua_copy(L, -1, top + 1);  /* move name to proper place */\n        lua_pop(L, 2);  /* remove pushed values */\n        return 1;\n    } else {\n        lua_settop(L, top);  /* remove function and global table */\n        return 0;\n    }\n};\n\nconst pushfuncname = function(L, ar) {\n    if (pushglobalfuncname(L, ar)) {  /* try first a global name */\n        lua_pushfstring(L, to_luastring(\"function '%s'\"), lua_tostring(L, -1));\n        lua_remove(L, -2);  /* remove name */\n    }\n    else if (ar.namewhat.length !== 0)  /* is there a name from code? */\n        lua_pushfstring(L, to_luastring(\"%s '%s'\"), ar.namewhat, ar.name);  /* use it */\n    else if (ar.what && ar.what[0] === 109 /* 'm'.charCodeAt(0) */)  /* main? */\n        lua_pushliteral(L, \"main chunk\");\n    else if (ar.what && ar.what[0] === 76 /* 'L'.charCodeAt(0) */)  /* for Lua functions, use <file:line> */\n        lua_pushfstring(L, to_luastring(\"function <%s:%d>\"), ar.short_src, ar.linedefined);\n    else  /* nothing left... */\n        lua_pushliteral(L, \"?\");\n};\n\nconst lastlevel = function(L) {\n    let ar = new lua_Debug();\n    let li = 1;\n    let le = 1;\n    /* find an upper bound */\n    while (lua_getstack(L, le, ar)) { li = le; le *= 2; }\n    /* do a binary search */\n    while (li < le) {\n        let m = Math.floor((li + le)/2);\n        if (lua_getstack(L, m, ar)) li = m + 1;\n        else le = m;\n    }\n    return le - 1;\n};\n\nconst luaL_traceback = function(L, L1, msg, level) {\n    let ar = new lua_Debug();\n    let top = lua_gettop(L);\n    let last = lastlevel(L1);\n    let n1 = last - level > LEVELS1 + LEVELS2 ? LEVELS1 : -1;\n    if (msg)\n        lua_pushfstring(L, to_luastring(\"%s\\n\"), msg);\n    luaL_checkstack(L, 10, null);\n    lua_pushliteral(L, \"stack traceback:\");\n    while (lua_getstack(L1, level++, ar)) {\n        if (n1-- === 0) {  /* too many levels? */\n            lua_pushliteral(L, \"\\n\\t...\");  /* add a '...' */\n            level = last - LEVELS2 + 1;  /* and skip to last ones */\n        } else {\n            lua_getinfo(L1, to_luastring(\"Slnt\", true), ar);\n            lua_pushfstring(L, to_luastring(\"\\n\\t%s:\"), ar.short_src);\n            if (ar.currentline > 0)\n                lua_pushliteral(L, `${ar.currentline}:`);\n            lua_pushliteral(L, \" in \");\n            pushfuncname(L, ar);\n            if (ar.istailcall)\n                lua_pushliteral(L, \"\\n\\t(...tail calls..)\");\n            lua_concat(L, lua_gettop(L) - top);\n        }\n    }\n    lua_concat(L, lua_gettop(L) - top);\n};\n\nconst panic = function(L) {\n    let msg = \"PANIC: unprotected error in call to Lua API (\" + lua_tojsstring(L, -1) + \")\";\n    throw new Error(msg);\n};\n\nconst luaL_argerror = function(L, arg, extramsg) {\n    let ar = new lua_Debug();\n\n    if (!lua_getstack(L, 0, ar))  /* no stack frame? */\n        return luaL_error(L, to_luastring(\"bad argument #%d (%s)\"), arg, extramsg);\n\n    lua_getinfo(L, to_luastring(\"n\"), ar);\n\n    if (luastring_eq(ar.namewhat, to_luastring(\"method\"))) {\n        arg--;  /* do not count 'self' */\n        if (arg === 0)  /* error is in the self argument itself? */\n            return luaL_error(L, to_luastring(\"calling '%s' on bad self (%s)\"), ar.name, extramsg);\n    }\n\n    if (ar.name === null)\n        ar.name = pushglobalfuncname(L, ar) ? lua_tostring(L, -1) : to_luastring(\"?\");\n\n    return luaL_error(L, to_luastring(\"bad argument #%d to '%s' (%s)\"), arg, ar.name, extramsg);\n};\n\nconst typeerror = function(L, arg, tname) {\n    let typearg;\n    if (luaL_getmetafield(L, arg, __name) === LUA_TSTRING)\n        typearg = lua_tostring(L, -1);\n    else if (lua_type(L, arg) === LUA_TLIGHTUSERDATA)\n        typearg = to_luastring(\"light userdata\", true);\n    else\n        typearg = luaL_typename(L, arg);\n\n    let msg = lua_pushfstring(L, to_luastring(\"%s expected, got %s\"), tname, typearg);\n    return luaL_argerror(L, arg, msg);\n};\n\nconst luaL_where = function(L, level) {\n    let ar = new lua_Debug();\n    if (lua_getstack(L, level, ar)) {\n        lua_getinfo(L, to_luastring(\"Sl\", true), ar);\n        if (ar.currentline > 0) {\n            lua_pushfstring(L, to_luastring(\"%s:%d: \"), ar.short_src, ar.currentline);\n            return;\n        }\n    }\n    lua_pushstring(L, to_luastring(\"\"));\n};\n\nconst luaL_error = function(L, fmt, ...argp) {\n    luaL_where(L, 1);\n    lua_pushvfstring(L, fmt, argp);\n    lua_concat(L, 2);\n    return lua_error(L);\n};\n\n/* Unlike normal lua, we pass in an error object */\nconst luaL_fileresult = function(L, stat, fname, e) {\n    if (stat) {\n        lua_pushboolean(L, 1);\n        return 1;\n    } else {\n        lua_pushnil(L);\n        let message, errno;\n        if (e) {\n            message = e.message;\n            errno = -e.errno;\n        } else {\n            message = \"Success\"; /* what strerror(0) returns */\n            errno = 0;\n        }\n        if (fname)\n            lua_pushfstring(L, to_luastring(\"%s: %s\"), fname, to_luastring(message));\n        else\n            lua_pushstring(L, to_luastring(message));\n        lua_pushinteger(L, errno);\n        return 3;\n    }\n};\n\n/* Unlike normal lua, we pass in an error object */\nconst luaL_execresult = function(L, e) {\n    let what, stat;\n    if (e === null) {\n        lua_pushboolean(L, 1);\n        lua_pushliteral(L, \"exit\");\n        lua_pushinteger(L, 0);\n        return 3;\n    } else if (e.status) {\n        what = \"exit\";\n        stat = e.status;\n    } else if (e.signal) {\n        what = \"signal\";\n        stat = e.signal;\n    } else {\n        /* XXX: node seems to have e.errno as a string instead of a number */\n        return luaL_fileresult(L, 0, null, e);\n    }\n    lua_pushnil(L);\n    lua_pushliteral(L, what);\n    lua_pushinteger(L, stat);\n    return 3;\n};\n\nconst luaL_getmetatable = function(L, n) {\n    return lua_getfield(L, LUA_REGISTRYINDEX, n);\n};\n\nconst luaL_newmetatable = function(L, tname) {\n    if (luaL_getmetatable(L, tname) !== LUA_TNIL)  /* name already in use? */\n        return 0;  /* leave previous value on top, but return 0 */\n    lua_pop(L, 1);\n    lua_createtable(L, 0, 2);  /* create metatable */\n    lua_pushstring(L, tname);\n    lua_setfield(L, -2, __name);  /* metatable.__name = tname */\n    lua_pushvalue(L, -1);\n    lua_setfield(L, LUA_REGISTRYINDEX, tname);  /* registry.name = metatable */\n    return 1;\n\n};\n\nconst luaL_setmetatable = function(L, tname) {\n    luaL_getmetatable(L, tname);\n    lua_setmetatable(L, -2);\n};\n\nconst luaL_testudata = function(L, ud, tname) {\n    let p = lua_touserdata(L, ud);\n    if (p !== null) {  /* value is a userdata? */\n        if (lua_getmetatable(L, ud)) {  /* does it have a metatable? */\n            luaL_getmetatable(L, tname);  /* get correct metatable */\n            if (!lua_rawequal(L, -1, -2))  /* not the same? */\n                p = null;  /* value is a userdata with wrong metatable */\n            lua_pop(L, 2);  /* remove both metatables */\n            return p;\n        }\n    }\n    return null;  /* value is not a userdata with a metatable */\n};\n\nconst luaL_checkudata = function(L, ud, tname) {\n    let p = luaL_testudata(L, ud, tname);\n    if (p === null) typeerror(L, ud, tname);\n    return p;\n};\n\nconst luaL_checkoption = function(L, arg, def, lst) {\n    let name = def !== null ? luaL_optstring(L, arg, def) : luaL_checkstring(L, arg);\n    for (let i = 0; lst[i]; i++)\n        if (luastring_eq(lst[i], name))\n            return i;\n    return luaL_argerror(L, arg, lua_pushfstring(L, to_luastring(\"invalid option '%s'\"), name));\n};\n\nconst tag_error = function(L, arg, tag) {\n    typeerror(L, arg, lua_typename(L, tag));\n};\n\nconst luaL_newstate = function() {\n    let L = lua_newstate();\n    if (L) lua_atpanic(L, panic);\n    return L;\n};\n\n\nconst luaL_typename = function(L, i) {\n    return lua_typename(L, lua_type(L, i));\n};\n\nconst luaL_argcheck = function(L, cond, arg, extramsg) {\n    if (!cond) luaL_argerror(L, arg, extramsg);\n};\n\nconst luaL_checkany = function(L, arg) {\n    if (lua_type(L, arg) === LUA_TNONE)\n        luaL_argerror(L, arg, to_luastring(\"value expected\", true));\n};\n\nconst luaL_checktype = function(L, arg, t) {\n    if (lua_type(L, arg) !== t)\n        tag_error(L, arg, t);\n};\n\nconst luaL_checklstring = function(L, arg) {\n    let s = lua_tolstring(L, arg);\n    if (s === null || s === undefined) tag_error(L, arg, LUA_TSTRING);\n    return s;\n};\n\nconst luaL_checkstring = luaL_checklstring;\n\nconst luaL_optlstring = function(L, arg, def) {\n    if (lua_type(L, arg) <= 0) {\n        return def === null ? null : from_userstring(def);\n    } else return luaL_checklstring(L, arg);\n};\n\nconst luaL_optstring = luaL_optlstring;\n\nconst interror = function(L, arg) {\n    if (lua_isnumber(L, arg))\n        luaL_argerror(L, arg, to_luastring(\"number has no integer representation\", true));\n    else\n        tag_error(L, arg, LUA_TNUMBER);\n};\n\nconst luaL_checknumber = function(L, arg) {\n    let d = lua_tonumberx(L, arg);\n    if (d === false)\n        tag_error(L, arg, LUA_TNUMBER);\n    return d;\n};\n\nconst luaL_optnumber = function(L, arg, def) {\n    return luaL_opt(L, luaL_checknumber, arg, def);\n};\n\nconst luaL_checkinteger = function(L, arg) {\n    let d = lua_tointegerx(L, arg);\n    if (d === false)\n        interror(L, arg);\n    return d;\n};\n\nconst luaL_optinteger = function(L, arg, def) {\n    return luaL_opt(L, luaL_checkinteger, arg, def);\n};\n\nconst luaL_prepbuffsize = function(B, sz) {\n    let newend = B.n + sz;\n    if (B.b.length < newend) {\n        let newsize = Math.max(B.b.length * 2, newend);  /* double buffer size */\n        let newbuff = new Uint8Array(newsize);  /* create larger buffer */\n        newbuff.set(B.b);  /* copy original content */\n        B.b = newbuff;\n    }\n    return B.b.subarray(B.n, newend);\n};\n\nconst luaL_buffinit = function(L, B) {\n    B.L = L;\n    B.b = empty;\n};\n\nconst luaL_buffinitsize = function(L, B, sz) {\n    luaL_buffinit(L, B);\n    return luaL_prepbuffsize(B, sz);\n};\n\nconst luaL_prepbuffer = function(B) {\n    return luaL_prepbuffsize(B, LUAL_BUFFERSIZE);\n};\n\nconst luaL_addlstring = function(B, s, l) {\n    if (l > 0) {\n        s = from_userstring(s);\n        let b = luaL_prepbuffsize(B, l);\n        b.set(s.subarray(0, l));\n        luaL_addsize(B, l);\n    }\n};\n\nconst luaL_addstring = function(B, s) {\n    s = from_userstring(s);\n    luaL_addlstring(B, s, s.length);\n};\n\nconst luaL_pushresult = function(B) {\n    lua_pushlstring(B.L, B.b, B.n);\n    /* delete old buffer */\n    B.n = 0;\n    B.b = empty;\n};\n\nconst luaL_addchar = function(B, c) {\n    luaL_prepbuffsize(B, 1);\n    B.b[B.n++] = c;\n};\n\nconst luaL_addsize = function(B, s) {\n    B.n += s;\n};\n\nconst luaL_pushresultsize = function(B, sz) {\n    luaL_addsize(B, sz);\n    luaL_pushresult(B);\n};\n\nconst luaL_addvalue = function(B) {\n    let L = B.L;\n    let s = lua_tostring(L, -1);\n    luaL_addlstring(B, s, s.length);\n    lua_pop(L, 1);  /* remove value */\n};\n\nconst luaL_opt = function(L, f, n, d) {\n    return lua_type(L, n) <= 0 ? d : f(L, n);\n};\n\nconst getS = function(L, ud) {\n    let s = ud.string;\n    ud.string = null;\n    return s;\n};\n\nconst luaL_loadbufferx = function(L, buff, size, name, mode) {\n    return lua_load(L, getS, {string: buff}, name, mode);\n};\n\nconst luaL_loadbuffer = function(L, s, sz, n) {\n    return luaL_loadbufferx(L, s, sz, n, null);\n};\n\nconst luaL_loadstring = function(L, s) {\n    return luaL_loadbuffer(L, s, s.length, s);\n};\n\nconst luaL_dostring = function(L, s) {\n    return (luaL_loadstring(L, s) || lua_pcall(L, 0, LUA_MULTRET, 0));\n};\n\nconst luaL_getmetafield = function(L, obj, event) {\n    if (!lua_getmetatable(L, obj))  /* no metatable? */\n        return LUA_TNIL;\n    else {\n        lua_pushstring(L, event);\n        let tt = lua_rawget(L, -2);\n        if (tt === LUA_TNIL)  /* is metafield nil? */\n            lua_pop(L, 2);  /* remove metatable and metafield */\n        else\n            lua_remove(L, -2);  /* remove only metatable */\n        return tt;  /* return metafield type */\n    }\n};\n\nconst luaL_callmeta = function(L, obj, event) {\n    obj = lua_absindex(L, obj);\n    if (luaL_getmetafield(L, obj, event) === LUA_TNIL)\n        return false;\n\n    lua_pushvalue(L, obj);\n    lua_call(L, 1, 1);\n\n    return true;\n};\n\nconst luaL_len = function(L, idx) {\n    lua_len(L, idx);\n    let l = lua_tointegerx(L, -1);\n    if (l === false)\n        luaL_error(L, to_luastring(\"object length is not an integer\", true));\n    lua_pop(L, 1);  /* remove object */\n    return l;\n};\n\nconst p_I = to_luastring(\"%I\");\nconst p_f = to_luastring(\"%f\");\nconst luaL_tolstring = function(L, idx) {\n    if (luaL_callmeta(L, idx, __tostring)) {\n        if (!lua_isstring(L, -1))\n            luaL_error(L, to_luastring(\"'__tostring' must return a string\"));\n    } else {\n        let t = lua_type(L, idx);\n        switch(t) {\n            case LUA_TNUMBER: {\n                if (lua_isinteger(L, idx))\n                    lua_pushfstring(L, p_I, lua_tointeger(L, idx));\n                else\n                    lua_pushfstring(L, p_f, lua_tonumber(L, idx));\n                break;\n            }\n            case LUA_TSTRING:\n                lua_pushvalue(L, idx);\n                break;\n            case LUA_TBOOLEAN:\n                lua_pushliteral(L, (lua_toboolean(L, idx) ? \"true\" : \"false\"));\n                break;\n            case LUA_TNIL:\n                lua_pushliteral(L, \"nil\");\n                break;\n            default: {\n                let tt = luaL_getmetafield(L, idx, __name);\n                let kind = tt === LUA_TSTRING ? lua_tostring(L, -1) : luaL_typename(L, idx);\n                lua_pushfstring(L, to_luastring(\"%s: %p\"), kind, lua_topointer(L, idx));\n                if (tt !== LUA_TNIL)\n                    lua_remove(L, -2);\n                break;\n            }\n        }\n    }\n\n    return lua_tolstring(L, -1);\n};\n\n/*\n** Stripped-down 'require': After checking \"loaded\" table, calls 'openf'\n** to open a module, registers the result in 'package.loaded' table and,\n** if 'glb' is true, also registers the result in the global table.\n** Leaves resulting module on the top.\n*/\nconst luaL_requiref = function(L, modname, openf, glb) {\n    luaL_getsubtable(L, LUA_REGISTRYINDEX, LUA_LOADED_TABLE);\n    lua_getfield(L, -1, modname); /* LOADED[modname] */\n    if (!lua_toboolean(L, -1)) {  /* package not already loaded? */\n        lua_pop(L, 1);  /* remove field */\n        lua_pushcfunction(L, openf);\n        lua_pushstring(L, modname);  /* argument to open function */\n        lua_call(L, 1, 1);  /* call 'openf' to open module */\n        lua_pushvalue(L, -1);  /* make copy of module (call result) */\n        lua_setfield(L, -3, modname);  /* LOADED[modname] = module */\n    }\n    lua_remove(L, -2);  /* remove LOADED table */\n    if (glb) {\n        lua_pushvalue(L, -1);  /* copy of module */\n        lua_setglobal(L, modname);  /* _G[modname] = module */\n    }\n};\n\nconst find_subarray = function(arr, subarr, from_index) {\n    var i = from_index >>> 0,\n        sl = subarr.length,\n        l = arr.length + 1 - sl;\n\n    loop: for (; i < l; i++) {\n        for (let j = 0; j < sl; j++)\n            if (arr[i+j] !== subarr[j])\n                continue loop;\n        return i;\n    }\n    return -1;\n};\n\nconst luaL_gsub = function(L, s, p, r) {\n    let wild;\n    let b = new luaL_Buffer();\n    luaL_buffinit(L, b);\n    while ((wild = find_subarray(s, p)) >= 0) {\n        luaL_addlstring(b, s, wild);  /* push prefix */\n        luaL_addstring(b, r);  /* push replacement in place of pattern */\n        s = s.subarray(wild + p.length);  /* continue after 'p' */\n    }\n    luaL_addstring(b, s);  /* push last suffix */\n    luaL_pushresult(b);\n    return lua_tostring(L, -1);\n};\n\n/*\n** ensure that stack[idx][fname] has a table and push that table\n** into the stack\n*/\nconst luaL_getsubtable = function(L, idx, fname) {\n    if (lua_getfield(L, idx, fname) === LUA_TTABLE)\n        return true;  /* table already there */\n    else {\n        lua_pop(L, 1);  /* remove previous result */\n        idx = lua_absindex(L, idx);\n        lua_newtable(L);\n        lua_pushvalue(L, -1);  /* copy to be left at top */\n        lua_setfield(L, idx, fname);  /* assign new table to field */\n        return false;  /* false, because did not find table there */\n    }\n};\n\n/*\n** set functions from list 'l' into table at top - 'nup'; each\n** function gets the 'nup' elements at the top as upvalues.\n** Returns with only the table at the stack.\n*/\nconst luaL_setfuncs = function(L, l, nup) {\n    luaL_checkstack(L, nup, to_luastring(\"too many upvalues\", true));\n    for (let lib in l) {  /* fill the table with given functions */\n        for (let i = 0; i < nup; i++)  /* copy upvalues to the top */\n            lua_pushvalue(L, -nup);\n        lua_pushcclosure(L, l[lib], nup);  /* closure with those upvalues */\n        lua_setfield(L, -(nup + 2), to_luastring(lib));\n    }\n    lua_pop(L, nup);  /* remove upvalues */\n};\n\n/*\n** Ensures the stack has at least 'space' extra slots, raising an error\n** if it cannot fulfill the request. (The error handling needs a few\n** extra slots to format the error message. In case of an error without\n** this extra space, Lua will generate the same 'stack overflow' error,\n** but without 'msg'.)\n*/\nconst luaL_checkstack = function(L, space, msg) {\n    if (!lua_checkstack(L, space)) {\n        if (msg)\n            luaL_error(L, to_luastring(\"stack overflow (%s)\"), msg);\n        else\n            luaL_error(L, to_luastring('stack overflow', true));\n    }\n};\n\nconst luaL_newlibtable = function(L) {\n    lua_createtable(L);\n};\n\nconst luaL_newlib = function(L, l) {\n    lua_createtable(L);\n    luaL_setfuncs(L, l, 0);\n};\n\n/* predefined references */\nconst LUA_NOREF  = -2;\nconst LUA_REFNIL = -1;\n\nconst luaL_ref = function(L, t) {\n    let ref;\n    if (lua_isnil(L, -1)) {\n        lua_pop(L, 1);  /* remove from stack */\n        return LUA_REFNIL;  /* 'nil' has a unique fixed reference */\n    }\n    t = lua_absindex(L, t);\n    lua_rawgeti(L, t, 0);  /* get first free element */\n    ref = lua_tointeger(L, -1);  /* ref = t[freelist] */\n    lua_pop(L, 1);  /* remove it from stack */\n    if (ref !== 0) {  /* any free element? */\n        lua_rawgeti(L, t, ref);  /* remove it from list */\n        lua_rawseti(L, t, 0);  /* (t[freelist] = t[ref]) */\n    }\n    else  /* no free elements */\n        ref = lua_rawlen(L, t) + 1;  /* get a new reference */\n    lua_rawseti(L, t, ref);\n    return ref;\n};\n\n\nconst luaL_unref = function(L, t, ref) {\n    if (ref >= 0) {\n        t = lua_absindex(L, t);\n        lua_rawgeti(L, t, 0);\n        lua_rawseti(L, t, ref);  /* t[ref] = t[freelist] */\n        lua_pushinteger(L, ref);\n        lua_rawseti(L, t, 0);  /* t[freelist] = ref */\n    }\n};\n\n\nconst errfile = function(L, what, fnameindex, error) {\n    let serr = error.message;\n    let filename = lua_tostring(L, fnameindex).subarray(1);\n    lua_pushfstring(L, to_luastring(\"cannot %s %s: %s\"), to_luastring(what), filename, to_luastring(serr));\n    lua_remove(L, fnameindex);\n    return LUA_ERRFILE;\n};\n\nlet getc;\n\nconst utf8_bom = [0XEF, 0XBB, 0XBF];  /* UTF-8 BOM mark */\nconst skipBOM = function(lf) {\n    lf.n = 0;\n    let c;\n    let p = 0;\n    do {\n        c = getc(lf);\n        if (c === null || c !== utf8_bom[p]) return c;\n        p++;\n        lf.buff[lf.n++] = c;  /* to be read by the parser */\n    } while (p < utf8_bom.length);\n    lf.n = 0;  /* prefix matched; discard it */\n    return getc(lf);  /* return next character */\n};\n\n/*\n** reads the first character of file 'f' and skips an optional BOM mark\n** in its beginning plus its first line if it starts with '#'. Returns\n** true if it skipped the first line.  In any case, '*cp' has the\n** first \"valid\" character of the file (after the optional BOM and\n** a first-line comment).\n*/\nconst skipcomment = function(lf) {\n    let c = skipBOM(lf);\n    if (c === 35 /* '#'.charCodeAt(0) */) {  /* first line is a comment (Unix exec. file)? */\n        do {  /* skip first line */\n            c = getc(lf);\n        } while (c && c !== 10 /* '\\n'.charCodeAt(0) */);\n\n        return {\n            skipped: true,\n            c: getc(lf)  /* skip end-of-line, if present */\n        };\n    } else {\n        return {\n            skipped: false,\n            c: c\n        };\n    }\n};\n\nlet luaL_loadfilex;\n\nif (typeof process === \"undefined\") {\n    class LoadF {\n        constructor() {\n            this.n = NaN;  /* number of pre-read characters */\n            this.f = null;  /* file being read */\n            this.buff = new Uint8Array(1024);  /* area for reading file */\n            this.pos = 0;  /* current position in file */\n            this.err = void 0;\n        }\n    }\n\n    const getF = function(L, ud) {\n        let lf = ud;\n\n        if (lf.f !== null && lf.n > 0) {  /* are there pre-read characters to be read? */\n            let bytes = lf.n; /* return them (chars already in buffer) */\n            lf.n = 0;  /* no more pre-read characters */\n            lf.f = lf.f.subarray(lf.pos);  /* we won't use lf.buff anymore */\n            return lf.buff.subarray(0, bytes);\n        }\n\n        let f = lf.f;\n        lf.f = null;\n        return f;\n    };\n\n    getc = function(lf) {\n        return lf.pos < lf.f.length ? lf.f[lf.pos++] : null;\n    };\n\n    luaL_loadfilex = function(L, filename, mode) {\n        let lf = new LoadF();\n        let fnameindex = lua_gettop(L) + 1;  /* index of filename on the stack */\n        if (filename === null) {\n            throw new Error(\"Can't read stdin in the browser\");\n        } else {\n            lua_pushfstring(L, to_luastring(\"@%s\"), filename);\n            let path = to_uristring(filename);\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", path, false);\n            /*\n            Synchronous xhr in main thread always returns a js string.\n            Some browsers make console noise if you even attempt to set responseType\n            */\n            if (typeof window === \"undefined\") {\n                xhr.responseType = \"arraybuffer\";\n            }\n            xhr.send();\n            if (xhr.status >= 200 && xhr.status <= 299) {\n                if (typeof xhr.response === \"string\") {\n                    lf.f = to_luastring(xhr.response);\n                } else {\n                    lf.f = new Uint8Array(xhr.response);\n                }\n            } else {\n                lf.err = xhr.status;\n                return errfile(L, \"open\", fnameindex, { message: `${xhr.status}: ${xhr.statusText}` });\n            }\n        }\n        let com = skipcomment(lf);\n        /* check for signature first, as we don't want to add line number corrections in binary case */\n        if (com.c === LUA_SIGNATURE[0] && filename) {  /* binary file? */\n            /* no need to re-open */\n        } else if (com.skipped) { /* read initial portion */\n            lf.buff[lf.n++] = 10 /* '\\n'.charCodeAt(0) */;  /* add line to correct line numbers */\n        }\n        if (com.c !== null)\n            lf.buff[lf.n++] = com.c; /* 'c' is the first character of the stream */\n        let status = lua_load(L, getF, lf, lua_tostring(L, -1), mode);\n        let readstatus = lf.err;\n        if (readstatus) {\n            lua_settop(L, fnameindex);  /* ignore results from 'lua_load' */\n            return errfile(L, \"read\", fnameindex, readstatus);\n        }\n        lua_remove(L, fnameindex);\n        return status;\n    };\n} else {\n    const fs = require('fs');\n\n    class LoadF {\n        constructor() {\n            this.n = NaN;  /* number of pre-read characters */\n            this.f = null;  /* file being read */\n            this.buff = Buffer.alloc(1024);  /* area for reading file */\n            this.pos = 0;  /* current position in file */\n            this.err = void 0;\n        }\n    }\n\n    const getF = function(L, ud) {\n        let lf = ud;\n        let bytes = 0;\n        if (lf.n > 0) {  /* are there pre-read characters to be read? */\n            bytes = lf.n; /* return them (chars already in buffer) */\n            lf.n = 0;  /* no more pre-read characters */\n        } else {  /* read a block from file */\n            try {\n                bytes = fs.readSync(lf.f, lf.buff, 0, lf.buff.length, lf.pos); /* read block */\n            } catch(e) {\n                lf.err = e;\n                bytes = 0;\n            }\n            lf.pos += bytes;\n        }\n        if (bytes > 0)\n            return lf.buff.subarray(0, bytes);\n        else return null;\n    };\n\n    getc = function(lf) {\n        let b = Buffer.alloc(1);\n        let bytes;\n        try {\n            bytes = fs.readSync(lf.f, b, 0, 1, lf.pos);\n        } catch(e) {\n            lf.err = e;\n            return null;\n        }\n        lf.pos += bytes;\n        return bytes > 0 ? b.readUInt8() : null;\n    };\n\n    luaL_loadfilex = function(L, filename, mode) {\n        let lf = new LoadF();\n        let fnameindex = lua_gettop(L) + 1;  /* index of filename on the stack */\n        if (filename === null) {\n            lua_pushliteral(L, \"=stdin\");\n            lf.f = process.stdin.fd;\n        } else {\n            lua_pushfstring(L, to_luastring(\"@%s\"), filename);\n            try {\n                lf.f = fs.openSync(filename, \"r\");\n            } catch (e) {\n                return errfile(L, \"open\", fnameindex, e);\n            }\n        }\n        let com = skipcomment(lf);\n        /* check for signature first, as we don't want to add line number corrections in binary case */\n        if (com.c === LUA_SIGNATURE[0] && filename) {  /* binary file? */\n            /* no need to re-open */\n        } else if (com.skipped) { /* read initial portion */\n            lf.buff[lf.n++] = 10 /* '\\n'.charCodeAt(0) */;  /* add line to correct line numbers */\n        }\n        if (com.c !== null)\n            lf.buff[lf.n++] = com.c; /* 'c' is the first character of the stream */\n        let status = lua_load(L, getF, lf, lua_tostring(L, -1), mode);\n        let readstatus = lf.err;\n        if (filename) try { fs.closeSync(lf.f); } catch(e) {}  /* close file (even in case of errors) */\n        if (readstatus) {\n            lua_settop(L, fnameindex);  /* ignore results from 'lua_load' */\n            return errfile(L, \"read\", fnameindex, readstatus);\n        }\n        lua_remove(L, fnameindex);\n        return status;\n    };\n}\n\nconst luaL_loadfile = function(L, filename) {\n    return luaL_loadfilex(L, filename, null);\n};\n\nconst luaL_dofile = function(L, filename) {\n    return (luaL_loadfile(L, filename) || lua_pcall(L, 0, LUA_MULTRET, 0));\n};\n\nconst lua_writestringerror = function() {\n    for (let i=0; i<arguments.length; i++) {\n        let a = arguments[i];\n        if (typeof process === \"undefined\") {\n            /* split along new lines for separate console.error invocations */\n            do {\n                /* regexp uses [\\d\\D] to work around matching new lines\n                   the 's' flag is non-standard */\n                let r = /([^\\n]*)\\n?([\\d\\D]*)/.exec(a);\n                console.error(r[1]);\n                a = r[2];\n            } while (a !== \"\");\n        } else {\n            process.stderr.write(a);\n        }\n    }\n};\n\nconst luaL_checkversion_ = function(L, ver, sz) {\n    let v = lua_version(L);\n    if (sz != LUAL_NUMSIZES)  /* check numeric types */\n        luaL_error(L, to_luastring(\"core and library have incompatible numeric types\"));\n    if (v != lua_version(null))\n        luaL_error(L, to_luastring(\"multiple Lua VMs detected\"));\n    else if (v !== ver)\n        luaL_error(L, to_luastring(\"version mismatch: app. needs %f, Lua core provides %f\"), ver, v);\n};\n\n/* There is no point in providing this function... */\nconst luaL_checkversion = function(L) {\n    luaL_checkversion_(L, LUA_VERSION_NUM, LUAL_NUMSIZES);\n};\n\nmodule.exports.LUA_ERRFILE          = LUA_ERRFILE;\nmodule.exports.LUA_FILEHANDLE       = LUA_FILEHANDLE;\nmodule.exports.LUA_LOADED_TABLE     = LUA_LOADED_TABLE;\nmodule.exports.LUA_NOREF            = LUA_NOREF;\nmodule.exports.LUA_PRELOAD_TABLE    = LUA_PRELOAD_TABLE;\nmodule.exports.LUA_REFNIL           = LUA_REFNIL;\nmodule.exports.luaL_Buffer          = luaL_Buffer;\nmodule.exports.luaL_addchar         = luaL_addchar;\nmodule.exports.luaL_addlstring      = luaL_addlstring;\nmodule.exports.luaL_addsize         = luaL_addsize;\nmodule.exports.luaL_addstring       = luaL_addstring;\nmodule.exports.luaL_addvalue        = luaL_addvalue;\nmodule.exports.luaL_argcheck        = luaL_argcheck;\nmodule.exports.luaL_argerror        = luaL_argerror;\nmodule.exports.luaL_buffinit        = luaL_buffinit;\nmodule.exports.luaL_buffinitsize    = luaL_buffinitsize;\nmodule.exports.luaL_callmeta        = luaL_callmeta;\nmodule.exports.luaL_checkany        = luaL_checkany;\nmodule.exports.luaL_checkinteger    = luaL_checkinteger;\nmodule.exports.luaL_checklstring    = luaL_checklstring;\nmodule.exports.luaL_checknumber     = luaL_checknumber;\nmodule.exports.luaL_checkoption     = luaL_checkoption;\nmodule.exports.luaL_checkstack      = luaL_checkstack;\nmodule.exports.luaL_checkstring     = luaL_checkstring;\nmodule.exports.luaL_checktype       = luaL_checktype;\nmodule.exports.luaL_checkudata      = luaL_checkudata;\nmodule.exports.luaL_checkversion    = luaL_checkversion;\nmodule.exports.luaL_checkversion_   = luaL_checkversion_;\nmodule.exports.luaL_dofile          = luaL_dofile;\nmodule.exports.luaL_dostring        = luaL_dostring;\nmodule.exports.luaL_error           = luaL_error;\nmodule.exports.luaL_execresult      = luaL_execresult;\nmodule.exports.luaL_fileresult      = luaL_fileresult;\nmodule.exports.luaL_getmetafield    = luaL_getmetafield;\nmodule.exports.luaL_getmetatable    = luaL_getmetatable;\nmodule.exports.luaL_getsubtable     = luaL_getsubtable;\nmodule.exports.luaL_gsub            = luaL_gsub;\nmodule.exports.luaL_len             = luaL_len;\nmodule.exports.luaL_loadbuffer      = luaL_loadbuffer;\nmodule.exports.luaL_loadbufferx     = luaL_loadbufferx;\nmodule.exports.luaL_loadfile        = luaL_loadfile;\nmodule.exports.luaL_loadfilex       = luaL_loadfilex;\nmodule.exports.luaL_loadstring      = luaL_loadstring;\nmodule.exports.luaL_newlib          = luaL_newlib;\nmodule.exports.luaL_newlibtable     = luaL_newlibtable;\nmodule.exports.luaL_newmetatable    = luaL_newmetatable;\nmodule.exports.luaL_newstate        = luaL_newstate;\nmodule.exports.luaL_opt             = luaL_opt;\nmodule.exports.luaL_optinteger      = luaL_optinteger;\nmodule.exports.luaL_optlstring      = luaL_optlstring;\nmodule.exports.luaL_optnumber       = luaL_optnumber;\nmodule.exports.luaL_optstring       = luaL_optstring;\nmodule.exports.luaL_prepbuffer      = luaL_prepbuffer;\nmodule.exports.luaL_prepbuffsize    = luaL_prepbuffsize;\nmodule.exports.luaL_pushresult      = luaL_pushresult;\nmodule.exports.luaL_pushresultsize  = luaL_pushresultsize;\nmodule.exports.luaL_ref             = luaL_ref;\nmodule.exports.luaL_requiref        = luaL_requiref;\nmodule.exports.luaL_setfuncs        = luaL_setfuncs;\nmodule.exports.luaL_setmetatable    = luaL_setmetatable;\nmodule.exports.luaL_testudata       = luaL_testudata;\nmodule.exports.luaL_tolstring       = luaL_tolstring;\nmodule.exports.luaL_traceback       = luaL_traceback;\nmodule.exports.luaL_typename        = luaL_typename;\nmodule.exports.luaL_unref           = luaL_unref;\nmodule.exports.luaL_where           = luaL_where;\nmodule.exports.lua_writestringerror = lua_writestringerror;\n","\"use strict\";\n\nconst {\n    LUA_MULTRET,\n    LUA_OK,\n    LUA_TFUNCTION,\n    LUA_TNIL,\n    LUA_TNONE,\n    LUA_TNUMBER,\n    LUA_TSTRING,\n    LUA_TTABLE,\n    LUA_VERSION,\n    LUA_YIELD,\n    lua_call,\n    lua_callk,\n    lua_concat,\n    lua_error,\n    lua_getglobal,\n    lua_geti,\n    lua_getmetatable,\n    lua_gettop,\n    lua_insert,\n    lua_isnil,\n    lua_isnone,\n    lua_isstring,\n    lua_load,\n    lua_next,\n    lua_pcallk,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushcfunction,\n    lua_pushglobaltable,\n    lua_pushinteger,\n    lua_pushliteral,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_rawequal,\n    lua_rawget,\n    lua_rawlen,\n    lua_rawset,\n    lua_remove,\n    lua_replace,\n    lua_rotate,\n    lua_setfield,\n    lua_setmetatable,\n    lua_settop,\n    lua_setupvalue,\n    lua_stringtonumber,\n    lua_toboolean,\n    lua_tolstring,\n    lua_tostring,\n    lua_type,\n    lua_typename\n} = require('./lua.js');\nconst {\n    luaL_argcheck,\n    luaL_checkany,\n    luaL_checkinteger,\n    luaL_checkoption,\n    luaL_checkstack,\n    luaL_checktype,\n    luaL_error,\n    luaL_getmetafield,\n    luaL_loadbufferx,\n    luaL_loadfile,\n    luaL_loadfilex,\n    luaL_optinteger,\n    luaL_optstring,\n    luaL_setfuncs,\n    luaL_tolstring,\n    luaL_where\n} = require('./lauxlib.js');\nconst {\n    to_jsstring,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\nlet lua_writestring;\nlet lua_writeline;\nif (typeof process === \"undefined\") {\n    if (typeof TextDecoder === \"function\") { /* Older browsers don't have TextDecoder */\n        let buff = \"\";\n        let decoder = new TextDecoder(\"utf-8\");\n        lua_writestring = function(s) {\n            buff += decoder.decode(s, {stream: true});\n        };\n        let empty = new Uint8Array(0);\n        lua_writeline = function() {\n            buff += decoder.decode(empty);\n            console.log(buff);\n            buff = \"\";\n        };\n    } else {\n        let buff = [];\n        lua_writestring = function(s) {\n            try {\n                /* If the string is valid utf8, then we can use to_jsstring */\n                s = to_jsstring(s);\n            } catch(e) {\n                /* otherwise push copy of raw array */\n                let copy = new Uint8Array(s.length);\n                copy.set(s);\n                s = copy;\n            }\n            buff.push(s);\n        };\n        lua_writeline = function() {\n            console.log.apply(console.log, buff);\n            buff = [];\n        };\n    }\n} else {\n    lua_writestring = function(s) {\n        process.stdout.write(Buffer.from(s));\n    };\n    lua_writeline = function() {\n        process.stdout.write(\"\\n\");\n    };\n}\nconst luaB_print = function(L) {\n    let n = lua_gettop(L); /* number of arguments */\n    lua_getglobal(L, to_luastring(\"tostring\", true));\n    for (let i = 1; i <= n; i++) {\n        lua_pushvalue(L, -1);  /* function to be called */\n        lua_pushvalue(L, i);  /* value to print */\n        lua_call(L, 1, 1);\n        let s = lua_tolstring(L, -1);\n        if (s === null)\n            return luaL_error(L, to_luastring(\"'tostring' must return a string to 'print'\"));\n        if (i > 1) lua_writestring(to_luastring(\"\\t\"));\n        lua_writestring(s);\n        lua_pop(L, 1);\n    }\n    lua_writeline();\n    return 0;\n};\n\nconst luaB_tostring = function(L) {\n    luaL_checkany(L, 1);\n    luaL_tolstring(L, 1);\n\n    return 1;\n};\n\nconst luaB_getmetatable = function(L) {\n    luaL_checkany(L, 1);\n    if (!lua_getmetatable(L, 1)) {\n        lua_pushnil(L);\n        return 1;  /* no metatable */\n    }\n    luaL_getmetafield(L, 1, to_luastring(\"__metatable\", true));\n    return 1;  /* returns either __metatable field (if present) or metatable */\n};\n\nconst luaB_setmetatable = function(L) {\n    let t = lua_type(L, 2);\n    luaL_checktype(L, 1, LUA_TTABLE);\n    luaL_argcheck(L, t === LUA_TNIL || t === LUA_TTABLE, 2, \"nil or table expected\");\n    if (luaL_getmetafield(L, 1, to_luastring(\"__metatable\", true)) !== LUA_TNIL)\n        return luaL_error(L, to_luastring(\"cannot change a protected metatable\"));\n    lua_settop(L, 2);\n    lua_setmetatable(L, 1);\n    return 1;\n};\n\nconst luaB_rawequal = function(L) {\n    luaL_checkany(L, 1);\n    luaL_checkany(L, 2);\n    lua_pushboolean(L, lua_rawequal(L, 1, 2));\n    return 1;\n};\n\nconst luaB_rawlen = function(L) {\n    let t = lua_type(L, 1);\n    luaL_argcheck(L, t === LUA_TTABLE || t === LUA_TSTRING, 1, \"table or string expected\");\n    lua_pushinteger(L, lua_rawlen(L, 1));\n    return 1;\n};\n\nconst luaB_rawget = function(L) {\n    luaL_checktype(L, 1, LUA_TTABLE);\n    luaL_checkany(L, 2);\n    lua_settop(L, 2);\n    lua_rawget(L, 1);\n    return 1;\n};\n\nconst luaB_rawset = function(L) {\n    luaL_checktype(L, 1, LUA_TTABLE);\n    luaL_checkany(L, 2);\n    luaL_checkany(L, 3);\n    lua_settop(L, 3);\n    lua_rawset(L, 1);\n    return 1;\n};\n\nconst opts = [\n    \"stop\", \"restart\", \"collect\",\n    \"count\", \"step\", \"setpause\", \"setstepmul\",\n    \"isrunning\"\n].map((e) => to_luastring(e));\nconst luaB_collectgarbage = function(L) {\n    luaL_checkoption(L, 1, \"collect\", opts);\n    luaL_optinteger(L, 2, 0);\n    luaL_error(L, to_luastring(\"lua_gc not implemented\"));\n};\n\nconst luaB_type = function(L) {\n    let t = lua_type(L, 1);\n    luaL_argcheck(L, t !== LUA_TNONE, 1, \"value expected\");\n    lua_pushstring(L, lua_typename(L, t));\n    return 1;\n};\n\nconst pairsmeta = function(L, method, iszero, iter) {\n    luaL_checkany(L, 1);\n    if (luaL_getmetafield(L, 1, method) === LUA_TNIL) {  /* no metamethod? */\n        lua_pushcfunction(L, iter);  /* will return generator, */\n        lua_pushvalue(L, 1);  /* state, */\n        if (iszero) lua_pushinteger(L, 0);  /* and initial value */\n        else lua_pushnil(L);\n    } else {\n        lua_pushvalue(L, 1);  /* argument 'self' to metamethod */\n        lua_call(L, 1, 3);  /* get 3 values from metamethod */\n    }\n    return 3;\n};\n\nconst luaB_next = function(L) {\n    luaL_checktype(L, 1, LUA_TTABLE);\n    lua_settop(L, 2);  /* create a 2nd argument if there isn't one */\n    if (lua_next(L, 1))\n        return 2;\n    else {\n        lua_pushnil(L);\n        return 1;\n    }\n};\n\nconst luaB_pairs = function(L) {\n    return pairsmeta(L, to_luastring(\"__pairs\", true), 0, luaB_next);\n};\n\n/*\n** Traversal function for 'ipairs'\n*/\nconst ipairsaux = function(L) {\n    let i = luaL_checkinteger(L, 2) + 1;\n    lua_pushinteger(L, i);\n    return lua_geti(L, 1, i) === LUA_TNIL ? 1 : 2;\n};\n\n/*\n** 'ipairs' function. Returns 'ipairsaux', given \"table\", 0.\n** (The given \"table\" may not be a table.)\n*/\nconst luaB_ipairs = function(L) {\n    // Lua 5.2\n    // return pairsmeta(L, \"__ipairs\", 1, ipairsaux);\n\n    luaL_checkany(L, 1);\n    lua_pushcfunction(L, ipairsaux);  /* iteration function */\n    lua_pushvalue(L, 1);  /* state */\n    lua_pushinteger(L, 0);  /* initial value */\n    return 3;\n};\n\nconst b_str2int = function(s, base) {\n    try {\n        s = to_jsstring(s);\n    } catch (e) {\n        return null;\n    }\n    let r = /^[\\t\\v\\f \\n\\r]*([+-]?)0*([0-9A-Za-z]+)[\\t\\v\\f \\n\\r]*$/.exec(s);\n    if (!r) return null;\n    let v = parseInt(r[1]+r[2], base);\n    if (isNaN(v)) return null;\n    return v|0;\n};\n\nconst luaB_tonumber = function(L) {\n    if (lua_type(L, 2) <= 0) {  /* standard conversion? */\n        luaL_checkany(L, 1);\n        if (lua_type(L, 1) === LUA_TNUMBER) {  /* already a number? */\n            lua_settop(L, 1);\n            return 1;\n        } else {\n            let s = lua_tostring(L, 1);\n            if (s !== null && lua_stringtonumber(L, s) === s.length+1)\n                return 1;  /* successful conversion to number */\n        }\n    } else {\n        let base = luaL_checkinteger(L, 2);\n        luaL_checktype(L, 1, LUA_TSTRING);  /* no numbers as strings */\n        let s = lua_tostring(L, 1);\n        luaL_argcheck(L, 2 <= base && base <= 36, 2, \"base out of range\");\n        let n = b_str2int(s, base);\n        if (n !== null) {\n            lua_pushinteger(L, n);\n            return 1;\n        }\n    }\n\n    lua_pushnil(L);\n    return 1;\n};\n\nconst luaB_error = function(L) {\n    let level = luaL_optinteger(L, 2, 1);\n    lua_settop(L, 1);\n    if (lua_type(L, 1) === LUA_TSTRING && level > 0) {\n        luaL_where(L, level);  /* add extra information */\n        lua_pushvalue(L, 1);\n        lua_concat(L, 2);\n    }\n    return lua_error(L);\n};\n\nconst luaB_assert = function(L) {\n    if (lua_toboolean(L, 1))  /* condition is true? */\n        return lua_gettop(L);  /* return all arguments */\n    else {\n        luaL_checkany(L, 1);  /* there must be a condition */\n        lua_remove(L, 1);  /* remove it */\n        lua_pushliteral(L, \"assertion failed!\");  /* default message */\n        lua_settop(L, 1);  /* leave only message (default if no other one) */\n        return luaB_error(L);  /* call 'error' */\n    }\n};\n\nconst luaB_select = function(L) {\n    let n = lua_gettop(L);\n    if (lua_type(L, 1) === LUA_TSTRING && lua_tostring(L, 1)[0] === 35 /* '#'.charCodeAt(0) */) {\n        lua_pushinteger(L, n - 1);\n        return 1;\n    } else {\n        let i = luaL_checkinteger(L, 1);\n        if (i < 0) i = n + i;\n        else if (i > n) i = n;\n        luaL_argcheck(L, 1 <= i, 1, \"index out of range\");\n        return n - i;\n    }\n};\n\n/*\n** Continuation function for 'pcall' and 'xpcall'. Both functions\n** already pushed a 'true' before doing the call, so in case of success\n** 'finishpcall' only has to return everything in the stack minus\n** 'extra' values (where 'extra' is exactly the number of items to be\n** ignored).\n*/\nconst finishpcall = function(L, status, extra) {\n    if (status !== LUA_OK && status !== LUA_YIELD) {  /* error? */\n        lua_pushboolean(L, 0);  /* first result (false) */\n        lua_pushvalue(L, -2);  /* error message */\n        return 2;  /* return false, msg */\n    } else\n        return lua_gettop(L) - extra;\n};\n\nconst luaB_pcall = function(L) {\n    luaL_checkany(L, 1);\n    lua_pushboolean(L, 1);  /* first result if no errors */\n    lua_insert(L, 1);  /* put it in place */\n    let status = lua_pcallk(L, lua_gettop(L) - 2, LUA_MULTRET, 0, 0, finishpcall);\n    return finishpcall(L, status, 0);\n};\n\n/*\n** Do a protected call with error handling. After 'lua_rotate', the\n** stack will have <f, err, true, f, [args...]>; so, the function passes\n** 2 to 'finishpcall' to skip the 2 first values when returning results.\n*/\nconst luaB_xpcall = function(L) {\n    let n = lua_gettop(L);\n    luaL_checktype(L, 2, LUA_TFUNCTION);  /* check error function */\n    lua_pushboolean(L, 1);  /* first result */\n    lua_pushvalue(L, 1);  /* function */\n    lua_rotate(L, 3, 2);  /* move them below function's arguments */\n    let status = lua_pcallk(L, n - 2, LUA_MULTRET, 2, 2, finishpcall);\n    return finishpcall(L, status, 2);\n};\n\nconst load_aux = function(L, status, envidx) {\n    if (status === LUA_OK) {\n        if (envidx !== 0) {  /* 'env' parameter? */\n            lua_pushvalue(L, envidx);  /* environment for loaded function */\n            if (!lua_setupvalue(L, -2, 1))  /* set it as 1st upvalue */\n                lua_pop(L, 1);  /* remove 'env' if not used by previous call */\n        }\n        return 1;\n    } else {  /* error (message is on top of the stack) */\n        lua_pushnil(L);\n        lua_insert(L, -2);  /* put before error message */\n        return 2;  /* return nil plus error message */\n    }\n};\n\n/*\n** reserved slot, above all arguments, to hold a copy of the returned\n** string to avoid it being collected while parsed. 'load' has four\n** optional arguments (chunk, source name, mode, and environment).\n*/\nconst RESERVEDSLOT = 5;\n\n/*\n** Reader for generic 'load' function: 'lua_load' uses the\n** stack for internal stuff, so the reader cannot change the\n** stack top. Instead, it keeps its resulting string in a\n** reserved slot inside the stack.\n*/\nconst generic_reader = function(L, ud) {\n    luaL_checkstack(L, 2, \"too many nested functions\");\n    lua_pushvalue(L, 1);  /* get function */\n    lua_call(L, 0, 1);  /* call it */\n    if (lua_isnil(L, -1)) {\n        lua_pop(L, 1);  /* pop result */\n        return null;\n    } else if (!lua_isstring(L, -1))\n        luaL_error(L, to_luastring(\"reader function must return a string\"));\n    lua_replace(L, RESERVEDSLOT);  /* save string in reserved slot */\n    return lua_tostring(L, RESERVEDSLOT);\n};\n\nconst luaB_load = function(L) {\n    let s = lua_tostring(L, 1);\n    let mode = luaL_optstring(L, 3, \"bt\");\n    let env = !lua_isnone(L, 4) ? 4 : 0;  /* 'env' index or 0 if no 'env' */\n    let status;\n    if (s !== null) {  /* loading a string? */\n        let chunkname = luaL_optstring(L, 2, s);\n        status = luaL_loadbufferx(L, s, s.length, chunkname, mode);\n    } else {  /* loading from a reader function */\n        let chunkname = luaL_optstring(L, 2, \"=(load)\");\n        luaL_checktype(L, 1, LUA_TFUNCTION);\n        lua_settop(L, RESERVEDSLOT);  /* create reserved slot */\n        status = lua_load(L, generic_reader, null, chunkname, mode);\n    }\n    return load_aux(L, status, env);\n};\n\nconst luaB_loadfile = function(L) {\n    let fname = luaL_optstring(L, 1, null);\n    let mode = luaL_optstring(L, 2, null);\n    let env = !lua_isnone(L, 3) ? 3 : 0;  /* 'env' index or 0 if no 'env' */\n    let status = luaL_loadfilex(L, fname, mode);\n    return load_aux(L, status, env);\n};\n\nconst dofilecont = function(L, d1, d2) {\n    return lua_gettop(L) - 1;\n};\n\nconst luaB_dofile = function(L) {\n    let fname = luaL_optstring(L, 1, null);\n    lua_settop(L, 1);\n    if (luaL_loadfile(L, fname) !== LUA_OK)\n        return lua_error(L);\n    lua_callk(L, 0, LUA_MULTRET, 0, dofilecont);\n    return dofilecont(L, 0, 0);\n};\n\nconst base_funcs = {\n    \"assert\":         luaB_assert,\n    \"collectgarbage\": luaB_collectgarbage,\n    \"dofile\":         luaB_dofile,\n    \"error\":          luaB_error,\n    \"getmetatable\":   luaB_getmetatable,\n    \"ipairs\":         luaB_ipairs,\n    \"load\":           luaB_load,\n    \"loadfile\":       luaB_loadfile,\n    \"next\":           luaB_next,\n    \"pairs\":          luaB_pairs,\n    \"pcall\":          luaB_pcall,\n    \"print\":          luaB_print,\n    \"rawequal\":       luaB_rawequal,\n    \"rawget\":         luaB_rawget,\n    \"rawlen\":         luaB_rawlen,\n    \"rawset\":         luaB_rawset,\n    \"select\":         luaB_select,\n    \"setmetatable\":   luaB_setmetatable,\n    \"tonumber\":       luaB_tonumber,\n    \"tostring\":       luaB_tostring,\n    \"type\":           luaB_type,\n    \"xpcall\":         luaB_xpcall\n};\n\nconst luaopen_base = function(L) {\n    /* open lib into global table */\n    lua_pushglobaltable(L);\n    luaL_setfuncs(L, base_funcs, 0);\n    /* set global _G */\n    lua_pushvalue(L, -1);\n    lua_setfield(L, -2, to_luastring(\"_G\"));\n    /* set global _VERSION */\n    lua_pushliteral(L, LUA_VERSION);\n    lua_setfield(L, -2, to_luastring(\"_VERSION\"));\n    return 1;\n};\n\nmodule.exports.luaopen_base = luaopen_base;\n","\"use strict\";\n\nconst {\n    LUA_MULTRET,\n    LUA_OPADD,\n    LUA_OPBAND,\n    LUA_OPBNOT,\n    LUA_OPBOR,\n    LUA_OPBXOR,\n    LUA_OPDIV,\n    LUA_OPIDIV,\n    LUA_OPMOD,\n    LUA_OPSHL,\n    LUA_OPSHR,\n    LUA_OPUNM,\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TLIGHTUSERDATA,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TTABLE\n    },\n    to_luastring\n} = require('./defs.js');\nconst { lua_assert } = require(\"./llimits.js\");\nconst llex     = require('./llex.js');\nconst lobject  = require('./lobject.js');\nconst lopcodes = require('./lopcodes.js');\nconst lparser  = require('./lparser.js');\nconst ltable   = require('./ltable.js');\nconst lvm      = require('./lvm.js');\n\nconst OpCodesI = lopcodes.OpCodesI;\nconst TValue   = lobject.TValue;\n\n/* Maximum number of registers in a Lua function (must fit in 8 bits) */\nconst MAXREGS = 255;\n\n/*\n** Marks the end of a patch list. It is an invalid value both as an absolute\n** address, and as a list link (would link an element to itself).\n*/\nconst NO_JUMP = -1;\n\nconst BinOpr = {\n    OPR_ADD:      0,\n    OPR_SUB:      1,\n    OPR_MUL:      2,\n    OPR_MOD:      3,\n    OPR_POW:      4,\n    OPR_DIV:      5,\n    OPR_IDIV:     6,\n    OPR_BAND:     7,\n    OPR_BOR:      8,\n    OPR_BXOR:     9,\n    OPR_SHL:      10,\n    OPR_SHR:      11,\n    OPR_CONCAT:   12,\n    OPR_EQ:       13,\n    OPR_LT:       14,\n    OPR_LE:       15,\n    OPR_NE:       16,\n    OPR_GT:       17,\n    OPR_GE:       18,\n    OPR_AND:      19,\n    OPR_OR:       20,\n    OPR_NOBINOPR: 21\n};\n\nconst UnOpr = {\n    OPR_MINUS:    0,\n    OPR_BNOT:     1,\n    OPR_NOT:      2,\n    OPR_LEN:      3,\n    OPR_NOUNOPR:  4\n};\n\nconst hasjumps = function(e) {\n    return e.t !== e.f;\n};\n\n/*\n** If expression is a numeric constant returns either true or a new TValue\n** (depending on 'make_tvalue'). Otherwise, returns false.\n*/\nconst tonumeral = function(e, make_tvalue) {\n    let ek = lparser.expkind;\n    if (hasjumps(e))\n        return false;  /* not a numeral */\n    switch (e.k) {\n        case ek.VKINT:\n            if (make_tvalue) {\n                return new TValue(LUA_TNUMINT, e.u.ival);\n            }\n            return true;\n        case ek.VKFLT:\n            if (make_tvalue) {\n                return new TValue(LUA_TNUMFLT, e.u.nval);\n            }\n            return true;\n        default: return false;\n    }\n};\n\n/*\n** Create a OP_LOADNIL instruction, but try to optimize: if the previous\n** instruction is also OP_LOADNIL and ranges are compatible, adjust\n** range of previous instruction instead of emitting a new one. (For\n** instance, 'local a; local b' will generate a single opcode.)\n*/\nconst luaK_nil = function(fs, from, n) {\n    let previous;\n    let l = from + n - 1;  /* last register to set nil */\n    if (fs.pc > fs.lasttarget) {  /* no jumps to current position? */\n        previous = fs.f.code[fs.pc-1];\n        if (previous.opcode === OpCodesI.OP_LOADNIL) {  /* previous is LOADNIL? */\n            let pfrom = previous.A;  /* get previous range */\n            let pl = pfrom + previous.B;\n            if ((pfrom <= from && from <= pl + 1) ||\n                    (from <= pfrom && pfrom <= l + 1)) {  /* can connect both? */\n                if (pfrom < from) from = pfrom;  /* from = min(from, pfrom) */\n                if (pl > l) l = pl;  /* l = max(l, pl) */\n                lopcodes.SETARG_A(previous, from);\n                lopcodes.SETARG_B(previous, l - from);\n                return;\n            }\n        }  /* else go through */\n    }\n    luaK_codeABC(fs, OpCodesI.OP_LOADNIL, from, n - 1, 0);  /* else no optimization */\n};\n\nconst getinstruction = function(fs, e) {\n    return fs.f.code[e.u.info];\n};\n\n/*\n** Gets the destination address of a jump instruction. Used to traverse\n** a list of jumps.\n*/\nconst getjump = function(fs, pc) {\n    let offset = fs.f.code[pc].sBx;\n    if (offset === NO_JUMP)  /* point to itself represents end of list */\n        return NO_JUMP;  /* end of list */\n    else\n        return pc + 1 + offset;  /* turn offset into absolute position */\n};\n\n/*\n** Fix jump instruction at position 'pc' to jump to 'dest'.\n** (Jump addresses are relative in Lua)\n*/\nconst fixjump = function(fs, pc, dest) {\n    let jmp = fs.f.code[pc];\n    let offset = dest - (pc + 1);\n    lua_assert(dest !== NO_JUMP);\n    if (Math.abs(offset) > lopcodes.MAXARG_sBx)\n        llex.luaX_syntaxerror(fs.ls, to_luastring(\"control structure too long\", true));\n    lopcodes.SETARG_sBx(jmp, offset);\n};\n\n/*\n** Concatenate jump-list 'l2' into jump-list 'l1'\n*/\nconst luaK_concat = function(fs, l1, l2) {\n    if (l2 === NO_JUMP) return l1;  /* nothing to concatenate? */\n    else if (l1 === NO_JUMP)  /* no original list? */\n        l1 = l2;\n    else {\n        let list = l1;\n        let next = getjump(fs, list);\n        while (next !== NO_JUMP) {  /* find last element */\n            list = next;\n            next = getjump(fs, list);\n        }\n        fixjump(fs, list, l2);\n    }\n\n    return l1;\n};\n\n/*\n** Create a jump instruction and return its position, so its destination\n** can be fixed later (with 'fixjump'). If there are jumps to\n** this position (kept in 'jpc'), link them all together so that\n** 'patchlistaux' will fix all them directly to the final destination.\n*/\nconst luaK_jump = function (fs) {\n    let jpc = fs.jpc;  /* save list of jumps to here */\n    fs.jpc = NO_JUMP;  /* no more jumps to here */\n    let j = luaK_codeAsBx(fs, OpCodesI.OP_JMP, 0, NO_JUMP);\n    j = luaK_concat(fs, j, jpc);  /* keep them on hold */\n    return j;\n};\n\nconst luaK_jumpto = function(fs, t) {\n    return luaK_patchlist(fs, luaK_jump(fs), t);\n};\n\n/*\n** Code a 'return' instruction\n*/\nconst luaK_ret = function(fs, first, nret) {\n    luaK_codeABC(fs, OpCodesI.OP_RETURN, first, nret + 1, 0);\n};\n\n/*\n** Code a \"conditional jump\", that is, a test or comparison opcode\n** followed by a jump. Return jump position.\n*/\nconst condjump = function(fs, op, A, B, C) {\n    luaK_codeABC(fs, op, A, B, C);\n    return luaK_jump(fs);\n};\n\n/*\n** returns current 'pc' and marks it as a jump target (to avoid wrong\n** optimizations with consecutive instructions not in the same basic block).\n*/\nconst luaK_getlabel = function(fs) {\n    fs.lasttarget = fs.pc;\n    return fs.pc;\n};\n\n/*\n** Returns the position of the instruction \"controlling\" a given\n** jump (that is, its condition), or the jump itself if it is\n** unconditional.\n*/\nconst getjumpcontroloffset = function(fs, pc) {\n    if (pc >= 1 && lopcodes.testTMode(fs.f.code[pc - 1].opcode))\n        return pc - 1;\n    else\n        return pc;\n};\nconst getjumpcontrol = function(fs, pc) {\n    return fs.f.code[getjumpcontroloffset(fs, pc)];\n};\n\n/*\n** Patch destination register for a TESTSET instruction.\n** If instruction in position 'node' is not a TESTSET, return 0 (\"fails\").\n** Otherwise, if 'reg' is not 'NO_REG', set it as the destination\n** register. Otherwise, change instruction to a simple 'TEST' (produces\n** no register value)\n*/\nconst patchtestreg = function(fs, node, reg) {\n    let pc = getjumpcontroloffset(fs, node);\n    let i = fs.f.code[pc];\n    if (i.opcode !== OpCodesI.OP_TESTSET)\n        return false;  /* cannot patch other instructions */\n    if (reg !== lopcodes.NO_REG && reg !== i.B)\n        lopcodes.SETARG_A(i, reg);\n    else {\n        /* no register to put value or register already has the value;\n           change instruction to simple test */\n        fs.f.code[pc] = lopcodes.CREATE_ABC(OpCodesI.OP_TEST, i.B, 0, i.C);\n    }\n    return true;\n};\n\n/*\n** Traverse a list of tests ensuring no one produces a value\n*/\nconst removevalues = function(fs, list) {\n    for (; list !== NO_JUMP; list = getjump(fs, list))\n        patchtestreg(fs, list, lopcodes.NO_REG);\n};\n\n/*\n** Traverse a list of tests, patching their destination address and\n** registers: tests producing values jump to 'vtarget' (and put their\n** values in 'reg'), other tests jump to 'dtarget'.\n*/\nconst patchlistaux = function(fs, list, vtarget, reg, dtarget) {\n    while (list !== NO_JUMP) {\n        let next = getjump(fs, list);\n        if (patchtestreg(fs, list, reg))\n            fixjump(fs, list, vtarget);\n        else\n            fixjump(fs, list, dtarget);  /* jump to default target */\n        list = next;\n    }\n};\n\n/*\n** Ensure all pending jumps to current position are fixed (jumping\n** to current position with no values) and reset list of pending\n** jumps\n*/\nconst dischargejpc = function(fs) {\n    patchlistaux(fs, fs.jpc, fs.pc, lopcodes.NO_REG, fs.pc);\n    fs.jpc = NO_JUMP;\n};\n\n/*\n** Add elements in 'list' to list of pending jumps to \"here\"\n** (current position)\n*/\nconst luaK_patchtohere = function(fs, list) {\n    luaK_getlabel(fs);  /* mark \"here\" as a jump target */\n    fs.jpc = luaK_concat(fs, fs.jpc, list);\n};\n\n/*\n** Path all jumps in 'list' to jump to 'target'.\n** (The assert means that we cannot fix a jump to a forward address\n** because we only know addresses once code is generated.)\n*/\nconst luaK_patchlist = function(fs, list, target) {\n    if (target === fs.pc)  /* 'target' is current position? */\n        luaK_patchtohere(fs, list);  /* add list to pending jumps */\n    else {\n        lua_assert(target < fs.pc);\n        patchlistaux(fs, list, target, lopcodes.NO_REG, target);\n    }\n};\n\n/*\n** Path all jumps in 'list' to close upvalues up to given 'level'\n** (The assertion checks that jumps either were closing nothing\n** or were closing higher levels, from inner blocks.)\n*/\nconst luaK_patchclose = function(fs, list, level) {\n    level++;  /* argument is +1 to reserve 0 as non-op */\n    for (; list !== NO_JUMP; list = getjump(fs, list)) {\n        let ins = fs.f.code[list];\n        lua_assert(ins.opcode === OpCodesI.OP_JMP && (ins.A === 0 || ins.A >= level));\n        lopcodes.SETARG_A(ins, level);\n    }\n};\n\n/*\n** Emit instruction 'i', checking for array sizes and saving also its\n** line information. Return 'i' position.\n*/\nconst luaK_code = function(fs, i) {\n    let f = fs.f;\n    dischargejpc(fs);  /* 'pc' will change */\n    /* put new instruction in code array */\n    f.code[fs.pc] = i;\n    f.lineinfo[fs.pc] = fs.ls.lastline;\n    return fs.pc++;\n};\n\n/*\n** Format and emit an 'iABC' instruction. (Assertions check consistency\n** of parameters versus opcode.)\n*/\nconst luaK_codeABC = function(fs, o, a, b, c) {\n    lua_assert(lopcodes.getOpMode(o) === lopcodes.iABC);\n    lua_assert(lopcodes.getBMode(o) !== lopcodes.OpArgN || b === 0);\n    lua_assert(lopcodes.getCMode(o) !== lopcodes.OpArgN || c === 0);\n    lua_assert(a <= lopcodes.MAXARG_A && b <= lopcodes.MAXARG_B && c <= lopcodes.MAXARG_C);\n    return luaK_code(fs, lopcodes.CREATE_ABC(o, a, b, c));\n};\n\n/*\n** Format and emit an 'iABx' instruction.\n*/\nconst luaK_codeABx = function(fs, o, a, bc) {\n    lua_assert(lopcodes.getOpMode(o) === lopcodes.iABx || lopcodes.getOpMode(o) === lopcodes.iAsBx);\n    lua_assert(lopcodes.getCMode(o) === lopcodes.OpArgN);\n    lua_assert(a <= lopcodes.MAXARG_A && bc <= lopcodes.MAXARG_Bx);\n    return luaK_code(fs, lopcodes.CREATE_ABx(o, a, bc));\n};\n\nconst luaK_codeAsBx = function(fs,o,A,sBx) {\n    return luaK_codeABx(fs, o, A, (sBx) + lopcodes.MAXARG_sBx);\n};\n\n/*\n** Emit an \"extra argument\" instruction (format 'iAx')\n*/\nconst codeextraarg = function(fs, a) {\n    lua_assert(a <= lopcodes.MAXARG_Ax);\n    return luaK_code(fs, lopcodes.CREATE_Ax(OpCodesI.OP_EXTRAARG, a));\n};\n\n/*\n** Emit a \"load constant\" instruction, using either 'OP_LOADK'\n** (if constant index 'k' fits in 18 bits) or an 'OP_LOADKX'\n** instruction with \"extra argument\".\n*/\nconst luaK_codek = function(fs, reg, k) {\n    if (k <= lopcodes.MAXARG_Bx)\n        return luaK_codeABx(fs, OpCodesI.OP_LOADK, reg, k);\n    else {\n        let p = luaK_codeABx(fs, OpCodesI.OP_LOADKX, reg, 0);\n        codeextraarg(fs, k);\n        return p;\n    }\n};\n\n/*\n** Check register-stack level, keeping track of its maximum size\n** in field 'maxstacksize'\n*/\nconst luaK_checkstack = function(fs, n) {\n    let newstack = fs.freereg + n;\n    if (newstack > fs.f.maxstacksize) {\n        if (newstack >= MAXREGS)\n            llex.luaX_syntaxerror(fs.ls, to_luastring(\"function or expression needs too many registers\", true));\n        fs.f.maxstacksize = newstack;\n    }\n};\n\n/*\n** Reserve 'n' registers in register stack\n*/\nconst luaK_reserveregs = function(fs, n) {\n    luaK_checkstack(fs, n);\n    fs.freereg += n;\n};\n\n/*\n** Free register 'reg', if it is neither a constant index nor\n** a local variable.\n*/\nconst freereg = function(fs, reg) {\n    if (!lopcodes.ISK(reg) && reg >= fs.nactvar) {\n        fs.freereg--;\n        lua_assert(reg === fs.freereg);\n    }\n};\n\n/*\n** Free register used by expression 'e' (if any)\n*/\nconst freeexp = function(fs, e) {\n    if (e.k === lparser.expkind.VNONRELOC)\n        freereg(fs, e.u.info);\n};\n\n/*\n** Free registers used by expressions 'e1' and 'e2' (if any) in proper\n** order.\n*/\nconst freeexps = function(fs, e1, e2) {\n    let r1 = (e1.k === lparser.expkind.VNONRELOC) ? e1.u.info : -1;\n    let r2 = (e2.k === lparser.expkind.VNONRELOC) ? e2.u.info : -1;\n    if (r1 > r2) {\n        freereg(fs, r1);\n        freereg(fs, r2);\n    }\n    else {\n        freereg(fs, r2);\n        freereg(fs, r1);\n    }\n};\n\n\n/*\n** Add constant 'v' to prototype's list of constants (field 'k').\n** Use scanner's table to cache position of constants in constant list\n** and try to reuse constants. Because some values should not be used\n** as keys (nil cannot be a key, integer keys can collapse with float\n** keys), the caller must provide a useful 'key' for indexing the cache.\n*/\nconst addk = function(fs, key, v) {\n    let f = fs.f;\n    let idx = ltable.luaH_get(fs.L, fs.ls.h, key);  /* index scanner table */\n    if (idx.ttisinteger()) {  /* is there an index there? */\n        let k = idx.value;\n        /* correct value? (warning: must distinguish floats from integers!) */\n        if (k < fs.nk && f.k[k].ttype() === v.ttype() && f.k[k].value === v.value)\n            return k;  /* reuse index */\n    }\n    /* constant not found; create a new entry */\n    let k = fs.nk;\n    ltable.luaH_setfrom(fs.L, fs.ls.h, key, new lobject.TValue(LUA_TNUMINT, k));\n    f.k[k] = v;\n    fs.nk++;\n    return k;\n};\n\n/*\n** Add a string to list of constants and return its index.\n*/\nconst luaK_stringK = function(fs, s) {\n    let o = new TValue(LUA_TLNGSTR, s);\n    return addk(fs, o, o);  /* use string itself as key */\n};\n\n\n/*\n** Add an integer to list of constants and return its index.\n** Integers use userdata as keys to avoid collision with floats with\n** same value.\n*/\nconst luaK_intK = function(fs, n) {\n    let k = new TValue(LUA_TLIGHTUSERDATA, n);\n    let o = new TValue(LUA_TNUMINT, n);\n    return addk(fs, k, o);\n};\n\n/*\n** Add a float to list of constants and return its index.\n*/\nconst luaK_numberK = function(fs, r) {\n    let o = new TValue(LUA_TNUMFLT, r);\n    return addk(fs, o, o);  /* use number itself as key */\n};\n\n\n/*\n** Add a boolean to list of constants and return its index.\n*/\nconst boolK = function(fs, b) {\n    let o = new TValue(LUA_TBOOLEAN, b);\n    return addk(fs, o, o);  /* use boolean itself as key */\n};\n\n\n/*\n** Add nil to list of constants and return its index.\n*/\nconst nilK = function(fs) {\n    let v = new TValue(LUA_TNIL, null);\n    let k = new TValue(LUA_TTABLE, fs.ls.h);\n    /* cannot use nil as key; instead use table itself to represent nil */\n    return addk(fs, k, v);\n};\n\n/*\n** Fix an expression to return the number of results 'nresults'.\n** Either 'e' is a multi-ret expression (function call or vararg)\n** or 'nresults' is LUA_MULTRET (as any expression can satisfy that).\n*/\nconst luaK_setreturns = function(fs, e, nresults) {\n    let ek = lparser.expkind;\n    if (e.k === ek.VCALL) {  /* expression is an open function call? */\n        lopcodes.SETARG_C(getinstruction(fs, e), nresults + 1);\n    }\n    else if (e.k === ek.VVARARG) {\n        let pc = getinstruction(fs, e);\n        lopcodes.SETARG_B(pc, nresults + 1);\n        lopcodes.SETARG_A(pc, fs.freereg);\n        luaK_reserveregs(fs, 1);\n    }\n    else lua_assert(nresults === LUA_MULTRET);\n};\n\nconst luaK_setmultret = function(fs, e) {\n    luaK_setreturns(fs, e, LUA_MULTRET);\n};\n\n/*\n** Fix an expression to return one result.\n** If expression is not a multi-ret expression (function call or\n** vararg), it already returns one result, so nothing needs to be done.\n** Function calls become VNONRELOC expressions (as its result comes\n** fixed in the base register of the call), while vararg expressions\n** become VRELOCABLE (as OP_VARARG puts its results where it wants).\n** (Calls are created returning one result, so that does not need\n** to be fixed.)\n*/\nconst luaK_setoneret = function(fs, e) {\n    let ek = lparser.expkind;\n    if (e.k === ek.VCALL) {  /* expression is an open function call? */\n        /* already returns 1 value */\n        lua_assert(getinstruction(fs, e).C === 2);\n        e.k = ek.VNONRELOC;  /* result has fixed position */\n        e.u.info = getinstruction(fs, e).A;\n    } else if (e.k === ek.VVARARG) {\n        lopcodes.SETARG_B(getinstruction(fs, e), 2);\n        e.k = ek.VRELOCABLE;  /* can relocate its simple result */\n    }\n};\n\n/*\n** Ensure that expression 'e' is not a variable.\n*/\nconst luaK_dischargevars = function(fs, e) {\n    let ek = lparser.expkind;\n\n    switch (e.k) {\n        case ek.VLOCAL: {  /* already in a register */\n            e.k =  ek.VNONRELOC;  /* becomes a non-relocatable value */\n            break;\n        }\n        case ek.VUPVAL: {  /* move value to some (pending) register */\n            e.u.info = luaK_codeABC(fs, OpCodesI.OP_GETUPVAL, 0, e.u.info, 0);\n            e.k = ek.VRELOCABLE;\n            break;\n        }\n        case ek.VINDEXED: {\n            let op;\n            freereg(fs, e.u.ind.idx);\n            if (e.u.ind.vt === ek.VLOCAL) {  /* is 't' in a register? */\n                freereg(fs, e.u.ind.t);\n                op = OpCodesI.OP_GETTABLE;\n            } else {\n                lua_assert(e.u.ind.vt === ek.VUPVAL);\n                op = OpCodesI.OP_GETTABUP;  /* 't' is in an upvalue */\n            }\n            e.u.info = luaK_codeABC(fs, op, 0, e.u.ind.t, e.u.ind.idx);\n            e.k = ek.VRELOCABLE;\n            break;\n        }\n        case ek.VVARARG: case ek.VCALL: {\n            luaK_setoneret(fs, e);\n            break;\n        }\n        default: break;  /* there is one value available (somewhere) */\n    }\n};\n\nconst code_loadbool = function(fs, A, b, jump) {\n    luaK_getlabel(fs);  /* those instructions may be jump targets */\n    return luaK_codeABC(fs, OpCodesI.OP_LOADBOOL, A, b, jump);\n};\n\n/*\n** Ensures expression value is in register 'reg' (and therefore\n** 'e' will become a non-relocatable expression).\n*/\nconst discharge2reg = function(fs, e, reg) {\n    let ek = lparser.expkind;\n    luaK_dischargevars(fs, e);\n    switch (e.k) {\n        case ek.VNIL: {\n            luaK_nil(fs, reg, 1);\n            break;\n        }\n        case ek.VFALSE: case ek.VTRUE: {\n            luaK_codeABC(fs, OpCodesI.OP_LOADBOOL, reg, e.k === ek.VTRUE, 0);\n            break;\n        }\n        case ek.VK: {\n            luaK_codek(fs, reg, e.u.info);\n            break;\n        }\n        case ek.VKFLT: {\n            luaK_codek(fs, reg, luaK_numberK(fs, e.u.nval));\n            break;\n        }\n        case ek.VKINT: {\n            luaK_codek(fs, reg, luaK_intK(fs, e.u.ival));\n            break;\n        }\n        case ek.VRELOCABLE: {\n            let pc = getinstruction(fs, e);\n            lopcodes.SETARG_A(pc, reg);  /* instruction will put result in 'reg' */\n            break;\n        }\n        case ek.VNONRELOC: {\n            if (reg !== e.u.info)\n                luaK_codeABC(fs, OpCodesI.OP_MOVE, reg, e.u.info, 0);\n            break;\n        }\n        default: {\n            lua_assert(e.k === ek.VJMP);\n            return;  /* nothing to do... */\n        }\n    }\n    e.u.info = reg;\n    e.k = ek.VNONRELOC;\n};\n\n/*\n** Ensures expression value is in any register.\n*/\nconst discharge2anyreg = function(fs, e) {\n    if (e.k !== lparser.expkind.VNONRELOC) {  /* no fixed register yet? */\n        luaK_reserveregs(fs, 1);  /* get a register */\n        discharge2reg(fs, e, fs.freereg-1);  /* put value there */\n    }\n};\n\n/*\n** check whether list has any jump that do not produce a value\n** or produce an inverted value\n*/\nconst need_value = function(fs, list) {\n    for (; list !== NO_JUMP; list = getjump(fs, list)) {\n        let i = getjumpcontrol(fs, list);\n        if (i.opcode !== OpCodesI.OP_TESTSET) return true;\n    }\n    return false;  /* not found */\n};\n\n/*\n** Ensures final expression result (including results from its jump\n** lists) is in register 'reg'.\n** If expression has jumps, need to patch these jumps either to\n** its final position or to \"load\" instructions (for those tests\n** that do not produce values).\n*/\nconst exp2reg = function(fs, e, reg) {\n    let ek = lparser.expkind;\n    discharge2reg(fs, e, reg);\n    if (e.k === ek.VJMP)  /* expression itself is a test? */\n        e.t = luaK_concat(fs, e.t, e.u.info);  /* put this jump in 't' list */\n    if (hasjumps(e)) {\n        let final;  /* position after whole expression */\n        let p_f = NO_JUMP;  /* position of an eventual LOAD false */\n        let p_t = NO_JUMP;  /* position of an eventual LOAD true */\n        if (need_value(fs, e.t) || need_value(fs, e.f)) {\n            let fj = (e.k === ek.VJMP) ? NO_JUMP : luaK_jump(fs);\n            p_f = code_loadbool(fs, reg, 0, 1);\n            p_t = code_loadbool(fs, reg, 1, 0);\n            luaK_patchtohere(fs, fj);\n        }\n        final = luaK_getlabel(fs);\n        patchlistaux(fs, e.f, final, reg, p_f);\n        patchlistaux(fs, e.t, final, reg, p_t);\n    }\n    e.f = e.t = NO_JUMP;\n    e.u.info = reg;\n    e.k = ek.VNONRELOC;\n};\n\n/*\n** Ensures final expression result (including results from its jump\n** lists) is in next available register.\n*/\nconst luaK_exp2nextreg = function(fs, e) {\n    luaK_dischargevars(fs, e);\n    freeexp(fs, e);\n    luaK_reserveregs(fs, 1);\n    exp2reg(fs, e, fs.freereg - 1);\n};\n\n\n/*\n** Ensures final expression result (including results from its jump\n** lists) is in some (any) register and return that register.\n*/\nconst luaK_exp2anyreg = function(fs, e) {\n    luaK_dischargevars(fs, e);\n    if (e.k === lparser.expkind.VNONRELOC) {  /* expression already has a register? */\n        if (!hasjumps(e))  /* no jumps? */\n            return e.u.info;  /* result is already in a register */\n        if (e.u.info >= fs.nactvar) {  /* reg. is not a local? */\n            exp2reg(fs, e, e.u.info);  /* put final result in it */\n            return e.u.info;\n        }\n    }\n    luaK_exp2nextreg(fs, e);  /* otherwise, use next available register */\n    return e.u.info;\n};\n\n/*\n** Ensures final expression result is either in a register or in an\n** upvalue.\n*/\nconst luaK_exp2anyregup = function(fs, e) {\n    if (e.k !== lparser.expkind.VUPVAL || hasjumps(e))\n        luaK_exp2anyreg(fs, e);\n};\n\n/*\n** Ensures final expression result is either in a register or it is\n** a constant.\n*/\nconst luaK_exp2val = function(fs, e) {\n    if (hasjumps(e))\n        luaK_exp2anyreg(fs, e);\n    else\n        luaK_dischargevars(fs, e);\n};\n\n/*\n** Ensures final expression result is in a valid R/K index\n** (that is, it is either in a register or in 'k' with an index\n** in the range of R/K indices).\n** Returns R/K index.\n*/\nconst luaK_exp2RK = function(fs, e) {\n    let ek = lparser.expkind;\n    let vk = false;\n    luaK_exp2val(fs, e);\n    switch (e.k) {  /* move constants to 'k' */\n        case ek.VTRUE: e.u.info = boolK(fs, true); vk = true; break;\n        case ek.VFALSE: e.u.info = boolK(fs, false); vk = true; break;\n        case ek.VNIL: e.u.info = nilK(fs); vk = true; break;\n        case ek.VKINT: e.u.info = luaK_intK(fs, e.u.ival); vk = true; break;\n        case ek.VKFLT: e.u.info = luaK_numberK(fs, e.u.nval); vk = true; break;\n        case ek.VK: vk = true; break;\n        default: break;\n    }\n\n    if (vk) {\n        e.k = ek.VK;\n        if (e.u.info <= lopcodes.MAXINDEXRK)  /* constant fits in 'argC'? */\n            return lopcodes.RKASK(e.u.info);\n    }\n\n    /* not a constant in the right range: put it in a register */\n    return luaK_exp2anyreg(fs, e);\n};\n\n/*\n** Generate code to store result of expression 'ex' into variable 'var'.\n*/\nconst luaK_storevar = function(fs, vr, ex) {\n    let ek = lparser.expkind;\n    switch (vr.k) {\n        case ek.VLOCAL: {\n            freeexp(fs, ex);\n            exp2reg(fs, ex, vr.u.info);  /* compute 'ex' into proper place */\n            return;\n        }\n        case ek.VUPVAL: {\n            let e = luaK_exp2anyreg(fs, ex);\n            luaK_codeABC(fs, OpCodesI.OP_SETUPVAL, e, vr.u.info, 0);\n            break;\n        }\n        case ek.VINDEXED: {\n            let op = (vr.u.ind.vt === ek.VLOCAL) ? OpCodesI.OP_SETTABLE : OpCodesI.OP_SETTABUP;\n            let e = luaK_exp2RK(fs, ex);\n            luaK_codeABC(fs, op, vr.u.ind.t, vr.u.ind.idx, e);\n            break;\n        }\n    }\n    freeexp(fs, ex);\n};\n\n\n/*\n** Emit SELF instruction (convert expression 'e' into 'e:key(e,').\n*/\nconst luaK_self = function(fs, e, key) {\n    luaK_exp2anyreg(fs, e);\n    let ereg = e.u.info;  /* register where 'e' was placed */\n    freeexp(fs, e);\n    e.u.info = fs.freereg;  /* base register for op_self */\n    e.k = lparser.expkind.VNONRELOC;  /* self expression has a fixed register */\n    luaK_reserveregs(fs, 2);  /* function and 'self' produced by op_self */\n    luaK_codeABC(fs, OpCodesI.OP_SELF, e.u.info, ereg, luaK_exp2RK(fs, key));\n    freeexp(fs, key);\n};\n\n/*\n** Negate condition 'e' (where 'e' is a comparison).\n*/\nconst negatecondition = function(fs, e) {\n    let pc = getjumpcontrol(fs, e.u.info);\n    lua_assert(lopcodes.testTMode(pc.opcode) && pc.opcode !== OpCodesI.OP_TESTSET && pc.opcode !== OpCodesI.OP_TEST);\n    lopcodes.SETARG_A(pc, !(pc.A));\n};\n\n/*\n** Emit instruction to jump if 'e' is 'cond' (that is, if 'cond'\n** is true, code will jump if 'e' is true.) Return jump position.\n** Optimize when 'e' is 'not' something, inverting the condition\n** and removing the 'not'.\n*/\nconst jumponcond = function(fs, e, cond) {\n    if (e.k === lparser.expkind.VRELOCABLE) {\n        let ie = getinstruction(fs, e);\n        if (ie.opcode === OpCodesI.OP_NOT) {\n            fs.pc--;  /* remove previous OP_NOT */\n            return condjump(fs, OpCodesI.OP_TEST, ie.B, 0, !cond);\n        }\n        /* else go through */\n    }\n    discharge2anyreg(fs, e);\n    freeexp(fs, e);\n    return condjump(fs, OpCodesI.OP_TESTSET, lopcodes.NO_REG, e.u.info, cond);\n};\n\n/*\n** Emit code to go through if 'e' is true, jump otherwise.\n*/\nconst luaK_goiftrue = function(fs, e) {\n    let ek = lparser.expkind;\n    let pc;  /* pc of new jump */\n    luaK_dischargevars(fs, e);\n    switch (e.k) {\n        case ek.VJMP: {  /* condition? */\n            negatecondition(fs, e);  /* jump when it is false */\n            pc = e.u.info;  /* save jump position */\n            break;\n        }\n        case ek.VK: case ek.VKFLT: case ek.VKINT: case ek.VTRUE: {\n            pc = NO_JUMP;  /* always true; do nothing */\n            break;\n        }\n        default: {\n            pc = jumponcond(fs, e, 0);  /* jump when false */\n            break;\n        }\n    }\n    e.f = luaK_concat(fs, e.f, pc);  /* insert new jump in false list */\n    luaK_patchtohere(fs, e.t);  /* true list jumps to here (to go through) */\n    e.t = NO_JUMP;\n};\n\n/*\n** Emit code to go through if 'e' is false, jump otherwise.\n*/\nconst luaK_goiffalse = function(fs, e) {\n    let ek = lparser.expkind;\n    let pc;  /* pc of new jump */\n    luaK_dischargevars(fs, e);\n    switch (e.k) {\n        case ek.VJMP: {\n            pc = e.u.info;  /* already jump if true */\n            break;\n        }\n        case ek.VNIL: case ek.VFALSE: {\n            pc = NO_JUMP;  /* always false; do nothing */\n            break;\n        }\n        default: {\n            pc = jumponcond(fs, e, 1);  /* jump if true */\n            break;\n        }\n    }\n    e.t = luaK_concat(fs, e.t, pc);  /* insert new jump in 't' list */\n    luaK_patchtohere(fs, e.f);  /* false list jumps to here (to go through) */\n    e.f = NO_JUMP;\n};\n\n/*\n** Code 'not e', doing constant folding.\n*/\nconst codenot = function(fs, e) {\n    let ek = lparser.expkind;\n    luaK_dischargevars(fs, e);\n    switch (e.k) {\n        case ek.VNIL: case ek.VFALSE: {\n            e.k = ek.VTRUE;  /* true === not nil === not false */\n            break;\n        }\n        case ek.VK: case ek.VKFLT: case ek.VKINT: case ek.VTRUE: {\n            e.k = ek.VFALSE;  /* false === not \"x\" === not 0.5 === not 1 === not true */\n            break;\n        }\n        case ek.VJMP: {\n            negatecondition(fs, e);\n            break;\n        }\n        case ek.VRELOCABLE:\n        case ek.VNONRELOC: {\n            discharge2anyreg(fs, e);\n            freeexp(fs, e);\n            e.u.info = luaK_codeABC(fs, OpCodesI.OP_NOT, 0, e.u.info, 0);\n            e.k = ek.VRELOCABLE;\n            break;\n        }\n    }\n    /* interchange true and false lists */\n    { let temp = e.f; e.f = e.t; e.t = temp; }\n    removevalues(fs, e.f);  /* values are useless when negated */\n    removevalues(fs, e.t);\n};\n\n/*\n** Create expression 't[k]'. 't' must have its final result already in a\n** register or upvalue.\n*/\nconst luaK_indexed = function(fs, t, k) {\n    let ek = lparser.expkind;\n    lua_assert(!hasjumps(t) && (lparser.vkisinreg(t.k) || t.k === ek.VUPVAL));\n    t.u.ind.t = t.u.info;  /* register or upvalue index */\n    t.u.ind.idx = luaK_exp2RK(fs, k);  /* R/K index for key */\n    t.u.ind.vt = (t.k === ek.VUPVAL) ? ek.VUPVAL : ek.VLOCAL;\n    t.k = ek.VINDEXED;\n};\n\n/*\n** Return false if folding can raise an error.\n** Bitwise operations need operands convertible to integers; division\n** operations cannot have 0 as divisor.\n*/\nconst validop = function(op, v1, v2) {\n    switch (op) {\n        case LUA_OPBAND: case LUA_OPBOR: case LUA_OPBXOR:\n        case LUA_OPSHL: case LUA_OPSHR: case LUA_OPBNOT: {  /* conversion errors */\n            return (lvm.tointeger(v1) !== false && lvm.tointeger(v2) !== false);\n        }\n        case LUA_OPDIV: case LUA_OPIDIV: case LUA_OPMOD:  /* division by 0 */\n            return (v2.value !== 0);\n        default: return 1;  /* everything else is valid */\n    }\n};\n\n/*\n** Try to \"constant-fold\" an operation; return 1 iff successful.\n** (In this case, 'e1' has the final result.)\n*/\nconst constfolding = function(op, e1, e2) {\n    let ek = lparser.expkind;\n    let v1, v2;\n    if (!(v1 = tonumeral(e1, true)) || !(v2 = tonumeral(e2, true)) || !validop(op, v1, v2))\n        return 0;  /* non-numeric operands or not safe to fold */\n    let res = new TValue(); /* FIXME */\n    lobject.luaO_arith(null, op, v1, v2, res);  /* does operation */\n    if (res.ttisinteger()) {\n        e1.k = ek.VKINT;\n        e1.u.ival = res.value;\n    }\n    else {  /* folds neither NaN nor 0.0 (to avoid problems with -0.0) */\n        let n = res.value;\n        if (isNaN(n) || n === 0)\n            return false;\n        e1.k = ek.VKFLT;\n        e1.u.nval = n;\n    }\n    return true;\n};\n\n/*\n** Emit code for unary expressions that \"produce values\"\n** (everything but 'not').\n** Expression to produce final result will be encoded in 'e'.\n*/\nconst codeunexpval = function(fs, op, e, line) {\n    let r = luaK_exp2anyreg(fs, e);  /* opcodes operate only on registers */\n    freeexp(fs, e);\n    e.u.info = luaK_codeABC(fs, op, 0, r, 0);  /* generate opcode */\n    e.k = lparser.expkind.VRELOCABLE;  /* all those operations are relocatable */\n    luaK_fixline(fs, line);\n};\n\n/*\n** Emit code for binary expressions that \"produce values\"\n** (everything but logical operators 'and'/'or' and comparison\n** operators).\n** Expression to produce final result will be encoded in 'e1'.\n** Because 'luaK_exp2RK' can free registers, its calls must be\n** in \"stack order\" (that is, first on 'e2', which may have more\n** recent registers to be released).\n*/\nconst codebinexpval = function(fs, op, e1, e2, line) {\n    let rk2 = luaK_exp2RK(fs, e2);  /* both operands are \"RK\" */\n    let rk1 = luaK_exp2RK(fs, e1);\n    freeexps(fs, e1, e2);\n    e1.u.info = luaK_codeABC(fs, op, 0, rk1, rk2);  /* generate opcode */\n    e1.k = lparser.expkind.VRELOCABLE;  /* all those operations are relocatable */\n    luaK_fixline(fs, line);\n};\n\n\n/*\n** Emit code for comparisons.\n** 'e1' was already put in R/K form by 'luaK_infix'.\n*/\nconst codecomp = function(fs, opr, e1, e2) {\n    let ek = lparser.expkind;\n\n    let rk1;\n    if (e1.k === ek.VK)\n        rk1 = lopcodes.RKASK(e1.u.info);\n    else {\n        lua_assert(e1.k === ek.VNONRELOC);\n        rk1 = e1.u.info;\n    }\n\n    let rk2 = luaK_exp2RK(fs, e2);\n    freeexps(fs, e1, e2);\n    switch (opr) {\n        case BinOpr.OPR_NE: {  /* '(a ~= b)' ==> 'not (a === b)' */\n            e1.u.info = condjump(fs, OpCodesI.OP_EQ, 0, rk1, rk2);\n            break;\n        }\n        case BinOpr.OPR_GT: case BinOpr.OPR_GE: {\n            /* '(a > b)' ==> '(b < a)';  '(a >= b)' ==> '(b <= a)' */\n            let op = (opr - BinOpr.OPR_NE) + OpCodesI.OP_EQ;\n            e1.u.info = condjump(fs, op, 1, rk2, rk1);  /* invert operands */\n            break;\n        }\n        default: {  /* '==', '<', '<=' use their own opcodes */\n            let op = (opr - BinOpr.OPR_EQ) + OpCodesI.OP_EQ;\n            e1.u.info = condjump(fs, op, 1, rk1, rk2);\n            break;\n        }\n    }\n    e1.k = ek.VJMP;\n};\n\n/*\n** Apply prefix operation 'op' to expression 'e'.\n*/\nconst luaK_prefix = function(fs, op, e, line) {\n    let ef = new lparser.expdesc();\n    ef.k = lparser.expkind.VKINT;\n    ef.u.ival = ef.u.nval = ef.u.info = 0;\n    ef.t = NO_JUMP;\n    ef.f = NO_JUMP;\n    switch (op) {\n        case UnOpr.OPR_MINUS: case UnOpr.OPR_BNOT:  /* use 'ef' as fake 2nd operand */\n            if (constfolding(op + LUA_OPUNM, e, ef))\n                break;\n            /* FALLTHROUGH */\n        case UnOpr.OPR_LEN:\n            codeunexpval(fs, op + OpCodesI.OP_UNM, e, line);\n            break;\n        case UnOpr.OPR_NOT: codenot(fs, e); break;\n    }\n};\n\n/*\n** Process 1st operand 'v' of binary operation 'op' before reading\n** 2nd operand.\n*/\nconst luaK_infix = function(fs, op, v) {\n    switch (op) {\n        case BinOpr.OPR_AND: {\n            luaK_goiftrue(fs, v);  /* go ahead only if 'v' is true */\n            break;\n        }\n        case BinOpr.OPR_OR: {\n            luaK_goiffalse(fs, v);  /* go ahead only if 'v' is false */\n            break;\n        }\n        case BinOpr.OPR_CONCAT: {\n            luaK_exp2nextreg(fs, v);  /* operand must be on the 'stack' */\n            break;\n        }\n        case BinOpr.OPR_ADD: case BinOpr.OPR_SUB:\n        case BinOpr.OPR_MUL: case BinOpr.OPR_DIV: case BinOpr.OPR_IDIV:\n        case BinOpr.OPR_MOD: case BinOpr.OPR_POW:\n        case BinOpr.OPR_BAND: case BinOpr.OPR_BOR: case BinOpr.OPR_BXOR:\n        case BinOpr.OPR_SHL: case BinOpr.OPR_SHR: {\n            if (!tonumeral(v, false))\n                luaK_exp2RK(fs, v);\n            /* else keep numeral, which may be folded with 2nd operand */\n            break;\n        }\n        default: {\n            luaK_exp2RK(fs, v);\n            break;\n        }\n    }\n};\n\n/*\n** Finalize code for binary operation, after reading 2nd operand.\n** For '(a .. b .. c)' (which is '(a .. (b .. c))', because\n** concatenation is right associative), merge second CONCAT into first\n** one.\n*/\nconst luaK_posfix = function(fs, op, e1, e2, line) {\n    let ek = lparser.expkind;\n    switch (op) {\n        case BinOpr.OPR_AND: {\n            lua_assert(e1.t === NO_JUMP);  /* list closed by 'luK_infix' */\n            luaK_dischargevars(fs, e2);\n            e2.f = luaK_concat(fs, e2.f, e1.f);\n            e1.to(e2);\n            break;\n        }\n        case BinOpr.OPR_OR: {\n            lua_assert(e1.f === NO_JUMP);  /* list closed by 'luK_infix' */\n            luaK_dischargevars(fs, e2);\n            e2.t = luaK_concat(fs, e2.t, e1.t);\n            e1.to(e2);\n            break;\n        }\n        case BinOpr.OPR_CONCAT: {\n            luaK_exp2val(fs, e2);\n            let ins = getinstruction(fs, e2);\n            if (e2.k === ek.VRELOCABLE && ins.opcode === OpCodesI.OP_CONCAT) {\n                lua_assert(e1.u.info === ins.B - 1);\n                freeexp(fs, e1);\n                lopcodes.SETARG_B(ins, e1.u.info);\n                e1.k = ek.VRELOCABLE; e1.u.info = e2.u.info;\n            }\n            else {\n                luaK_exp2nextreg(fs, e2);  /* operand must be on the 'stack' */\n                codebinexpval(fs, OpCodesI.OP_CONCAT, e1, e2, line);\n            }\n            break;\n        }\n        case BinOpr.OPR_ADD: case BinOpr.OPR_SUB: case BinOpr.OPR_MUL: case BinOpr.OPR_DIV:\n        case BinOpr.OPR_IDIV: case BinOpr.OPR_MOD: case BinOpr.OPR_POW:\n        case BinOpr.OPR_BAND: case BinOpr.OPR_BOR: case BinOpr.OPR_BXOR:\n        case BinOpr.OPR_SHL: case BinOpr.OPR_SHR: {\n            if (!constfolding(op + LUA_OPADD, e1, e2))\n                codebinexpval(fs, op + OpCodesI.OP_ADD, e1, e2, line);\n            break;\n        }\n        case BinOpr.OPR_EQ: case BinOpr.OPR_LT: case BinOpr.OPR_LE:\n        case BinOpr.OPR_NE: case BinOpr.OPR_GT: case BinOpr.OPR_GE: {\n            codecomp(fs, op, e1, e2);\n            break;\n        }\n    }\n\n    return e1;\n};\n\n/*\n** Change line information associated with current position.\n*/\nconst luaK_fixline = function(fs, line) {\n    fs.f.lineinfo[fs.pc - 1] = line;\n};\n\n/*\n** Emit a SETLIST instruction.\n** 'base' is register that keeps table;\n** 'nelems' is #table plus those to be stored now;\n** 'tostore' is number of values (in registers 'base + 1',...) to add to\n** table (or LUA_MULTRET to add up to stack top).\n*/\nconst luaK_setlist = function(fs, base, nelems, tostore) {\n    let c =  (nelems - 1)/lopcodes.LFIELDS_PER_FLUSH + 1;\n    let b = (tostore === LUA_MULTRET) ? 0 : tostore;\n    lua_assert(tostore !== 0 && tostore <= lopcodes.LFIELDS_PER_FLUSH);\n    if (c <= lopcodes.MAXARG_C)\n        luaK_codeABC(fs, OpCodesI.OP_SETLIST, base, b, c);\n    else if (c <= lopcodes.MAXARG_Ax) {\n        luaK_codeABC(fs, OpCodesI.OP_SETLIST, base, b, 0);\n        codeextraarg(fs, c);\n    }\n    else\n        llex.luaX_syntaxerror(fs.ls, to_luastring(\"constructor too long\", true));\n    fs.freereg = base + 1;  /* free registers with list values */\n};\n\n\nmodule.exports.BinOpr             = BinOpr;\nmodule.exports.NO_JUMP            = NO_JUMP;\nmodule.exports.UnOpr              = UnOpr;\nmodule.exports.getinstruction     = getinstruction;\nmodule.exports.luaK_checkstack    = luaK_checkstack;\nmodule.exports.luaK_code          = luaK_code;\nmodule.exports.luaK_codeABC       = luaK_codeABC;\nmodule.exports.luaK_codeABx       = luaK_codeABx;\nmodule.exports.luaK_codeAsBx      = luaK_codeAsBx;\nmodule.exports.luaK_codek         = luaK_codek;\nmodule.exports.luaK_concat        = luaK_concat;\nmodule.exports.luaK_dischargevars = luaK_dischargevars;\nmodule.exports.luaK_exp2RK        = luaK_exp2RK;\nmodule.exports.luaK_exp2anyreg    = luaK_exp2anyreg;\nmodule.exports.luaK_exp2anyregup  = luaK_exp2anyregup;\nmodule.exports.luaK_exp2nextreg   = luaK_exp2nextreg;\nmodule.exports.luaK_exp2val       = luaK_exp2val;\nmodule.exports.luaK_fixline       = luaK_fixline;\nmodule.exports.luaK_getlabel      = luaK_getlabel;\nmodule.exports.luaK_goiffalse     = luaK_goiffalse;\nmodule.exports.luaK_goiftrue      = luaK_goiftrue;\nmodule.exports.luaK_indexed       = luaK_indexed;\nmodule.exports.luaK_infix         = luaK_infix;\nmodule.exports.luaK_intK          = luaK_intK;\nmodule.exports.luaK_jump          = luaK_jump;\nmodule.exports.luaK_jumpto        = luaK_jumpto;\nmodule.exports.luaK_nil           = luaK_nil;\nmodule.exports.luaK_numberK       = luaK_numberK;\nmodule.exports.luaK_patchclose    = luaK_patchclose;\nmodule.exports.luaK_patchlist     = luaK_patchlist;\nmodule.exports.luaK_patchtohere   = luaK_patchtohere;\nmodule.exports.luaK_posfix        = luaK_posfix;\nmodule.exports.luaK_prefix        = luaK_prefix;\nmodule.exports.luaK_reserveregs   = luaK_reserveregs;\nmodule.exports.luaK_ret           = luaK_ret;\nmodule.exports.luaK_self          = luaK_self;\nmodule.exports.luaK_setlist       = luaK_setlist;\nmodule.exports.luaK_setmultret    = luaK_setmultret;\nmodule.exports.luaK_setoneret     = luaK_setoneret;\nmodule.exports.luaK_setreturns    = luaK_setreturns;\nmodule.exports.luaK_storevar      = luaK_storevar;\nmodule.exports.luaK_stringK       = luaK_stringK;\n","\"use strict\";\n\nconst {\n    LUA_OK,\n    LUA_TFUNCTION,\n    LUA_TSTRING,\n    LUA_YIELD,\n    lua_Debug,\n    lua_checkstack,\n    lua_concat,\n    lua_error,\n    lua_getstack,\n    lua_gettop,\n    lua_insert,\n    lua_isyieldable,\n    lua_newthread,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushcclosure,\n    lua_pushliteral,\n    lua_pushthread,\n    lua_pushvalue,\n    lua_resume,\n    lua_status,\n    lua_tothread,\n    lua_type,\n    lua_upvalueindex,\n    lua_xmove,\n    lua_yield\n} = require('./lua.js');\nconst {\n    luaL_argcheck,\n    luaL_checktype,\n    luaL_newlib,\n    luaL_where\n} = require('./lauxlib.js');\n\nconst getco = function(L) {\n    let co = lua_tothread(L, 1);\n    luaL_argcheck(L, co, 1, \"thread expected\");\n    return co;\n};\n\nconst auxresume = function(L, co, narg) {\n    if (!lua_checkstack(co, narg)) {\n        lua_pushliteral(L, \"too many arguments to resume\");\n        return -1;  /* error flag */\n    }\n\n    if (lua_status(co) === LUA_OK && lua_gettop(co) === 0) {\n        lua_pushliteral(L, \"cannot resume dead coroutine\");\n        return -1;  /* error flag */\n    }\n\n    lua_xmove(L, co, narg);\n    let status = lua_resume(co, L, narg);\n    if (status === LUA_OK || status === LUA_YIELD) {\n        let nres = lua_gettop(co);\n        if (!lua_checkstack(L, nres + 1)) {\n            lua_pop(co, nres);  /* remove results anyway */\n            lua_pushliteral(L, \"too many results to resume\");\n            return -1;  /* error flag */\n        }\n\n        lua_xmove(co,  L, nres);  /* move yielded values */\n        return nres;\n    } else {\n        lua_xmove(co, L, 1);  /* move error message */\n        return -1;  /* error flag */\n    }\n};\n\nconst luaB_coresume = function(L) {\n    let co = getco(L);\n    let r = auxresume(L, co, lua_gettop(L) - 1);\n    if (r < 0) {\n        lua_pushboolean(L, 0);\n        lua_insert(L, -2);\n        return 2;  /* return false + error message */\n    } else {\n        lua_pushboolean(L, 1);\n        lua_insert(L, -(r + 1));\n        return r + 1;  /* return true + 'resume' returns */\n    }\n};\n\nconst luaB_auxwrap = function(L) {\n    let co = lua_tothread(L, lua_upvalueindex(1));\n    let r = auxresume(L, co, lua_gettop(L));\n    if (r < 0) {\n        if (lua_type(L, -1) === LUA_TSTRING) {  /* error object is a string? */\n            luaL_where(L, 1);  /* add extra info */\n            lua_insert(L, -2);\n            lua_concat(L, 2);\n        }\n\n        return lua_error(L);  /* propagate error */\n    }\n\n    return r;\n};\n\nconst luaB_cocreate = function(L) {\n    luaL_checktype(L, 1, LUA_TFUNCTION);\n    let NL = lua_newthread(L);\n    lua_pushvalue(L, 1);  /* move function to top */\n    lua_xmove(L, NL, 1);  /* move function from L to NL */\n    return 1;\n};\n\nconst luaB_cowrap = function(L) {\n    luaB_cocreate(L);\n    lua_pushcclosure(L, luaB_auxwrap, 1);\n    return 1;\n};\n\nconst luaB_yield = function(L) {\n    return lua_yield(L, lua_gettop(L));\n};\n\nconst luaB_costatus = function(L) {\n    let co = getco(L);\n    if (L === co) lua_pushliteral(L, \"running\");\n    else {\n        switch (lua_status(co)) {\n            case LUA_YIELD:\n                lua_pushliteral(L, \"suspended\");\n                break;\n            case LUA_OK: {\n                let ar = new lua_Debug();\n                if (lua_getstack(co, 0, ar) > 0)  /* does it have frames? */\n                    lua_pushliteral(L, \"normal\");  /* it is running */\n                else if (lua_gettop(co) === 0)\n                    lua_pushliteral(L, \"dead\");\n                else\n                    lua_pushliteral(L, \"suspended\");  /* initial state */\n                break;\n            }\n            default:  /* some error occurred */\n                lua_pushliteral(L, \"dead\");\n                break;\n        }\n    }\n\n    return 1;\n};\n\nconst luaB_yieldable = function(L) {\n    lua_pushboolean(L, lua_isyieldable(L));\n    return 1;\n};\n\nconst luaB_corunning = function(L) {\n    lua_pushboolean(L, lua_pushthread(L));\n    return 2;\n};\n\nconst co_funcs = {\n    \"create\":      luaB_cocreate,\n    \"isyieldable\": luaB_yieldable,\n    \"resume\":      luaB_coresume,\n    \"running\":     luaB_corunning,\n    \"status\":      luaB_costatus,\n    \"wrap\":        luaB_cowrap,\n    \"yield\":       luaB_yield\n};\n\nconst luaopen_coroutine = function(L) {\n    luaL_newlib(L, co_funcs);\n    return 1;\n};\n\nmodule.exports.luaopen_coroutine = luaopen_coroutine;\n","\"use strict\";\n\nconst {\n    LUA_MASKCALL,\n    LUA_MASKCOUNT,\n    LUA_MASKLINE,\n    LUA_MASKRET,\n    LUA_REGISTRYINDEX,\n    LUA_TFUNCTION,\n    LUA_TNIL,\n    LUA_TTABLE,\n    LUA_TUSERDATA,\n    lua_Debug,\n    lua_call,\n    lua_checkstack,\n    lua_gethook,\n    lua_gethookcount,\n    lua_gethookmask,\n    lua_getinfo,\n    lua_getlocal,\n    lua_getmetatable,\n    lua_getstack,\n    lua_getupvalue,\n    lua_getuservalue,\n    lua_insert,\n    lua_iscfunction,\n    lua_isfunction,\n    lua_isnoneornil,\n    lua_isthread,\n    lua_newtable,\n    lua_pcall,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushfstring,\n    lua_pushinteger,\n    lua_pushlightuserdata,\n    lua_pushliteral,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_rawgetp,\n    lua_rawsetp,\n    lua_rotate,\n    lua_setfield,\n    lua_sethook,\n    lua_setlocal,\n    lua_setmetatable,\n    lua_settop,\n    lua_setupvalue,\n    lua_setuservalue,\n    lua_tojsstring,\n    lua_toproxy,\n    lua_tostring,\n    lua_tothread,\n    lua_touserdata,\n    lua_type,\n    lua_upvalueid,\n    lua_upvaluejoin,\n    lua_xmove\n} = require('./lua.js');\nconst {\n    luaL_argcheck,\n    luaL_argerror,\n    luaL_checkany,\n    luaL_checkinteger,\n    luaL_checkstring,\n    luaL_checktype,\n    luaL_error,\n    luaL_loadbuffer,\n    luaL_newlib,\n    luaL_optinteger,\n    luaL_optstring,\n    luaL_traceback,\n    lua_writestringerror\n} = require('./lauxlib.js');\nconst lualib = require('./lualib.js');\nconst {\n    luastring_indexOf,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\n/*\n** If L1 != L, L1 can be in any state, and therefore there are no\n** guarantees about its stack space; any push in L1 must be\n** checked.\n*/\nconst checkstack = function(L, L1, n) {\n    if (L !== L1 && !lua_checkstack(L1, n))\n        luaL_error(L, to_luastring(\"stack overflow\", true));\n};\n\nconst db_getregistry = function(L) {\n    lua_pushvalue(L, LUA_REGISTRYINDEX);\n    return 1;\n};\n\nconst db_getmetatable = function(L) {\n    luaL_checkany(L, 1);\n    if (!lua_getmetatable(L, 1)) {\n        lua_pushnil(L);  /* no metatable */\n    }\n    return 1;\n};\n\nconst db_setmetatable = function(L) {\n    const t = lua_type(L, 2);\n    luaL_argcheck(L, t == LUA_TNIL || t == LUA_TTABLE, 2, \"nil or table expected\");\n    lua_settop(L, 2);\n    lua_setmetatable(L, 1);\n    return 1;  /* return 1st argument */\n};\n\nconst db_getuservalue = function(L) {\n    if (lua_type(L, 1) !== LUA_TUSERDATA)\n        lua_pushnil(L);\n    else\n        lua_getuservalue(L, 1);\n    return 1;\n};\n\n\nconst db_setuservalue = function(L) {\n    luaL_checktype(L, 1, LUA_TUSERDATA);\n    luaL_checkany(L, 2);\n    lua_settop(L, 2);\n    lua_setuservalue(L, 1);\n    return 1;\n};\n\n/*\n** Auxiliary function used by several library functions: check for\n** an optional thread as function's first argument and set 'arg' with\n** 1 if this argument is present (so that functions can skip it to\n** access their other arguments)\n*/\nconst getthread = function(L) {\n    if (lua_isthread(L, 1)) {\n        return {\n            arg: 1,\n            thread: lua_tothread(L, 1)\n        };\n    } else {\n        return {\n            arg: 0,\n            thread: L\n        };  /* function will operate over current thread */\n    }\n};\n\n/*\n** Variations of 'lua_settable', used by 'db_getinfo' to put results\n** from 'lua_getinfo' into result table. Key is always a string;\n** value can be a string, an int, or a boolean.\n*/\nconst settabss = function(L, k, v) {\n    lua_pushstring(L, v);\n    lua_setfield(L, -2, k);\n};\n\nconst settabsi = function(L, k, v) {\n    lua_pushinteger(L, v);\n    lua_setfield(L, -2, k);\n};\n\nconst settabsb = function(L, k, v) {\n    lua_pushboolean(L, v);\n    lua_setfield(L, -2, k);\n};\n\n\n/*\n** In function 'db_getinfo', the call to 'lua_getinfo' may push\n** results on the stack; later it creates the result table to put\n** these objects. Function 'treatstackoption' puts the result from\n** 'lua_getinfo' on top of the result table so that it can call\n** 'lua_setfield'.\n*/\nconst treatstackoption = function(L, L1, fname) {\n    if (L == L1)\n        lua_rotate(L, -2, 1);  /* exchange object and table */\n    else\n        lua_xmove(L1, L, 1);  /* move object to the \"main\" stack */\n    lua_setfield(L, -2, fname);  /* put object into table */\n};\n\n/*\n** Calls 'lua_getinfo' and collects all results in a new table.\n** L1 needs stack space for an optional input (function) plus\n** two optional outputs (function and line table) from function\n** 'lua_getinfo'.\n*/\nconst db_getinfo = function(L) {\n    let ar = new lua_Debug();\n    let thread = getthread(L);\n    let arg = thread.arg;\n    let L1 = thread.thread;\n    let options = luaL_optstring(L, arg + 2, \"flnStu\");\n    checkstack(L, L1, 3);\n    if (lua_isfunction(L, arg + 1)) {  /* info about a function? */\n        options = lua_pushfstring(L, to_luastring(\">%s\"), options);  /* add '>' to 'options' */\n        lua_pushvalue(L, arg + 1);  /* move function to 'L1' stack */\n        lua_xmove(L, L1, 1);\n    } else {  /* stack level */\n        if (!lua_getstack(L1, luaL_checkinteger(L, arg + 1), ar)) {\n            lua_pushnil(L);  /* level out of range */\n            return 1;\n        }\n    }\n\n    if (!lua_getinfo(L1, options, ar))\n        luaL_argerror(L, arg + 2, \"invalid option\");\n    lua_newtable(L);  /* table to collect results */\n    if (luastring_indexOf(options, 83 /* 'S'.charCodeAt(0) */) > -1) {\n        settabss(L, to_luastring(\"source\", true), ar.source);\n        settabss(L, to_luastring(\"short_src\", true), ar.short_src);\n        settabsi(L, to_luastring(\"linedefined\", true), ar.linedefined);\n        settabsi(L, to_luastring(\"lastlinedefined\", true), ar.lastlinedefined);\n        settabss(L, to_luastring(\"what\", true), ar.what);\n    }\n    if (luastring_indexOf(options, 108 /* 'l'.charCodeAt(0) */) > -1)\n        settabsi(L, to_luastring(\"currentline\", true), ar.currentline);\n    if (luastring_indexOf(options, 117 /* 'u'.charCodeAt(0) */) > -1) {\n        settabsi(L, to_luastring(\"nups\", true), ar.nups);\n        settabsi(L, to_luastring(\"nparams\", true), ar.nparams);\n        settabsb(L, to_luastring(\"isvararg\", true), ar.isvararg);\n    }\n    if (luastring_indexOf(options, 110 /* 'n'.charCodeAt(0) */) > -1) {\n        settabss(L, to_luastring(\"name\", true), ar.name);\n        settabss(L, to_luastring(\"namewhat\", true), ar.namewhat);\n    }\n    if (luastring_indexOf(options, 116 /* 't'.charCodeAt(0) */) > -1)\n        settabsb(L, to_luastring(\"istailcall\", true), ar.istailcall);\n    if (luastring_indexOf(options, 76 /* 'L'.charCodeAt(0) */) > -1)\n        treatstackoption(L, L1, to_luastring(\"activelines\", true));\n    if (luastring_indexOf(options, 102 /* 'f'.charCodeAt(0) */) > -1)\n        treatstackoption(L, L1, to_luastring(\"func\", true));\n    return 1;  /* return table */\n};\n\nconst db_getlocal = function(L) {\n    let thread = getthread(L);\n    let L1 = thread.thread;\n    let arg = thread.arg;\n    let ar = new lua_Debug();\n    let nvar = luaL_checkinteger(L, arg + 2);  /* local-variable index */\n    if (lua_isfunction(L, arg + 1)) {\n        lua_pushvalue(L, arg + 1);  /* push function */\n        lua_pushstring(L, lua_getlocal(L, null, nvar));  /* push local name */\n        return 1;  /* return only name (there is no value) */\n    } else {  /* stack-level argument */\n        let level = luaL_checkinteger(L, arg + 1);\n        if (!lua_getstack(L1, level, ar))  /* out of range? */\n            return luaL_argerror(L, arg+1, \"level out of range\");\n        checkstack(L, L1, 1);\n        let name = lua_getlocal(L1, ar, nvar);\n        if (name) {\n            lua_xmove(L1, L, 1);  /* move local value */\n            lua_pushstring(L, name);  /* push name */\n            lua_rotate(L, -2, 1);  /* re-order */\n            return 2;\n        }\n        else {\n            lua_pushnil(L);  /* no name (nor value) */\n            return 1;\n        }\n    }\n};\n\nconst db_setlocal = function(L) {\n    let thread = getthread(L);\n    let L1 = thread.thread;\n    let arg = thread.arg;\n    let ar = new lua_Debug();\n    let level = luaL_checkinteger(L, arg + 1);\n    let nvar = luaL_checkinteger(L, arg + 2);\n    if (!lua_getstack(L1, level, ar))  /* out of range? */\n        return luaL_argerror(L, arg + 1, \"level out of range\");\n    luaL_checkany(L, arg + 3);\n    lua_settop(L, arg + 3);\n    checkstack(L, L1, 1);\n    lua_xmove(L, L1, 1);\n    let name = lua_setlocal(L1, ar, nvar);\n    if (name === null)\n        lua_pop(L1, 1);  /* pop value (if not popped by 'lua_setlocal') */\n    lua_pushstring(L, name);\n    return 1;\n};\n\n/*\n** get (if 'get' is true) or set an upvalue from a closure\n*/\nconst auxupvalue = function(L, get) {\n    let n = luaL_checkinteger(L, 2);  /* upvalue index */\n    luaL_checktype(L, 1, LUA_TFUNCTION);  /* closure */\n    let name = get ? lua_getupvalue(L, 1, n) : lua_setupvalue(L, 1, n);\n    if (name === null) return 0;\n    lua_pushstring(L, name);\n    lua_insert(L, -(get+1));  /* no-op if get is false */\n    return get + 1;\n};\n\n\nconst db_getupvalue = function(L) {\n    return auxupvalue(L, 1);\n};\n\nconst db_setupvalue = function(L) {\n    luaL_checkany(L, 3);\n    return auxupvalue(L, 0);\n};\n\n/*\n** Check whether a given upvalue from a given closure exists and\n** returns its index\n*/\nconst checkupval = function(L, argf, argnup) {\n    let nup = luaL_checkinteger(L, argnup);  /* upvalue index */\n    luaL_checktype(L, argf, LUA_TFUNCTION);  /* closure */\n    luaL_argcheck(L, (lua_getupvalue(L, argf, nup) !== null), argnup, \"invalid upvalue index\");\n    return nup;\n};\n\nconst db_upvalueid = function(L) {\n    let n = checkupval(L, 1, 2);\n    lua_pushlightuserdata(L, lua_upvalueid(L, 1, n));\n    return 1;\n};\n\nconst db_upvaluejoin = function(L) {\n    let n1 = checkupval(L, 1, 2);\n    let n2 = checkupval(L, 3, 4);\n    luaL_argcheck(L, !lua_iscfunction(L, 1), 1, \"Lua function expected\");\n    luaL_argcheck(L, !lua_iscfunction(L, 3), 3, \"Lua function expected\");\n    lua_upvaluejoin(L, 1, n1, 3, n2);\n    return 0;\n};\n\n/*\n** The hook table at registry[HOOKKEY] maps threads to their current\n** hook function. (We only need the unique address of 'HOOKKEY'.)\n*/\nconst HOOKKEY = to_luastring(\"__hooks__\", true);\n\nconst hooknames = [\"call\", \"return\", \"line\", \"count\", \"tail call\"].map(e => to_luastring(e));\n\n/*\n** Call hook function registered at hook table for the current\n** thread (if there is one)\n*/\nconst hookf = function(L, ar) {\n    lua_rawgetp(L, LUA_REGISTRYINDEX, HOOKKEY);\n    let hooktable = lua_touserdata(L, -1);\n    let proxy = hooktable.get(L);\n    if (proxy) {  /* is there a hook function? */\n        proxy(L);\n        lua_pushstring(L, hooknames[ar.event]);  /* push event name */\n        if (ar.currentline >= 0)\n            lua_pushinteger(L, ar.currentline);  /* push current line */\n        else lua_pushnil(L);\n        lualib.lua_assert(lua_getinfo(L, to_luastring(\"lS\"), ar));\n        lua_call(L, 2, 0);  /* call hook function */\n    }\n};\n\n/*\n** Convert a string mask (for 'sethook') into a bit mask\n*/\nconst makemask = function(smask, count) {\n    let mask = 0;\n    if (luastring_indexOf(smask, 99 /* 'c'.charCodeAt(0) */) > -1) mask |= LUA_MASKCALL;\n    if (luastring_indexOf(smask, 114 /* 'r'.charCodeAt(0) */) > -1) mask |= LUA_MASKRET;\n    if (luastring_indexOf(smask, 108 /* 'l'.charCodeAt(0) */) > -1) mask |= LUA_MASKLINE;\n    if (count > 0) mask |= LUA_MASKCOUNT;\n    return mask;\n};\n\n/*\n** Convert a bit mask (for 'gethook') into a string mask\n*/\nconst unmakemask = function(mask, smask) {\n    let i = 0;\n    if (mask & LUA_MASKCALL) smask[i++] = 99 /* 'c'.charCodeAt(0) */;\n    if (mask & LUA_MASKRET) smask[i++] = 114 /* 'r'.charCodeAt(0) */;\n    if (mask & LUA_MASKLINE) smask[i++] = 108 /* 'l'.charCodeAt(0) */;\n    return smask.subarray(0, i);\n};\n\nconst db_sethook = function(L) {\n    let mask, count, func;\n    let thread = getthread(L);\n    let L1 = thread.thread;\n    let arg = thread.arg;\n    if (lua_isnoneornil(L, arg+1)) {  /* no hook? */\n        lua_settop(L, arg+1);\n        func = null; mask = 0; count = 0;  /* turn off hooks */\n    }\n    else {\n        const smask = luaL_checkstring(L, arg + 2);\n        luaL_checktype(L, arg+1, LUA_TFUNCTION);\n        count = luaL_optinteger(L, arg + 3, 0);\n        func = hookf; mask = makemask(smask, count);\n    }\n    /* as weak tables are not supported; use a JS weak-map */\n    let hooktable;\n    if (lua_rawgetp(L, LUA_REGISTRYINDEX, HOOKKEY) === LUA_TNIL) {\n        hooktable = new WeakMap();\n        lua_pushlightuserdata(L, hooktable);\n        lua_rawsetp(L, LUA_REGISTRYINDEX, HOOKKEY);  /* set it in position */\n    } else {\n        hooktable = lua_touserdata(L, -1);\n    }\n    let proxy = lua_toproxy(L, arg + 1);  /* value (hook function) */\n    hooktable.set(L1, proxy);\n    lua_sethook(L1, func, mask, count);\n    return 0;\n};\n\nconst db_gethook = function(L) {\n    let thread = getthread(L);\n    let L1 = thread.thread;\n    let buff = new Uint8Array(5);\n    let mask = lua_gethookmask(L1);\n    let hook = lua_gethook(L1);\n    if (hook === null)  /* no hook? */\n        lua_pushnil(L);\n    else if (hook !== hookf)  /* external hook? */\n        lua_pushliteral(L, \"external hook\");\n    else {  /* hook table must exist */\n        lua_rawgetp(L, LUA_REGISTRYINDEX, HOOKKEY);\n        let hooktable = lua_touserdata(L, -1);\n        let proxy = hooktable.get(L1);\n        proxy(L);\n    }\n    lua_pushstring(L, unmakemask(mask, buff));  /* 2nd result = mask */\n    lua_pushinteger(L, lua_gethookcount(L1));  /* 3rd result = count */\n    return 3;\n};\n\nconst db_traceback = function(L) {\n    let thread = getthread(L);\n    let L1 = thread.thread;\n    let arg = thread.arg;\n    let msg = lua_tostring(L, arg + 1);\n    if (msg === null && !lua_isnoneornil(L, arg + 1))  /* non-string 'msg'? */\n        lua_pushvalue(L, arg + 1);  /* return it untouched */\n    else {\n        let level = luaL_optinteger(L, arg + 2, L === L1 ? 1 : 0);\n        luaL_traceback(L, L1, msg, level);\n    }\n    return 1;\n};\n\nconst dblib = {\n    \"gethook\":      db_gethook,\n    \"getinfo\":      db_getinfo,\n    \"getlocal\":     db_getlocal,\n    \"getmetatable\": db_getmetatable,\n    \"getregistry\":  db_getregistry,\n    \"getupvalue\":   db_getupvalue,\n    \"getuservalue\": db_getuservalue,\n    \"sethook\":      db_sethook,\n    \"setlocal\":     db_setlocal,\n    \"setmetatable\": db_setmetatable,\n    \"setupvalue\":   db_setupvalue,\n    \"setuservalue\": db_setuservalue,\n    \"traceback\":    db_traceback,\n    \"upvalueid\":    db_upvalueid,\n    \"upvaluejoin\":  db_upvaluejoin\n};\n\nlet getinput;\nif (typeof process !== \"undefined\") { // Only with Node\n    const readlineSync = require('readline-sync');\n    readlineSync.setDefaultOptions({\n        prompt: 'lua_debug> '\n    });\n    getinput = function() {\n        return readlineSync.prompt();\n    };\n} else if (typeof window !== \"undefined\") {\n    /* if in browser use window.prompt. Doesn't work from web workers.\n       See https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt\n    */\n    getinput = function() {\n        let input = prompt(\"lua_debug>\", \"\");\n        return (input !== null) ? input : \"\";\n    };\n}\nif (getinput) {\n    dblib.debug = function(L) {\n        for (;;) {\n            let input = getinput();\n\n            if (input === \"cont\")\n                return 0;\n\n            if (input.length === 0)\n                continue;\n\n            let buffer = to_luastring(input);\n            if (luaL_loadbuffer(L, buffer, buffer.length, to_luastring(\"=(debug command)\", true))\n                || lua_pcall(L, 0, 0, 0)) {\n                lua_writestringerror(lua_tojsstring(L, -1), \"\\n\");\n            }\n            lua_settop(L, 0);  /* remove eventual returns */\n        }\n    };\n}\n\nconst luaopen_debug = function(L) {\n    luaL_newlib(L, dblib);\n    return 1;\n};\n\nmodule.exports.luaopen_debug = luaopen_debug;\n","\"use strict\";\n\nconst {\n    LUA_HOOKCOUNT,\n    LUA_HOOKLINE,\n    LUA_MASKCOUNT,\n    LUA_MASKLINE,\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TNIL,\n        LUA_TTABLE\n    },\n    thread_status: {\n        LUA_ERRRUN,\n        LUA_YIELD\n    },\n    from_userstring,\n    luastring_eq,\n    luastring_indexOf,\n    to_luastring\n} = require('./defs.js');\nconst {\n    api_check,\n    lua_assert\n} = require('./llimits.js');\nconst { LUA_IDSIZE } = require('./luaconf.js');\nconst lapi     = require('./lapi.js');\nconst ldo      = require('./ldo.js');\nconst lfunc    = require('./lfunc.js');\nconst llex     = require('./llex.js');\nconst lobject  = require('./lobject.js');\nconst lopcodes = require('./lopcodes.js');\nconst lstate   = require('./lstate.js');\nconst ltable   = require('./ltable.js');\nconst ltm      = require('./ltm.js');\nconst lvm      = require('./lvm.js');\n\nconst currentpc = function(ci) {\n    lua_assert(ci.callstatus & lstate.CIST_LUA);\n    return ci.l_savedpc - 1;\n};\n\nconst currentline = function(ci) {\n    return ci.func.value.p.lineinfo.length !== 0 ? ci.func.value.p.lineinfo[currentpc(ci)] : -1;\n};\n\n/*\n** If function yielded, its 'func' can be in the 'extra' field. The\n** next function restores 'func' to its correct value for debugging\n** purposes. (It exchanges 'func' and 'extra'; so, when called again,\n** after debugging, it also \"re-restores\" ** 'func' to its altered value.\n*/\nconst swapextra = function(L) {\n    if (L.status === LUA_YIELD) {\n        let ci = L.ci;  /* get function that yielded */\n        let temp = ci.funcOff;  /* exchange its 'func' and 'extra' values */\n        ci.func = L.stack[ci.extra];\n        ci.funcOff = ci.extra;\n        ci.extra = temp;\n    }\n};\n\nconst lua_sethook = function(L, func, mask, count) {\n    if (func === null || mask === 0) {  /* turn off hooks? */\n        mask = 0;\n        func = null;\n    }\n    if (L.ci.callstatus & lstate.CIST_LUA)\n        L.oldpc = L.ci.l_savedpc;\n    L.hook = func;\n    L.basehookcount = count;\n    L.hookcount = L.basehookcount;\n    L.hookmask = mask;\n};\n\nconst lua_gethook = function(L) {\n    return L.hook;\n};\n\n\nconst lua_gethookmask = function(L) {\n    return L.hookmask;\n};\n\n\nconst lua_gethookcount = function(L) {\n    return L.basehookcount;\n};\n\nconst lua_getstack = function(L, level, ar) {\n    let ci;\n    let status;\n    if (level < 0) return 0;  /* invalid (negative) level */\n    for (ci = L.ci; level > 0 && ci !== L.base_ci; ci = ci.previous)\n        level--;\n    if (level === 0 && ci !== L.base_ci) {  /* level found? */\n        status = 1;\n        ar.i_ci = ci;\n    } else\n        status = 0;  /* no such level */\n    return status;\n};\n\nconst upvalname = function(p, uv) {\n    lua_assert(uv < p.upvalues.length);\n    let s = p.upvalues[uv].name;\n    if (s === null) return to_luastring(\"?\", true);\n    return s.getstr();\n};\n\nconst findvararg = function(ci, n) {\n    let nparams = ci.func.value.p.numparams;\n    if (n >= ci.l_base - ci.funcOff - nparams)\n        return null;  /* no such vararg */\n    else {\n        return {\n            pos: ci.funcOff + nparams + n,\n            name: to_luastring(\"(*vararg)\", true)  /* generic name for any vararg */\n        };\n    }\n};\n\nconst findlocal = function(L, ci, n) {\n    let base, name = null;\n\n    if (ci.callstatus & lstate.CIST_LUA) {\n        if (n < 0)  /* access to vararg values? */\n            return findvararg(ci, -n);\n        else {\n            base = ci.l_base;\n            name = lfunc.luaF_getlocalname(ci.func.value.p, n, currentpc(ci));\n        }\n    } else\n        base = ci.funcOff + 1;\n\n    if (name === null) {  /* no 'standard' name? */\n        let limit = ci === L.ci ? L.top : ci.next.funcOff;\n        if (limit - base >= n && n > 0)  /* is 'n' inside 'ci' stack? */\n            name = to_luastring(\"(*temporary)\", true);  /* generic name for any valid slot */\n        else\n            return null;  /* no name */\n    }\n    return {\n        pos: base + (n - 1),\n        name: name\n    };\n};\n\nconst lua_getlocal = function(L, ar, n) {\n    let name;\n    swapextra(L);\n    if (ar === null) {  /* information about non-active function? */\n        if (!L.stack[L.top - 1].ttisLclosure())  /* not a Lua function? */\n            name = null;\n        else  /* consider live variables at function start (parameters) */\n            name = lfunc.luaF_getlocalname(L.stack[L.top - 1].value.p, n, 0);\n    } else {  /* active function; get information through 'ar' */\n        let local = findlocal(L, ar.i_ci, n);\n        if (local) {\n            name = local.name;\n            lobject.pushobj2s(L, L.stack[local.pos]);\n            api_check(L, L.top <= L.ci.top, \"stack overflow\");\n        } else {\n            name = null;\n        }\n    }\n    swapextra(L);\n    return name;\n};\n\nconst lua_setlocal = function(L, ar, n) {\n    let name;\n    swapextra(L);\n    let local = findlocal(L, ar.i_ci, n);\n    if (local) {\n        name = local.name;\n        lobject.setobjs2s(L, local.pos, L.top - 1);\n        delete L.stack[--L.top];  /* pop value */\n    } else {\n        name = null;\n    }\n    swapextra(L);\n    return name;\n};\n\nconst funcinfo = function(ar, cl) {\n    if (cl === null || cl instanceof lobject.CClosure) {\n        ar.source = to_luastring(\"=[JS]\", true);\n        ar.linedefined = -1;\n        ar.lastlinedefined = -1;\n        ar.what = to_luastring(\"J\", true);\n    } else {\n        let p = cl.p;\n        ar.source = p.source ? p.source.getstr() : to_luastring(\"=?\", true);\n        ar.linedefined = p.linedefined;\n        ar.lastlinedefined = p.lastlinedefined;\n        ar.what = ar.linedefined === 0 ? to_luastring(\"main\", true) : to_luastring(\"Lua\", true);\n    }\n\n    ar.short_src = lobject.luaO_chunkid(ar.source, LUA_IDSIZE);\n};\n\nconst collectvalidlines = function(L, f) {\n    if (f === null || f instanceof lobject.CClosure) {\n        L.stack[L.top] = new lobject.TValue(LUA_TNIL, null);\n        lapi.api_incr_top(L);\n    } else {\n        let lineinfo = f.p.lineinfo;\n        let t = ltable.luaH_new(L);\n        L.stack[L.top] = new lobject.TValue(LUA_TTABLE, t);\n        lapi.api_incr_top(L);\n        let v = new lobject.TValue(LUA_TBOOLEAN, true);\n        for (let i = 0; i < lineinfo.length; i++)\n            ltable.luaH_setint(t, lineinfo[i], v);\n    }\n};\n\nconst getfuncname = function(L, ci) {\n    let r = {\n        name: null,\n        funcname: null\n    };\n    if (ci === null)\n        return null;\n    else if (ci.callstatus & lstate.CIST_FIN) {  /* is this a finalizer? */\n        r.name = to_luastring(\"__gc\", true);\n        r.funcname = to_luastring(\"metamethod\", true);  /* report it as such */\n        return r;\n    }\n    /* calling function is a known Lua function? */\n    else if (!(ci.callstatus & lstate.CIST_TAIL) && ci.previous.callstatus & lstate.CIST_LUA)\n        return funcnamefromcode(L, ci.previous);\n    else return null;  /* no way to find a name */\n};\n\nconst auxgetinfo = function(L, what, ar, f, ci) {\n    let status = 1;\n    for (; what.length > 0; what = what.subarray(1)) {\n        switch (what[0]) {\n            case 83 /* ('S').charCodeAt(0) */: {\n                funcinfo(ar, f);\n                break;\n            }\n            case 108 /* ('l').charCodeAt(0) */: {\n                ar.currentline = ci && ci.callstatus & lstate.CIST_LUA ? currentline(ci) : -1;\n                break;\n            }\n            case 117 /* ('u').charCodeAt(0) */: {\n                ar.nups = f === null ? 0 : f.nupvalues;\n                if (f === null || f instanceof lobject.CClosure) {\n                    ar.isvararg = true;\n                    ar.nparams = 0;\n                } else {\n                    ar.isvararg = f.p.is_vararg;\n                    ar.nparams = f.p.numparams;\n                }\n                break;\n            }\n            case 116 /* ('t').charCodeAt(0) */: {\n                ar.istailcall = ci ? ci.callstatus & lstate.CIST_TAIL : 0;\n                break;\n            }\n            case 110 /* ('n').charCodeAt(0) */: {\n                let r = getfuncname(L, ci);\n                if (r === null) {\n                    ar.namewhat = to_luastring(\"\", true);\n                    ar.name = null;\n                } else {\n                    ar.namewhat = r.funcname;\n                    ar.name = r.name;\n                }\n                break;\n            }\n            case 76 /* ('L').charCodeAt(0) */:\n            case 102 /* ('f').charCodeAt(0) */:  /* handled by lua_getinfo */\n                break;\n            default: status = 0;  /* invalid option */\n        }\n    }\n\n    return status;\n};\n\nconst lua_getinfo = function(L, what, ar) {\n    what = from_userstring(what);\n    let status, cl, ci, func;\n    swapextra(L);\n    if (what[0] === 62 /* ('>').charCodeAt(0) */) {\n        ci = null;\n        func = L.stack[L.top - 1];\n        api_check(L, func.ttisfunction(), \"function expected\");\n        what = what.subarray(1);  /* skip the '>' */\n        L.top--;  /* pop function */\n    } else {\n        ci = ar.i_ci;\n        func = ci.func;\n        lua_assert(ci.func.ttisfunction());\n    }\n\n    cl = func.ttisclosure() ? func.value : null;\n    status = auxgetinfo(L, what, ar, cl, ci);\n    if (luastring_indexOf(what, 102 /* ('f').charCodeAt(0) */) >= 0) {\n        lobject.pushobj2s(L, func);\n        api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    }\n\n    swapextra(L);\n    if (luastring_indexOf(what, 76 /* ('L').charCodeAt(0) */) >= 0)\n        collectvalidlines(L, cl);\n\n    return status;\n};\n\nconst kname = function(p, pc, c) {\n    let r = {\n        name: null,\n        funcname: null\n    };\n\n    if (lopcodes.ISK(c)) {  /* is 'c' a constant? */\n        let kvalue = p.k[lopcodes.INDEXK(c)];\n        if (kvalue.ttisstring()) {  /* literal constant? */\n            r.name = kvalue.svalue();  /* it is its own name */\n            return r;\n        }\n        /* else no reasonable name found */\n    } else {  /* 'c' is a register */\n        let what = getobjname(p, pc, c); /* search for 'c' */\n        if (what && what.funcname[0] === 99 /* ('c').charCodeAt(0) */) {  /* found a constant name? */\n            return what;  /* 'name' already filled */\n        }\n        /* else no reasonable name found */\n    }\n    r.name = to_luastring(\"?\", true);\n    return r;  /* no reasonable name found */\n};\n\nconst filterpc = function(pc, jmptarget) {\n    if (pc < jmptarget)  /* is code conditional (inside a jump)? */\n        return -1;  /* cannot know who sets that register */\n    else return pc;  /* current position sets that register */\n};\n\n/*\n** try to find last instruction before 'lastpc' that modified register 'reg'\n*/\nconst findsetreg = function(p, lastpc, reg) {\n    let setreg = -1;  /* keep last instruction that changed 'reg' */\n    let jmptarget = 0;  /* any code before this address is conditional */\n    let OCi = lopcodes.OpCodesI;\n    for (let pc = 0; pc < lastpc; pc++) {\n        let i = p.code[pc];\n        let a = i.A;\n        switch (i.opcode) {\n            case OCi.OP_LOADNIL: {\n                let b = i.B;\n                if (a <= reg && reg <= a + b)  /* set registers from 'a' to 'a+b' */\n                    setreg = filterpc(pc, jmptarget);\n                break;\n            }\n            case OCi.OP_TFORCALL: {\n                if (reg >= a + 2)  /* affect all regs above its base */\n                    setreg = filterpc(pc, jmptarget);\n                break;\n            }\n            case OCi.OP_CALL:\n            case OCi.OP_TAILCALL: {\n                if (reg >= a)  /* affect all registers above base */\n                    setreg = filterpc(pc, jmptarget);\n                break;\n            }\n            case OCi.OP_JMP: {\n                let b = i.sBx;\n                let dest = pc + 1 + b;\n                /* jump is forward and do not skip 'lastpc'? */\n                if (pc < dest && dest <= lastpc) {\n                    if (dest > jmptarget)\n                        jmptarget = dest;  /* update 'jmptarget' */\n                }\n                break;\n            }\n            default:\n                if (lopcodes.testAMode(i.opcode) && reg === a)\n                    setreg = filterpc(pc, jmptarget);\n                break;\n        }\n    }\n\n    return setreg;\n};\n\n\nconst getobjname = function(p, lastpc, reg) {\n    let r = {\n        name: lfunc.luaF_getlocalname(p, reg + 1, lastpc),\n        funcname: null\n    };\n\n    if (r.name) {  /* is a local? */\n        r.funcname = to_luastring(\"local\", true);\n        return r;\n    }\n\n    /* else try symbolic execution */\n    let pc = findsetreg(p, lastpc, reg);\n    let OCi = lopcodes.OpCodesI;\n    if (pc !== -1) {  /* could find instruction? */\n        let i = p.code[pc];\n        switch (i.opcode) {\n            case OCi.OP_MOVE: {\n                let b = i.B;  /* move from 'b' to 'a' */\n                if (b < i.A)\n                    return getobjname(p, pc, b);  /* get name for 'b' */\n                break;\n            }\n            case OCi.OP_GETTABUP:\n            case OCi.OP_GETTABLE: {\n                let k = i.C;  /* key index */\n                let t = i.B;  /* table index */\n                let vn = i.opcode === OCi.OP_GETTABLE ? lfunc.luaF_getlocalname(p, t + 1, pc) : upvalname(p, t);\n                r.name = kname(p, pc, k).name;\n                r.funcname = (vn && luastring_eq(vn, llex.LUA_ENV)) ? to_luastring(\"global\", true) : to_luastring(\"field\", true);\n                return r;\n            }\n            case OCi.OP_GETUPVAL: {\n                r.name = upvalname(p, i.B);\n                r.funcname = to_luastring(\"upvalue\", true);\n                return r;\n            }\n            case OCi.OP_LOADK:\n            case OCi.OP_LOADKX: {\n                let b = i.opcode === OCi.OP_LOADK ? i.Bx : p.code[pc + 1].Ax;\n                if (p.k[b].ttisstring()) {\n                    r.name = p.k[b].svalue();\n                    r.funcname = to_luastring(\"constant\", true);\n                    return r;\n                }\n                break;\n            }\n            case OCi.OP_SELF: {\n                let k = i.C;\n                r.name = kname(p, pc, k).name;\n                r.funcname = to_luastring(\"method\", true);\n                return r;\n            }\n            default: break;\n        }\n    }\n\n    return null;\n};\n\n/*\n** Try to find a name for a function based on the code that called it.\n** (Only works when function was called by a Lua function.)\n** Returns what the name is (e.g., \"for iterator\", \"method\",\n** \"metamethod\") and sets '*name' to point to the name.\n*/\nconst funcnamefromcode = function(L, ci) {\n    let r = {\n        name: null,\n        funcname: null\n    };\n\n    let tm = 0;  /* (initial value avoids warnings) */\n    let p = ci.func.value.p;  /* calling function */\n    let pc = currentpc(ci);  /* calling instruction index */\n    let i = p.code[pc];  /* calling instruction */\n    let OCi = lopcodes.OpCodesI;\n\n    if (ci.callstatus & lstate.CIST_HOOKED) {\n        r.name = to_luastring(\"?\", true);\n        r.funcname = to_luastring(\"hook\", true);\n        return r;\n    }\n\n    switch (i.opcode) {\n        case OCi.OP_CALL:\n        case OCi.OP_TAILCALL:\n            return getobjname(p, pc, i.A);  /* get function name */\n        case OCi.OP_TFORCALL:\n            r.name = to_luastring(\"for iterator\", true);\n            r.funcname = to_luastring(\"for iterator\", true);\n            return r;\n        /* other instructions can do calls through metamethods */\n        case OCi.OP_SELF:\n        case OCi.OP_GETTABUP:\n        case OCi.OP_GETTABLE:\n            tm = ltm.TMS.TM_INDEX;\n            break;\n        case OCi.OP_SETTABUP:\n        case OCi.OP_SETTABLE:\n            tm = ltm.TMS.TM_NEWINDEX;\n            break;\n        case OCi.OP_ADD:    tm = ltm.TMS.TM_ADD;    break;\n        case OCi.OP_SUB:    tm = ltm.TMS.TM_SUB;    break;\n        case OCi.OP_MUL:    tm = ltm.TMS.TM_MUL;    break;\n        case OCi.OP_MOD:    tm = ltm.TMS.TM_MOD;    break;\n        case OCi.OP_POW:    tm = ltm.TMS.TM_POW;    break;\n        case OCi.OP_DIV:    tm = ltm.TMS.TM_DIV;    break;\n        case OCi.OP_IDIV:   tm = ltm.TMS.TM_IDIV;   break;\n        case OCi.OP_BAND:   tm = ltm.TMS.TM_BAND;   break;\n        case OCi.OP_BOR:    tm = ltm.TMS.TM_BOR;    break;\n        case OCi.OP_BXOR:   tm = ltm.TMS.TM_BXOR;   break;\n        case OCi.OP_SHL:    tm = ltm.TMS.TM_SHL;    break;\n        case OCi.OP_SHR:    tm = ltm.TMS.TM_SHR;    break;\n        case OCi.OP_UNM:    tm = ltm.TMS.TM_UNM;    break;\n        case OCi.OP_BNOT:   tm = ltm.TMS.TM_BNOT;   break;\n        case OCi.OP_LEN:    tm = ltm.TMS.TM_LEN;    break;\n        case OCi.OP_CONCAT: tm = ltm.TMS.TM_CONCAT; break;\n        case OCi.OP_EQ:     tm = ltm.TMS.TM_EQ;     break;\n        case OCi.OP_LT:     tm = ltm.TMS.TM_LT;     break;\n        case OCi.OP_LE:     tm = ltm.TMS.TM_LE;     break;\n        default:\n            return null;  /* cannot find a reasonable name */\n    }\n\n    r.name = L.l_G.tmname[tm].getstr();\n    r.funcname = to_luastring(\"metamethod\", true);\n    return r;\n};\n\nconst isinstack = function(L, ci, o) {\n    for (let i = ci.l_base; i < ci.top; i++) {\n        if (L.stack[i] === o)\n            return i;\n    }\n\n    return false;\n};\n\n/*\n** Checks whether value 'o' came from an upvalue. (That can only happen\n** with instructions OP_GETTABUP/OP_SETTABUP, which operate directly on\n** upvalues.)\n*/\nconst getupvalname = function(L, ci, o) {\n    let c = ci.func.value;\n    for (let i = 0; i < c.nupvalues; i++) {\n        if (c.upvals[i] === o) {\n            return {\n                name: upvalname(c.p, i),\n                funcname: to_luastring('upvalue', true)\n            };\n        }\n    }\n\n    return null;\n};\n\nconst varinfo = function(L, o) {\n    let ci = L.ci;\n    let kind = null;\n    if (ci.callstatus & lstate.CIST_LUA) {\n        kind = getupvalname(L, ci, o);  /* check whether 'o' is an upvalue */\n        let stkid = isinstack(L, ci, o);\n        if (!kind && stkid)  /* no? try a register */\n            kind = getobjname(ci.func.value.p, currentpc(ci), stkid - ci.l_base);\n    }\n\n    return kind ? lobject.luaO_pushfstring(L, to_luastring(\" (%s '%s')\", true), kind.funcname, kind.name) : to_luastring(\"\", true);\n};\n\nconst luaG_typeerror = function(L, o, op) {\n    let t = ltm.luaT_objtypename(L, o);\n    luaG_runerror(L, to_luastring(\"attempt to %s a %s value%s\", true), op, t, varinfo(L, o));\n};\n\nconst luaG_concaterror = function(L, p1, p2) {\n    if (p1.ttisstring() || lvm.cvt2str(p1)) p1 = p2;\n    luaG_typeerror(L, p1, to_luastring('concatenate', true));\n};\n\n/*\n** Error when both values are convertible to numbers, but not to integers\n*/\nconst luaG_opinterror = function(L, p1, p2, msg) {\n    if (lvm.tonumber(p1) === false)\n        p2 = p1;\n    luaG_typeerror(L, p2, msg);\n};\n\nconst luaG_ordererror = function(L, p1, p2) {\n    let t1 = ltm.luaT_objtypename(L, p1);\n    let t2 = ltm.luaT_objtypename(L, p2);\n    if (luastring_eq(t1, t2))\n        luaG_runerror(L, to_luastring(\"attempt to compare two %s values\", true), t1);\n    else\n        luaG_runerror(L, to_luastring(\"attempt to compare %s with %s\", true), t1, t2);\n};\n\n/* add src:line information to 'msg' */\nconst luaG_addinfo = function(L, msg, src, line) {\n    let buff;\n    if (src)\n        buff = lobject.luaO_chunkid(src.getstr(), LUA_IDSIZE);\n    else\n        buff = to_luastring(\"?\", true);\n\n    return lobject.luaO_pushfstring(L, to_luastring(\"%s:%d: %s\", true), buff, line, msg);\n};\n\nconst luaG_runerror = function(L, fmt, ...argp) {\n    let ci = L.ci;\n    let msg = lobject.luaO_pushvfstring(L, fmt, argp);\n    if (ci.callstatus & lstate.CIST_LUA)  /* if Lua function, add source:line information */\n        luaG_addinfo(L, msg, ci.func.value.p.source, currentline(ci));\n    luaG_errormsg(L);\n};\n\nconst luaG_errormsg = function(L) {\n    if (L.errfunc !== 0) {  /* is there an error handling function? */\n        let errfunc = L.errfunc;\n        lobject.pushobj2s(L, L.stack[L.top - 1]); /* move argument */\n        lobject.setobjs2s(L, L.top - 2, errfunc); /* push function */\n        ldo.luaD_callnoyield(L, L.top - 2, 1);\n    }\n\n    ldo.luaD_throw(L, LUA_ERRRUN);\n};\n\n/*\n** Error when both values are convertible to numbers, but not to integers\n*/\nconst luaG_tointerror = function(L, p1, p2) {\n    let temp = lvm.tointeger(p1);\n    if (temp === false)\n        p2 = p1;\n    luaG_runerror(L, to_luastring(\"number%s has no integer representation\", true), varinfo(L, p2));\n};\n\nconst luaG_traceexec = function(L) {\n    let ci = L.ci;\n    let mask = L.hookmask;\n    let counthook = (--L.hookcount === 0 && (mask & LUA_MASKCOUNT));\n    if (counthook)\n        L.hookcount = L.basehookcount;  /* reset count */\n    else if (!(mask & LUA_MASKLINE))\n        return;  /* no line hook and count != 0; nothing to be done */\n    if (ci.callstatus & lstate.CIST_HOOKYIELD) {  /* called hook last time? */\n        ci.callstatus &= ~lstate.CIST_HOOKYIELD;  /* erase mark */\n        return;  /* do not call hook again (VM yielded, so it did not move) */\n    }\n    if (counthook)\n        ldo.luaD_hook(L, LUA_HOOKCOUNT, -1);  /* call count hook */\n    if (mask & LUA_MASKLINE) {\n        let p = ci.func.value.p;\n        let npc = ci.l_savedpc - 1; // pcRel(ci.u.l.savedpc, p);\n        let newline = p.lineinfo.length !== 0 ? p.lineinfo[npc] : -1;\n        if (npc === 0 ||  /* call linehook when enter a new function, */\n            ci.l_savedpc <= L.oldpc ||  /* when jump back (loop), or when */\n            newline !== (p.lineinfo.length !== 0 ? p.lineinfo[L.oldpc - 1] : -1))  /* enter a new line */\n            ldo.luaD_hook(L, LUA_HOOKLINE, newline);  /* call line hook */\n    }\n    L.oldpc = ci.l_savedpc;\n    if (L.status === LUA_YIELD) {  /* did hook yield? */\n        if (counthook)\n            L.hookcount = 1;  /* undo decrement to zero */\n        ci.l_savedpc--;  /* undo increment (resume will increment it again) */\n        ci.callstatus |= lstate.CIST_HOOKYIELD;  /* mark that it yielded */\n        ci.funcOff = L.top - 1;  /* protect stack below results */\n        ci.func = L.stack[ci.funcOff];\n        ldo.luaD_throw(L, LUA_YIELD);\n    }\n};\n\nmodule.exports.luaG_addinfo     = luaG_addinfo;\nmodule.exports.luaG_concaterror = luaG_concaterror;\nmodule.exports.luaG_errormsg    = luaG_errormsg;\nmodule.exports.luaG_opinterror  = luaG_opinterror;\nmodule.exports.luaG_ordererror  = luaG_ordererror;\nmodule.exports.luaG_runerror    = luaG_runerror;\nmodule.exports.luaG_tointerror  = luaG_tointerror;\nmodule.exports.luaG_traceexec   = luaG_traceexec;\nmodule.exports.luaG_typeerror   = luaG_typeerror;\nmodule.exports.lua_gethook      = lua_gethook;\nmodule.exports.lua_gethookcount = lua_gethookcount;\nmodule.exports.lua_gethookmask  = lua_gethookmask;\nmodule.exports.lua_getinfo      = lua_getinfo;\nmodule.exports.lua_getlocal     = lua_getlocal;\nmodule.exports.lua_getstack     = lua_getstack;\nmodule.exports.lua_sethook      = lua_sethook;\nmodule.exports.lua_setlocal     = lua_setlocal;\n","\"use strict\";\n\nconst {\n    LUA_HOOKCALL,\n    LUA_HOOKRET,\n    LUA_HOOKTAILCALL,\n    LUA_MASKCALL,\n    LUA_MASKLINE,\n    LUA_MASKRET,\n    LUA_MINSTACK,\n    LUA_MULTRET,\n    LUA_SIGNATURE,\n    constant_types: {\n        LUA_TCCL,\n        LUA_TLCF,\n        LUA_TLCL,\n        LUA_TNIL\n    },\n    thread_status: {\n        LUA_ERRMEM,\n        LUA_ERRERR,\n        LUA_ERRRUN,\n        LUA_ERRSYNTAX,\n        LUA_OK,\n        LUA_YIELD\n    },\n    lua_Debug,\n    luastring_indexOf,\n    to_luastring\n} = require('./defs.js');\nconst lapi     = require('./lapi.js');\nconst ldebug   = require('./ldebug.js');\nconst lfunc    = require('./lfunc.js');\nconst {\n    api_check,\n    lua_assert,\n    LUAI_MAXCCALLS\n} = require('./llimits.js');\nconst lobject  = require('./lobject.js');\nconst lopcodes = require('./lopcodes.js');\nconst lparser  = require('./lparser.js');\nconst lstate   = require('./lstate.js');\nconst { luaS_newliteral } = require('./lstring.js');\nconst ltm      = require('./ltm.js');\nconst { LUAI_MAXSTACK } = require('./luaconf.js');\nconst lundump  = require('./lundump.js');\nconst lvm      = require('./lvm.js');\nconst { MBuffer } = require('./lzio.js');\n\nconst adjust_top = function(L, newtop) {\n    if (L.top < newtop) {\n        while (L.top < newtop)\n            L.stack[L.top++] = new lobject.TValue(LUA_TNIL, null);\n    } else {\n        while (L.top > newtop)\n            delete L.stack[--L.top];\n    }\n};\n\nconst seterrorobj = function(L, errcode, oldtop) {\n    let current_top = L.top;\n\n    /* extend stack so that L.stack[oldtop] is sure to exist */\n    while (L.top < oldtop + 1)\n        L.stack[L.top++] = new lobject.TValue(LUA_TNIL, null);\n\n    switch (errcode) {\n        case LUA_ERRMEM: {\n            lobject.setsvalue2s(L, oldtop, luaS_newliteral(L, \"not enough memory\"));\n            break;\n        }\n        case LUA_ERRERR: {\n            lobject.setsvalue2s(L, oldtop, luaS_newliteral(L, \"error in error handling\"));\n            break;\n        }\n        default: {\n            lobject.setobjs2s(L, oldtop, current_top - 1);\n        }\n    }\n\n    while (L.top > oldtop + 1)\n        delete L.stack[--L.top];\n};\n\nconst ERRORSTACKSIZE = LUAI_MAXSTACK + 200;\n\nconst luaD_reallocstack = function(L, newsize) {\n    lua_assert(newsize <= LUAI_MAXSTACK || newsize == ERRORSTACKSIZE);\n    lua_assert(L.stack_last == L.stack.length - lstate.EXTRA_STACK);\n    L.stack.length = newsize;\n    L.stack_last = newsize - lstate.EXTRA_STACK;\n};\n\nconst luaD_growstack = function(L, n) {\n    let size = L.stack.length;\n    if (size > LUAI_MAXSTACK)\n        luaD_throw(L, LUA_ERRERR);\n    else {\n        let needed = L.top + n + lstate.EXTRA_STACK;\n        let newsize = 2 * size;\n        if (newsize > LUAI_MAXSTACK) newsize = LUAI_MAXSTACK;\n        if (newsize < needed) newsize = needed;\n        if (newsize > LUAI_MAXSTACK) {  /* stack overflow? */\n            luaD_reallocstack(L, ERRORSTACKSIZE);\n            ldebug.luaG_runerror(L, to_luastring(\"stack overflow\", true));\n        }\n        else\n            luaD_reallocstack(L, newsize);\n    }\n};\n\nconst luaD_checkstack = function(L, n) {\n    if (L.stack_last - L.top <= n)\n        luaD_growstack(L, n);\n};\n\nconst stackinuse = function(L) {\n    let lim = L.top;\n    for (let ci = L.ci; ci !== null; ci = ci.previous) {\n        if (lim < ci.top) lim = ci.top;\n    }\n    lua_assert(lim <= L.stack_last);\n    return lim + 1; /* part of stack in use */\n};\n\nconst luaD_shrinkstack = function(L) {\n    let inuse = stackinuse(L);\n    let goodsize = inuse + Math.floor(inuse / 8) + 2*lstate.EXTRA_STACK;\n    if (goodsize > LUAI_MAXSTACK)\n        goodsize = LUAI_MAXSTACK;  /* respect stack limit */\n    if (L.stack.length > LUAI_MAXSTACK)  /* had been handling stack overflow? */\n        lstate.luaE_freeCI(L);  /* free all CIs (list grew because of an error) */\n    /* if thread is currently not handling a stack overflow and its\n     good size is smaller than current size, shrink its stack */\n    if (inuse <= (LUAI_MAXSTACK - lstate.EXTRA_STACK) && goodsize < L.stack.length)\n        luaD_reallocstack(L, goodsize);\n};\n\nconst luaD_inctop = function(L) {\n    luaD_checkstack(L, 1);\n    L.stack[L.top++] = new lobject.TValue(LUA_TNIL, null);\n};\n\n/*\n** Prepares a function call: checks the stack, creates a new CallInfo\n** entry, fills in the relevant information, calls hook if needed.\n** If function is a JS function, does the call, too. (Otherwise, leave\n** the execution ('luaV_execute') to the caller, to allow stackless\n** calls.) Returns true iff function has been executed (JS function).\n*/\nconst luaD_precall = function(L, off, nresults) {\n    let func = L.stack[off];\n\n    switch(func.type) {\n        case LUA_TCCL:\n        case LUA_TLCF: {\n            let f = func.type === LUA_TCCL ? func.value.f : func.value;\n\n            luaD_checkstack(L, LUA_MINSTACK);\n            let ci = lstate.luaE_extendCI(L);\n            ci.funcOff = off;\n            ci.nresults = nresults;\n            ci.func = func;\n            ci.top = L.top + LUA_MINSTACK;\n            lua_assert(ci.top <= L.stack_last);\n            ci.callstatus = 0;\n            if (L.hookmask & LUA_MASKCALL)\n                luaD_hook(L, LUA_HOOKCALL, -1);\n            let n = f(L); /* do the actual call */\n            if (typeof n !== \"number\" || n < 0 || (n|0) !== n)\n                throw Error(\"invalid return value from JS function (expected integer)\");\n            lapi.api_checknelems(L, n);\n\n            luaD_poscall(L, ci, L.top - n, n);\n\n            return true;\n        }\n        case LUA_TLCL: {\n            let base;\n            let p = func.value.p;\n            let n = L.top - off - 1;\n            let fsize = p.maxstacksize;\n            luaD_checkstack(L, fsize);\n            if (p.is_vararg) {\n                base = adjust_varargs(L, p, n);\n            } else {\n                for (; n < p.numparams; n++)\n                    L.stack[L.top++] = new lobject.TValue(LUA_TNIL, null); // complete missing arguments\n                base = off + 1;\n            }\n\n            let ci = lstate.luaE_extendCI(L);\n            ci.funcOff = off;\n            ci.nresults = nresults;\n            ci.func = func;\n            ci.l_base = base;\n            ci.top = base + fsize;\n            adjust_top(L, ci.top);\n            ci.l_code = p.code;\n            ci.l_savedpc = 0;\n            ci.callstatus = lstate.CIST_LUA;\n            if (L.hookmask & LUA_MASKCALL)\n                callhook(L, ci);\n            return false;\n        }\n        default:\n            luaD_checkstack(L, 1);\n            tryfuncTM(L, off, func);\n            return luaD_precall(L, off, nresults);\n    }\n};\n\nconst luaD_poscall = function(L, ci, firstResult, nres) {\n    let wanted = ci.nresults;\n\n    if (L.hookmask & (LUA_MASKRET | LUA_MASKLINE)) {\n        if (L.hookmask & LUA_MASKRET)\n            luaD_hook(L, LUA_HOOKRET, -1);\n        L.oldpc = ci.previous.l_savedpc;  /* 'oldpc' for caller function */\n    }\n\n    let res = ci.funcOff;\n    L.ci = ci.previous;\n    L.ci.next = null;\n    return moveresults(L, firstResult, res, nres, wanted);\n};\n\nconst moveresults = function(L, firstResult, res, nres, wanted) {\n    switch (wanted) {\n        case 0:\n            break;\n        case 1: {\n            if (nres === 0)\n                L.stack[res].setnilvalue();\n            else {\n                lobject.setobjs2s(L, res, firstResult); /* move it to proper place */\n            }\n            break;\n        }\n        case LUA_MULTRET: {\n            for (let i = 0; i < nres; i++)\n                lobject.setobjs2s(L, res + i, firstResult + i);\n            for (let i=L.top; i>=(res + nres); i--)\n                delete L.stack[i];\n            L.top = res + nres;\n            return false;\n        }\n        default: {\n            let i;\n            if (wanted <= nres) {\n                for (i = 0; i < wanted; i++)\n                    lobject.setobjs2s(L, res + i, firstResult + i);\n            } else {\n                for (i = 0; i < nres; i++)\n                    lobject.setobjs2s(L, res + i, firstResult + i);\n                for (; i < wanted; i++) {\n                    if (res+i >= L.top)\n                        L.stack[res + i] = new lobject.TValue(LUA_TNIL, null);\n                    else\n                        L.stack[res + i].setnilvalue();\n                }\n            }\n            break;\n        }\n    }\n    let newtop = res + wanted; /* top points after the last result */\n    for (let i=L.top; i>=newtop; i--)\n        delete L.stack[i];\n    L.top = newtop;\n    return true;\n};\n\n/*\n** Call a hook for the given event. Make sure there is a hook to be\n** called. (Both 'L->hook' and 'L->hookmask', which triggers this\n** function, can be changed asynchronously by signals.)\n*/\nconst luaD_hook = function(L, event, line) {\n    let hook = L.hook;\n    if (hook && L.allowhook) {  /* make sure there is a hook */\n        let ci = L.ci;\n        let top = L.top;\n        let ci_top = ci.top;\n        let ar = new lua_Debug();\n        ar.event = event;\n        ar.currentline = line;\n        ar.i_ci = ci;\n        luaD_checkstack(L, LUA_MINSTACK);  /* ensure minimum stack size */\n        ci.top = L.top + LUA_MINSTACK;\n        lua_assert(ci.top <= L.stack_last);\n        L.allowhook = 0;  /* cannot call hooks inside a hook */\n        ci.callstatus |= lstate.CIST_HOOKED;\n        hook(L, ar);\n        lua_assert(!L.allowhook);\n        L.allowhook = 1;\n        ci.top = ci_top;\n        adjust_top(L, top);\n        ci.callstatus &= ~lstate.CIST_HOOKED;\n    }\n};\n\nconst callhook = function(L, ci) {\n    let hook = LUA_HOOKCALL;\n    ci.l_savedpc++;  /* hooks assume 'pc' is already incremented */\n    if ((ci.previous.callstatus & lstate.CIST_LUA) &&\n      ci.previous.l_code[ci.previous.l_savedpc - 1].opcode == lopcodes.OpCodesI.OP_TAILCALL) {\n        ci.callstatus |= lstate.CIST_TAIL;\n        hook = LUA_HOOKTAILCALL;\n    }\n    luaD_hook(L, hook, -1);\n    ci.l_savedpc--;  /* correct 'pc' */\n};\n\nconst adjust_varargs = function(L, p, actual) {\n    let nfixargs = p.numparams;\n    /* move fixed parameters to final position */\n    let fixed = L.top - actual; /* first fixed argument */\n    let base = L.top; /* final position of first argument */\n\n    let i;\n    for (i = 0; i < nfixargs && i < actual; i++) {\n        lobject.pushobj2s(L, L.stack[fixed + i]);\n        L.stack[fixed + i].setnilvalue();\n    }\n\n    for (; i < nfixargs; i++)\n        L.stack[L.top++] = new lobject.TValue(LUA_TNIL, null);\n\n    return base;\n};\n\nconst tryfuncTM = function(L, off, func) {\n    let tm = ltm.luaT_gettmbyobj(L, func, ltm.TMS.TM_CALL);\n    if (!tm.ttisfunction(tm))\n        ldebug.luaG_typeerror(L, func, to_luastring(\"call\", true));\n    /* Open a hole inside the stack at 'func' */\n    lobject.pushobj2s(L, L.stack[L.top-1]); /* push top of stack again */\n    for (let p = L.top-2; p > off; p--)\n        lobject.setobjs2s(L, p, p-1); /* move other items up one */\n    lobject.setobj2s(L, off, tm); /* tag method is the new function to be called */\n};\n\n/*\n** Check appropriate error for stack overflow (\"regular\" overflow or\n** overflow while handling stack overflow). If 'nCalls' is larger than\n** LUAI_MAXCCALLS (which means it is handling a \"regular\" overflow) but\n** smaller than 9/8 of LUAI_MAXCCALLS, does not report an error (to\n** allow overflow handling to work)\n*/\nconst stackerror = function(L) {\n    if (L.nCcalls === LUAI_MAXCCALLS)\n        ldebug.luaG_runerror(L, to_luastring(\"JS stack overflow\", true));\n    else if (L.nCcalls >= LUAI_MAXCCALLS + (LUAI_MAXCCALLS >> 3))\n        luaD_throw(L, LUA_ERRERR);  /* error while handing stack error */\n};\n\n/*\n** Call a function (JS or Lua). The function to be called is at func.\n** The arguments are on the stack, right after the function.\n** When returns, all the results are on the stack, starting at the original\n** function position.\n*/\nconst luaD_call = function(L, off, nResults) {\n    if (++L.nCcalls >= LUAI_MAXCCALLS)\n        stackerror(L);\n    if (!luaD_precall(L, off, nResults))\n        lvm.luaV_execute(L);\n    L.nCcalls--;\n};\n\nconst luaD_throw = function(L, errcode) {\n    if (L.errorJmp) {  /* thread has an error handler? */\n        L.errorJmp.status = errcode;  /* set status */\n        throw L.errorJmp;\n    } else {  /* thread has no error handler */\n        let g = L.l_G;\n        L.status = errcode;  /* mark it as dead */\n        if (g.mainthread.errorJmp) {  /* main thread has a handler? */\n            g.mainthread.stack[g.mainthread.top++] = L.stack[L.top - 1];  /* copy error obj. */\n            luaD_throw(g.mainthread, errcode);  /* re-throw in main thread */\n        } else {  /* no handler at all; abort */\n            let panic = g.panic;\n            if (panic) {  /* panic function? */\n                seterrorobj(L, errcode, L.top);  /* assume EXTRA_STACK */\n                if (L.ci.top < L.top)\n                    L.ci.top = L.top;  /* pushing msg. can break this invariant */\n                panic(L);  /* call panic function (last chance to jump out) */\n            }\n            throw new Error(`Aborted ${errcode}`);\n        }\n    }\n};\n\nconst luaD_rawrunprotected = function(L, f, ud) {\n    let oldnCcalls = L.nCcalls;\n    let lj = {\n        status: LUA_OK,\n        previous: L.errorJmp /* chain new error handler */\n    };\n    L.errorJmp = lj;\n\n    try {\n        f(L, ud);\n    } catch (e) {\n        if (lj.status === LUA_OK) {\n            /* error was not thrown via luaD_throw, i.e. it is a JS error */\n            /* run user error handler (if it exists) */\n            let atnativeerror = L.l_G.atnativeerror;\n            if (atnativeerror) {\n                try {\n                    lj.status = LUA_OK;\n\n                    lapi.lua_pushcfunction(L, atnativeerror);\n                    lapi.lua_pushlightuserdata(L, e);\n                    luaD_callnoyield(L, L.top - 2, 1);\n\n                    /* Now run the message handler (if it exists) */\n                    /* copy of luaG_errormsg without the throw */\n                    if (L.errfunc !== 0) {  /* is there an error handling function? */\n                        let errfunc = L.errfunc;\n                        lobject.pushobj2s(L, L.stack[L.top - 1]); /* move argument */\n                        lobject.setobjs2s(L, L.top - 2, errfunc); /* push function */\n                        luaD_callnoyield(L, L.top - 2, 1);\n                    }\n\n                    lj.status = LUA_ERRRUN;\n                } catch(e2) {\n                    if (lj.status === LUA_OK) {\n                        /* also failed */\n                        lj.status = -1;\n                    }\n                }\n            } else {\n                lj.status = -1;\n            }\n        }\n    }\n\n    L.errorJmp = lj.previous;\n    L.nCcalls = oldnCcalls;\n\n    return lj.status;\n\n};\n\n/*\n** Completes the execution of an interrupted C function, calling its\n** continuation function.\n*/\nconst finishCcall = function(L, status) {\n    let ci = L.ci;\n\n    /* must have a continuation and must be able to call it */\n    lua_assert(ci.c_k !== null && L.nny === 0);\n    /* error status can only happen in a protected call */\n    lua_assert(ci.callstatus & lstate.CIST_YPCALL || status === LUA_YIELD);\n\n    if (ci.callstatus & lstate.CIST_YPCALL) {  /* was inside a pcall? */\n        ci.callstatus &= ~lstate.CIST_YPCALL;  /* continuation is also inside it */\n        L.errfunc = ci.c_old_errfunc;  /* with the same error function */\n    }\n\n    /* finish 'lua_callk'/'lua_pcall'; CIST_YPCALL and 'errfunc' already\n       handled */\n    if (ci.nresults === LUA_MULTRET && L.ci.top < L.top) L.ci.top = L.top;\n    let c_k = ci.c_k; /* don't want to call as method */\n    let n = c_k(L, status, ci.c_ctx);  /* call continuation function */\n    lapi.api_checknelems(L, n);\n    luaD_poscall(L, ci, L.top - n, n);  /* finish 'luaD_precall' */\n};\n\n/*\n** Executes \"full continuation\" (everything in the stack) of a\n** previously interrupted coroutine until the stack is empty (or another\n** interruption long-jumps out of the loop). If the coroutine is\n** recovering from an error, 'ud' points to the error status, which must\n** be passed to the first continuation function (otherwise the default\n** status is LUA_YIELD).\n*/\nconst unroll = function(L, ud) {\n    if (ud !== null)  /* error status? */\n        finishCcall(L, ud);  /* finish 'lua_pcallk' callee */\n\n    while (L.ci !== L.base_ci) {  /* something in the stack */\n        if (!(L.ci.callstatus & lstate.CIST_LUA))  /* C function? */\n            finishCcall(L, LUA_YIELD);  /* complete its execution */\n        else {  /* Lua function */\n            lvm.luaV_finishOp(L);  /* finish interrupted instruction */\n            lvm.luaV_execute(L);  /* execute down to higher C 'boundary' */\n        }\n    }\n};\n\n/*\n** Try to find a suspended protected call (a \"recover point\") for the\n** given thread.\n*/\nconst findpcall = function(L) {\n    for (let ci = L.ci; ci !== null; ci = ci.previous) {  /* search for a pcall */\n        if (ci.callstatus & lstate.CIST_YPCALL)\n            return ci;\n    }\n\n    return null;  /* no pending pcall */\n};\n\n/*\n** Recovers from an error in a coroutine. Finds a recover point (if\n** there is one) and completes the execution of the interrupted\n** 'luaD_pcall'. If there is no recover point, returns zero.\n*/\nconst recover = function(L, status) {\n    let ci = findpcall(L);\n    if (ci === null) return 0;  /* no recovery point */\n    /* \"finish\" luaD_pcall */\n    let oldtop = ci.extra;\n    lfunc.luaF_close(L, oldtop);\n    seterrorobj(L, status, oldtop);\n    L.ci = ci;\n    L.allowhook = ci.callstatus & lstate.CIST_OAH;  /* restore original 'allowhook' */\n    L.nny = 0;  /* should be zero to be yieldable */\n    luaD_shrinkstack(L);\n    L.errfunc = ci.c_old_errfunc;\n    return 1;  /* continue running the coroutine */\n};\n\n/*\n** Signal an error in the call to 'lua_resume', not in the execution\n** of the coroutine itself. (Such errors should not be handled by any\n** coroutine error handler and should not kill the coroutine.)\n*/\nconst resume_error = function(L, msg, narg) {\n    let ts = luaS_newliteral(L, msg);\n    if (narg === 0) {\n        lobject.pushsvalue2s(L, ts);\n        api_check(L, L.top <= L.ci.top, \"stack overflow\");\n    } else {\n        /* remove args from the stack */\n        for (let i=1; i<narg; i++)\n            delete L.stack[--L.top];\n        lobject.setsvalue2s(L, L.top-1, ts);  /* push error message */\n    }\n    return LUA_ERRRUN;\n};\n\n/*\n** Do the work for 'lua_resume' in protected mode. Most of the work\n** depends on the status of the coroutine: initial state, suspended\n** inside a hook, or regularly suspended (optionally with a continuation\n** function), plus erroneous cases: non-suspended coroutine or dead\n** coroutine.\n*/\nconst resume = function(L, n) {\n    let firstArg = L.top - n;  /* first argument */\n    let ci = L.ci;\n    if (L.status === LUA_OK) {  /* starting a coroutine? */\n        if (!luaD_precall(L, firstArg - 1, LUA_MULTRET))  /* Lua function? */\n            lvm.luaV_execute(L);  /* call it */\n    } else {  /* resuming from previous yield */\n        lua_assert(L.status === LUA_YIELD);\n        L.status = LUA_OK;  /* mark that it is running (again) */\n        ci.funcOff = ci.extra;\n        ci.func = L.stack[ci.funcOff];\n\n        if (ci.callstatus & lstate.CIST_LUA)  /* yielded inside a hook? */\n            lvm.luaV_execute(L);  /* just continue running Lua code */\n        else {  /* 'common' yield */\n            if (ci.c_k !== null) {  /* does it have a continuation function? */\n                n = ci.c_k(L, LUA_YIELD, ci.c_ctx); /* call continuation */\n                lapi.api_checknelems(L, n);\n                firstArg = L.top - n;  /* yield results come from continuation */\n            }\n\n            luaD_poscall(L, ci, firstArg, n);  /* finish 'luaD_precall' */\n        }\n\n        unroll(L, null);  /* run continuation */\n    }\n};\n\nconst lua_resume = function(L, from, nargs) {\n    let oldnny = L.nny;  /* save \"number of non-yieldable\" calls */\n\n    if (L.status === LUA_OK) {  /* may be starting a coroutine */\n        if (L.ci !== L.base_ci)  /* not in base level? */\n            return resume_error(L, \"cannot resume non-suspended coroutine\", nargs);\n    } else if (L.status !== LUA_YIELD)\n        return resume_error(L, \"cannot resume dead coroutine\", nargs);\n\n    L.nCcalls = from ? from.nCcalls + 1 : 1;\n    if (L.nCcalls >= LUAI_MAXCCALLS)\n        return resume_error(L, \"JS stack overflow\", nargs);\n\n    L.nny = 0;  /* allow yields */\n\n    lapi.api_checknelems(L, L.status === LUA_OK ? nargs + 1: nargs);\n\n    let status = luaD_rawrunprotected(L, resume, nargs);\n    if (status === -1)  /* error calling 'lua_resume'? */\n        status = LUA_ERRRUN;\n    else {  /* continue running after recoverable errors */\n        while (status > LUA_YIELD && recover(L, status)) {\n            /* unroll continuation */\n            status = luaD_rawrunprotected(L, unroll, status);\n        }\n\n        if (status > LUA_YIELD) {  /* unrecoverable error? */\n            L.status = status;  /* mark thread as 'dead' */\n            seterrorobj(L, status, L.top);  /* push error message */\n            L.ci.top = L.top;\n        } else\n            lua_assert(status === L.status);  /* normal end or yield */\n    }\n\n    L.nny = oldnny;  /* restore 'nny' */\n    L.nCcalls--;\n    lua_assert(L.nCcalls === (from ? from.nCcalls : 0));\n    return status;\n};\n\nconst lua_isyieldable = function(L) {\n    return L.nny === 0;\n};\n\nconst lua_yieldk = function(L, nresults, ctx, k) {\n    let ci = L.ci;\n    lapi.api_checknelems(L, nresults);\n\n    if (L.nny > 0) {\n        if (L !== L.l_G.mainthread)\n            ldebug.luaG_runerror(L, to_luastring(\"attempt to yield across a JS-call boundary\", true));\n        else\n            ldebug.luaG_runerror(L, to_luastring(\"attempt to yield from outside a coroutine\", true));\n    }\n\n    L.status = LUA_YIELD;\n    ci.extra = ci.funcOff;  /* save current 'func' */\n    if (ci.callstatus & lstate.CIST_LUA)  /* inside a hook? */\n        api_check(L, k === null, \"hooks cannot continue after yielding\");\n    else {\n        ci.c_k = k;\n        if (k !== null)  /* is there a continuation? */\n            ci.c_ctx = ctx;  /* save context */\n        ci.funcOff = L.top - nresults - 1;  /* protect stack below results */\n        ci.func = L.stack[ci.funcOff];\n        luaD_throw(L, LUA_YIELD);\n    }\n\n    lua_assert(ci.callstatus & lstate.CIST_HOOKED);  /* must be inside a hook */\n    return 0;  /* return to 'luaD_hook' */\n};\n\nconst lua_yield = function(L, n) {\n    lua_yieldk(L, n, 0, null);\n};\n\nconst luaD_pcall = function(L, func, u, old_top, ef) {\n    let old_ci = L.ci;\n    let old_allowhooks = L.allowhook;\n    let old_nny = L.nny;\n    let old_errfunc = L.errfunc;\n    L.errfunc = ef;\n\n    let status = luaD_rawrunprotected(L, func, u);\n\n    if (status !== LUA_OK) {\n        lfunc.luaF_close(L, old_top);\n        seterrorobj(L, status, old_top);\n        L.ci = old_ci;\n        L.allowhook = old_allowhooks;\n        L.nny = old_nny;\n        luaD_shrinkstack(L);\n    }\n\n    L.errfunc = old_errfunc;\n\n    return status;\n};\n\n/*\n** Similar to 'luaD_call', but does not allow yields during the call\n*/\nconst luaD_callnoyield = function(L, off, nResults) {\n    L.nny++;\n    luaD_call(L, off, nResults);\n    L.nny--;\n};\n\n/*\n** Execute a protected parser.\n*/\nclass SParser {\n    constructor(z, name, mode) {  /* data to 'f_parser' */\n        this.z = z;\n        this.buff = new MBuffer();  /* dynamic structure used by the scanner */\n        this.dyd = new lparser.Dyndata();  /* dynamic structures used by the parser */\n        this.mode = mode;\n        this.name = name;\n    }\n}\n\nconst checkmode = function(L, mode, x) {\n    if (mode && luastring_indexOf(mode, x[0]) === -1) {\n        lobject.luaO_pushfstring(L,\n            to_luastring(\"attempt to load a %s chunk (mode is '%s')\"), x, mode);\n        luaD_throw(L, LUA_ERRSYNTAX);\n    }\n};\n\nconst f_parser = function(L, p) {\n    let cl;\n    let c = p.z.zgetc();  /* read first character */\n    if (c === LUA_SIGNATURE[0]) {\n        checkmode(L, p.mode, to_luastring(\"binary\", true));\n        cl = lundump.luaU_undump(L, p.z, p.name);\n    } else {\n        checkmode(L, p.mode, to_luastring(\"text\", true));\n        cl = lparser.luaY_parser(L, p.z, p.buff, p.dyd, p.name, c);\n    }\n\n    lua_assert(cl.nupvalues === cl.p.upvalues.length);\n    lfunc.luaF_initupvals(L, cl);\n};\n\nconst luaD_protectedparser = function(L, z, name, mode) {\n    let p = new SParser(z, name, mode);\n    L.nny++;  /* cannot yield during parsing */\n    let status = luaD_pcall(L, f_parser, p, L.top, L.errfunc);\n    L.nny--;\n    return status;\n};\n\nmodule.exports.adjust_top           = adjust_top;\nmodule.exports.luaD_call            = luaD_call;\nmodule.exports.luaD_callnoyield     = luaD_callnoyield;\nmodule.exports.luaD_checkstack      = luaD_checkstack;\nmodule.exports.luaD_growstack       = luaD_growstack;\nmodule.exports.luaD_hook            = luaD_hook;\nmodule.exports.luaD_inctop          = luaD_inctop;\nmodule.exports.luaD_pcall           = luaD_pcall;\nmodule.exports.luaD_poscall         = luaD_poscall;\nmodule.exports.luaD_precall         = luaD_precall;\nmodule.exports.luaD_protectedparser = luaD_protectedparser;\nmodule.exports.luaD_rawrunprotected = luaD_rawrunprotected;\nmodule.exports.luaD_reallocstack    = luaD_reallocstack;\nmodule.exports.luaD_throw           = luaD_throw;\nmodule.exports.lua_isyieldable      = lua_isyieldable;\nmodule.exports.lua_resume           = lua_resume;\nmodule.exports.lua_yield            = lua_yield;\nmodule.exports.lua_yieldk           = lua_yieldk;\n","\"use strict\";\n\nconst {\n    LUA_SIGNATURE,\n    LUA_VERSION_MAJOR,\n    LUA_VERSION_MINOR,\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR\n    },\n    luastring_of\n} = require('./defs.js');\n\nconst LUAC_DATA    = luastring_of(25, 147, 13, 10, 26, 10);\nconst LUAC_INT     = 0x5678;\nconst LUAC_NUM     = 370.5;\nconst LUAC_VERSION = Number(LUA_VERSION_MAJOR) * 16 + Number(LUA_VERSION_MINOR);\nconst LUAC_FORMAT  = 0;   /* this is the official format */\n\nclass DumpState {\n    constructor() {\n        this.L = null;\n        this.write = null;\n        this.data = null;\n        this.strip = NaN;\n        this.status = NaN;\n    }\n}\n\nconst DumpBlock = function(b, size, D) {\n    if (D.status === 0 && size > 0)\n        D.status = D.writer(D.L, b, size, D.data);\n};\n\nconst DumpByte = function(y, D) {\n    DumpBlock(luastring_of(y), 1, D);\n};\n\nconst DumpInt = function(x, D) {\n    let ab = new ArrayBuffer(4);\n    let dv = new DataView(ab);\n    dv.setInt32(0, x, true);\n    let t = new Uint8Array(ab);\n    DumpBlock(t, 4, D);\n};\n\nconst DumpInteger = function(x, D) {\n    let ab = new ArrayBuffer(4);\n    let dv = new DataView(ab);\n    dv.setInt32(0, x, true);\n    let t = new Uint8Array(ab);\n    DumpBlock(t, 4, D);\n};\n\nconst DumpNumber = function(x, D) {\n    let ab = new ArrayBuffer(8);\n    let dv = new DataView(ab);\n    dv.setFloat64(0, x, true);\n    let t = new Uint8Array(ab);\n    DumpBlock(t, 8, D);\n};\n\nconst DumpString = function(s, D) {\n    if (s === null)\n        DumpByte(0, D);\n    else {\n        let size = s.tsslen() + 1;\n        let str = s.getstr();\n        if (size < 0xFF)\n            DumpByte(size, D);\n        else {\n            DumpByte(0xFF, D);\n            DumpInteger(size, D);\n        }\n        DumpBlock(str, size - 1, D);  /* no need to save '\\0' */\n    }\n};\n\nconst DumpCode = function(f, D) {\n    let s = f.code.map(e => e.code);\n    DumpInt(s.length, D);\n\n    for (let i = 0; i < s.length; i++)\n        DumpInt(s[i], D);\n};\n\nconst DumpConstants = function(f, D) {\n    let n = f.k.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++) {\n        let o = f.k[i];\n        DumpByte(o.ttype(), D);\n        switch (o.ttype()) {\n            case LUA_TNIL:\n                break;\n            case LUA_TBOOLEAN:\n                DumpByte(o.value ? 1 : 0, D);\n                break;\n            case LUA_TNUMFLT:\n                DumpNumber(o.value, D);\n                break;\n            case LUA_TNUMINT:\n                DumpInteger(o.value, D);\n                break;\n            case LUA_TSHRSTR:\n            case LUA_TLNGSTR:\n                DumpString(o.tsvalue(), D);\n                break;\n        }\n    }\n};\n\nconst DumpProtos = function(f, D) {\n    let n = f.p.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++)\n        DumpFunction(f.p[i], f.source, D);\n};\n\nconst DumpUpvalues = function(f, D) {\n    let n = f.upvalues.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++) {\n        DumpByte(f.upvalues[i].instack ? 1 : 0, D);\n        DumpByte(f.upvalues[i].idx, D);\n    }\n};\n\nconst DumpDebug = function(f, D) {\n    let n = D.strip ? 0 : f.lineinfo.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++)\n        DumpInt(f.lineinfo[i], D);\n    n = D.strip ? 0 : f.locvars.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++) {\n        DumpString(f.locvars[i].varname, D);\n        DumpInt(f.locvars[i].startpc, D);\n        DumpInt(f.locvars[i].endpc, D);\n    }\n    n = D.strip ? 0 : f.upvalues.length;\n    DumpInt(n, D);\n    for (let i = 0; i < n; i++)\n        DumpString(f.upvalues[i].name, D);\n};\n\nconst DumpFunction = function(f, psource, D) {\n    if (D.strip || f.source === psource)\n        DumpString(null, D);  /* no debug info or same source as its parent */\n    else\n        DumpString(f.source, D);\n    DumpInt(f.linedefined, D);\n    DumpInt(f.lastlinedefined, D);\n    DumpByte(f.numparams, D);\n    DumpByte(f.is_vararg?1:0, D);\n    DumpByte(f.maxstacksize, D);\n    DumpCode(f, D);\n    DumpConstants(f, D);\n    DumpUpvalues(f, D);\n    DumpProtos(f, D);\n    DumpDebug(f, D);\n};\n\nconst DumpHeader = function(D) {\n    DumpBlock(LUA_SIGNATURE, LUA_SIGNATURE.length, D);\n    DumpByte(LUAC_VERSION, D);\n    DumpByte(LUAC_FORMAT, D);\n    DumpBlock(LUAC_DATA, LUAC_DATA.length, D);\n    DumpByte(4, D); // intSize\n    DumpByte(4, D); // size_tSize\n    DumpByte(4, D); // instructionSize\n    DumpByte(4, D); // integerSize\n    DumpByte(8, D); // numberSize\n    DumpInteger(LUAC_INT, D);\n    DumpNumber(LUAC_NUM, D);\n};\n\n/*\n** dump Lua function as precompiled chunk\n*/\nconst luaU_dump = function(L, f, w, data, strip) {\n    let D = new DumpState();\n    D.L = L;\n    D.writer = w;\n    D.data = data;\n    D.strip = strip;\n    D.status = 0;\n    DumpHeader(D);\n    DumpByte(f.upvalues.length, D);\n    DumpFunction(f, null, D);\n    return D.status;\n};\n\nmodule.exports.luaU_dump = luaU_dump;\n","\"use strict\";\n\nconst { constant_types: { LUA_TNIL } } = require('./defs.js');\nconst lobject = require('./lobject.js');\n\nclass Proto {\n    constructor(L) {\n        this.id = L.l_G.id_counter++;\n        this.k = [];              // constants used by the function\n        this.p = [];              // functions defined inside the function\n        this.code = [];           // opcodes\n        this.cache = null;        // last-created closure with this prototype\n        this.lineinfo = [];       // map from opcodes to source lines (debug information)\n        this.upvalues = [];       // upvalue information\n        this.numparams = 0;       // number of fixed parameters\n        this.is_vararg = false;\n        this.maxstacksize = 0;    // number of registers needed by this function\n        this.locvars = [];        // information about local variables (debug information)\n        this.linedefined = 0;     // debug information\n        this.lastlinedefined = 0; // debug information\n        this.source = null;       // used for debug information\n    }\n}\n\nconst luaF_newLclosure = function(L, n) {\n    return new lobject.LClosure(L, n);\n};\n\n\nconst luaF_findupval = function(L, level) {\n    return L.stack[level];\n};\n\nconst luaF_close = function(L, level) {\n    /* Create new TValues on stack;\n     * any closures will keep referencing old TValues */\n    for (let i=level; i<L.top; i++) {\n        let old = L.stack[i];\n        L.stack[i] = new lobject.TValue(old.type, old.value);\n    }\n};\n\n/*\n** fill a closure with new upvalues\n*/\nconst luaF_initupvals = function(L, cl) {\n    for (let i = 0; i < cl.nupvalues; i++)\n        cl.upvals[i] = new lobject.TValue(LUA_TNIL, null);\n};\n\n/*\n** Look for n-th local variable at line 'line' in function 'func'.\n** Returns null if not found.\n*/\nconst luaF_getlocalname = function(f, local_number, pc) {\n    for (let i = 0; i < f.locvars.length && f.locvars[i].startpc <= pc; i++) {\n        if (pc < f.locvars[i].endpc) {  /* is variable active? */\n            local_number--;\n            if (local_number === 0)\n                return f.locvars[i].varname.getstr();\n        }\n    }\n    return null;  /* not found */\n};\n\nmodule.exports.MAXUPVAL          = 255;\nmodule.exports.Proto             = Proto;\nmodule.exports.luaF_findupval    = luaF_findupval;\nmodule.exports.luaF_close        = luaF_close;\nmodule.exports.luaF_getlocalname = luaF_getlocalname;\nmodule.exports.luaF_initupvals   = luaF_initupvals;\nmodule.exports.luaF_newLclosure  = luaF_newLclosure;\n","\"use strict\";\n\nconst { lua_pop } = require('./lua.js');\nconst { luaL_requiref } = require('./lauxlib.js');\nconst { to_luastring } = require(\"./fengaricore.js\");\n\nconst loadedlibs = {};\n\n/* export before requiring lualib.js */\nconst luaL_openlibs = function(L) {\n    /* \"require\" functions from 'loadedlibs' and set results to global table */\n    for (let lib in loadedlibs) {\n        luaL_requiref(L, to_luastring(lib), loadedlibs[lib], 1);\n        lua_pop(L, 1); /* remove lib */\n    }\n};\nmodule.exports.luaL_openlibs = luaL_openlibs;\n\nconst lualib = require('./lualib.js');\nconst { luaopen_base }      = require('./lbaselib.js');\nconst { luaopen_coroutine } = require('./lcorolib.js');\nconst { luaopen_debug }     = require('./ldblib.js');\nconst { luaopen_math }      = require('./lmathlib.js');\nconst { luaopen_package }   = require('./loadlib.js');\nconst { luaopen_os }        = require('./loslib.js');\nconst { luaopen_string }    = require('./lstrlib.js');\nconst { luaopen_table }     = require('./ltablib.js');\nconst { luaopen_utf8 }      = require('./lutf8lib.js');\n\nloadedlibs[\"_G\"] = luaopen_base,\nloadedlibs[lualib.LUA_LOADLIBNAME] = luaopen_package;\nloadedlibs[lualib.LUA_COLIBNAME] = luaopen_coroutine;\nloadedlibs[lualib.LUA_TABLIBNAME] = luaopen_table;\nloadedlibs[lualib.LUA_OSLIBNAME] = luaopen_os;\nloadedlibs[lualib.LUA_STRLIBNAME] = luaopen_string;\nloadedlibs[lualib.LUA_MATHLIBNAME] = luaopen_math;\nloadedlibs[lualib.LUA_UTF8LIBNAME] = luaopen_utf8;\nloadedlibs[lualib.LUA_DBLIBNAME] = luaopen_debug;\nif (typeof process !== \"undefined\")\n    loadedlibs[lualib.LUA_IOLIBNAME] = require('./liolib.js').luaopen_io;\n\n/* Extension: fengari library */\nconst { luaopen_fengari } = require('./fengarilib.js');\nloadedlibs[lualib.LUA_FENGARILIBNAME] = luaopen_fengari;\n","\"use strict\";\n\nconst { luastring_of } = require('./defs.js');\n\nconst luai_ctype_ = luastring_of(\n    0x00,  /* EOZ */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* 0. */\n    0x00,  0x08,  0x08,  0x08,  0x08,  0x08,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* 1. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x0c,  0x04,  0x04,  0x04,  0x04,  0x04,  0x04,  0x04,        /* 2. */\n    0x04,  0x04,  0x04,  0x04,  0x04,  0x04,  0x04,  0x04,\n    0x16,  0x16,  0x16,  0x16,  0x16,  0x16,  0x16,  0x16,        /* 3. */\n    0x16,  0x16,  0x04,  0x04,  0x04,  0x04,  0x04,  0x04,\n    0x04,  0x15,  0x15,  0x15,  0x15,  0x15,  0x15,  0x05,        /* 4. */\n    0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,\n    0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,        /* 5. */\n    0x05,  0x05,  0x05,  0x04,  0x04,  0x04,  0x04,  0x05,\n    0x04,  0x15,  0x15,  0x15,  0x15,  0x15,  0x15,  0x05,        /* 6. */\n    0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,\n    0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,  0x05,        /* 7. */\n    0x05,  0x05,  0x05,  0x04,  0x04,  0x04,  0x04,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* 8. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* 9. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* a. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* b. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* c. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* d. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* e. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,        /* f. */\n    0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00,  0x00\n);\n\nconst ALPHABIT = 0;\nconst DIGITBIT = 1;\nconst PRINTBIT = 2;\nconst SPACEBIT = 3;\nconst XDIGITBIT = 4;\n\nconst lisdigit = function(c) {\n    return (luai_ctype_[c+1] & (1<<DIGITBIT)) !== 0;\n};\n\nconst lisxdigit = function(c) {\n    return (luai_ctype_[c+1] & (1<<XDIGITBIT)) !== 0;\n};\n\nconst lisprint = function(c) {\n    return (luai_ctype_[c+1] & (1<<PRINTBIT)) !== 0;\n};\n\nconst lisspace = function(c) {\n    return (luai_ctype_[c+1] & (1<<SPACEBIT)) !== 0;\n};\n\nconst lislalpha = function(c) {\n    return (luai_ctype_[c+1] & (1<<ALPHABIT)) !== 0;\n};\n\nconst lislalnum = function(c) {\n    return (luai_ctype_[c+1] & ((1<<ALPHABIT)|(1<<DIGITBIT))) !== 0;\n};\n\nmodule.exports.lisdigit   = lisdigit;\nmodule.exports.lislalnum  = lislalnum;\nmodule.exports.lislalpha  = lislalpha;\nmodule.exports.lisprint   = lisprint;\nmodule.exports.lisspace   = lisspace;\nmodule.exports.lisxdigit  = lisxdigit;\n","\"use strict\";\n\nconst {\n    constant_types: { LUA_TBOOLEAN, LUA_TLNGSTR },\n    thread_status: { LUA_ERRSYNTAX },\n    to_luastring\n} = require('./defs.js');\nconst {\n    LUA_MINBUFFER,\n    MAX_INT,\n    lua_assert\n} = require('./llimits.js');\nconst ldebug   = require('./ldebug.js');\nconst ldo      = require('./ldo.js');\nconst {\n    lisdigit,\n    lislalnum,\n    lislalpha,\n    lisspace,\n    lisxdigit\n} = require('./ljstype.js');\nconst lobject  = require('./lobject.js');\nconst {\n    luaS_bless,\n    luaS_hash,\n    luaS_hashlongstr,\n    luaS_new\n} = require('./lstring.js');\nconst ltable   = require('./ltable.js');\nconst {\n    EOZ,\n    luaZ_buffer,\n    luaZ_buffremove,\n    luaZ_resetbuffer,\n    luaZ_resizebuffer\n} = require('./lzio.js');\n\nconst FIRST_RESERVED = 257;\n\nconst LUA_ENV = to_luastring(\"_ENV\", true);\n\n/* terminal symbols denoted by reserved words */\nconst TK_AND      = FIRST_RESERVED;\nconst TK_BREAK    = FIRST_RESERVED + 1;\nconst TK_DO       = FIRST_RESERVED + 2;\nconst TK_ELSE     = FIRST_RESERVED + 3;\nconst TK_ELSEIF   = FIRST_RESERVED + 4;\nconst TK_END      = FIRST_RESERVED + 5;\nconst TK_FALSE    = FIRST_RESERVED + 6;\nconst TK_FOR      = FIRST_RESERVED + 7;\nconst TK_FUNCTION = FIRST_RESERVED + 8;\nconst TK_GOTO     = FIRST_RESERVED + 9;\nconst TK_IF       = FIRST_RESERVED + 10;\nconst TK_IN       = FIRST_RESERVED + 11;\nconst TK_LOCAL    = FIRST_RESERVED + 12;\nconst TK_NIL      = FIRST_RESERVED + 13;\nconst TK_NOT      = FIRST_RESERVED + 14;\nconst TK_OR       = FIRST_RESERVED + 15;\nconst TK_REPEAT   = FIRST_RESERVED + 16;\nconst TK_RETURN   = FIRST_RESERVED + 17;\nconst TK_THEN     = FIRST_RESERVED + 18;\nconst TK_TRUE     = FIRST_RESERVED + 19;\nconst TK_UNTIL    = FIRST_RESERVED + 20;\nconst TK_WHILE    = FIRST_RESERVED + 21;\n/* other terminal symbols */\nconst TK_IDIV     = FIRST_RESERVED + 22;\nconst TK_CONCAT   = FIRST_RESERVED + 23;\nconst TK_DOTS     = FIRST_RESERVED + 24;\nconst TK_EQ       = FIRST_RESERVED + 25;\nconst TK_GE       = FIRST_RESERVED + 26;\nconst TK_LE       = FIRST_RESERVED + 27;\nconst TK_NE       = FIRST_RESERVED + 28;\nconst TK_SHL      = FIRST_RESERVED + 29;\nconst TK_SHR      = FIRST_RESERVED + 30;\nconst TK_DBCOLON  = FIRST_RESERVED + 31;\nconst TK_EOS      = FIRST_RESERVED + 32;\nconst TK_FLT      = FIRST_RESERVED + 33;\nconst TK_INT      = FIRST_RESERVED + 34;\nconst TK_NAME     = FIRST_RESERVED + 35;\nconst TK_STRING   = FIRST_RESERVED + 36;\n\nconst RESERVED = {\n    \"TK_AND\":      TK_AND,\n    \"TK_BREAK\":    TK_BREAK,\n    \"TK_DO\":       TK_DO,\n    \"TK_ELSE\":     TK_ELSE,\n    \"TK_ELSEIF\":   TK_ELSEIF,\n    \"TK_END\":      TK_END,\n    \"TK_FALSE\":    TK_FALSE,\n    \"TK_FOR\":      TK_FOR,\n    \"TK_FUNCTION\": TK_FUNCTION,\n    \"TK_GOTO\":     TK_GOTO,\n    \"TK_IF\":       TK_IF,\n    \"TK_IN\":       TK_IN,\n    \"TK_LOCAL\":    TK_LOCAL,\n    \"TK_NIL\":      TK_NIL,\n    \"TK_NOT\":      TK_NOT,\n    \"TK_OR\":       TK_OR,\n    \"TK_REPEAT\":   TK_REPEAT,\n    \"TK_RETURN\":   TK_RETURN,\n    \"TK_THEN\":     TK_THEN,\n    \"TK_TRUE\":     TK_TRUE,\n    \"TK_UNTIL\":    TK_UNTIL,\n    \"TK_WHILE\":    TK_WHILE,\n    \"TK_IDIV\":     TK_IDIV,\n    \"TK_CONCAT\":   TK_CONCAT,\n    \"TK_DOTS\":     TK_DOTS,\n    \"TK_EQ\":       TK_EQ,\n    \"TK_GE\":       TK_GE,\n    \"TK_LE\":       TK_LE,\n    \"TK_NE\":       TK_NE,\n    \"TK_SHL\":      TK_SHL,\n    \"TK_SHR\":      TK_SHR,\n    \"TK_DBCOLON\":  TK_DBCOLON,\n    \"TK_EOS\":      TK_EOS,\n    \"TK_FLT\":      TK_FLT,\n    \"TK_INT\":      TK_INT,\n    \"TK_NAME\":     TK_NAME,\n    \"TK_STRING\":   TK_STRING\n};\n\nconst luaX_tokens = [\n    \"and\", \"break\", \"do\", \"else\", \"elseif\",\n    \"end\", \"false\", \"for\", \"function\", \"goto\", \"if\",\n    \"in\", \"local\", \"nil\", \"not\", \"or\", \"repeat\",\n    \"return\", \"then\", \"true\", \"until\", \"while\",\n    \"//\", \"..\", \"...\", \"==\", \">=\", \"<=\", \"~=\",\n    \"<<\", \">>\", \"::\", \"<eof>\",\n    \"<number>\", \"<integer>\", \"<name>\", \"<string>\"\n].map((e, i)=>to_luastring(e));\n\nclass SemInfo {\n    constructor() {\n        this.r = NaN;\n        this.i = NaN;\n        this.ts = null;\n    }\n}\n\nclass Token {\n    constructor() {\n        this.token = NaN;\n        this.seminfo = new SemInfo();\n    }\n}\n\n/* state of the lexer plus state of the parser when shared by all\n   functions */\nclass LexState {\n    constructor() {\n        this.current = NaN;  /* current character (charint) */\n        this.linenumber = NaN;  /* input line counter */\n        this.lastline = NaN;  /* line of last token 'consumed' */\n        this.t = new Token();  /* current token */\n        this.lookahead = new Token();  /* look ahead token */\n        this.fs = null;  /* current function (parser) */\n        this.L = null;\n        this.z = null; /* input stream */\n        this.buff = null;  /* buffer for tokens */\n        this.h = null;  /* to reuse strings */\n        this.dyd = null;  /* dynamic structures used by the parser */\n        this.source = null;  /* current source name */\n        this.envn = null;  /* environment variable name */\n    }\n}\n\nconst save = function(ls, c) {\n    let b = ls.buff;\n    if (b.n + 1 > b.buffer.length) {\n        if (b.buffer.length >= MAX_INT/2)\n            lexerror(ls, to_luastring(\"lexical element too long\", true), 0);\n        let newsize = b.buffer.length*2;\n        luaZ_resizebuffer(ls.L, b, newsize);\n    }\n    b.buffer[b.n++] = c < 0 ? 255 + c + 1 : c;\n};\n\nconst luaX_token2str = function(ls, token) {\n    if (token < FIRST_RESERVED) {  /* single-byte symbols? */\n        return lobject.luaO_pushfstring(ls.L, to_luastring(\"'%c'\", true), token);\n    } else {\n        let s = luaX_tokens[token - FIRST_RESERVED];\n        if (token < TK_EOS)  /* fixed format (symbols and reserved words)? */\n            return lobject.luaO_pushfstring(ls.L, to_luastring(\"'%s'\", true), s);\n        else  /* names, strings, and numerals */\n            return s;\n    }\n};\n\nconst currIsNewline = function(ls) {\n    return ls.current === 10 /* ('\\n').charCodeAt(0) */ || ls.current === 13 /* ('\\r').charCodeAt(0) */;\n};\n\nconst next = function(ls) {\n    ls.current = ls.z.zgetc();\n};\n\nconst save_and_next = function(ls) {\n    save(ls, ls.current);\n    next(ls);\n};\n\n/*\n** creates a new string and anchors it in scanner's table so that\n** it will not be collected until the end of the compilation\n** (by that time it should be anchored somewhere)\n*/\nconst TVtrue = new lobject.TValue(LUA_TBOOLEAN, true);\nconst luaX_newstring = function(ls, str) {\n    let L = ls.L;\n    let ts = luaS_new(L, str);\n    /* HACK: Workaround lack of ltable 'keyfromval' */\n    let tpair = ls.h.strong.get(luaS_hashlongstr(ts));\n    if (!tpair) { /* not in use yet? */\n        let key = new lobject.TValue(LUA_TLNGSTR, ts);\n        ltable.luaH_setfrom(L, ls.h, key, TVtrue);\n    } else { /* string already present */\n        ts = tpair.key.tsvalue(); /* re-use value previously stored */\n    }\n    return ts;\n};\n\n/*\n** increment line number and skips newline sequence (any of\n** \\n, \\r, \\n\\r, or \\r\\n)\n*/\nconst inclinenumber = function(ls) {\n    let old = ls.current;\n    lua_assert(currIsNewline(ls));\n    next(ls);  /* skip '\\n' or '\\r' */\n    if (currIsNewline(ls) && ls.current !== old)\n        next(ls);  /* skip '\\n\\r' or '\\r\\n' */\n    if (++ls.linenumber >= MAX_INT)\n        lexerror(ls, to_luastring(\"chunk has too many lines\", true), 0);\n};\n\nconst luaX_setinput = function(L, ls, z, source, firstchar) {\n    ls.t = {\n        token: 0,\n        seminfo: new SemInfo()\n    };\n    ls.L = L;\n    ls.current = firstchar;\n    ls.lookahead = {\n        token: TK_EOS,\n        seminfo: new SemInfo()\n    };\n    ls.z = z;\n    ls.fs = null;\n    ls.linenumber = 1;\n    ls.lastline = 1;\n    ls.source = source;\n    ls.envn = luaS_bless(L, LUA_ENV);\n    luaZ_resizebuffer(L, ls.buff, LUA_MINBUFFER);  /* initialize buffer */\n};\n\nconst check_next1 = function(ls, c) {\n    if (ls.current === c) {\n        next(ls);\n        return true;\n    }\n\n    return false;\n};\n\n/*\n** Check whether current char is in set 'set' (with two chars) and\n** saves it\n*/\nconst check_next2 = function(ls, set) {\n    if (ls.current === set[0].charCodeAt(0) || ls.current === set[1].charCodeAt(0)) {\n        save_and_next(ls);\n        return true;\n    }\n\n    return false;\n};\n\nconst read_numeral = function(ls, seminfo) {\n    let expo = \"Ee\";\n    let first = ls.current;\n    lua_assert(lisdigit(ls.current));\n    save_and_next(ls);\n    if (first === 48 /* ('0').charCodeAt(0) */ && check_next2(ls, \"xX\"))  /* hexadecimal? */\n        expo = \"Pp\";\n\n    for (;;) {\n        if (check_next2(ls, expo))  /* exponent part? */\n            check_next2(ls, \"-+\");  /* optional exponent sign */\n        if (lisxdigit(ls.current))\n            save_and_next(ls);\n        else if (ls.current === 46 /* ('.').charCodeAt(0) */)\n            save_and_next(ls);\n        else break;\n    }\n\n    // save(ls, 0);\n\n    let obj = new lobject.TValue();\n    if (lobject.luaO_str2num(luaZ_buffer(ls.buff), obj) === 0)  /* format error? */\n        lexerror(ls, to_luastring(\"malformed number\", true), TK_FLT);\n    if (obj.ttisinteger()) {\n        seminfo.i = obj.value;\n        return TK_INT;\n    } else {\n        lua_assert(obj.ttisfloat());\n        seminfo.r = obj.value;\n        return TK_FLT;\n    }\n};\n\nconst txtToken = function(ls, token) {\n    switch (token) {\n        case TK_NAME: case TK_STRING:\n        case TK_FLT: case TK_INT:\n            // save(ls, 0);\n            return lobject.luaO_pushfstring(ls.L, to_luastring(\"'%s'\", true), luaZ_buffer(ls.buff));\n        default:\n            return luaX_token2str(ls, token);\n    }\n};\n\nconst lexerror = function(ls, msg, token) {\n    msg = ldebug.luaG_addinfo(ls.L, msg, ls.source, ls.linenumber);\n    if (token)\n        lobject.luaO_pushfstring(ls.L, to_luastring(\"%s near %s\"), msg, txtToken(ls, token));\n    ldo.luaD_throw(ls.L, LUA_ERRSYNTAX);\n};\n\nconst luaX_syntaxerror = function(ls, msg) {\n    lexerror(ls, msg, ls.t.token);\n};\n\n/*\n** skip a sequence '[=*[' or ']=*]'; if sequence is well formed, return\n** its number of '='s; otherwise, return a negative number (-1 iff there\n** are no '='s after initial bracket)\n*/\nconst skip_sep = function(ls) {\n    let count = 0;\n    let s = ls.current;\n    lua_assert(s === 91 /* ('[').charCodeAt(0) */ || s === 93 /* (']').charCodeAt(0) */);\n    save_and_next(ls);\n    while (ls.current === 61 /* ('=').charCodeAt(0) */) {\n        save_and_next(ls);\n        count++;\n    }\n    return ls.current === s ? count : (-count) - 1;\n};\n\nconst read_long_string = function(ls, seminfo, sep) {\n    let line = ls.linenumber;  /* initial line (for error message) */\n    save_and_next(ls);  /* skip 2nd '[' */\n\n    if (currIsNewline(ls))  /* string starts with a newline? */\n        inclinenumber(ls);  /* skip it */\n\n    let skip = false;\n    for (; !skip ;) {\n        switch (ls.current) {\n            case EOZ: {  /* error */\n                let what = seminfo ? \"string\" : \"comment\";\n                let msg = `unfinished long ${what} (starting at line ${line})`;\n                lexerror(ls, to_luastring(msg), TK_EOS);\n                break;\n            }\n            case 93 /* (']').charCodeAt(0) */: {\n                if (skip_sep(ls) === sep) {\n                    save_and_next(ls);  /* skip 2nd ']' */\n                    skip = true;\n                }\n                break;\n            }\n            case 10 /* ('\\n').charCodeAt(0) */:\n            case 13 /* ('\\r').charCodeAt(0) */: {\n                save(ls, 10 /* ('\\n').charCodeAt(0) */);\n                inclinenumber(ls);\n                if (!seminfo) luaZ_resetbuffer(ls.buff);\n                break;\n            }\n            default: {\n                if (seminfo) save_and_next(ls);\n                else next(ls);\n            }\n        }\n    }\n\n    if (seminfo)\n        seminfo.ts = luaX_newstring(ls, ls.buff.buffer.subarray(2 + sep, ls.buff.n - (2 + sep)));\n};\n\nconst esccheck = function(ls, c, msg) {\n    if (!c) {\n        if (ls.current !== EOZ)\n            save_and_next(ls);  /* add current to buffer for error message */\n        lexerror(ls, msg, TK_STRING);\n    }\n};\n\nconst gethexa = function(ls) {\n    save_and_next(ls);\n    esccheck(ls, lisxdigit(ls.current), to_luastring(\"hexadecimal digit expected\", true));\n    return lobject.luaO_hexavalue(ls.current);\n};\n\nconst readhexaesc = function(ls) {\n    let r = gethexa(ls);\n    r = (r << 4) + gethexa(ls);\n    luaZ_buffremove(ls.buff, 2);  /* remove saved chars from buffer */\n    return r;\n};\n\nconst readutf8desc = function(ls) {\n    let i = 4;  /* chars to be removed: '\\', 'u', '{', and first digit */\n    save_and_next(ls);  /* skip 'u' */\n    esccheck(ls, ls.current === 123 /* ('{').charCodeAt(0) */, to_luastring(\"missing '{'\", true));\n    let r = gethexa(ls);  /* must have at least one digit */\n\n    save_and_next(ls);\n    while (lisxdigit(ls.current)) {\n        i++;\n        r = (r << 4) + lobject.luaO_hexavalue(ls.current);\n        esccheck(ls, r <= 0x10FFFF, to_luastring(\"UTF-8 value too large\", true));\n        save_and_next(ls);\n    }\n    esccheck(ls, ls.current === 125 /* ('}').charCodeAt(0) */, to_luastring(\"missing '}'\", true));\n    next(ls);  /* skip '}' */\n    luaZ_buffremove(ls.buff, i);  /* remove saved chars from buffer */\n    return r;\n};\n\nconst utf8esc = function(ls) {\n    let buff = new Uint8Array(lobject.UTF8BUFFSZ);\n    let n = lobject.luaO_utf8esc(buff, readutf8desc(ls));\n    for (; n > 0; n--)  /* add 'buff' to string */\n        save(ls, buff[lobject.UTF8BUFFSZ - n]);\n};\n\nconst readdecesc = function(ls) {\n    let r = 0;  /* result accumulator */\n    let i;\n    for (i = 0; i < 3 && lisdigit(ls.current); i++) {  /* read up to 3 digits */\n        r = 10 * r + ls.current - 48 /* ('0').charCodeAt(0) */;\n        save_and_next(ls);\n    }\n    esccheck(ls, r <= 255, to_luastring(\"decimal escape too large\", true));\n    luaZ_buffremove(ls.buff, i);  /* remove read digits from buffer */\n    return r;\n};\n\nconst read_string = function(ls, del, seminfo) {\n    save_and_next(ls);  /* keep delimiter (for error messages) */\n\n    while (ls.current !== del) {\n        switch (ls.current) {\n            case EOZ:\n                lexerror(ls, to_luastring(\"unfinished string\", true), TK_EOS);\n                break;\n            case 10 /* ('\\n').charCodeAt(0) */:\n            case 13 /* ('\\r').charCodeAt(0) */:\n                lexerror(ls, to_luastring(\"unfinished string\", true), TK_STRING);\n                break;\n            case 92 /* ('\\\\').charCodeAt(0) */: {  /* escape sequences */\n                save_and_next(ls);  /* keep '\\\\' for error messages */\n                let will;\n                let c;\n                switch(ls.current) {\n                    case 97 /* ('a').charCodeAt(0) */: c = 7 /* \\a isn't valid JS */; will = 'read_save'; break;\n                    case 98 /* ('b').charCodeAt(0) */: c = 8 /* ('\\b').charCodeAt(0) */; will = 'read_save'; break;\n                    case 102 /* ('f').charCodeAt(0) */: c = 12 /* ('\\f').charCodeAt(0) */; will = 'read_save'; break;\n                    case 110 /* ('n').charCodeAt(0) */: c = 10 /* ('\\n').charCodeAt(0) */; will = 'read_save'; break;\n                    case 114 /* ('r').charCodeAt(0) */: c = 13 /* ('\\r').charCodeAt(0) */; will = 'read_save'; break;\n                    case 116 /* ('t').charCodeAt(0) */: c = 9 /* ('\\t').charCodeAt(0) */; will = 'read_save'; break;\n                    case 118 /* ('v').charCodeAt(0) */: c = 11 /* ('\\v').charCodeAt(0) */; will = 'read_save'; break;\n                    case 120 /* ('x').charCodeAt(0) */: c = readhexaesc(ls); will = 'read_save'; break;\n                    case 117 /* ('u').charCodeAt(0) */: utf8esc(ls); will = 'no_save'; break;\n                    case 10 /* ('\\n').charCodeAt(0) */:\n                    case 13 /* ('\\r').charCodeAt(0) */:\n                        inclinenumber(ls); c = 10 /* ('\\n').charCodeAt(0) */; will = 'only_save'; break;\n                    case 92 /* ('\\\\').charCodeAt(0) */:\n                    case 34 /* ('\"').charCodeAt(0) */:\n                    case 39 /* ('\\'').charCodeAt(0) */:\n                        c = ls.current; will = 'read_save'; break;\n                    case EOZ: will = 'no_save'; break;  /* will raise an error next loop */\n                    case 122 /* ('z').charCodeAt(0) */: {  /* zap following span of spaces */\n                        luaZ_buffremove(ls.buff, 1);  /* remove '\\\\' */\n                        next(ls);  /* skip the 'z' */\n                        while (lisspace(ls.current)) {\n                            if (currIsNewline(ls)) inclinenumber(ls);\n                            else next(ls);\n                        }\n                        will = 'no_save'; break;\n                    }\n                    default: {\n                        esccheck(ls, lisdigit(ls.current), to_luastring(\"invalid escape sequence\", true));\n                        c = readdecesc(ls);  /* digital escape '\\ddd' */\n                        will = 'only_save'; break;\n                    }\n                }\n\n                if (will === 'read_save')\n                    next(ls);\n\n                if (will === 'read_save' || will === 'only_save') {\n                    luaZ_buffremove(ls.buff, 1);  /* remove '\\\\' */\n                    save(ls, c);\n                }\n\n                break;\n            }\n            default:\n                save_and_next(ls);\n        }\n    }\n    save_and_next(ls);  /* skip delimiter */\n\n    seminfo.ts = luaX_newstring(ls, ls.buff.buffer.subarray(1, ls.buff.n-1));\n};\n\nconst token_to_index = Object.create(null); /* don't want to return true for e.g. 'hasOwnProperty' */\nluaX_tokens.forEach((e, i)=>token_to_index[luaS_hash(e)] = i);\n\nconst isreserved = function(w) {\n    let kidx = token_to_index[luaS_hashlongstr(w)];\n    return kidx !== void 0 && kidx <= 22;\n};\n\nconst llex = function(ls, seminfo) {\n    luaZ_resetbuffer(ls.buff);\n    for (;;) {\n        lua_assert(typeof ls.current == \"number\"); /* fengari addition */\n        switch (ls.current) {\n            case 10 /* ('\\n').charCodeAt(0) */:\n            case 13 /* ('\\r').charCodeAt(0) */: {  /* line breaks */\n                inclinenumber(ls);\n                break;\n            }\n            case 32 /* (' ').charCodeAt(0) */:\n            case 12 /* ('\\f').charCodeAt(0) */:\n            case 9 /* ('\\t').charCodeAt(0) */:\n            case 11 /* ('\\v').charCodeAt(0) */: {  /* spaces */\n                next(ls);\n                break;\n            }\n            case 45 /* ('-').charCodeAt(0) */: {  /* '-' or '--' (comment) */\n                next(ls);\n                if (ls.current !== 45 /* ('-').charCodeAt(0) */) return 45 /* ('-').charCodeAt(0) */;\n                /* else is a comment */\n                next(ls);\n                if (ls.current === 91 /* ('[').charCodeAt(0) */) {  /* long comment? */\n                    let sep = skip_sep(ls);\n                    luaZ_resetbuffer(ls.buff);  /* 'skip_sep' may dirty the buffer */\n                    if (sep >= 0) {\n                        read_long_string(ls, null, sep);  /* skip long comment */\n                        luaZ_resetbuffer(ls.buff);  /* previous call may dirty the buff. */\n                        break;\n                    }\n                }\n\n                /* else short comment */\n                while (!currIsNewline(ls) && ls.current !== EOZ)\n                    next(ls);  /* skip until end of line (or end of file) */\n                break;\n            }\n            case 91 /* ('[').charCodeAt(0) */: {  /* long string or simply '[' */\n                let sep = skip_sep(ls);\n                if (sep >= 0) {\n                    read_long_string(ls, seminfo, sep);\n                    return TK_STRING;\n                } else if (sep !== -1)  /* '[=...' missing second bracket */\n                    lexerror(ls, to_luastring(\"invalid long string delimiter\", true), TK_STRING);\n                return 91 /* ('[').charCodeAt(0) */;\n            }\n            case 61 /* ('=').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 61 /* ('=').charCodeAt(0) */)) return TK_EQ;\n                else return 61 /* ('=').charCodeAt(0) */;\n            }\n            case 60 /* ('<').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 61 /* ('=').charCodeAt(0) */)) return TK_LE;\n                else if (check_next1(ls, 60 /* ('<').charCodeAt(0) */)) return TK_SHL;\n                else return 60 /* ('<').charCodeAt(0) */;\n            }\n            case 62 /* ('>').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 61 /* ('=').charCodeAt(0) */)) return TK_GE;\n                else if (check_next1(ls, 62 /* ('>').charCodeAt(0) */)) return TK_SHR;\n                else return 62 /* ('>').charCodeAt(0) */;\n            }\n            case 47 /* ('/').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 47 /* ('/').charCodeAt(0) */)) return TK_IDIV;\n                else return 47 /* ('/').charCodeAt(0) */;\n            }\n            case 126 /* ('~').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 61 /* ('=').charCodeAt(0) */)) return TK_NE;\n                else return 126 /* ('~').charCodeAt(0) */;\n            }\n            case 58 /* (':').charCodeAt(0) */: {\n                next(ls);\n                if (check_next1(ls, 58 /* (':').charCodeAt(0) */)) return TK_DBCOLON;\n                else return 58 /* (':').charCodeAt(0) */;\n            }\n            case 34 /* ('\"').charCodeAt(0) */:\n            case 39 /* ('\\'').charCodeAt(0) */: {  /* short literal strings */\n                read_string(ls, ls.current, seminfo);\n                return TK_STRING;\n            }\n            case 46 /* ('.').charCodeAt(0) */: {  /* '.', '..', '...', or number */\n                save_and_next(ls);\n                if (check_next1(ls, 46 /* ('.').charCodeAt(0) */)) {\n                    if (check_next1(ls, 46 /* ('.').charCodeAt(0) */))\n                        return TK_DOTS;   /* '...' */\n                    else return TK_CONCAT;   /* '..' */\n                }\n                else if (!lisdigit(ls.current)) return 46 /* ('.').charCodeAt(0) */;\n                else return read_numeral(ls, seminfo);\n            }\n            case 48 /* ('0').charCodeAt(0) */: case 49 /* ('1').charCodeAt(0) */: case 50 /* ('2').charCodeAt(0) */: case 51 /* ('3').charCodeAt(0) */: case 52 /* ('4').charCodeAt(0) */:\n            case 53 /* ('5').charCodeAt(0) */: case 54 /* ('6').charCodeAt(0) */: case 55 /* ('7').charCodeAt(0) */: case 56 /* ('8').charCodeAt(0) */: case 57 /* ('9').charCodeAt(0) */: {\n                return read_numeral(ls, seminfo);\n            }\n            case EOZ: {\n                return TK_EOS;\n            }\n            default: {\n                if (lislalpha(ls.current)) {  /* identifier or reserved word? */\n                    do {\n                        save_and_next(ls);\n                    } while (lislalnum(ls.current));\n                    let ts = luaX_newstring(ls, luaZ_buffer(ls.buff));\n                    seminfo.ts = ts;\n                    let kidx = token_to_index[luaS_hashlongstr(ts)];\n                    if (kidx !== void 0 && kidx <= 22)  /* reserved word? */\n                        return kidx + FIRST_RESERVED;\n                    else\n                        return TK_NAME;\n                } else {  /* single-char tokens (+ - / ...) */\n                    let c = ls.current;\n                    next(ls);\n                    return c;\n                }\n            }\n        }\n    }\n};\n\nconst luaX_next = function(ls) {\n    ls.lastline = ls.linenumber;\n    if (ls.lookahead.token !== TK_EOS) {  /* is there a look-ahead token? */\n        ls.t.token = ls.lookahead.token;  /* use this one */\n        ls.t.seminfo.i = ls.lookahead.seminfo.i;\n        ls.t.seminfo.r = ls.lookahead.seminfo.r;\n        ls.t.seminfo.ts = ls.lookahead.seminfo.ts;\n        ls.lookahead.token = TK_EOS;  /* and discharge it */\n    } else\n        ls.t.token = llex(ls, ls.t.seminfo);  /* read next token */\n};\n\nconst luaX_lookahead = function(ls) {\n    lua_assert(ls.lookahead.token === TK_EOS);\n    ls.lookahead.token = llex(ls, ls.lookahead.seminfo);\n    return ls.lookahead.token;\n};\n\nmodule.exports.FIRST_RESERVED   = FIRST_RESERVED;\nmodule.exports.LUA_ENV          = LUA_ENV;\nmodule.exports.LexState         = LexState;\nmodule.exports.RESERVED         = RESERVED;\nmodule.exports.isreserved       = isreserved;\nmodule.exports.luaX_lookahead   = luaX_lookahead;\nmodule.exports.luaX_newstring   = luaX_newstring;\nmodule.exports.luaX_next        = luaX_next;\nmodule.exports.luaX_setinput    = luaX_setinput;\nmodule.exports.luaX_syntaxerror = luaX_syntaxerror;\nmodule.exports.luaX_token2str   = luaX_token2str;\nmodule.exports.luaX_tokens      = luaX_tokens;\n","\"use strict\";\n\nconst { luai_apicheck } = require(\"./luaconf.js\");\n\nconst lua_assert = function(c) {\n    if (!c) throw Error(\"assertion failed\");\n};\nmodule.exports.lua_assert = lua_assert;\n\nmodule.exports.luai_apicheck = luai_apicheck || function(l, e) { return lua_assert(e); };\n\nconst api_check = function(l, e, msg) {\n    return luai_apicheck(l, e && msg);\n};\nmodule.exports.api_check = api_check;\n\nconst LUAI_MAXCCALLS = 200;\nmodule.exports.LUAI_MAXCCALLS = LUAI_MAXCCALLS;\n\n/* minimum size for string buffer */\nconst LUA_MINBUFFER = 32;\nmodule.exports.LUA_MINBUFFER = LUA_MINBUFFER;\n\nconst luai_nummod = function(L, a, b) {\n    let m = a % b;\n    if ((m*b) < 0)\n        m += b;\n    return m;\n};\nmodule.exports.luai_nummod = luai_nummod;\n\n// If later integers are more than 32bit, LUA_MAXINTEGER will then be != MAX_INT\nconst MAX_INT = 2147483647;\nmodule.exports.MAX_INT = MAX_INT;\nconst MIN_INT = -2147483648;\nmodule.exports.MIN_INT = MIN_INT;\n","\"use strict\";\n\nconst {\n    LUA_OPLT,\n    LUA_TNUMBER,\n    lua_compare,\n    lua_gettop,\n    lua_isinteger,\n    lua_isnoneornil,\n    lua_pushboolean,\n    lua_pushinteger,\n    lua_pushliteral,\n    lua_pushnil,\n    lua_pushnumber,\n    lua_pushvalue,\n    lua_setfield,\n    lua_settop,\n    lua_tointeger,\n    lua_tointegerx,\n    lua_type\n} = require('./lua.js');\nconst {\n    luaL_argcheck,\n    luaL_argerror,\n    luaL_checkany,\n    luaL_checkinteger,\n    luaL_checknumber,\n    luaL_error,\n    luaL_newlib,\n    luaL_optnumber\n} = require('./lauxlib.js');\nconst {\n    LUA_MAXINTEGER,\n    LUA_MININTEGER,\n    lua_numbertointeger\n} = require('./luaconf.js');\nconst { to_luastring } = require(\"./fengaricore.js\");\n\nlet rand_state;\n/* use same parameters as glibc LCG */\nconst l_rand = function() {\n    rand_state = (1103515245 * rand_state + 12345) & 0x7fffffff;\n    return rand_state;\n};\nconst l_srand = function(x) {\n    rand_state = x|0;\n    if (rand_state === 0)\n        rand_state = 1;\n};\n\nconst math_random = function(L) {\n    let low, up;\n    /* use Math.random until randomseed is called */\n    let r = (rand_state === void 0)?Math.random():(l_rand() / 0x80000000);\n    switch (lua_gettop(L)) {  /* check number of arguments */\n        case 0:\n            lua_pushnumber(L, r);  /* Number between 0 and 1 */\n            return 1;\n        case 1: {\n            low = 1;\n            up = luaL_checkinteger(L, 1);\n            break;\n        }\n        case 2: {\n            low = luaL_checkinteger(L, 1);\n            up = luaL_checkinteger(L, 2);\n            break;\n        }\n        default: return luaL_error(L, \"wrong number of arguments\");\n    }\n\n    /* random integer in the interval [low, up] */\n    luaL_argcheck(L, low <= up, 1, \"interval is empty\");\n    luaL_argcheck(L, low >= 0 || up <= LUA_MAXINTEGER + low, 1,\n        \"interval too large\");\n\n    r *= (up - low) + 1;\n    lua_pushinteger(L, Math.floor(r) + low);\n    return 1;\n};\n\nconst math_randomseed = function(L) {\n    l_srand(luaL_checknumber(L, 1));\n    l_rand(); /* discard first value to avoid undesirable correlations */\n    return 0;\n};\n\nconst math_abs = function(L) {\n    if (lua_isinteger(L, 1)) {\n        let n = lua_tointeger(L, 1);\n        if (n < 0) n = (-n)|0;\n        lua_pushinteger(L, n);\n    }\n    else\n        lua_pushnumber(L, Math.abs(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_sin = function(L) {\n    lua_pushnumber(L, Math.sin(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_cos = function(L) {\n    lua_pushnumber(L, Math.cos(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_tan = function(L) {\n    lua_pushnumber(L, Math.tan(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_asin = function(L) {\n    lua_pushnumber(L, Math.asin(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_acos = function(L) {\n    lua_pushnumber(L, Math.acos(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_atan = function(L) {\n    let y = luaL_checknumber(L, 1);\n    let x = luaL_optnumber(L, 2, 1);\n    lua_pushnumber(L, Math.atan2(y, x));\n    return 1;\n};\n\nconst math_toint = function(L) {\n    let n = lua_tointegerx(L, 1);\n    if (n !== false)\n        lua_pushinteger(L, n);\n    else {\n        luaL_checkany(L, 1);\n        lua_pushnil(L);  /* value is not convertible to integer */\n    }\n    return 1;\n};\n\nconst pushnumint = function(L, d) {\n    let n = lua_numbertointeger(d);\n    if (n !== false)  /* does 'd' fit in an integer? */\n        lua_pushinteger(L, n);  /* result is integer */\n    else\n        lua_pushnumber(L, d);  /* result is float */\n};\n\nconst math_floor = function(L) {\n    if (lua_isinteger(L, 1))\n        lua_settop(L, 1);\n    else\n        pushnumint(L, Math.floor(luaL_checknumber(L, 1)));\n\n    return 1;\n};\n\nconst math_ceil = function(L) {\n    if (lua_isinteger(L, 1))\n        lua_settop(L, 1);\n    else\n        pushnumint(L, Math.ceil(luaL_checknumber(L, 1)));\n\n    return 1;\n};\n\nconst math_sqrt = function(L) {\n    lua_pushnumber(L, Math.sqrt(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_ult = function(L) {\n    let a = luaL_checkinteger(L, 1);\n    let b = luaL_checkinteger(L, 2);\n    lua_pushboolean(L, (a >= 0)?(b<0 || a<b):(b<0 && a<b));\n    return 1;\n};\n\nconst math_log = function(L) {\n    let x = luaL_checknumber(L, 1);\n    let res;\n    if (lua_isnoneornil(L, 2))\n        res = Math.log(x);\n    else {\n        let base = luaL_checknumber(L, 2);\n        if (base === 2)\n            res = Math.log2(x);\n        else if (base === 10)\n            res = Math.log10(x);\n        else\n            res = Math.log(x)/Math.log(base);\n    }\n    lua_pushnumber(L, res);\n    return 1;\n};\n\nconst math_exp = function(L) {\n    lua_pushnumber(L, Math.exp(luaL_checknumber(L, 1)));\n    return 1;\n};\n\nconst math_deg = function(L) {\n    lua_pushnumber(L, luaL_checknumber(L, 1) * (180 / Math.PI));\n    return 1;\n};\n\nconst math_rad = function(L) {\n    lua_pushnumber(L, luaL_checknumber(L, 1) * (Math.PI / 180));\n    return 1;\n};\n\nconst math_min = function(L) {\n    let n = lua_gettop(L);  /* number of arguments */\n    let imin = 1;  /* index of current minimum value */\n    luaL_argcheck(L, n >= 1, 1, \"value expected\");\n    for (let i = 2; i <= n; i++){\n        if (lua_compare(L, i, imin, LUA_OPLT))\n            imin = i;\n    }\n    lua_pushvalue(L, imin);\n    return 1;\n};\n\nconst math_max = function(L) {\n    let n = lua_gettop(L);  /* number of arguments */\n    let imax = 1;  /* index of current minimum value */\n    luaL_argcheck(L, n >= 1, 1, \"value expected\");\n    for (let i = 2; i <= n; i++){\n        if (lua_compare(L, imax, i, LUA_OPLT))\n            imax = i;\n    }\n    lua_pushvalue(L, imax);\n    return 1;\n};\n\nconst math_type = function(L) {\n    if (lua_type(L, 1) === LUA_TNUMBER) {\n        if (lua_isinteger(L, 1))\n            lua_pushliteral(L, \"integer\");\n        else\n            lua_pushliteral(L, \"float\");\n    } else {\n        luaL_checkany(L, 1);\n        lua_pushnil(L);\n    }\n    return 1;\n};\n\nconst math_fmod = function(L) {\n    if (lua_isinteger(L, 1) && lua_isinteger(L, 2)) {\n        let d = lua_tointeger(L, 2);\n        /* no special case needed for -1 in javascript */\n        if (d === 0) {\n            luaL_argerror(L, 2, \"zero\");\n        } else\n            lua_pushinteger(L, (lua_tointeger(L, 1) % d)|0);\n    } else {\n        let a = luaL_checknumber(L, 1);\n        let b = luaL_checknumber(L, 2);\n        lua_pushnumber(L, a%b);\n    }\n    return 1;\n};\n\nconst math_modf = function(L) {\n    if (lua_isinteger(L, 1)) {\n        lua_settop(L, 1);  /* number is its own integer part */\n        lua_pushnumber(L, 0);  /* no fractional part */\n    } else {\n        let n = luaL_checknumber(L, 1);\n        let ip = n < 0 ? Math.ceil(n) : Math.floor(n);\n        pushnumint(L, ip);\n        lua_pushnumber(L, n === ip ? 0 : n - ip);\n    }\n    return 2;\n};\n\nconst mathlib = {\n    \"abs\":        math_abs,\n    \"acos\":       math_acos,\n    \"asin\":       math_asin,\n    \"atan\":       math_atan,\n    \"ceil\":       math_ceil,\n    \"cos\":        math_cos,\n    \"deg\":        math_deg,\n    \"exp\":        math_exp,\n    \"floor\":      math_floor,\n    \"fmod\":       math_fmod,\n    \"log\":        math_log,\n    \"max\":        math_max,\n    \"min\":        math_min,\n    \"modf\":       math_modf,\n    \"rad\":        math_rad,\n    \"random\":     math_random,\n    \"randomseed\": math_randomseed,\n    \"sin\":        math_sin,\n    \"sqrt\":       math_sqrt,\n    \"tan\":        math_tan,\n    \"tointeger\":  math_toint,\n    \"type\":       math_type,\n    \"ult\":        math_ult\n};\n\nconst luaopen_math = function(L) {\n    luaL_newlib(L, mathlib);\n    lua_pushnumber(L, Math.PI);\n    lua_setfield(L, -2, to_luastring(\"pi\", true));\n    lua_pushnumber(L, Infinity);\n    lua_setfield(L, -2, to_luastring(\"huge\", true));\n    lua_pushinteger(L, LUA_MAXINTEGER);\n    lua_setfield(L, -2, to_luastring(\"maxinteger\", true));\n    lua_pushinteger(L, LUA_MININTEGER);\n    lua_setfield(L, -2, to_luastring(\"mininteger\", true));\n    return 1;\n};\n\nmodule.exports.luaopen_math = luaopen_math;\n","\"use strict\";\n\nconst {\n    LUA_DIRSEP,\n    LUA_EXEC_DIR,\n    LUA_JSPATH_DEFAULT,\n    LUA_PATH_DEFAULT,\n    LUA_PATH_MARK,\n    LUA_PATH_SEP\n} = require('./luaconf.js');\nconst {\n    LUA_OK,\n    LUA_REGISTRYINDEX,\n    LUA_TNIL,\n    LUA_TTABLE,\n    lua_callk,\n    lua_createtable,\n    lua_getfield,\n    lua_insert,\n    lua_isfunction,\n    lua_isnil,\n    lua_isstring,\n    lua_newtable,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushcclosure,\n    lua_pushcfunction,\n    lua_pushfstring,\n    lua_pushglobaltable,\n    lua_pushlightuserdata,\n    lua_pushliteral,\n    lua_pushlstring,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_rawgeti,\n    lua_rawgetp,\n    lua_rawseti,\n    lua_rawsetp,\n    lua_remove,\n    lua_setfield,\n    lua_setmetatable,\n    lua_settop,\n    lua_toboolean,\n    lua_tostring,\n    lua_touserdata,\n    lua_upvalueindex\n} = require('./lua.js');\nconst {\n    LUA_LOADED_TABLE,\n    LUA_PRELOAD_TABLE,\n    luaL_Buffer,\n    luaL_addvalue,\n    luaL_buffinit,\n    luaL_checkstring,\n    luaL_error,\n    luaL_getsubtable,\n    luaL_gsub,\n    luaL_len,\n    luaL_loadfile,\n    luaL_newlib,\n    luaL_optstring,\n    luaL_pushresult,\n    luaL_setfuncs\n} = require('./lauxlib.js');\nconst lualib = require('./lualib.js');\nconst {\n    luastring_indexOf,\n    to_jsstring,\n    to_luastring,\n    to_uristring\n} = require(\"./fengaricore.js\");\nconst fengari  = require('./fengari.js');\n\nconst global_env = (function() {\n    if (typeof process !== \"undefined\") {\n        /* node */\n        return global;\n    } else if (typeof window !== \"undefined\") {\n        /* browser window */\n        return window;\n    } else if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {\n        /* web worker */\n        return self;\n    } else {\n        /* unknown global env */\n        return (0, eval)('this'); /* use non-strict mode to get global env */\n    }\n})();\n\nconst JSLIBS = to_luastring(\"__JSLIBS__\");\nconst LUA_PATH_VAR = \"LUA_PATH\";\nconst LUA_JSPATH_VAR = \"LUA_JSPATH\";\n\nconst LUA_IGMARK = \"-\";\n\n/*\n** LUA_CSUBSEP is the character that replaces dots in submodule names\n** when searching for a JS loader.\n** LUA_LSUBSEP is the character that replaces dots in submodule names\n** when searching for a Lua loader.\n*/\nconst LUA_CSUBSEP = LUA_DIRSEP;\nconst LUA_LSUBSEP = LUA_DIRSEP;\n\n/* prefix for open functions in JS libraries */\nconst LUA_POF = to_luastring(\"luaopen_\");\n\n/* separator for open functions in JS libraries */\nconst LUA_OFSEP = to_luastring(\"_\");\nconst LIB_FAIL = \"open\";\n\nconst AUXMARK = to_luastring(\"\\x01\");\n\n\n/*\n** load JS library in file 'path'. If 'seeglb', load with all names in\n** the library global.\n** Returns the library; in case of error, returns NULL plus an\n** error string in the stack.\n*/\nlet lsys_load;\nif (typeof process === \"undefined\") {\n    lsys_load = function(L, path, seeglb) {\n        path = to_uristring(path);\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", path, false);\n        xhr.send();\n\n        if (xhr.status < 200 || xhr.status >= 300) {\n            lua_pushstring(L, to_luastring(`${xhr.status}: ${xhr.statusText}`));\n            return null;\n        }\n\n        let code = xhr.response;\n        /* Add sourceURL comment to get path in debugger+tracebacks */\n        if (!/\\/\\/[#@] sourceURL=/.test(code))\n            code += \" //# sourceURL=\" + path;\n        let func;\n        try {\n            func = Function(\"fengari\", code);\n        } catch (e) {\n            lua_pushstring(L, to_luastring(`${e.name}: ${e.message}`));\n            return null;\n        }\n        let res = func(fengari);\n        if (typeof res === \"function\" || (typeof res === \"object\" && res !== null)) {\n            return res;\n        } else if (res === void 0) { /* assume library added symbols to global environment */\n            return global_env;\n        } else {\n            lua_pushstring(L, to_luastring(`library returned unexpected type (${typeof res})`));\n            return null;\n        }\n    };\n} else {\n    const pathlib = require('path');\n    lsys_load = function(L, path, seeglb) {\n        path = to_jsstring(path);\n        /* relative paths should be relative to cwd, not this js file */\n        path = pathlib.resolve(process.cwd(), path);\n        try {\n            return require(path);\n        } catch (e) {\n            lua_pushstring(L, to_luastring(e.message));\n            return null;\n        }\n    };\n}\n\n/*\n** Try to find a function named 'sym' in library 'lib'.\n** Returns the function; in case of error, returns NULL plus an\n** error string in the stack.\n*/\nconst lsys_sym = function(L, lib, sym) {\n    let f = lib[to_jsstring(sym)];\n\n    if (f && typeof f === 'function')\n        return f;\n    else {\n        lua_pushfstring(L, to_luastring(\"undefined symbol: %s\"), sym);\n        return null;\n    }\n};\n\n/*\n** return registry.LUA_NOENV as a boolean\n*/\nconst noenv = function(L) {\n    lua_getfield(L, LUA_REGISTRYINDEX, to_luastring(\"LUA_NOENV\"));\n    let b = lua_toboolean(L, -1);\n    lua_pop(L, 1);  /* remove value */\n    return b;\n};\n\nlet readable;\nif (typeof process !== \"undefined\") { // Only with Node\n    const fs = require('fs');\n\n    readable = function(filename) {\n        try {\n            let fd = fs.openSync(filename, 'r');\n            fs.closeSync(fd);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    };\n} else {\n    readable = function(path) {\n        path = to_uristring(path);\n        let xhr = new XMLHttpRequest();\n        /* Following GET request done by searcher_Web will be cached */\n        xhr.open(\"GET\", path, false);\n        xhr.send();\n\n        return xhr.status >= 200 && xhr.status <= 299;\n    };\n}\n\n\n/* error codes for 'lookforfunc' */\nconst ERRLIB  = 1;\nconst ERRFUNC = 2;\n\n/*\n** Look for a C function named 'sym' in a dynamically loaded library\n** 'path'.\n** First, check whether the library is already loaded; if not, try\n** to load it.\n** Then, if 'sym' is '*', return true (as library has been loaded).\n** Otherwise, look for symbol 'sym' in the library and push a\n** C function with that symbol.\n** Return 0 and 'true' or a function in the stack; in case of\n** errors, return an error code and an error message in the stack.\n*/\nconst lookforfunc = function(L, path, sym) {\n    let reg = checkjslib(L, path);  /* check loaded JS libraries */\n    if (reg === null) {  /* must load library? */\n        reg = lsys_load(L, path, sym[0] === '*'.charCodeAt(0));  /* a global symbols if 'sym'=='*' */\n        if (reg === null) return ERRLIB;  /* unable to load library */\n        addtojslib(L, path, reg);\n    }\n    if (sym[0] === '*'.charCodeAt(0)) {  /* loading only library (no function)? */\n        lua_pushboolean(L, 1);  /* return 'true' */\n        return 0;  /* no errors */\n    }\n    else {\n        let f = lsys_sym(L, reg, sym);\n        if (f === null)\n            return ERRFUNC;  /* unable to find function */\n        lua_pushcfunction(L, f);  /* else create new function */\n        return 0;  /* no errors */\n    }\n};\n\nconst ll_loadlib = function(L) {\n    let path = luaL_checkstring(L, 1);\n    let init = luaL_checkstring(L, 2);\n    let stat = lookforfunc(L, path, init);\n    if (stat === 0)  /* no errors? */\n        return 1;  /* return the loaded function */\n    else {  /* error; error message is on stack top */\n        lua_pushnil(L);\n        lua_insert(L, -2);\n        lua_pushliteral(L, (stat === ERRLIB) ? LIB_FAIL : \"init\");\n        return 3;  /* return nil, error message, and where */\n    }\n};\n\nconst env = (function() {\n    if (typeof process !== \"undefined\") {\n        /* node */\n        return process.env;\n    } else {\n        return global_env;\n    }\n})();\n\n/*\n** Set a path\n*/\nconst setpath = function(L, fieldname, envname, dft) {\n    let nver = `${envname}${lualib.LUA_VERSUFFIX}`;\n    lua_pushstring(L, to_luastring(nver));\n    let path = env[nver];  /* use versioned name */\n    if (path === undefined)  /* no environment variable? */\n        path = env[envname];  /* try unversioned name */\n    if (path === undefined || noenv(L))  /* no environment variable? */\n        lua_pushstring(L, dft);  /* use default */\n    else {\n        /* replace \";;\" by \";AUXMARK;\" and then AUXMARK by default path */\n        path = luaL_gsub(\n            L,\n            to_luastring(path),\n            to_luastring(LUA_PATH_SEP + LUA_PATH_SEP, true),\n            to_luastring(LUA_PATH_SEP + to_jsstring(AUXMARK) + LUA_PATH_SEP, true)\n        );\n        luaL_gsub(L, path, AUXMARK, dft);\n        lua_remove(L, -2); /* remove result from 1st 'gsub' */\n    }\n    lua_setfield(L, -3, fieldname);  /* package[fieldname] = path value */\n    lua_pop(L, 1);  /* pop versioned variable name */\n};\n\n/*\n** return registry.JSLIBS[path]\n*/\nconst checkjslib = function(L, path) {\n    lua_rawgetp(L, LUA_REGISTRYINDEX, JSLIBS);\n    lua_getfield(L, -1, path);\n    let plib = lua_touserdata(L, -1);  /* plib = JSLIBS[path] */\n    lua_pop(L, 2);  /* pop JSLIBS table and 'plib' */\n    return plib;\n};\n\n/*\n** registry.JSLIBS[path] = plib        -- for queries\n** registry.JSLIBS[#JSLIBS + 1] = plib  -- also keep a list of all libraries\n*/\nconst addtojslib = function(L, path, plib) {\n    lua_rawgetp(L, LUA_REGISTRYINDEX, JSLIBS);\n    lua_pushlightuserdata(L, plib);\n    lua_pushvalue(L, -1);\n    lua_setfield(L, -3, path);  /* JSLIBS[path] = plib */\n    lua_rawseti(L, -2, luaL_len(L, -2) + 1);  /* JSLIBS[#JSLIBS + 1] = plib */\n    lua_pop(L, 1);  /* pop JSLIBS table */\n};\n\nconst pushnexttemplate = function(L, path) {\n    while (path[0] === LUA_PATH_SEP.charCodeAt(0)) path = path.subarray(1);  /* skip separators */\n    if (path.length === 0) return null;  /* no more templates */\n    let l = luastring_indexOf(path, LUA_PATH_SEP.charCodeAt(0));  /* find next separator */\n    if (l < 0) l = path.length;\n    lua_pushlstring(L, path, l);  /* template */\n    return path.subarray(l);\n};\n\nconst searchpath = function(L, name, path, sep, dirsep) {\n    let msg = new luaL_Buffer();  /* to build error message */\n    luaL_buffinit(L, msg);\n    if (sep[0] !== 0)  /* non-empty separator? */\n        name = luaL_gsub(L, name, sep, dirsep);  /* replace it by 'dirsep' */\n    while ((path = pushnexttemplate(L, path)) !== null) {\n        let filename = luaL_gsub(L, lua_tostring(L, -1), to_luastring(LUA_PATH_MARK, true), name);\n        lua_remove(L, -2);  /* remove path template */\n        if (readable(filename))  /* does file exist and is readable? */\n            return filename;  /* return that file name */\n        lua_pushfstring(L, to_luastring(\"\\n\\tno file '%s'\"), filename);\n        lua_remove(L, -2);  /* remove file name */\n        luaL_addvalue(msg);\n    }\n    luaL_pushresult(msg);  /* create error message */\n    return null;  /* not found */\n};\n\nconst ll_searchpath = function(L) {\n    let f = searchpath(\n        L,\n        luaL_checkstring(L, 1),\n        luaL_checkstring(L, 2),\n        luaL_optstring(L, 3, \".\"),\n        luaL_optstring(L, 4, LUA_DIRSEP)\n    );\n    if (f !== null) return 1;\n    else {  /* error message is on top of the stack */\n        lua_pushnil(L);\n        lua_insert(L, -2);\n        return 2;  /* return nil + error message */\n    }\n};\n\nconst findfile = function(L, name, pname, dirsep) {\n    lua_getfield(L, lua_upvalueindex(1), pname);\n    let path = lua_tostring(L, -1);\n    if (path === null)\n        luaL_error(L, to_luastring(\"'package.%s' must be a string\"), pname);\n    return searchpath(L, name, path, to_luastring(\".\"), dirsep);\n};\n\nconst checkload = function(L, stat, filename) {\n    if (stat) {  /* module loaded successfully? */\n        lua_pushstring(L, filename);  /* will be 2nd argument to module */\n        return 2;  /* return open function and file name */\n    } else\n        return luaL_error(L, to_luastring(\"error loading module '%s' from file '%s':\\n\\t%s\"),\n            lua_tostring(L, 1), filename, lua_tostring(L, -1));\n};\n\nconst searcher_Lua = function(L) {\n    let name = luaL_checkstring(L, 1);\n    let filename = findfile(L, name, to_luastring(\"path\", true), to_luastring(LUA_LSUBSEP, true));\n    if (filename === null) return 1;  /* module not found in this path */\n    return checkload(L, luaL_loadfile(L, filename) === LUA_OK, filename);\n};\n\n/*\n** Try to find a load function for module 'modname' at file 'filename'.\n** First, change '.' to '_' in 'modname'; then, if 'modname' has\n** the form X-Y (that is, it has an \"ignore mark\"), build a function\n** name \"luaopen_X\" and look for it. (For compatibility, if that\n** fails, it also tries \"luaopen_Y\".) If there is no ignore mark,\n** look for a function named \"luaopen_modname\".\n*/\nconst loadfunc = function(L, filename, modname) {\n    let openfunc;\n    modname = luaL_gsub(L, modname, to_luastring(\".\"), LUA_OFSEP);\n    let mark = luastring_indexOf(modname, LUA_IGMARK.charCodeAt(0));\n    if (mark >= 0) {\n        openfunc = lua_pushlstring(L, modname, mark);\n        openfunc = lua_pushfstring(L, to_luastring(\"%s%s\"), LUA_POF, openfunc);\n        let stat = lookforfunc(L, filename, openfunc);\n        if (stat !== ERRFUNC) return stat;\n        modname = mark + 1;  /* else go ahead and try old-style name */\n    }\n    openfunc = lua_pushfstring(L, to_luastring(\"%s%s\"), LUA_POF, modname);\n    return lookforfunc(L, filename, openfunc);\n};\n\nconst searcher_C = function(L) {\n    let name = luaL_checkstring(L, 1);\n    let filename = findfile(L, name, to_luastring(\"jspath\", true), to_luastring(LUA_CSUBSEP, true));\n    if (filename === null) return 1;  /* module not found in this path */\n    return checkload(L, (loadfunc(L, filename, name) === 0), filename);\n};\n\nconst searcher_Croot = function(L) {\n    let name = luaL_checkstring(L, 1);\n    let p = luastring_indexOf(name, '.'.charCodeAt(0));\n    let stat;\n    if (p < 0) return 0;  /* is root */\n    lua_pushlstring(L, name, p);\n    let filename = findfile(L, lua_tostring(L, -1), to_luastring(\"jspath\", true), to_luastring(LUA_CSUBSEP, true));\n    if (filename === null) return 1;  /* root not found */\n    if ((stat = loadfunc(L, filename, name)) !== 0) {\n        if (stat != ERRFUNC)\n            return checkload(L, 0, filename);  /* real error */\n        else {  /* open function not found */\n            lua_pushstring(L, to_luastring(\"\\n\\tno module '%s' in file '%s'\"), name, filename);\n            return 1;\n        }\n    }\n    lua_pushstring(L, filename);  /* will be 2nd argument to module */\n    return 2;\n};\n\nconst searcher_preload = function(L) {\n    let name = luaL_checkstring(L, 1);\n    lua_getfield(L, LUA_REGISTRYINDEX, LUA_PRELOAD_TABLE);\n    if (lua_getfield(L, -1, name) === LUA_TNIL)  /* not found? */\n        lua_pushfstring(L, to_luastring(\"\\n\\tno field package.preload['%s']\"), name);\n    return 1;\n};\n\nconst findloader = function(L, name, ctx, k) {\n    let msg = new luaL_Buffer();  /* to build error message */\n    luaL_buffinit(L, msg);\n    /* push 'package.searchers' to index 3 in the stack */\n    if (lua_getfield(L, lua_upvalueindex(1), to_luastring(\"searchers\", true)) !== LUA_TTABLE)\n        luaL_error(L, to_luastring(\"'package.searchers' must be a table\"));\n    let ctx2 = {name: name, i: 1, msg: msg, ctx: ctx, k: k};\n    return findloader_cont(L, LUA_OK, ctx2);\n};\n\nconst findloader_cont = function(L, status, ctx) {\n    /*  iterate over available searchers to find a loader */\n    for (; ; ctx.i++) {\n        if (status === LUA_OK) {\n            if (lua_rawgeti(L, 3, ctx.i) === LUA_TNIL) {  /* no more searchers? */\n                lua_pop(L, 1);  /* remove nil */\n                luaL_pushresult(ctx.msg);  /* create error message */\n                luaL_error(L, to_luastring(\"module '%s' not found:%s\"), ctx.name, lua_tostring(L, -1));\n            }\n            lua_pushstring(L, ctx.name);\n            lua_callk(L, 1, 2, ctx, findloader_cont);  /* call it */\n        } else {\n            status = LUA_OK;\n        }\n        if (lua_isfunction(L, -2))  /* did it find a loader? */\n            break;  /* module loader found */\n        else if (lua_isstring(L, -2)) {  /* searcher returned error message? */\n            lua_pop(L, 1);  /* remove extra return */\n            luaL_addvalue(ctx.msg);  /* concatenate error message */\n        }\n        else\n            lua_pop(L, 2);  /* remove both returns */\n    }\n    return ctx.k(L, LUA_OK, ctx.ctx);\n};\n\nconst ll_require = function(L) {\n    let name = luaL_checkstring(L, 1);\n    lua_settop(L, 1);  /* LOADED table will be at index 2 */\n    lua_getfield(L, LUA_REGISTRYINDEX, LUA_LOADED_TABLE);\n    lua_getfield(L, 2, name);  /* LOADED[name] */\n    if (lua_toboolean(L, -1))  /* is it there? */\n        return 1;  /* package is already loaded */\n    /* else must load package */\n    lua_pop(L, 1);  /* remove 'getfield' result */\n    let ctx = name;\n    return findloader(L, name, ctx, ll_require_cont);\n};\n\nconst ll_require_cont = function(L, status, ctx) {\n    let name = ctx;\n    lua_pushstring(L, name);  /* pass name as argument to module loader */\n    lua_insert(L, -2);  /* name is 1st argument (before search data) */\n    lua_callk(L, 2, 1, ctx, ll_require_cont2);\n    return ll_require_cont2(L, LUA_OK, ctx);  /* run loader to load module */\n};\n\nconst ll_require_cont2 = function(L, status, ctx) {\n    let name = ctx;\n    if (!lua_isnil(L, -1))  /* non-nil return? */\n        lua_setfield(L, 2, name);  /* LOADED[name] = returned value */\n    if (lua_getfield(L, 2, name) == LUA_TNIL) {   /* module set no value? */\n        lua_pushboolean(L, 1);  /* use true as result */\n        lua_pushvalue(L, -1);  /* extra copy to be returned */\n        lua_setfield(L, 2, name);  /* LOADED[name] = true */\n    }\n    return 1;\n};\n\nconst pk_funcs = {\n    \"loadlib\": ll_loadlib,\n    \"searchpath\": ll_searchpath\n};\n\nconst ll_funcs = {\n    \"require\": ll_require\n};\n\nconst createsearcherstable = function(L) {\n    let searchers = [searcher_preload, searcher_Lua, searcher_C, searcher_Croot, null];\n    /* create 'searchers' table */\n    lua_createtable(L);\n    /* fill it with predefined searchers */\n    for (let i = 0; searchers[i]; i++) {\n        lua_pushvalue(L, -2);  /* set 'package' as upvalue for all searchers */\n        lua_pushcclosure(L, searchers[i], 1);\n        lua_rawseti(L, -2, i+1);\n    }\n    lua_setfield(L, -2, to_luastring(\"searchers\", true));  /* put it in field 'searchers' */\n};\n\n/*\n** create table JSLIBS to keep track of loaded JS libraries,\n** setting a finalizer to close all libraries when closing state.\n*/\nconst createjslibstable = function(L) {\n    lua_newtable(L);  /* create JSLIBS table */\n    lua_createtable(L, 0, 1);  /* create metatable for JSLIBS */\n    lua_setmetatable(L, -2);\n    lua_rawsetp(L, LUA_REGISTRYINDEX, JSLIBS);  /* set JSLIBS table in registry */\n};\n\nconst luaopen_package = function(L) {\n    createjslibstable(L);\n    luaL_newlib(L, pk_funcs);  /* create 'package' table */\n    createsearcherstable(L);\n    /* set paths */\n    setpath(L, to_luastring(\"path\", true), LUA_PATH_VAR, LUA_PATH_DEFAULT);\n    setpath(L, to_luastring(\"jspath\", true), LUA_JSPATH_VAR, LUA_JSPATH_DEFAULT);\n    /* store config information */\n    lua_pushliteral(L, LUA_DIRSEP + \"\\n\" + LUA_PATH_SEP + \"\\n\" + LUA_PATH_MARK + \"\\n\" +\n                        LUA_EXEC_DIR + \"\\n\" + LUA_IGMARK + \"\\n\");\n    lua_setfield(L, -2, to_luastring(\"config\", true));\n    /* set field 'loaded' */\n    luaL_getsubtable(L, LUA_REGISTRYINDEX, LUA_LOADED_TABLE);\n    lua_setfield(L, -2, to_luastring(\"loaded\", true));\n    /* set field 'preload' */\n    luaL_getsubtable(L, LUA_REGISTRYINDEX, LUA_PRELOAD_TABLE);\n    lua_setfield(L, -2, to_luastring(\"preload\", true));\n    lua_pushglobaltable(L);\n    lua_pushvalue(L, -2);  /* set 'package' as upvalue for next lib */\n    luaL_setfuncs(L, ll_funcs, 1);  /* open lib into global table */\n    lua_pop(L, 1);  /* pop global table */\n    return 1;  /* return 'package' table */\n};\n\nmodule.exports.luaopen_package = luaopen_package;\n","\"use strict\";\n\nconst {\n    LUA_OPADD,\n    LUA_OPBAND,\n    LUA_OPBNOT,\n    LUA_OPBOR,\n    LUA_OPBXOR,\n    LUA_OPDIV,\n    LUA_OPIDIV,\n    LUA_OPMOD,\n    LUA_OPMUL,\n    LUA_OPPOW,\n    LUA_OPSHL,\n    LUA_OPSHR,\n    LUA_OPSUB,\n    LUA_OPUNM,\n    constant_types: {\n        LUA_NUMTAGS,\n        LUA_TBOOLEAN,\n        LUA_TCCL,\n        LUA_TFUNCTION,\n        LUA_TLCF,\n        LUA_TLCL,\n        LUA_TLIGHTUSERDATA,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMBER,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR,\n        LUA_TSTRING,\n        LUA_TTABLE,\n        LUA_TTHREAD,\n        LUA_TUSERDATA\n    },\n    from_userstring,\n    luastring_indexOf,\n    luastring_of,\n    to_jsstring,\n    to_luastring\n} = require('./defs.js');\nconst {\n    lisdigit,\n    lisprint,\n    lisspace,\n    lisxdigit\n} = require('./ljstype.js');\nconst ldebug  = require('./ldebug.js');\nconst ldo     = require('./ldo.js');\nconst lstate  = require('./lstate.js');\nconst {\n    luaS_bless,\n    luaS_new\n} = require('./lstring.js');\nconst ltable  = require('./ltable.js');\nconst {\n    LUA_COMPAT_FLOATSTRING,\n    ldexp,\n    lua_integer2str,\n    lua_number2str\n} = require('./luaconf.js');\nconst lvm     = require('./lvm.js');\nconst {\n    MAX_INT,\n    luai_nummod,\n    lua_assert\n} = require(\"./llimits.js\");\nconst ltm     = require('./ltm.js');\n\nconst LUA_TPROTO = LUA_NUMTAGS;\nconst LUA_TDEADKEY = LUA_NUMTAGS+1;\n\nclass TValue {\n\n    constructor(type, value) {\n        this.type = type;\n        this.value = value;\n    }\n\n    /* type tag of a TValue (bits 0-3 for tags + variant bits 4-5) */\n    ttype() {\n        return this.type & 0x3F;\n    }\n\n    /* type tag of a TValue with no variants (bits 0-3) */\n    ttnov() {\n        return this.type & 0x0F;\n    }\n\n    checktag(t) {\n        return this.type === t;\n    }\n\n    checktype(t) {\n        return this.ttnov() === t;\n    }\n\n    ttisnumber() {\n        return this.checktype(LUA_TNUMBER);\n    }\n\n    ttisfloat() {\n        return this.checktag(LUA_TNUMFLT);\n    }\n\n    ttisinteger() {\n        return this.checktag(LUA_TNUMINT);\n    }\n\n    ttisnil() {\n        return this.checktag(LUA_TNIL);\n    }\n\n    ttisboolean() {\n        return this.checktag(LUA_TBOOLEAN);\n    }\n\n    ttislightuserdata() {\n        return this.checktag(LUA_TLIGHTUSERDATA);\n    }\n\n    ttisstring() {\n        return this.checktype(LUA_TSTRING);\n    }\n\n    ttisshrstring() {\n        return this.checktag(LUA_TSHRSTR);\n    }\n\n    ttislngstring() {\n        return this.checktag(LUA_TLNGSTR);\n    }\n\n    ttistable() {\n        return this.checktag(LUA_TTABLE);\n    }\n\n    ttisfunction() {\n        return this.checktype(LUA_TFUNCTION);\n    }\n\n    ttisclosure() {\n        return (this.type & 0x1F) === LUA_TFUNCTION;\n    }\n\n    ttisCclosure() {\n        return this.checktag(LUA_TCCL);\n    }\n\n    ttisLclosure() {\n        return this.checktag(LUA_TLCL);\n    }\n\n    ttislcf() {\n        return this.checktag(LUA_TLCF);\n    }\n\n    ttisfulluserdata() {\n        return this.checktag(LUA_TUSERDATA);\n    }\n\n    ttisthread() {\n        return this.checktag(LUA_TTHREAD);\n    }\n\n    ttisdeadkey() {\n        return this.checktag(LUA_TDEADKEY);\n    }\n\n    l_isfalse() {\n        return this.ttisnil() || (this.ttisboolean() && this.value === false);\n    }\n\n    setfltvalue(x) {\n        this.type = LUA_TNUMFLT;\n        this.value = x;\n    }\n\n    chgfltvalue(x) {\n        lua_assert(this.type == LUA_TNUMFLT);\n        this.value = x;\n    }\n\n    setivalue(x) {\n        this.type = LUA_TNUMINT;\n        this.value = x;\n    }\n\n    chgivalue(x) {\n        lua_assert(this.type == LUA_TNUMINT);\n        this.value = x;\n    }\n\n    setnilvalue() {\n        this.type = LUA_TNIL;\n        this.value = null;\n    }\n\n    setfvalue(x) {\n        this.type = LUA_TLCF;\n        this.value = x;\n    }\n\n    setpvalue(x) {\n        this.type = LUA_TLIGHTUSERDATA;\n        this.value = x;\n    }\n\n    setbvalue(x) {\n        this.type = LUA_TBOOLEAN;\n        this.value = x;\n    }\n\n    setsvalue(x) {\n        this.type = LUA_TLNGSTR; /* LUA_TSHRSTR? */\n        this.value = x;\n    }\n\n    setuvalue(x) {\n        this.type = LUA_TUSERDATA;\n        this.value = x;\n    }\n\n    setthvalue(x) {\n        this.type = LUA_TTHREAD;\n        this.value = x;\n    }\n\n    setclLvalue(x) {\n        this.type = LUA_TLCL;\n        this.value = x;\n    }\n\n    setclCvalue(x) {\n        this.type = LUA_TCCL;\n        this.value = x;\n    }\n\n    sethvalue(x) {\n        this.type = LUA_TTABLE;\n        this.value = x;\n    }\n\n    setdeadvalue() {\n        this.type = LUA_TDEADKEY;\n        this.value = null;\n    }\n\n    setfrom(tv) { /* in lua C source setobj2t is often used for this */\n        this.type = tv.type;\n        this.value = tv.value;\n    }\n\n    tsvalue() {\n        lua_assert(this.ttisstring());\n        return this.value;\n    }\n\n    svalue() {\n        return this.tsvalue().getstr();\n    }\n\n    vslen() {\n        return this.tsvalue().tsslen();\n    }\n\n    jsstring(from, to) {\n        return to_jsstring(this.svalue(), from, to, true);\n    }\n}\n\nconst pushobj2s = function(L, tv) {\n    L.stack[L.top++] = new TValue(tv.type, tv.value);\n};\nconst pushsvalue2s = function(L, ts) {\n    L.stack[L.top++] = new TValue(LUA_TLNGSTR, ts);\n};\n/* from stack to (same) stack */\nconst setobjs2s = function(L, newidx, oldidx) {\n    L.stack[newidx].setfrom(L.stack[oldidx]);\n};\n/* to stack (not from same stack) */\nconst setobj2s = function(L, newidx, oldtv) {\n    L.stack[newidx].setfrom(oldtv);\n};\nconst setsvalue2s = function(L, newidx, ts) {\n    L.stack[newidx].setsvalue(ts);\n};\n\nconst luaO_nilobject = new TValue(LUA_TNIL, null);\nObject.freeze(luaO_nilobject);\nmodule.exports.luaO_nilobject = luaO_nilobject;\n\nclass LClosure {\n\n    constructor(L, n) {\n        this.id = L.l_G.id_counter++;\n\n        this.p = null;\n        this.nupvalues = n;\n        this.upvals = new Array(n); /* list of upvalues. initialised in luaF_initupvals */\n    }\n\n}\n\nclass CClosure {\n\n    constructor(L, f, n) {\n        this.id = L.l_G.id_counter++;\n\n        this.f = f;\n        this.nupvalues = n;\n        this.upvalue = new Array(n); /* list of upvalues as TValues */\n        while (n--) {\n            this.upvalue[n] = new TValue(LUA_TNIL, null);\n        }\n    }\n\n}\n\nclass Udata {\n\n    constructor(L, size) {\n        this.id = L.l_G.id_counter++;\n\n        this.metatable = null;\n        this.uservalue = new TValue(LUA_TNIL, null);\n        this.len = size;\n        this.data = Object.create(null); // ignores size argument\n    }\n\n}\n\n/*\n** Description of a local variable for function prototypes\n** (used for debug information)\n*/\nclass LocVar {\n    constructor() {\n        this.varname = null;\n        this.startpc = NaN;  /* first point where variable is active */\n        this.endpc = NaN;    /* first point where variable is dead */\n    }\n}\n\nconst RETS = to_luastring(\"...\");\nconst PRE  = to_luastring(\"[string \\\"\");\nconst POS  = to_luastring(\"\\\"]\");\n\nconst luaO_chunkid = function(source, bufflen) {\n    let l = source.length;\n    let out;\n    if (source[0] === 61 /* ('=').charCodeAt(0) */) {  /* 'literal' source */\n        if (l < bufflen) {  /* small enough? */\n            out = new Uint8Array(l-1);\n            out.set(source.subarray(1));\n        } else {  /* truncate it */\n            out = new Uint8Array(bufflen);\n            out.set(source.subarray(1, bufflen+1));\n        }\n    } else if (source[0] === 64 /* ('@').charCodeAt(0) */) {  /* file name */\n        if (l <= bufflen) {  /* small enough? */\n            out = new Uint8Array(l-1);\n            out.set(source.subarray(1));\n        } else {  /* add '...' before rest of name */\n            out = new Uint8Array(bufflen);\n            out.set(RETS);\n            bufflen -= RETS.length;\n            out.set(source.subarray(l - bufflen), RETS.length);\n        }\n    } else {  /* string; format as [string \"source\"] */\n        out = new Uint8Array(bufflen);\n        let nli = luastring_indexOf(source, 10 /* ('\\n').charCodeAt(0) */);  /* find first new line (if any) */\n        out.set(PRE);  /* add prefix */\n        let out_i = PRE.length;\n        bufflen -= PRE.length + RETS.length + POS.length;  /* save space for prefix+suffix */\n        if (l < bufflen && nli === -1) {  /* small one-line source? */\n            out.set(source, out_i);  /* keep it */\n            out_i += source.length;\n        } else {\n            if (nli !== -1) l = nli;  /* stop at first newline */\n            if (l > bufflen) l = bufflen;\n            out.set(source.subarray(0, l), out_i);\n            out_i += l;\n            out.set(RETS, out_i);\n            out_i += RETS.length;\n        }\n        out.set(POS, out_i);\n        out_i += POS.length;\n        out = out.subarray(0, out_i);\n    }\n    return out;\n};\n\nconst luaO_hexavalue = function(c) {\n    if (lisdigit(c)) return c - 48;\n    else return (c & 0xdf) - 55;\n};\n\nconst UTF8BUFFSZ = 8;\n\nconst luaO_utf8esc = function(buff, x) {\n    let n = 1;  /* number of bytes put in buffer (backwards) */\n    lua_assert(x <= 0x10FFFF);\n    if (x < 0x80)  /* ascii? */\n        buff[UTF8BUFFSZ - 1] = x;\n    else {  /* need continuation bytes */\n        let mfb = 0x3f;  /* maximum that fits in first byte */\n        do {\n            buff[UTF8BUFFSZ - (n++)] = 0x80 | (x & 0x3f);\n            x >>= 6;  /* remove added bits */\n            mfb >>= 1;  /* now there is one less bit available in first byte */\n        } while (x > mfb);  /* still needs continuation byte? */\n        buff[UTF8BUFFSZ - n] = (~mfb << 1) | x;  /* add first byte */\n    }\n    return n;\n};\n\n/* maximum number of significant digits to read (to avoid overflows\n   even with single floats) */\nconst MAXSIGDIG = 30;\n\n/*\n** convert an hexadecimal numeric string to a number, following\n** C99 specification for 'strtod'\n*/\nconst lua_strx2number = function(s) {\n    let i = 0;\n    let r = 0.0;  /* result (accumulator) */\n    let sigdig = 0;  /* number of significant digits */\n    let nosigdig = 0;  /* number of non-significant digits */\n    let e = 0;  /* exponent correction */\n    let neg;  /* 1 if number is negative */\n    let hasdot = false;  /* true after seen a dot */\n    while (lisspace(s[i])) i++;  /* skip initial spaces */\n    if ((neg = (s[i] === 45 /* ('-').charCodeAt(0) */))) i++;  /* check signal */\n    else if (s[i] === 43 /* ('+').charCodeAt(0) */) i++;\n    if (!(s[i] === 48 /* ('0').charCodeAt(0) */ && (s[i+1] === 120 /* ('x').charCodeAt(0) */ || s[i+1] === 88 /* ('X').charCodeAt(0) */)))  /* check '0x' */\n        return null;  /* invalid format (no '0x') */\n    for (i += 2; ; i++) {  /* skip '0x' and read numeral */\n        if (s[i] === 46 /* ('.').charCodeAt(0) i.e. dot/lua_getlocaledecpoint(); */) {\n            if (hasdot) break;  /* second dot? stop loop */\n            else hasdot = true;\n        } else if (lisxdigit(s[i])) {\n            if (sigdig === 0 && s[i] === 48 /* ('0').charCodeAt(0) */)  /* non-significant digit (zero)? */\n                nosigdig++;\n            else if (++sigdig <= MAXSIGDIG)  /* can read it without overflow? */\n                r = (r * 16) + luaO_hexavalue(s[i]);\n            else e++; /* too many digits; ignore, but still count for exponent */\n            if (hasdot) e--;  /* decimal digit? correct exponent */\n        } else break;  /* neither a dot nor a digit */\n    }\n\n    if (nosigdig + sigdig === 0)  /* no digits? */\n        return null;  /* invalid format */\n    e *= 4;  /* each digit multiplies/divides value by 2^4 */\n    if (s[i] === 112 /* ('p').charCodeAt(0) */ || s[i] === 80 /* ('P').charCodeAt(0) */) {  /* exponent part? */\n        let exp1 = 0;  /* exponent value */\n        let neg1;  /* exponent signal */\n        i++;  /* skip 'p' */\n        if ((neg1 = (s[i] === 45 /* ('-').charCodeAt(0) */))) i++;  /* signal */\n        else if (s[i] === 43 /* ('+').charCodeAt(0) */) i++;\n        if (!lisdigit(s[i]))\n            return null;  /* invalid; must have at least one digit */\n        while (lisdigit(s[i]))  /* read exponent */\n            exp1 = exp1 * 10 + s[i++] - 48 /* ('0').charCodeAt(0) */;\n        if (neg1) exp1 = -exp1;\n        e += exp1;\n    }\n    if (neg) r = -r;\n    return {\n        n: ldexp(r, e),\n        i: i\n    };\n};\n\nconst lua_str2number = function(s) {\n    try {\n        s = to_jsstring(s);\n    } catch (e) {\n        return null;\n    }\n    /* use a regex to validate number and also to get length\n       parseFloat ignores trailing junk */\n    let r = /^[\\t\\v\\f \\n\\r]*[+-]?(?:[0-9]+\\.?[0-9]*|\\.[0-9]*)(?:[eE][+-]?[0-9]+)?/.exec(s);\n    if (!r)\n        return null;\n    let flt = parseFloat(r[0]);\n    return !isNaN(flt) ? { n: flt, i: r[0].length } : null;\n};\n\nconst l_str2dloc = function(s, mode) {\n    let result = mode === 'x' ? lua_strx2number(s) : lua_str2number(s); /* try to convert */\n    if (result === null) return null;\n    while (lisspace(s[result.i])) result.i++;  /* skip trailing spaces */\n    return (result.i === s.length || s[result.i] === 0) ? result : null;  /* OK if no trailing characters */\n};\n\nconst SIGILS = [\n    46  /* (\".\").charCodeAt(0) */,\n    120 /* (\"x\").charCodeAt(0) */,\n    88  /* (\"X\").charCodeAt(0) */,\n    110 /* (\"n\").charCodeAt(0) */,\n    78  /* (\"N\").charCodeAt(0) */\n];\nconst modes = {\n    [ 46]: \".\",\n    [120]: \"x\",\n    [ 88]: \"x\",\n    [110]: \"n\",\n    [ 78]: \"n\"\n};\nconst l_str2d = function(s) {\n    let l = s.length;\n    let pmode = 0;\n    for (let i=0; i<l; i++) {\n        let v = s[i];\n        if (SIGILS.indexOf(v) !== -1) {\n            pmode = v;\n            break;\n        }\n    }\n    let mode = modes[pmode];\n    if (mode === 'n')  /* reject 'inf' and 'nan' */\n        return null;\n    let end = l_str2dloc(s, mode);  /* try to convert */\n    // if (end === null) {   /* failed? may be a different locale */\n    //     throw new Error(\"Locale not available to handle number\"); // TODO\n    // }\n    return end;\n};\n\nconst MAXBY10  = Math.floor(MAX_INT / 10);\nconst MAXLASTD = MAX_INT % 10;\n\nconst l_str2int = function(s) {\n    let i = 0;\n    let a = 0;\n    let empty = true;\n    let neg;\n\n    while (lisspace(s[i])) i++;  /* skip initial spaces */\n    if ((neg = (s[i] === 45 /* ('-').charCodeAt(0) */))) i++;\n    else if (s[i] === 43 /* ('+').charCodeAt(0) */) i++;\n    if (s[i] === 48 /* ('0').charCodeAt(0) */ && (s[i+1] === 120 /* ('x').charCodeAt(0) */ || s[i+1] === 88 /* ('X').charCodeAt(0) */)) {  /* hex? */\n        i += 2;  /* skip '0x' */\n        for (; i < s.length && lisxdigit(s[i]); i++) {\n            a = (a * 16 + luaO_hexavalue(s[i]))|0;\n            empty = false;\n        }\n    } else {  /* decimal */\n        for (; i < s.length && lisdigit(s[i]); i++) {\n            let d = s[i] - 48 /* ('0').charCodeAt(0) */;\n            if (a >= MAXBY10 && (a > MAXBY10 || d > MAXLASTD + neg))  /* overflow? */\n                return null;  /* do not accept it (as integer) */\n            a = (a * 10 + d)|0;\n            empty = false;\n        }\n    }\n    while (i < s.length && lisspace(s[i])) i++;  /* skip trailing spaces */\n    if (empty || (i !== s.length && s[i] !== 0)) return null;  /* something wrong in the numeral */\n    else {\n        return {\n            n: (neg ? -a : a)|0,\n            i: i\n        };\n    }\n};\n\nconst luaO_str2num = function(s, o) {\n    let s2i = l_str2int(s);\n    if (s2i !== null) {   /* try as an integer */\n        o.setivalue(s2i.n);\n        return s2i.i+1;\n    } else {   /* else try as a float */\n        s2i = l_str2d(s);\n        if (s2i !== null) {\n            o.setfltvalue(s2i.n);\n            return s2i.i+1;\n        } else\n            return 0;  /* conversion failed */\n    }\n};\n\nconst luaO_tostring = function(L, obj) {\n    let buff;\n    if (obj.ttisinteger())\n        buff = to_luastring(lua_integer2str(obj.value));\n    else {\n        let str = lua_number2str(obj.value);\n        if (!LUA_COMPAT_FLOATSTRING && /^[-0123456789]+$/.test(str)) {  /* looks like an int? */\n            str += '.0'; /* adds '.0' to result: lua_getlocaledecpoint removed as optimisation */\n        }\n        buff = to_luastring(str);\n    }\n    obj.setsvalue(luaS_bless(L, buff));\n};\n\nconst pushstr = function(L, str) {\n    ldo.luaD_inctop(L);\n    setsvalue2s(L, L.top-1, luaS_new(L, str));\n};\n\nconst luaO_pushvfstring = function(L, fmt, argp) {\n    let n = 0;\n    let i = 0;\n    let a = 0;\n    let e;\n    for (;;) {\n        e = luastring_indexOf(fmt, 37 /* ('%').charCodeAt(0) */, i);\n        if (e == -1) break;\n        pushstr(L, fmt.subarray(i, e));\n        switch(fmt[e+1]) {\n            case 115 /* ('s').charCodeAt(0) */: {\n                let s = argp[a++];\n                if (s === null) s = to_luastring(\"(null)\", true);\n                else {\n                    s = from_userstring(s);\n                    /* respect null terminator */\n                    let i = luastring_indexOf(s, 0);\n                    if (i !== -1)\n                        s = s.subarray(0, i);\n                }\n                pushstr(L, s);\n                break;\n            }\n            case 99 /* ('c').charCodeAt(0) */: {\n                let buff = argp[a++];\n                if (lisprint(buff))\n                    pushstr(L, luastring_of(buff));\n                else\n                    luaO_pushfstring(L, to_luastring(\"<\\\\%d>\", true), buff);\n                break;\n            }\n            case 100 /* ('d').charCodeAt(0) */:\n            case 73 /* ('I').charCodeAt(0) */:\n                ldo.luaD_inctop(L);\n                L.stack[L.top-1].setivalue(argp[a++]);\n                luaO_tostring(L, L.stack[L.top-1]);\n                break;\n            case 102 /* ('f').charCodeAt(0) */:\n                ldo.luaD_inctop(L);\n                L.stack[L.top-1].setfltvalue(argp[a++]);\n                luaO_tostring(L, L.stack[L.top-1]);\n                break;\n            case 112 /* ('p').charCodeAt(0) */: {\n                let v = argp[a++];\n                if (v instanceof lstate.lua_State ||\n                    v instanceof ltable.Table ||\n                    v instanceof Udata ||\n                    v instanceof LClosure ||\n                    v instanceof CClosure) {\n                    pushstr(L, to_luastring(\"0x\"+v.id.toString(16)));\n                } else {\n                    switch(typeof v) {\n                        case \"undefined\":\n                            pushstr(L, to_luastring(\"undefined\"));\n                            break;\n                        case \"number\":  /* before check object as null is an object */\n                            pushstr(L, to_luastring(\"Number(\"+v+\")\"));\n                            break;\n                        case \"string\":  /* before check object as null is an object */\n                            pushstr(L, to_luastring(\"String(\"+JSON.stringify(v)+\")\"));\n                            break;\n                        case \"boolean\":  /* before check object as null is an object */\n                            pushstr(L, to_luastring(v?\"Boolean(true)\":\"Boolean(false)\"));\n                            break;\n                        case \"object\":\n                            if (v === null) { /* null is special */\n                                pushstr(L, to_luastring(\"null\"));\n                                break;\n                            }\n                            /* fall through */\n                        case \"function\": {\n                            let id = L.l_G.ids.get(v);\n                            if (!id) {\n                                id = L.l_G.id_counter++;\n                                L.l_G.ids.set(v, id);\n                            }\n                            pushstr(L, to_luastring(\"0x\"+id.toString(16)));\n                            break;\n                        }\n                        default:\n                            /* user provided object. no id available */\n                            pushstr(L, to_luastring(\"<id NYI>\"));\n                    }\n                }\n                break;\n            }\n            case 85 /* ('U').charCodeAt(0) */: {\n                let buff = new Uint8Array(UTF8BUFFSZ);\n                let l = luaO_utf8esc(buff, argp[a++]);\n                pushstr(L, buff.subarray(UTF8BUFFSZ - l));\n                break;\n            }\n            case 37 /* ('%').charCodeAt(0) */:\n                pushstr(L, to_luastring(\"%\", true));\n                break;\n            default:\n                ldebug.luaG_runerror(L, to_luastring(\"invalid option '%%%c' to 'lua_pushfstring'\"), fmt[e + 1]);\n        }\n        n += 2;\n        i = e + 2;\n    }\n    ldo.luaD_checkstack(L, 1);\n    pushstr(L, fmt.subarray(i));\n    if (n > 0) lvm.luaV_concat(L, n+1);\n    return L.stack[L.top-1].svalue();\n};\n\nconst luaO_pushfstring = function(L, fmt, ...argp) {\n    return luaO_pushvfstring(L, fmt, argp);\n};\n\n\n/*\n** converts an integer to a \"floating point byte\", represented as\n** (eeeeexxx), where the real value is (1xxx) * 2^(eeeee - 1) if\n** eeeee !== 0 and (xxx) otherwise.\n*/\nconst luaO_int2fb = function(x) {\n    let e = 0;  /* exponent */\n    if (x < 8) return x;\n    while (x >= (8 << 4)) {  /* coarse steps */\n        x = (x + 0xf) >> 4;  /* x = ceil(x / 16) */\n        e += 4;\n    }\n    while (x >= (8 << 1)) {  /* fine steps */\n        x = (x + 1) >> 1;  /* x = ceil(x / 2) */\n        e++;\n    }\n    return ((e+1) << 3) | (x - 8);\n};\n\nconst intarith = function(L, op, v1, v2) {\n    switch (op) {\n        case LUA_OPADD:  return (v1 + v2)|0;\n        case LUA_OPSUB:  return (v1 - v2)|0;\n        case LUA_OPMUL:  return lvm.luaV_imul(v1, v2);\n        case LUA_OPMOD:  return lvm.luaV_mod(L, v1, v2);\n        case LUA_OPIDIV: return lvm.luaV_div(L, v1, v2);\n        case LUA_OPBAND: return (v1 & v2);\n        case LUA_OPBOR:  return (v1 | v2);\n        case LUA_OPBXOR: return (v1 ^ v2);\n        case LUA_OPSHL:  return lvm.luaV_shiftl(v1, v2);\n        case LUA_OPSHR:  return lvm.luaV_shiftl(v1, -v2);\n        case LUA_OPUNM:  return (0 - v1)|0;\n        case LUA_OPBNOT: return (~0 ^ v1);\n        default: lua_assert(0);\n    }\n};\n\n\nconst numarith = function(L, op, v1, v2) {\n    switch (op) {\n        case LUA_OPADD:  return v1 + v2;\n        case LUA_OPSUB:  return v1 - v2;\n        case LUA_OPMUL:  return v1 * v2;\n        case LUA_OPDIV:  return v1 / v2;\n        case LUA_OPPOW:  return Math.pow(v1, v2);\n        case LUA_OPIDIV: return Math.floor(v1 / v2);\n        case LUA_OPUNM:  return -v1;\n        case LUA_OPMOD:  return luai_nummod(L, v1, v2);\n        default: lua_assert(0);\n    }\n};\n\nconst luaO_arith = function(L, op, p1, p2, p3) {\n    let res = (typeof p3 === \"number\") ? L.stack[p3] : p3;  /* FIXME */\n\n    switch (op) {\n        case LUA_OPBAND: case LUA_OPBOR: case LUA_OPBXOR:\n        case LUA_OPSHL: case LUA_OPSHR:\n        case LUA_OPBNOT: {  /* operate only on integers */\n            let i1, i2;\n            if ((i1 = lvm.tointeger(p1)) !== false && (i2 = lvm.tointeger(p2)) !== false) {\n                res.setivalue(intarith(L, op, i1, i2));\n                return;\n            }\n            else break;  /* go to the end */\n        }\n        case LUA_OPDIV: case LUA_OPPOW: {  /* operate only on floats */\n            let n1, n2;\n            if ((n1 = lvm.tonumber(p1)) !== false && (n2 = lvm.tonumber(p2)) !== false) {\n                res.setfltvalue(numarith(L, op, n1, n2));\n                return;\n            }\n            else break;  /* go to the end */\n        }\n        default: {  /* other operations */\n            let n1, n2;\n            if (p1.ttisinteger() && p2.ttisinteger()) {\n                res.setivalue(intarith(L, op, p1.value, p2.value));\n                return;\n            }\n            else if ((n1 = lvm.tonumber(p1)) !== false && (n2 = lvm.tonumber(p2)) !== false) {\n                res.setfltvalue(numarith(L, op, n1, n2));\n                return;\n            }\n            else break;  /* go to the end */\n        }\n    }\n    /* could not perform raw operation; try metamethod */\n    lua_assert(L !== null);  /* should not fail when folding (compile time) */\n    ltm.luaT_trybinTM(L, p1, p2, p3, (op - LUA_OPADD) + ltm.TMS.TM_ADD);\n};\n\n\nmodule.exports.CClosure          = CClosure;\nmodule.exports.LClosure          = LClosure;\nmodule.exports.LUA_TDEADKEY      = LUA_TDEADKEY;\nmodule.exports.LUA_TPROTO        = LUA_TPROTO;\nmodule.exports.LocVar            = LocVar;\nmodule.exports.TValue            = TValue;\nmodule.exports.Udata             = Udata;\nmodule.exports.UTF8BUFFSZ        = UTF8BUFFSZ;\nmodule.exports.luaO_arith        = luaO_arith;\nmodule.exports.luaO_chunkid      = luaO_chunkid;\nmodule.exports.luaO_hexavalue    = luaO_hexavalue;\nmodule.exports.luaO_int2fb       = luaO_int2fb;\nmodule.exports.luaO_pushfstring  = luaO_pushfstring;\nmodule.exports.luaO_pushvfstring = luaO_pushvfstring;\nmodule.exports.luaO_str2num      = luaO_str2num;\nmodule.exports.luaO_tostring     = luaO_tostring;\nmodule.exports.luaO_utf8esc      = luaO_utf8esc;\nmodule.exports.numarith          = numarith;\nmodule.exports.pushobj2s         = pushobj2s;\nmodule.exports.pushsvalue2s      = pushsvalue2s;\nmodule.exports.setobjs2s         = setobjs2s;\nmodule.exports.setobj2s          = setobj2s;\nmodule.exports.setsvalue2s       = setsvalue2s;\n","\"use strict\";\n\nconst OpCodes = [\n    \"MOVE\",\n    \"LOADK\",\n    \"LOADKX\",\n    \"LOADBOOL\",\n    \"LOADNIL\",\n    \"GETUPVAL\",\n    \"GETTABUP\",\n    \"GETTABLE\",\n    \"SETTABUP\",\n    \"SETUPVAL\",\n    \"SETTABLE\",\n    \"NEWTABLE\",\n    \"SELF\",\n    \"ADD\",\n    \"SUB\",\n    \"MUL\",\n    \"MOD\",\n    \"POW\",\n    \"DIV\",\n    \"IDIV\",\n    \"BAND\",\n    \"BOR\",\n    \"BXOR\",\n    \"SHL\",\n    \"SHR\",\n    \"UNM\",\n    \"BNOT\",\n    \"NOT\",\n    \"LEN\",\n    \"CONCAT\",\n    \"JMP\",\n    \"EQ\",\n    \"LT\",\n    \"LE\",\n    \"TEST\",\n    \"TESTSET\",\n    \"CALL\",\n    \"TAILCALL\",\n    \"RETURN\",\n    \"FORLOOP\",\n    \"FORPREP\",\n    \"TFORCALL\",\n    \"TFORLOOP\",\n    \"SETLIST\",\n    \"CLOSURE\",\n    \"VARARG\",\n    \"EXTRAARG\"\n];\n\nconst OpCodesI = {\n    OP_MOVE:     0,\n    OP_LOADK:    1,\n    OP_LOADKX:   2,\n    OP_LOADBOOL: 3,\n    OP_LOADNIL:  4,\n    OP_GETUPVAL: 5,\n    OP_GETTABUP: 6,\n    OP_GETTABLE: 7,\n    OP_SETTABUP: 8,\n    OP_SETUPVAL: 9,\n    OP_SETTABLE: 10,\n    OP_NEWTABLE: 11,\n    OP_SELF:     12,\n    OP_ADD:      13,\n    OP_SUB:      14,\n    OP_MUL:      15,\n    OP_MOD:      16,\n    OP_POW:      17,\n    OP_DIV:      18,\n    OP_IDIV:     19,\n    OP_BAND:     20,\n    OP_BOR:      21,\n    OP_BXOR:     22,\n    OP_SHL:      23,\n    OP_SHR:      24,\n    OP_UNM:      25,\n    OP_BNOT:     26,\n    OP_NOT:      27,\n    OP_LEN:      28,\n    OP_CONCAT:   29,\n    OP_JMP:      30,\n    OP_EQ:       31,\n    OP_LT:       32,\n    OP_LE:       33,\n    OP_TEST:     34,\n    OP_TESTSET:  35,\n    OP_CALL:     36,\n    OP_TAILCALL: 37,\n    OP_RETURN:   38,\n    OP_FORLOOP:  39,\n    OP_FORPREP:  40,\n    OP_TFORCALL: 41,\n    OP_TFORLOOP: 42,\n    OP_SETLIST:  43,\n    OP_CLOSURE:  44,\n    OP_VARARG:   45,\n    OP_EXTRAARG: 46\n};\n\n/*\n** masks for instruction properties. The format is:\n** bits 0-1: op mode\n** bits 2-3: C arg mode\n** bits 4-5: B arg mode\n** bit 6: instruction set register A\n** bit 7: operator is a test (next instruction must be a jump)\n*/\nconst OpArgN = 0;  /* argument is not used */\nconst OpArgU = 1;  /* argument is used */\nconst OpArgR = 2;  /* argument is a register or a jump offset */\nconst OpArgK = 3;  /* argument is a constant or register/constant */\n\n/* basic instruction format */\nconst iABC  = 0;\nconst iABx  = 1;\nconst iAsBx = 2;\nconst iAx   = 3;\n\nconst luaP_opmodes = [\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iABC,   /* OP_MOVE */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgN << 2 | iABx,   /* OP_LOADK */\n    0 << 7 | 1 << 6 | OpArgN << 4 | OpArgN << 2 | iABx,   /* OP_LOADKX */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgU << 2 | iABC,   /* OP_LOADBOOL */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgN << 2 | iABC,   /* OP_LOADNIL */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgN << 2 | iABC,   /* OP_GETUPVAL */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgK << 2 | iABC,   /* OP_GETTABUP */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgK << 2 | iABC,   /* OP_GETTABLE */\n    0 << 7 | 0 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_SETTABUP */\n    0 << 7 | 0 << 6 | OpArgU << 4 | OpArgN << 2 | iABC,   /* OP_SETUPVAL */\n    0 << 7 | 0 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_SETTABLE */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgU << 2 | iABC,   /* OP_NEWTABLE */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgK << 2 | iABC,   /* OP_SELF */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_ADD */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_SUB */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_MUL */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_MOD */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_POW */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_DIV */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_IDIV */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_BAND */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_BOR */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_BXOR */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_SHL */\n    0 << 7 | 1 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_SHR */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iABC,   /* OP_UNM */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iABC,   /* OP_BNOT */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iABC,   /* OP_NOT */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iABC,   /* OP_LEN */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgR << 2 | iABC,   /* OP_CONCAT */\n    0 << 7 | 0 << 6 | OpArgR << 4 | OpArgN << 2 | iAsBx,  /* OP_JMP */\n    1 << 7 | 0 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_EQ */\n    1 << 7 | 0 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_LT */\n    1 << 7 | 0 << 6 | OpArgK << 4 | OpArgK << 2 | iABC,   /* OP_LE */\n    1 << 7 | 0 << 6 | OpArgN << 4 | OpArgU << 2 | iABC,   /* OP_TEST */\n    1 << 7 | 1 << 6 | OpArgR << 4 | OpArgU << 2 | iABC,   /* OP_TESTSET */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgU << 2 | iABC,   /* OP_CALL */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgU << 2 | iABC,   /* OP_TAILCALL */\n    0 << 7 | 0 << 6 | OpArgU << 4 | OpArgN << 2 | iABC,   /* OP_RETURN */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iAsBx,  /* OP_FORLOOP */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iAsBx,  /* OP_FORPREP */\n    0 << 7 | 0 << 6 | OpArgN << 4 | OpArgU << 2 | iABC,   /* OP_TFORCALL */\n    0 << 7 | 1 << 6 | OpArgR << 4 | OpArgN << 2 | iAsBx,  /* OP_TFORLOOP */\n    0 << 7 | 0 << 6 | OpArgU << 4 | OpArgU << 2 | iABC,   /* OP_SETLIST */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgN << 2 | iABx,   /* OP_CLOSURE */\n    0 << 7 | 1 << 6 | OpArgU << 4 | OpArgN << 2 | iABC,   /* OP_VARARG */\n    0 << 7 | 0 << 6 | OpArgU << 4 | OpArgU << 2 | iAx     /* OP_EXTRAARG */\n];\n\nconst getOpMode = function(m) {\n    return luaP_opmodes[m] & 3;\n};\n\nconst getBMode = function(m) {\n    return (luaP_opmodes[m] >> 4) & 3;\n};\n\nconst getCMode = function(m) {\n    return (luaP_opmodes[m] >> 2) & 3;\n};\n\nconst testAMode = function(m) {\n    return luaP_opmodes[m] & (1 << 6);\n};\n\nconst testTMode = function(m) {\n    return luaP_opmodes[m] & (1 << 7);\n};\n\nconst SIZE_C     = 9;\nconst SIZE_B     = 9;\nconst SIZE_Bx    = (SIZE_C + SIZE_B);\nconst SIZE_A     = 8;\nconst SIZE_Ax    = (SIZE_C + SIZE_B + SIZE_A);\nconst SIZE_OP    = 6;\nconst POS_OP     = 0;\nconst POS_A      = (POS_OP + SIZE_OP);\nconst POS_C      = (POS_A + SIZE_A);\nconst POS_B      = (POS_C + SIZE_C);\nconst POS_Bx     = POS_C;\nconst POS_Ax     = POS_A;\nconst MAXARG_Bx  = ((1 << SIZE_Bx) - 1);\nconst MAXARG_sBx = (MAXARG_Bx >> 1); /* 'sBx' is signed */\nconst MAXARG_Ax  = ((1<<SIZE_Ax)-1);\nconst MAXARG_A   = ((1 << SIZE_A) - 1);\nconst MAXARG_B   = ((1 << SIZE_B) - 1);\nconst MAXARG_C   = ((1 << SIZE_C) - 1);\n\n/* this bit 1 means constant (0 means register) */\nconst BITRK      = (1 << (SIZE_B - 1));\n\nconst MAXINDEXRK = (BITRK - 1);\n\n/*\n** invalid register that fits in 8 bits\n*/\nconst NO_REG     = MAXARG_A;\n\n/* test whether value is a constant */\nconst ISK = function (x) {\n    return x & BITRK;\n};\n\n/* gets the index of the constant */\nconst INDEXK = function (r) {\n    return r & ~BITRK;\n};\n\n/* code a constant index as a RK value */\nconst RKASK = function(x) {\n    return x | BITRK;\n};\n\n\n/* creates a mask with 'n' 1 bits at position 'p' */\nconst MASK1 = function(n, p) {\n    return ((~((~0)<<(n)))<<(p));\n};\n\n/* creates a mask with 'n' 0 bits at position 'p' */\nconst MASK0 = function(n, p) {\n    return (~MASK1(n, p));\n};\n\nconst GET_OPCODE = function(i) {\n    return i.opcode;\n};\n\nconst SET_OPCODE = function(i, o) {\n    i.code = (i.code & MASK0(SIZE_OP, POS_OP)) | ((o << POS_OP) & MASK1(SIZE_OP, POS_OP));\n    return fullins(i);\n};\n\nconst setarg = function(i, v, pos, size) {\n    i.code = (i.code & MASK0(size, pos)) | ((v << pos) & MASK1(size, pos));\n    return fullins(i);\n};\n\nconst GETARG_A = function(i) {\n    return i.A;\n};\n\nconst SETARG_A = function(i,v) {\n    return setarg(i, v, POS_A, SIZE_A);\n};\n\nconst GETARG_B = function(i) {\n    return i.B;\n};\n\nconst SETARG_B = function(i,v) {\n    return setarg(i, v, POS_B, SIZE_B);\n};\n\nconst GETARG_C = function(i) {\n    return i.C;\n};\n\nconst SETARG_C = function(i,v) {\n    return setarg(i, v, POS_C, SIZE_C);\n};\n\nconst GETARG_Bx = function(i) {\n    return i.Bx;\n};\n\nconst SETARG_Bx = function(i,v) {\n    return setarg(i, v, POS_Bx, SIZE_Bx);\n};\n\nconst GETARG_Ax = function(i) {\n    return i.Ax;\n};\n\nconst SETARG_Ax = function(i,v) {\n    return setarg(i, v, POS_Ax, SIZE_Ax);\n};\n\nconst GETARG_sBx = function(i) {\n    return i.sBx;\n};\n\nconst SETARG_sBx = function(i, b) {\n    return SETARG_Bx(i, b + MAXARG_sBx);\n};\n\n/*\n** Pre-calculate all possible part of the instruction\n*/\nconst fullins = function(ins) {\n    if (typeof ins === \"number\") {\n        return {\n            code:   ins,\n            opcode: (ins >> POS_OP) & MASK1(SIZE_OP, 0),\n            A:      (ins >> POS_A)  & MASK1(SIZE_A,  0),\n            B:      (ins >> POS_B)  & MASK1(SIZE_B,  0),\n            C:      (ins >> POS_C)  & MASK1(SIZE_C,  0),\n            Bx:     (ins >> POS_Bx) & MASK1(SIZE_Bx, 0),\n            Ax:     (ins >> POS_Ax) & MASK1(SIZE_Ax, 0),\n            sBx:    ((ins >> POS_Bx) & MASK1(SIZE_Bx, 0)) - MAXARG_sBx\n        };\n    } else {\n        let i = ins.code;\n        ins.opcode = (i >> POS_OP) & MASK1(SIZE_OP, 0);\n        ins.A      = (i >> POS_A)  & MASK1(SIZE_A,  0);\n        ins.B      = (i >> POS_B)  & MASK1(SIZE_B,  0);\n        ins.C      = (i >> POS_C)  & MASK1(SIZE_C,  0);\n        ins.Bx     = (i >> POS_Bx) & MASK1(SIZE_Bx, 0);\n        ins.Ax     = (i >> POS_Ax) & MASK1(SIZE_Ax, 0);\n        ins.sBx    = ((i >> POS_Bx) & MASK1(SIZE_Bx, 0)) - MAXARG_sBx;\n        return ins;\n    }\n};\n\nconst CREATE_ABC = function(o, a, b, c) {\n    return fullins(o << POS_OP | a << POS_A | b << POS_B | c << POS_C);\n};\n\nconst CREATE_ABx = function(o, a, bc) {\n    return fullins(o << POS_OP | a << POS_A | bc << POS_Bx);\n};\n\nconst CREATE_Ax = function(o, a) {\n    return fullins(o << POS_OP | a << POS_Ax);\n};\n\n/* number of list items to accumulate before a SETLIST instruction */\nconst LFIELDS_PER_FLUSH = 50;\n\nmodule.exports.BITRK               = BITRK;\nmodule.exports.CREATE_ABC          = CREATE_ABC;\nmodule.exports.CREATE_ABx          = CREATE_ABx;\nmodule.exports.CREATE_Ax           = CREATE_Ax;\nmodule.exports.GET_OPCODE          = GET_OPCODE;\nmodule.exports.GETARG_A            = GETARG_A;\nmodule.exports.GETARG_B            = GETARG_B;\nmodule.exports.GETARG_C            = GETARG_C;\nmodule.exports.GETARG_Bx           = GETARG_Bx;\nmodule.exports.GETARG_Ax           = GETARG_Ax;\nmodule.exports.GETARG_sBx          = GETARG_sBx;\nmodule.exports.INDEXK              = INDEXK;\nmodule.exports.ISK                 = ISK;\nmodule.exports.LFIELDS_PER_FLUSH   = LFIELDS_PER_FLUSH;\nmodule.exports.MAXARG_A            = MAXARG_A;\nmodule.exports.MAXARG_Ax           = MAXARG_Ax;\nmodule.exports.MAXARG_B            = MAXARG_B;\nmodule.exports.MAXARG_Bx           = MAXARG_Bx;\nmodule.exports.MAXARG_C            = MAXARG_C;\nmodule.exports.MAXARG_sBx          = MAXARG_sBx;\nmodule.exports.MAXINDEXRK          = MAXINDEXRK;\nmodule.exports.NO_REG              = NO_REG;\nmodule.exports.OpArgK              = OpArgK;\nmodule.exports.OpArgN              = OpArgN;\nmodule.exports.OpArgR              = OpArgR;\nmodule.exports.OpArgU              = OpArgU;\nmodule.exports.OpCodes             = OpCodes;\nmodule.exports.OpCodesI            = OpCodesI;\nmodule.exports.POS_A               = POS_A;\nmodule.exports.POS_Ax              = POS_Ax;\nmodule.exports.POS_B               = POS_B;\nmodule.exports.POS_Bx              = POS_Bx;\nmodule.exports.POS_C               = POS_C;\nmodule.exports.POS_OP              = POS_OP;\nmodule.exports.RKASK               = RKASK;\nmodule.exports.SETARG_A            = SETARG_A;\nmodule.exports.SETARG_Ax           = SETARG_Ax;\nmodule.exports.SETARG_B            = SETARG_B;\nmodule.exports.SETARG_Bx           = SETARG_Bx;\nmodule.exports.SETARG_C            = SETARG_C;\nmodule.exports.SETARG_sBx          = SETARG_sBx;\nmodule.exports.SET_OPCODE          = SET_OPCODE;\nmodule.exports.SIZE_A              = SIZE_A;\nmodule.exports.SIZE_Ax             = SIZE_Ax;\nmodule.exports.SIZE_B              = SIZE_B;\nmodule.exports.SIZE_Bx             = SIZE_Bx;\nmodule.exports.SIZE_C              = SIZE_C;\nmodule.exports.SIZE_OP             = SIZE_OP;\nmodule.exports.fullins             = fullins;\nmodule.exports.getBMode            = getBMode;\nmodule.exports.getCMode            = getCMode;\nmodule.exports.getOpMode           = getOpMode;\nmodule.exports.iABC                = iABC;\nmodule.exports.iABx                = iABx;\nmodule.exports.iAsBx               = iAsBx;\nmodule.exports.iAx                 = iAx;\nmodule.exports.testAMode           = testAMode;\nmodule.exports.testTMode           = testTMode;\n","\"use strict\";\n\nconst {\n    LUA_TNIL,\n    LUA_TTABLE,\n    lua_close,\n    lua_createtable,\n    lua_getfield,\n    lua_isboolean,\n    lua_isnoneornil,\n    lua_pop,\n    lua_pushboolean,\n    lua_pushfstring,\n    lua_pushinteger,\n    lua_pushliteral,\n    lua_pushnil,\n    lua_pushnumber,\n    lua_pushstring,\n    lua_setfield,\n    lua_settop,\n    lua_toboolean,\n    lua_tointegerx\n} = require('./lua.js');\nconst {\n    luaL_Buffer,\n    luaL_addchar,\n    luaL_addstring,\n    // luaL_argcheck,\n    luaL_argerror,\n    luaL_buffinit,\n    luaL_checkinteger,\n    luaL_checkstring,\n    luaL_checktype,\n    luaL_error,\n    luaL_execresult,\n    luaL_fileresult,\n    luaL_newlib,\n    luaL_optinteger,\n    luaL_optlstring,\n    luaL_optstring,\n    luaL_pushresult\n} = require('./lauxlib.js');\nconst {\n    luastring_eq,\n    to_jsstring,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\n/* options for ANSI C 89 (only 1-char options) */\n// const L_STRFTIMEC89 = to_luastring(\"aAbBcdHIjmMpSUwWxXyYZ%\");\n// const LUA_STRFTIMEOPTIONS = L_STRFTIMEC89;\n\n/* options for ISO C 99 and POSIX */\n// const L_STRFTIMEC99 = to_luastring(\"aAbBcCdDeFgGhHIjmMnprRStTuUVwWxXyYzZ%||EcECExEXEyEYOdOeOHOIOmOMOSOuOUOVOwOWOy\");  /* two-char options */\n// const LUA_STRFTIMEOPTIONS = L_STRFTIMEC99;\n\n/* options for Windows */\n// const L_STRFTIMEWIN = to_luastring(\"aAbBcdHIjmMpSUwWxXyYzZ%||#c#x#d#H#I#j#m#M#S#U#w#W#y#Y\");  /* two-char options */\n// const LUA_STRFTIMEOPTIONS = L_STRFTIMEWIN;\n\n/* options for our own strftime implementation\n  - should be superset of C89 options for compat\n  - missing from C99:\n      - ISO 8601 week specifiers: gGV\n      - > single char specifiers\n  - beyond C99:\n      - %k: TZ extension: space-padded 24-hour\n      - %l: TZ extension: space-padded 12-hour\n      - %P: GNU extension: lower-case am/pm\n*/\nconst LUA_STRFTIMEOPTIONS = to_luastring(\"aAbBcCdDeFhHIjklmMnpPrRStTuUwWxXyYzZ%\");\n\n\nconst setfield = function(L, key, value) {\n    lua_pushinteger(L, value);\n    lua_setfield(L, -2, to_luastring(key, true));\n};\n\nconst setallfields = function(L, time, utc) {\n    setfield(L, \"sec\",   utc ? time.getUTCSeconds()  : time.getSeconds());\n    setfield(L, \"min\",   utc ? time.getUTCMinutes()  : time.getMinutes());\n    setfield(L, \"hour\",  utc ? time.getUTCHours()    : time.getHours());\n    setfield(L, \"day\",   utc ? time.getUTCDate()     : time.getDate());\n    setfield(L, \"month\", (utc ? time.getUTCMonth()   : time.getMonth()) + 1);\n    setfield(L, \"year\",  utc ? time.getUTCFullYear() : time.getFullYear());\n    setfield(L, \"wday\",  (utc ? time.getUTCDay()     : time.getDay()) + 1);\n    setfield(L, \"yday\", Math.floor((time - (new Date(time.getFullYear(), 0, 0 /* shortcut to correct day by one */))) / 86400000));\n    // setboolfield(L, \"isdst\", time.get);\n};\n\nconst L_MAXDATEFIELD = (Number.MAX_SAFE_INTEGER / 2);\n\nconst getfield = function(L, key, d, delta) {\n    let t = lua_getfield(L, -1, to_luastring(key, true));  /* get field and its type */\n    let res = lua_tointegerx(L, -1);\n    if (res === false) {  /* field is not an integer? */\n        if (t !== LUA_TNIL)  /* some other value? */\n            return luaL_error(L, to_luastring(\"field '%s' is not an integer\"), key);\n        else if (d < 0)  /* absent field; no default? */\n            return luaL_error(L, to_luastring(\"field '%s' missing in date table\"), key);\n        res = d;\n    }\n    else {\n        if (!(-L_MAXDATEFIELD <= res && res <= L_MAXDATEFIELD))\n            return luaL_error(L, to_luastring(\"field '%s' is out-of-bound\"), key);\n        res -= delta;\n    }\n    lua_pop(L, 1);\n    return res;\n};\n\n\nconst locale = {\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ].map((s) => to_luastring(s)),\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"].map((s) => to_luastring(s)),\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"].map((s) => to_luastring(s)),\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"].map((s) => to_luastring(s)),\n    AM: to_luastring(\"AM\"),\n    PM: to_luastring(\"PM\"),\n    am: to_luastring(\"am\"),\n    pm: to_luastring(\"pm\"),\n    formats: {\n        c: to_luastring(\"%a %b %e %H:%M:%S %Y\"),\n        D: to_luastring(\"%m/%d/%y\"),\n        F: to_luastring(\"%Y-%m-%d\"),\n        R: to_luastring(\"%H:%M\"),\n        r: to_luastring(\"%I:%M:%S %p\"),\n        T: to_luastring(\"%H:%M:%S\"),\n        X: to_luastring(\"%T\"),\n        x: to_luastring(\"%D\")\n    }\n};\n\nconst week_number = function(date, start_of_week) {\n    // This works by shifting the weekday back by one day if we\n    // are treating Monday as the first day of the week.\n    let weekday = date.getDay();\n    if (start_of_week === 'monday') {\n        if (weekday === 0) // Sunday\n            weekday = 6;\n        else\n            weekday--;\n    }\n    let yday = (date - new Date(date.getFullYear(), 0, 1)) / 86400000;\n    return Math.floor((yday + 7 - weekday) / 7);\n};\n\nconst push_pad_2 = function(b, n, pad) {\n    if (n < 10)\n        luaL_addchar(b, pad);\n    luaL_addstring(b, to_luastring(String(n)));\n};\n\nconst strftime = function(L, b, s, date) {\n    let i = 0;\n    while (i < s.length) {\n        if (s[i] !== 37 /* % */) {  /* not a conversion specifier? */\n            luaL_addchar(b, s[i++]);\n        } else {\n            i++;  /* skip '%' */\n            let len = checkoption(L, s, i);\n            /* each `case` has an example output above it for the UTC epoch */\n            switch(s[i]) {\n                // '%'\n                case 37 /* % */:\n                    luaL_addchar(b, 37);\n                    break;\n\n                // 'Thursday'\n                case 65 /* A */:\n                    luaL_addstring(b, locale.days[date.getDay()]);\n                    break;\n\n                // 'January'\n                case 66 /* B */:\n                    luaL_addstring(b, locale.months[date.getMonth()]);\n                    break;\n\n                // '19'\n                case 67 /* C */:\n                    push_pad_2(b, Math.floor(date.getFullYear() / 100), 48 /* 0 */);\n                    break;\n\n                // '01/01/70'\n                case 68 /* D */:\n                    strftime(L, b, locale.formats.D, date);\n                    break;\n\n                // '1970-01-01'\n                case 70 /* F */:\n                    strftime(L, b, locale.formats.F, date);\n                    break;\n\n                // '00'\n                case 72 /* H */:\n                    push_pad_2(b, date.getHours(), 48 /* 0 */);\n                    break;\n\n                // '12'\n                case 73 /* I */:\n                    push_pad_2(b, (date.getHours() + 11) % 12 + 1, 48 /* 0 */);\n                    break;\n\n                // '00'\n                case 77 /* M */:\n                    push_pad_2(b, date.getMinutes(), 48 /* 0 */);\n                    break;\n\n                // 'am'\n                case 80 /* P */:\n                    luaL_addstring(b, date.getHours() < 12 ? locale.am : locale.pm);\n                    break;\n\n                // '00:00'\n                case 82 /* R */:\n                    strftime(L, b, locale.formats.R, date);\n                    break;\n\n                // '00'\n                case 83 /* S */:\n                    push_pad_2(b, date.getSeconds(), 48 /* 0 */);\n                    break;\n\n                // '00:00:00'\n                case 84 /* T */:\n                    strftime(L, b, locale.formats.T, date);\n                    break;\n\n                // '00'\n                case 85 /* U */:\n                    push_pad_2(b, week_number(date, \"sunday\"), 48 /* 0 */);\n                    break;\n\n                // '00'\n                case 87 /* W */:\n                    push_pad_2(b, week_number(date, \"monday\"), 48 /* 0 */);\n                    break;\n\n                // '16:00:00'\n                case 88 /* X */:\n                    strftime(L, b, locale.formats.X, date);\n                    break;\n\n                // '1970'\n                case 89 /* Y */:\n                    luaL_addstring(b, to_luastring(String(date.getFullYear())));\n                    break;\n\n                // 'GMT'\n                case 90 /* Z */: {\n                    let tzString = date.toString().match(/\\(([\\w\\s]+)\\)/);\n                    if (tzString)\n                        luaL_addstring(b, to_luastring(tzString[1]));\n                    break;\n                }\n\n                // 'Thu'\n                case 97 /* a */:\n                    luaL_addstring(b, locale.shortDays[date.getDay()]);\n                    break;\n\n                // 'Jan'\n                case 98 /* b */:\n                case 104 /* h */:\n                    luaL_addstring(b, locale.shortMonths[date.getMonth()]);\n                    break;\n\n                // ''\n                case 99 /* c */:\n                    strftime(L, b, locale.formats.c, date);\n                    break;\n\n                // '01'\n                case 100 /* d */:\n                    push_pad_2(b, date.getDate(), 48 /* 0 */);\n                    break;\n\n                // ' 1'\n                case 101 /* e */:\n                    push_pad_2(b, date.getDate(), 32 /* space */);\n                    break;\n\n                // '000'\n                case 106 /* j */: {\n                    let yday = Math.floor((date - new Date(date.getFullYear(), 0, 1)) / 86400000);\n                    if (yday < 100) {\n                        if (yday < 10)\n                            luaL_addchar(b, 48 /* 0 */);\n                        luaL_addchar(b, 48 /* 0 */);\n                    }\n                    luaL_addstring(b, to_luastring(String(yday)));\n                    break;\n                }\n\n                // ' 0'\n                case 107 /* k */:\n                    push_pad_2(b, date.getHours(), 32 /* space */);\n                    break;\n\n                // '12'\n                case 108 /* l */:\n                    push_pad_2(b, (date.getHours() + 11) % 12 + 1, 32 /* space */);\n                    break;\n\n                // '01'\n                case 109 /* m */:\n                    push_pad_2(b, date.getMonth() + 1, 48 /* 0 */);\n                    break;\n\n                // '\\n'\n                case 110 /* n */:\n                    luaL_addchar(b, 10);\n                    break;\n\n                // 'AM'\n                case 112 /* p */:\n                    luaL_addstring(b, date.getHours() < 12 ? locale.AM : locale.PM);\n                    break;\n\n                // '12:00:00 AM'\n                case 114 /* r */:\n                    strftime(L, b, locale.formats.r, date);\n                    break;\n\n                // '0'\n                case 115 /* s */:\n                    luaL_addstring(b, to_luastring(String(Math.floor(date / 1000))));\n                    break;\n\n                // '\\t'\n                case 116 /* t */:\n                    luaL_addchar(b, 8);\n                    break;\n\n                // '4'\n                case 117 /* u */: {\n                    let day = date.getDay();\n                    luaL_addstring(b, to_luastring(String(day === 0 ? 7 : day)));\n                    break;\n                }\n\n                // '4'\n                case 119 /* w */:\n                    luaL_addstring(b, to_luastring(String(date.getDay())));\n                    break;\n\n                // '12/31/69'\n                case 120 /* x */:\n                    strftime(L, b, locale.formats.x, date);\n                    break;\n\n                // '70'\n                case 121 /* y */:\n                    push_pad_2(b, date.getFullYear() % 100, 48 /* 0 */);\n                    break;\n\n                // '+0000'\n                case 122 /* z */: {\n                    let off = date.getTimezoneOffset();\n                    if (off > 0) {\n                        luaL_addchar(b, 45 /* - */);\n                    } else {\n                        off = -off;\n                        luaL_addchar(b, 43 /* + */);\n                    }\n                    push_pad_2(b, Math.floor(off/60), 48 /* 0 */);\n                    push_pad_2(b, off % 60, 48 /* 0 */);\n                    break;\n                }\n            }\n            i += len;\n        }\n    }\n};\n\n\nconst checkoption = function(L, conv, i) {\n    let option = LUA_STRFTIMEOPTIONS;\n    let o = 0;\n    let oplen = 1;  /* length of options being checked */\n    for (; o < option.length && oplen <= (conv.length - i); o += oplen) {\n        if (option[o] === '|'.charCodeAt(0))  /* next block? */\n            oplen++;  /* will check options with next length (+1) */\n        else if (luastring_eq(conv.subarray(i, i+oplen), option.subarray(o, o+oplen))) {  /* match? */\n            return oplen;  /* return length */\n        }\n    }\n    luaL_argerror(L, 1,\n        lua_pushfstring(L, to_luastring(\"invalid conversion specifier '%%%s'\"), conv));\n};\n\n/* maximum size for an individual 'strftime' item */\n// const SIZETIMEFMT = 250;\n\n\nconst os_date = function(L) {\n    let s = luaL_optlstring(L, 1, \"%c\");\n    let stm = lua_isnoneornil(L, 2) ? new Date() : new Date(l_checktime(L, 2) * 1000);\n    let utc = false;\n    let i = 0;\n    if (s[i] === '!'.charCodeAt(0)) {  /* UTC? */\n        utc = true;\n        i++;  /* skip '!' */\n    }\n    if (s[i] === \"*\".charCodeAt(0) && s[i+1] === \"t\".charCodeAt(0)) {\n        lua_createtable(L, 0, 9);  /* 9 = number of fields */\n        setallfields(L, stm, utc);\n    } else {\n        let cc = new Uint8Array(4);\n        cc[0] = \"%\".charCodeAt(0);\n        let b = new luaL_Buffer();\n        luaL_buffinit(L, b);\n        strftime(L, b, s, stm);\n        luaL_pushresult(b);\n    }\n    return 1;\n};\n\nconst os_time = function(L) {\n    let t;\n    if (lua_isnoneornil(L, 1))  /* called without args? */\n        t = new Date();  /* get current time */\n    else {\n        luaL_checktype(L, 1, LUA_TTABLE);\n        lua_settop(L, 1);  /* make sure table is at the top */\n        t = new Date(\n            getfield(L, \"year\", -1, 0),\n            getfield(L, \"month\", -1, 1),\n            getfield(L, \"day\", -1, 0),\n            getfield(L, \"hour\", 12, 0),\n            getfield(L, \"min\", 0, 0),\n            getfield(L, \"sec\", 0, 0)\n        );\n        setallfields(L, t);\n    }\n\n    lua_pushinteger(L, Math.floor(t / 1000));\n    return 1;\n};\n\nconst l_checktime = function(L, arg) {\n    let t = luaL_checkinteger(L, arg);\n    // luaL_argcheck(L, t, arg, \"time out-of-bounds\");\n    return t;\n};\n\nconst os_difftime = function(L) {\n    let t1 = l_checktime(L, 1);\n    let t2 = l_checktime(L, 2);\n    lua_pushnumber(L, t1 - t2);\n    return 1;\n};\n\nconst syslib = {\n    \"date\": os_date,\n    \"difftime\": os_difftime,\n    \"time\": os_time\n};\n\nif (typeof process === \"undefined\") {\n    syslib.clock = function(L) {\n        lua_pushnumber(L, performance.now()/1000);\n        return 1;\n    };\n} else {\n    /* Only with Node */\n    const fs = require('fs');\n    const tmp = require('tmp');\n    const child_process = require('child_process');\n\n    syslib.exit = function(L) {\n        let status;\n        if (lua_isboolean(L, 1))\n            status = (lua_toboolean(L, 1) ? 0 : 1);\n        else\n            status = luaL_optinteger(L, 1, 0);\n        if (lua_toboolean(L, 2))\n            lua_close(L);\n        if (L) process.exit(status);  /* 'if' to avoid warnings for unreachable 'return' */\n        return 0;\n    };\n\n    syslib.getenv = function(L) {\n        let key = luaL_checkstring(L, 1);\n        key = to_jsstring(key); /* https://github.com/nodejs/node/issues/16961 */\n        if (Object.prototype.hasOwnProperty.call(process.env, key)) {\n            lua_pushliteral(L, process.env[key]);\n        } else {\n            lua_pushnil(L);\n        }\n        return 1;\n    };\n\n    syslib.clock = function(L) {\n        lua_pushnumber(L, process.uptime());\n        return 1;\n    };\n\n    const lua_tmpname = function() {\n        return tmp.tmpNameSync();\n    };\n\n    syslib.remove = function(L) {\n        let filename = luaL_checkstring(L, 1);\n        try {\n            fs.unlinkSync(filename);\n        } catch (e) {\n            if (e.code === 'EISDIR') {\n                try {\n                    fs.rmdirSync(filename);\n                } catch (e) {\n                    return luaL_fileresult(L, false, filename, e);\n                }\n            } else {\n                return luaL_fileresult(L, false, filename, e);\n            }\n        }\n        return luaL_fileresult(L, true);\n    };\n\n    syslib.rename = function(L) {\n        let fromname = luaL_checkstring(L, 1);\n        let toname = luaL_checkstring(L, 2);\n        try {\n            fs.renameSync(fromname, toname);\n        } catch (e) {\n            return luaL_fileresult(L, false, false, e);\n        }\n        return luaL_fileresult(L, true);\n    };\n\n    syslib.tmpname = function(L) {\n        let name = lua_tmpname();\n        if (!name)\n            return luaL_error(L, to_luastring(\"unable to generate a unique filename\"));\n        lua_pushstring(L, to_luastring(name));\n        return 1;\n    };\n\n    syslib.execute = function(L) {\n        let cmd = luaL_optstring(L, 1, null);\n        if (cmd !== null) {\n            try {\n                child_process.execSync(\n                    cmd,\n                    {\n                        stdio: [process.stdin, process.stdout, process.stderr]\n                    }\n                );\n            } catch (e) {\n                return luaL_execresult(L, e);\n            }\n\n            return luaL_execresult(L, null);\n        } else {\n            /* Assume a shell is available.\n               If it's good enough for musl it's good enough for us.\n               http://git.musl-libc.org/cgit/musl/tree/src/process/system.c?id=ac45692a53a1b8d2ede329d91652d43c1fb5dc8d#n22\n            */\n            lua_pushboolean(L, 1);\n            return 1;\n        }\n    };\n}\n\nconst luaopen_os = function(L) {\n    luaL_newlib(L, syslib);\n    return 1;\n};\n\nmodule.exports.luaopen_os = luaopen_os;\n","\"use strict\";\n\nconst {\n    LUA_MULTRET,\n    to_luastring\n} = require('./defs.js');\nconst {\n    BinOpr: {\n        OPR_ADD,\n        OPR_AND,\n        OPR_BAND,\n        OPR_BOR,\n        OPR_BXOR,\n        OPR_CONCAT,\n        OPR_DIV,\n        OPR_EQ,\n        OPR_GE,\n        OPR_GT,\n        OPR_IDIV,\n        OPR_LE,\n        OPR_LT,\n        OPR_MOD,\n        OPR_MUL,\n        OPR_NE,\n        OPR_NOBINOPR,\n        OPR_OR,\n        OPR_POW,\n        OPR_SHL,\n        OPR_SHR,\n        OPR_SUB\n    },\n    UnOpr: {\n        OPR_BNOT,\n        OPR_LEN,\n        OPR_MINUS,\n        OPR_NOT,\n        OPR_NOUNOPR\n    },\n    NO_JUMP,\n    getinstruction,\n    luaK_checkstack,\n    luaK_codeABC,\n    luaK_codeABx,\n    luaK_codeAsBx,\n    luaK_codek,\n    luaK_concat,\n    luaK_dischargevars,\n    luaK_exp2RK,\n    luaK_exp2anyreg,\n    luaK_exp2anyregup,\n    luaK_exp2nextreg,\n    luaK_exp2val,\n    luaK_fixline,\n    luaK_getlabel,\n    luaK_goiffalse,\n    luaK_goiftrue,\n    luaK_indexed,\n    luaK_infix,\n    luaK_intK,\n    luaK_jump,\n    luaK_jumpto,\n    luaK_nil,\n    luaK_patchclose,\n    luaK_patchlist,\n    luaK_patchtohere,\n    luaK_posfix,\n    luaK_prefix,\n    luaK_reserveregs,\n    luaK_ret,\n    luaK_self,\n    luaK_setlist,\n    luaK_setmultret,\n    luaK_setoneret,\n    luaK_setreturns,\n    luaK_storevar,\n    luaK_stringK\n} = require('./lcode.js');\nconst ldo      = require('./ldo.js');\nconst lfunc    = require('./lfunc.js');\nconst llex     = require('./llex.js');\nconst {\n    LUAI_MAXCCALLS,\n    MAX_INT,\n    lua_assert\n}  = require('./llimits.js');\nconst lobject  = require('./lobject.js');\nconst {\n    OpCodesI: {\n        OP_CALL,\n        OP_CLOSURE,\n        OP_FORLOOP,\n        OP_FORPREP,\n        OP_GETUPVAL,\n        OP_MOVE,\n        OP_NEWTABLE,\n        OP_SETTABLE,\n        OP_TAILCALL,\n        OP_TFORCALL,\n        OP_TFORLOOP,\n        OP_VARARG\n    },\n    LFIELDS_PER_FLUSH,\n    SETARG_B,\n    SETARG_C,\n    SET_OPCODE\n} = require('./lopcodes.js');\nconst {\n    luaS_eqlngstr,\n    luaS_new,\n    luaS_newliteral\n} = require('./lstring.js');\nconst ltable   = require('./ltable.js');\nconst Proto    = lfunc.Proto;\nconst R        = llex.RESERVED;\n\nconst MAXVARS = 200;\n\nconst hasmultret = function(k) {\n    return k === expkind.VCALL || k === expkind.VVARARG;\n};\n\nconst eqstr = function(a, b) {\n    /* TODO: use plain equality as strings are cached */\n    return luaS_eqlngstr(a, b);\n};\n\nclass BlockCnt {\n    constructor() {\n        this.previous = null;  /* chain */\n        this.firstlabel = NaN; /* index of first label in this block */\n        this.firstgoto = NaN;  /* index of first pending goto in this block */\n        this.nactvar = NaN;    /* # active locals outside the block */\n        this.upval = NaN;      /* true if some variable in the block is an upvalue */\n        this.isloop = NaN;     /* true if 'block' is a loop */\n    }\n}\n\nconst expkind = {\n    VVOID: 0,        /* when 'expdesc' describes the last expression a list,\n                        this kind means an empty list (so, no expression) */\n    VNIL: 1,         /* constant nil */\n    VTRUE: 2,        /* constant true */\n    VFALSE: 3,       /* constant false */\n    VK: 4,           /* constant in 'k'; info = index of constant in 'k' */\n    VKFLT: 5,        /* floating constant; nval = numerical float value */\n    VKINT: 6,        /* integer constant; nval = numerical integer value */\n    VNONRELOC: 7,    /* expression has its value in a fixed register;\n                        info = result register */\n    VLOCAL: 8,       /* local variable; info = local register */\n    VUPVAL: 9,       /* upvalue variable; info = index of upvalue in 'upvalues' */\n    VINDEXED: 10,    /* indexed variable;\n                        ind.vt = whether 't' is register or upvalue;\n                        ind.t = table register or upvalue;\n                        ind.idx = key's R/K index */\n    VJMP: 11,        /* expression is a test/comparison;\n                        info = pc of corresponding jump instruction */\n    VRELOCABLE: 12,  /* expression can put result in any register;\n                        info = instruction pc */\n    VCALL: 13,       /* expression is a function call; info = instruction pc */\n    VVARARG: 14      /* vararg expression; info = instruction pc */\n};\n\nconst vkisvar = function(k) {\n    return expkind.VLOCAL <= k && k <= expkind.VINDEXED;\n};\n\nconst vkisinreg = function(k) {\n    return k === expkind.VNONRELOC || k === expkind.VLOCAL;\n};\n\nclass expdesc {\n    constructor() {\n        this.k = NaN;\n        this.u = {\n            ival: NaN,    /* for VKINT */\n            nval: NaN,    /* for VKFLT */\n            info: NaN,    /* for generic use */\n            ind: {        /* for indexed variables (VINDEXED) */\n                idx: NaN, /* index (R/K) */\n                t: NaN,   /* table (register or upvalue) */\n                vt: NaN   /* whether 't' is register (VLOCAL) or upvalue (VUPVAL) */\n            }\n        };\n        this.t = NaN;     /* patch list of 'exit when true' */\n        this.f = NaN;     /* patch list of 'exit when false' */\n    }\n\n    to(e) { // Copy e content to this, cf. luaK_posfix\n        this.k = e.k;\n        this.u = e.u;\n        this.t = e.t;\n        this.f = e.f;\n    }\n}\n\nclass FuncState {\n    constructor() {\n        this.f = null;         /* current function header */\n        this.prev = null;      /* enclosing function */\n        this.ls = null;        /* lexical state */\n        this.bl = null;        /* chain of current blocks */\n        this.pc = NaN;         /* next position to code (equivalent to 'ncode') */\n        this.lasttarget = NaN; /* 'label' of last 'jump label' */\n        this.jpc = NaN;        /* list of pending jumps to 'pc' */\n        this.nk = NaN;         /* number of elements in 'k' */\n        this.np = NaN;         /* number of elements in 'p' */\n        this.firstlocal = NaN; /* index of first local var (in Dyndata array) */\n        this.nlocvars = NaN;   /* number of elements in 'f->locvars' */\n        this.nactvar = NaN;    /* number of active local variables */\n        this.nups = NaN;       /* number of upvalues */\n        this.freereg = NaN;    /* first free register */\n    }\n}\n\n/* description of active local variable */\nclass Vardesc {\n    constructor() {\n        this.idx = NaN;  /* variable index in stack */\n    }\n}\n\n\n/* description of pending goto statements and label statements */\nclass Labeldesc {\n    constructor() {\n        this.name = null;  /* label identifier */\n        this.pc = NaN;  /* position in code */\n        this.line = NaN;  /* line where it appeared */\n        this.nactvar = NaN;  /* local level where it appears in current block */\n    }\n}\n\n\n/* list of labels or gotos */\nclass Labellist {\n    constructor() {\n        this.arr = []; /* array */\n        this.n = NaN;  /* number of entries in use */\n        this.size = NaN;  /* array size */\n    }\n}\n\n/* dynamic structures used by the parser */\nclass Dyndata {\n    constructor() {\n        this.actvar = {  /* list of active local variables */\n            arr: [],\n            n: NaN,\n            size: NaN\n        };\n        this.gt = new Labellist();\n        this.label = new Labellist();\n    }\n}\n\nconst semerror = function(ls, msg) {\n    ls.t.token = 0;  /* remove \"near <token>\" from final message */\n    llex.luaX_syntaxerror(ls, msg);\n};\n\nconst error_expected = function(ls, token) {\n    llex.luaX_syntaxerror(ls, lobject.luaO_pushfstring(ls.L, to_luastring(\"%s expected\", true), llex.luaX_token2str(ls, token)));\n};\n\nconst errorlimit = function(fs, limit, what) {\n    let L = fs.ls.L;\n    let line = fs.f.linedefined;\n    let where = (line === 0)\n        ? to_luastring(\"main function\", true)\n        : lobject.luaO_pushfstring(L, to_luastring(\"function at line %d\", true), line);\n    let msg = lobject.luaO_pushfstring(L, to_luastring(\"too many %s (limit is %d) in %s\", true),\n        what, limit, where);\n    llex.luaX_syntaxerror(fs.ls, msg);\n};\n\nconst checklimit = function(fs, v, l, what) {\n    if (v > l) errorlimit(fs, l, what);\n};\n\nconst testnext = function(ls, c) {\n    if (ls.t.token === c) {\n        llex.luaX_next(ls);\n        return true;\n    }\n\n    return false;\n};\n\nconst check = function(ls, c) {\n    if (ls.t.token !== c)\n        error_expected(ls, c);\n};\n\nconst checknext = function(ls, c) {\n    check(ls, c);\n    llex.luaX_next(ls);\n};\n\nconst check_condition = function(ls, c, msg) {\n    if (!c)\n        llex.luaX_syntaxerror(ls, msg);\n};\n\nconst check_match = function(ls, what, who, where) {\n    if (!testnext(ls, what)) {\n        if (where === ls.linenumber)\n            error_expected(ls, what);\n        else\n            llex.luaX_syntaxerror(ls, lobject.luaO_pushfstring(ls.L,\n                to_luastring(\"%s expected (to close %s at line %d)\"),\n                llex.luaX_token2str(ls, what), llex.luaX_token2str(ls, who), where));\n    }\n};\n\nconst str_checkname = function(ls) {\n    check(ls, R.TK_NAME);\n    let ts = ls.t.seminfo.ts;\n    llex.luaX_next(ls);\n    return ts;\n};\n\nconst init_exp = function(e, k, i) {\n    e.f = e.t = NO_JUMP;\n    e.k = k;\n    e.u.info = i;\n};\n\nconst codestring = function(ls, e, s) {\n    init_exp(e, expkind.VK, luaK_stringK(ls.fs, s));\n};\n\nconst checkname = function(ls, e) {\n    codestring(ls, e, str_checkname(ls));\n};\n\nconst registerlocalvar = function(ls, varname) {\n    let fs = ls.fs;\n    let f = fs.f;\n    f.locvars[fs.nlocvars] = new lobject.LocVar();\n    f.locvars[fs.nlocvars].varname = varname;\n    return fs.nlocvars++;\n};\n\nconst new_localvar = function(ls, name) {\n    let fs = ls.fs;\n    let dyd = ls.dyd;\n    let reg = registerlocalvar(ls, name);\n    checklimit(fs, dyd.actvar.n + 1 - fs.firstlocal, MAXVARS, to_luastring(\"local variables\", true));\n    dyd.actvar.arr[dyd.actvar.n] = new Vardesc();\n    dyd.actvar.arr[dyd.actvar.n].idx = reg;\n    dyd.actvar.n++;\n};\n\nconst new_localvarliteral = function(ls, name) {\n    new_localvar(ls, llex.luaX_newstring(ls, to_luastring(name, true)));\n};\n\nconst getlocvar = function(fs, i) {\n    let idx = fs.ls.dyd.actvar.arr[fs.firstlocal + i].idx;\n    lua_assert(idx < fs.nlocvars);\n    return fs.f.locvars[idx];\n};\n\nconst adjustlocalvars = function(ls, nvars) {\n    let fs = ls.fs;\n    fs.nactvar = fs.nactvar + nvars;\n    for (; nvars; nvars--)\n        getlocvar(fs, fs.nactvar - nvars).startpc = fs.pc;\n};\n\nconst removevars = function(fs, tolevel) {\n    fs.ls.dyd.actvar.n -= fs.nactvar - tolevel;\n    while (fs.nactvar > tolevel)\n        getlocvar(fs, --fs.nactvar).endpc = fs.pc;\n};\n\nconst searchupvalue = function(fs, name) {\n    let up = fs.f.upvalues;\n    for (let i = 0; i < fs.nups; i++) {\n        if (eqstr(up[i].name, name))\n            return i;\n    }\n    return -1;  /* not found */\n};\n\nconst newupvalue = function(fs, name, v) {\n    let f = fs.f;\n    checklimit(fs, fs.nups + 1, lfunc.MAXUPVAL, to_luastring(\"upvalues\", true));\n    f.upvalues[fs.nups] = {\n        instack: v.k === expkind.VLOCAL,\n        idx: v.u.info,\n        name: name\n    };\n    return fs.nups++;\n};\n\nconst searchvar = function(fs, n) {\n    for (let i = fs.nactvar - 1; i >= 0; i--) {\n        if (eqstr(n, getlocvar(fs, i).varname))\n            return i;\n    }\n\n    return -1;\n};\n\n/*\n** Mark block where variable at given level was defined\n** (to emit close instructions later).\n*/\nconst markupval = function(fs, level) {\n    let bl = fs.bl;\n    while (bl.nactvar > level)\n        bl = bl.previous;\n    bl.upval = 1;\n};\n\n/*\n** Find variable with given name 'n'. If it is an upvalue, add this\n** upvalue into all intermediate functions.\n*/\nconst singlevaraux = function(fs, n, vr, base) {\n    if (fs === null)  /* no more levels? */\n        init_exp(vr, expkind.VVOID, 0);  /* default is global */\n    else {\n        let v = searchvar(fs, n);  /* look up locals at current level */\n        if (v >= 0) {  /* found? */\n            init_exp(vr, expkind.VLOCAL, v);  /* variable is local */\n            if (!base)\n                markupval(fs, v);  /* local will be used as an upval */\n        } else {  /* not found as local at current level; try upvalues */\n            let idx = searchupvalue(fs, n);  /* try existing upvalues */\n            if (idx < 0) {  /* not found? */\n                singlevaraux(fs.prev, n, vr, 0);  /* try upper levels */\n                if (vr.k === expkind.VVOID)  /* not found? */\n                    return;  /* it is a global */\n                /* else was LOCAL or UPVAL */\n                idx = newupvalue(fs, n, vr);  /* will be a new upvalue */\n            }\n            init_exp(vr, expkind.VUPVAL, idx);  /* new or old upvalue */\n        }\n    }\n};\n\nconst singlevar = function(ls, vr) {\n    let varname = str_checkname(ls);\n    let fs = ls.fs;\n    singlevaraux(fs, varname, vr, 1);\n    if (vr.k === expkind.VVOID) {  /* is global name? */\n        let key = new expdesc();\n        singlevaraux(fs, ls.envn, vr, 1);  /* get environment variable */\n        lua_assert(vr.k !== expkind.VVOID);  /* this one must exist */\n        codestring(ls, key, varname);  /* key is variable name */\n        luaK_indexed(fs, vr, key);  /* env[varname] */\n    }\n};\n\nconst adjust_assign = function(ls, nvars, nexps, e) {\n    let fs = ls.fs;\n    let extra = nvars - nexps;\n    if (hasmultret(e.k)) {\n        extra++;  /* includes call itself */\n        if (extra < 0) extra = 0;\n        luaK_setreturns(fs, e, extra);  /* last exp. provides the difference */\n        if (extra > 1) luaK_reserveregs(fs, extra - 1);\n    } else {\n        if (e.k !== expkind.VVOID) luaK_exp2nextreg(fs, e);  /* close last expression */\n        if (extra > 0) {\n            let reg = fs.freereg;\n            luaK_reserveregs(fs, extra);\n            luaK_nil(fs, reg, extra);\n        }\n    }\n    if (nexps > nvars)\n        ls.fs.freereg -= nexps - nvars;  /* remove extra values */\n};\n\nconst enterlevel = function(ls) {\n    let L = ls.L;\n    ++L.nCcalls;\n    checklimit(ls.fs, L.nCcalls, LUAI_MAXCCALLS, to_luastring(\"JS levels\", true));\n};\n\nconst leavelevel = function(ls) {\n    return ls.L.nCcalls--;\n};\n\nconst closegoto = function(ls, g, label) {\n    let fs = ls.fs;\n    let gl = ls.dyd.gt;\n    let gt = gl.arr[g];\n    lua_assert(eqstr(gt.name, label.name));\n    if (gt.nactvar < label.nactvar) {\n        let vname = getlocvar(fs, gt.nactvar).varname;\n        let msg = lobject.luaO_pushfstring(ls.L,\n            to_luastring(\"<goto %s> at line %d jumps into the scope of local '%s'\"),\n            gt.name.getstr(), gt.line, vname.getstr());\n        semerror(ls, msg);\n    }\n    luaK_patchlist(fs, gt.pc, label.pc);\n    /* remove goto from pending list */\n    for (let i = g; i < gl.n - 1; i++)\n        gl.arr[i] = gl.arr[i + 1];\n    gl.n--;\n};\n\n/*\n** try to close a goto with existing labels; this solves backward jumps\n*/\nconst findlabel = function(ls, g) {\n    let bl = ls.fs.bl;\n    let dyd = ls.dyd;\n    let gt = dyd.gt.arr[g];\n    /* check labels in current block for a match */\n    for (let i = bl.firstlabel; i < dyd.label.n; i++) {\n        let lb = dyd.label.arr[i];\n        if (eqstr(lb.name, gt.name)) {  /* correct label? */\n            if (gt.nactvar > lb.nactvar && (bl.upval || dyd.label.n > bl.firstlabel))\n                luaK_patchclose(ls.fs, gt.pc, lb.nactvar);\n            closegoto(ls, g, lb);  /* close it */\n            return true;\n        }\n    }\n    return false;  /* label not found; cannot close goto */\n};\n\nconst newlabelentry = function(ls, l, name, line, pc) {\n    let n = l.n;\n    l.arr[n] = new Labeldesc();\n    l.arr[n].name = name;\n    l.arr[n].line = line;\n    l.arr[n].nactvar = ls.fs.nactvar;\n    l.arr[n].pc = pc;\n    l.n = n + 1;\n    return n;\n};\n\n/*\n** check whether new label 'lb' matches any pending gotos in current\n** block; solves forward jumps\n*/\nconst findgotos = function(ls, lb) {\n    let gl = ls.dyd.gt;\n    let i = ls.fs.bl.firstgoto;\n    while (i < gl.n) {\n        if (eqstr(gl.arr[i].name, lb.name))\n            closegoto(ls, i, lb);\n        else\n            i++;\n    }\n};\n\n/*\n** export pending gotos to outer level, to check them against\n** outer labels; if the block being exited has upvalues, and\n** the goto exits the scope of any variable (which can be the\n** upvalue), close those variables being exited.\n*/\nconst movegotosout = function(fs, bl) {\n    let i = bl.firstgoto;\n    let gl = fs.ls.dyd.gt;\n    /* correct pending gotos to current block and try to close it\n       with visible labels */\n    while (i < gl.n) {\n        let gt = gl.arr[i];\n        if (gt.nactvar > bl.nactvar) {\n            if (bl.upval)\n                luaK_patchclose(fs, gt.pc, bl.nactvar);\n            gt.nactvar = bl.nactvar;\n        }\n        if (!findlabel(fs.ls, i))\n            i++;  /* move to next one */\n    }\n};\n\nconst enterblock = function(fs, bl, isloop) {\n    bl.isloop = isloop;\n    bl.nactvar = fs.nactvar;\n    bl.firstlabel = fs.ls.dyd.label.n;\n    bl.firstgoto = fs.ls.dyd.gt.n;\n    bl.upval = 0;\n    bl.previous = fs.bl;\n    fs.bl = bl;\n    lua_assert(fs.freereg === fs.nactvar);\n};\n\n/*\n** create a label named 'break' to resolve break statements\n*/\nconst breaklabel = function(ls) {\n    let n = luaS_newliteral(ls.L, \"break\");\n    let l = newlabelentry(ls, ls.dyd.label, n, 0, ls.fs.pc);\n    findgotos(ls, ls.dyd.label.arr[l]);\n};\n\n/*\n** generates an error for an undefined 'goto'; choose appropriate\n** message when label name is a reserved word (which can only be 'break')\n*/\nconst undefgoto = function(ls, gt) {\n    let msg = llex.isreserved(gt.name)\n        ? \"<%s> at line %d not inside a loop\"\n        : \"no visible label '%s' for <goto> at line %d\";\n    msg = lobject.luaO_pushfstring(ls.L, to_luastring(msg), gt.name.getstr(), gt.line);\n    semerror(ls, msg);\n};\n\n/*\n** adds a new prototype into list of prototypes\n*/\nconst addprototype = function(ls) {\n    let L = ls.L;\n    let clp = new Proto(L);\n    let fs = ls.fs;\n    let f = fs.f;  /* prototype of current function */\n    f.p[fs.np++] = clp;\n    return clp;\n};\n\n/*\n** codes instruction to create new closure in parent function.\n*/\nconst codeclosure = function(ls, v) {\n    let fs = ls.fs.prev;\n    init_exp(v, expkind.VRELOCABLE, luaK_codeABx(fs, OP_CLOSURE, 0, fs.np -1));\n    luaK_exp2nextreg(fs, v);  /* fix it at the last register */\n};\n\nconst open_func = function(ls, fs, bl) {\n    fs.prev = ls.fs;  /* linked list of funcstates */\n    fs.ls = ls;\n    ls.fs = fs;\n    fs.pc = 0;\n    fs.lasttarget = 0;\n    fs.jpc = NO_JUMP;\n    fs.freereg = 0;\n    fs.nk = 0;\n    fs.np = 0;\n    fs.nups = 0;\n    fs.nlocvars = 0;\n    fs.nactvar = 0;\n    fs.firstlocal = ls.dyd.actvar.n;\n    fs.bl = null;\n    let f = fs.f;\n    f.source = ls.source;\n    f.maxstacksize = 2;  /* registers 0/1 are always valid */\n    enterblock(fs, bl, false);\n};\n\nconst leaveblock = function(fs) {\n    let bl = fs.bl;\n    let ls = fs.ls;\n    if (bl.previous && bl.upval) {\n        /* create a 'jump to here' to close upvalues */\n        let j = luaK_jump(fs);\n        luaK_patchclose(fs, j , bl.nactvar);\n        luaK_patchtohere(fs, j);\n    }\n\n    if (bl.isloop)\n        breaklabel(ls);  /* close pending breaks */\n\n    fs.bl = bl.previous;\n    removevars(fs, bl.nactvar);\n    lua_assert(bl.nactvar === fs.nactvar);\n    fs.freereg = fs.nactvar;  /* free registers */\n    ls.dyd.label.n = bl.firstlabel;  /* remove local labels */\n    if (bl.previous)  /* inner block? */\n        movegotosout(fs, bl);  /* update pending gotos to outer block */\n    else if (bl.firstgoto < ls.dyd.gt.n)  /* pending gotos in outer block? */\n        undefgoto(ls, ls.dyd.gt.arr[bl.firstgoto]);  /* error */\n};\n\nconst close_func = function(ls) {\n    let fs = ls.fs;\n    luaK_ret(fs, 0, 0);  /* final return */\n    leaveblock(fs);\n    lua_assert(fs.bl === null);\n    ls.fs = fs.prev;\n};\n\n/*============================================================*/\n/* GRAMMAR RULES */\n/*============================================================*/\n\nconst block_follow = function(ls, withuntil) {\n    switch (ls.t.token) {\n        case R.TK_ELSE: case R.TK_ELSEIF:\n        case R.TK_END: case R.TK_EOS:\n            return true;\n        case R.TK_UNTIL: return withuntil;\n        default: return false;\n    }\n};\n\nconst statlist = function(ls) {\n    /* statlist -> { stat [';'] } */\n    while (!block_follow(ls, 1)) {\n        if (ls.t.token === R.TK_RETURN) {\n            statement(ls);\n            return;  /* 'return' must be last statement */\n        }\n        statement(ls);\n    }\n};\n\nconst fieldsel = function(ls, v) {\n    /* fieldsel -> ['.' | ':'] NAME */\n    let fs = ls.fs;\n    let key = new expdesc();\n    luaK_exp2anyregup(fs, v);\n    llex.luaX_next(ls);  /* skip the dot or colon */\n    checkname(ls, key);\n    luaK_indexed(fs, v, key);\n};\n\nconst yindex = function(ls, v) {\n    /* index -> '[' expr ']' */\n    llex.luaX_next(ls);  /* skip the '[' */\n    expr(ls, v);\n    luaK_exp2val(ls.fs, v);\n    checknext(ls, 93 /* (']').charCodeAt(0) */);\n};\n\n/*\n** {======================================================================\n** Rules for Constructors\n** =======================================================================\n*/\n\nclass ConsControl {\n    constructor() {\n        this.v = new expdesc(); /* last list item read */\n        this.t = new expdesc(); /* table descriptor */\n        this.nh = NaN;          /* total number of 'record' elements */\n        this.na = NaN;          /* total number of array elements */\n        this.tostore = NaN;     /* number of array elements pending to be stored */\n    }\n}\n\nconst recfield = function(ls, cc) {\n    /* recfield -> (NAME | '['exp1']') = exp1 */\n    let fs = ls.fs;\n    let reg = ls.fs.freereg;\n    let key = new expdesc();\n    let val = new expdesc();\n\n    if (ls.t.token === R.TK_NAME) {\n        checklimit(fs, cc.nh, MAX_INT, to_luastring(\"items in a constructor\", true));\n        checkname(ls, key);\n    } else  /* ls->t.token === '[' */\n        yindex(ls, key);\n    cc.nh++;\n    checknext(ls, 61 /* ('=').charCodeAt(0) */);\n    let rkkey = luaK_exp2RK(fs, key);\n    expr(ls, val);\n    luaK_codeABC(fs, OP_SETTABLE, cc.t.u.info, rkkey, luaK_exp2RK(fs, val));\n    fs.freereg = reg;  /* free registers */\n};\n\nconst closelistfield = function(fs, cc) {\n    if (cc.v.k === expkind.VVOID) return;  /* there is no list item */\n    luaK_exp2nextreg(fs, cc.v);\n    cc.v.k = expkind.VVOID;\n    if (cc.tostore === LFIELDS_PER_FLUSH) {\n        luaK_setlist(fs, cc.t.u.info, cc.na, cc.tostore);  /* flush */\n        cc.tostore = 0;  /* no more items pending */\n    }\n};\n\nconst lastlistfield = function(fs, cc) {\n    if (cc.tostore === 0) return;\n    if (hasmultret(cc.v.k)) {\n        luaK_setmultret(fs, cc.v);\n        luaK_setlist(fs, cc.t.u.info, cc.na, LUA_MULTRET);\n        cc.na--;  /* do not count last expression (unknown number of elements) */\n    } else {\n        if (cc.v.k !== expkind.VVOID)\n            luaK_exp2nextreg(fs, cc.v);\n        luaK_setlist(fs, cc.t.u.info, cc.na, cc.tostore);\n    }\n};\n\nconst listfield = function(ls, cc) {\n    /* listfield -> exp */\n    expr(ls, cc.v);\n    checklimit(ls.fs, cc.na, MAX_INT, to_luastring(\"items in a constructor\", true));\n    cc.na++;\n    cc.tostore++;\n};\n\nconst field = function(ls, cc) {\n    /* field -> listfield | recfield */\n    switch (ls.t.token) {\n        case R.TK_NAME: {  /* may be 'listfield' or 'recfield' */\n            if (llex.luaX_lookahead(ls) !== 61 /* ('=').charCodeAt(0) */)  /* expression? */\n                listfield(ls, cc);\n            else\n                recfield(ls, cc);\n            break;\n        }\n        case 91 /* ('[').charCodeAt(0) */: {\n            recfield(ls, cc);\n            break;\n        }\n        default: {\n            listfield(ls, cc);\n            break;\n        }\n    }\n};\n\nconst constructor = function(ls, t) {\n    /* constructor -> '{' [ field { sep field } [sep] ] '}'\n       sep -> ',' | ';' */\n    let fs = ls.fs;\n    let line = ls.linenumber;\n    let pc = luaK_codeABC(fs, OP_NEWTABLE, 0, 0, 0);\n    let cc = new ConsControl();\n    cc.na = cc.nh = cc.tostore = 0;\n    cc.t = t;\n    init_exp(t, expkind.VRELOCABLE, pc);\n    init_exp(cc.v, expkind.VVOID, 0);  /* no value (yet) */\n    luaK_exp2nextreg(ls.fs, t);  /* fix it at stack top */\n    checknext(ls, 123 /* ('{').charCodeAt(0) */);\n    do {\n        lua_assert(cc.v.k === expkind.VVOID || cc.tostore > 0);\n        if (ls.t.token === 125 /* ('}').charCodeAt(0) */) break;\n        closelistfield(fs, cc);\n        field(ls, cc);\n    } while (testnext(ls, 44 /* (',').charCodeAt(0) */) || testnext(ls, 59 /* (';').charCodeAt(0) */));\n    check_match(ls, 125 /* ('}').charCodeAt(0) */, 123 /* ('{').charCodeAt(0) */, line);\n    lastlistfield(fs, cc);\n    SETARG_B(fs.f.code[pc], lobject.luaO_int2fb(cc.na));  /* set initial array size */\n    SETARG_C(fs.f.code[pc], lobject.luaO_int2fb(cc.nh));  /* set initial table size */\n};\n\n/* }====================================================================== */\n\nconst parlist = function(ls) {\n    /* parlist -> [ param { ',' param } ] */\n    let fs = ls.fs;\n    let f = fs.f;\n    let nparams = 0;\n    f.is_vararg = false;\n    if (ls.t.token !== 41 /* (')').charCodeAt(0) */) {  /* is 'parlist' not empty? */\n        do {\n            switch (ls.t.token) {\n                case R.TK_NAME: {  /* param -> NAME */\n                    new_localvar(ls, str_checkname(ls));\n                    nparams++;\n                    break;\n                }\n                case R.TK_DOTS: {  /* param -> '...' */\n                    llex.luaX_next(ls);\n                    f.is_vararg = true;  /* declared vararg */\n                    break;\n                }\n                default: llex.luaX_syntaxerror(ls, to_luastring(\"<name> or '...' expected\", true));\n            }\n        } while(!f.is_vararg && testnext(ls, 44 /* (',').charCodeAt(0) */));\n    }\n    adjustlocalvars(ls, nparams);\n    f.numparams = fs.nactvar;\n    luaK_reserveregs(fs, fs.nactvar);  /* reserve register for parameters */\n};\n\nconst body = function(ls, e, ismethod, line) {\n    /* body ->  '(' parlist ')' block END */\n    let new_fs = new FuncState();\n    let bl = new BlockCnt();\n    new_fs.f = addprototype(ls);\n    new_fs.f.linedefined = line;\n    open_func(ls, new_fs, bl);\n    checknext(ls, 40 /* ('(').charCodeAt(0) */);\n    if (ismethod) {\n        new_localvarliteral(ls, \"self\");  /* create 'self' parameter */\n        adjustlocalvars(ls, 1);\n    }\n    parlist(ls);\n    checknext(ls, 41 /* (')').charCodeAt(0) */);\n    statlist(ls);\n    new_fs.f.lastlinedefined = ls.linenumber;\n    check_match(ls, R.TK_END, R.TK_FUNCTION, line);\n    codeclosure(ls, e);\n    close_func(ls);\n};\n\nconst explist = function(ls, v) {\n    /* explist -> expr { ',' expr } */\n    let n = 1;  /* at least one expression */\n    expr(ls, v);\n    while (testnext(ls, 44 /* (',').charCodeAt(0) */)) {\n        luaK_exp2nextreg(ls.fs, v);\n        expr(ls, v);\n        n++;\n    }\n    return n;\n};\n\nconst funcargs = function(ls, f, line) {\n    let fs = ls.fs;\n    let args = new expdesc();\n    switch (ls.t.token) {\n        case 40 /* ('(').charCodeAt(0) */: {  /* funcargs -> '(' [ explist ] ')' */\n            llex.luaX_next(ls);\n            if (ls.t.token === 41 /* (')').charCodeAt(0) */)  /* arg list is empty? */\n                args.k = expkind.VVOID;\n            else {\n                explist(ls, args);\n                luaK_setmultret(fs, args);\n            }\n            check_match(ls, 41 /* (')').charCodeAt(0) */, 40 /* ('(').charCodeAt(0) */, line);\n            break;\n        }\n        case 123 /* ('{').charCodeAt(0) */: {  /* funcargs -> constructor */\n            constructor(ls, args);\n            break;\n        }\n        case R.TK_STRING: {  /* funcargs -> STRING */\n            codestring(ls, args, ls.t.seminfo.ts);\n            llex.luaX_next(ls);  /* must use 'seminfo' before 'next' */\n            break;\n        }\n        default: {\n            llex.luaX_syntaxerror(ls, to_luastring(\"function arguments expected\", true));\n        }\n    }\n    lua_assert(f.k === expkind.VNONRELOC);\n    let nparams;\n    let base = f.u.info;  /* base register for call */\n    if (hasmultret(args.k))\n        nparams = LUA_MULTRET;  /* open call */\n    else {\n        if (args.k !== expkind.VVOID)\n            luaK_exp2nextreg(fs, args);  /* close last argument */\n        nparams = fs.freereg - (base+1);\n    }\n    init_exp(f, expkind.VCALL, luaK_codeABC(fs, OP_CALL, base, nparams+1, 2));\n    luaK_fixline(fs, line);\n    fs.freereg = base + 1; /* call remove function and arguments and leaves (unless changed) one result */\n};\n\n/*\n** {======================================================================\n** Expression parsing\n** =======================================================================\n*/\n\nconst primaryexp = function(ls, v) {\n    /* primaryexp -> NAME | '(' expr ')' */\n    switch (ls.t.token) {\n        case 40 /* ('(').charCodeAt(0) */: {\n            let line = ls.linenumber;\n            llex.luaX_next(ls);\n            expr(ls, v);\n            check_match(ls, 41 /* (')').charCodeAt(0) */, 40 /* ('(').charCodeAt(0) */, line);\n            luaK_dischargevars(ls.fs, v);\n            return;\n        }\n        case R.TK_NAME: {\n            singlevar(ls, v);\n            return;\n        }\n        default: {\n            llex.luaX_syntaxerror(ls, to_luastring(\"unexpected symbol\", true));\n        }\n    }\n};\n\nconst suffixedexp = function(ls, v) {\n    /* suffixedexp ->\n       primaryexp { '.' NAME | '[' exp ']' | ':' NAME funcargs | funcargs } */\n    let fs = ls.fs;\n    let line = ls.linenumber;\n    primaryexp(ls, v);\n    for (;;) {\n        switch (ls.t.token) {\n            case 46 /* ('.').charCodeAt(0) */: {  /* fieldsel */\n                fieldsel(ls, v);\n                break;\n            }\n            case 91 /* ('[').charCodeAt(0) */: {  /* '[' exp1 ']' */\n                let key = new expdesc();\n                luaK_exp2anyregup(fs, v);\n                yindex(ls, key);\n                luaK_indexed(fs, v, key);\n                break;\n            }\n            case 58 /* (':').charCodeAt(0) */: {  /* ':' NAME funcargs */\n                let key = new expdesc();\n                llex.luaX_next(ls);\n                checkname(ls, key);\n                luaK_self(fs, v, key);\n                funcargs(ls, v, line);\n                break;\n            }\n            case 40 /* ('(').charCodeAt(0) */: case R.TK_STRING: case 123 /* ('{').charCodeAt(0) */: {  /* funcargs */\n                luaK_exp2nextreg(fs, v);\n                funcargs(ls, v, line);\n                break;\n            }\n            default: return;\n        }\n    }\n};\n\nconst simpleexp = function(ls, v) {\n    /* simpleexp -> FLT | INT | STRING | NIL | TRUE | FALSE | ... |\n       constructor | FUNCTION body | suffixedexp */\n    switch (ls.t.token) {\n        case R.TK_FLT: {\n            init_exp(v, expkind.VKFLT, 0);\n            v.u.nval = ls.t.seminfo.r;\n            break;\n        }\n        case R.TK_INT: {\n            init_exp(v, expkind.VKINT, 0);\n            v.u.ival = ls.t.seminfo.i;\n            break;\n        }\n        case R.TK_STRING: {\n            codestring(ls, v, ls.t.seminfo.ts);\n            break;\n        }\n        case R.TK_NIL: {\n            init_exp(v, expkind.VNIL, 0);\n            break;\n        }\n        case R.TK_TRUE: {\n            init_exp(v, expkind.VTRUE, 0);\n            break;\n        }\n        case R.TK_FALSE: {\n            init_exp(v, expkind.VFALSE, 0);\n            break;\n        }\n        case R.TK_DOTS: {  /* vararg */\n            let fs = ls.fs;\n            check_condition(ls, fs.f.is_vararg, to_luastring(\"cannot use '...' outside a vararg function\", true));\n            init_exp(v, expkind.VVARARG, luaK_codeABC(fs, OP_VARARG, 0, 1, 0));\n            break;\n        }\n        case 123 /* ('{').charCodeAt(0) */: {  /* constructor */\n            constructor(ls, v);\n            return;\n        }\n        case R.TK_FUNCTION: {\n            llex.luaX_next(ls);\n            body(ls, v, 0, ls.linenumber);\n            return;\n        }\n        default: {\n            suffixedexp(ls, v);\n            return;\n        }\n    }\n    llex.luaX_next(ls);\n};\n\nconst getunopr = function(op) {\n    switch (op) {\n        case R.TK_NOT: return OPR_NOT;\n        case 45 /* ('-').charCodeAt(0) */: return OPR_MINUS;\n        case 126 /* ('~').charCodeAt(0) */: return OPR_BNOT;\n        case 35 /* ('#').charCodeAt(0) */: return OPR_LEN;\n        default: return OPR_NOUNOPR;\n    }\n};\n\nconst getbinopr = function(op) {\n    switch (op) {\n        case 43 /* ('+').charCodeAt(0) */: return OPR_ADD;\n        case 45 /* ('-').charCodeAt(0) */: return OPR_SUB;\n        case 42 /* ('*').charCodeAt(0) */: return OPR_MUL;\n        case 37 /* ('%').charCodeAt(0) */: return OPR_MOD;\n        case 94 /* ('^').charCodeAt(0) */: return OPR_POW;\n        case 47 /* ('/').charCodeAt(0) */: return OPR_DIV;\n        case R.TK_IDIV:   return OPR_IDIV;\n        case 38 /* ('&').charCodeAt(0) */: return OPR_BAND;\n        case 124 /* ('|').charCodeAt(0) */: return OPR_BOR;\n        case 126 /* ('~').charCodeAt(0) */: return OPR_BXOR;\n        case R.TK_SHL:    return OPR_SHL;\n        case R.TK_SHR:    return OPR_SHR;\n        case R.TK_CONCAT: return OPR_CONCAT;\n        case R.TK_NE:     return OPR_NE;\n        case R.TK_EQ:     return OPR_EQ;\n        case 60 /* ('<').charCodeAt(0) */: return OPR_LT;\n        case R.TK_LE:     return OPR_LE;\n        case 62 /* ('>').charCodeAt(0) */: return OPR_GT;\n        case R.TK_GE:     return OPR_GE;\n        case R.TK_AND:    return OPR_AND;\n        case R.TK_OR:     return OPR_OR;\n        default:          return OPR_NOBINOPR;\n    }\n};\n\nconst priority = [  /* ORDER OPR */\n    {left: 10, right: 10}, {left: 10, right: 10},     /* '+' '-' */\n    {left: 11, right: 11}, {left: 11, right: 11},     /* '*' '%' */\n    {left: 14, right: 13},               /* '^' (right associative) */\n    {left: 11, right: 11}, {left: 11, right: 11},     /* '/' '//' */\n    {left: 6, right: 6}, {left: 4, right: 4}, {left: 5, right: 5}, /* '&' '|' '~' */\n    {left: 7, right: 7}, {left: 7, right: 7},         /* '<<' '>>' */\n    {left: 9, right: 8},                 /* '..' (right associative) */\n    {left: 3, right: 3}, {left: 3, right: 3}, {left: 3, right: 3}, /* ==, <, <= */\n    {left: 3, right: 3}, {left: 3, right: 3}, {left: 3, right: 3}, /* ~=, >, >= */\n    {left: 2, right: 2}, {left: 1, right: 1}          /* and, or */\n];\n\nconst UNARY_PRIORITY = 12;\n\n/*\n** subexpr -> (simpleexp | unop subexpr) { binop subexpr }\n** where 'binop' is any binary operator with a priority higher than 'limit'\n*/\nconst subexpr = function(ls, v, limit) {\n    enterlevel(ls);\n    let uop = getunopr(ls.t.token);\n    if (uop !== OPR_NOUNOPR) {\n        let line = ls.linenumber;\n        llex.luaX_next(ls);\n        subexpr(ls, v, UNARY_PRIORITY);\n        luaK_prefix(ls.fs, uop, v, line);\n    } else\n        simpleexp(ls, v);\n    /* expand while operators have priorities higher than 'limit' */\n    let op = getbinopr(ls.t.token);\n    while (op !== OPR_NOBINOPR && priority[op].left > limit) {\n        let v2 = new expdesc();\n        let line = ls.linenumber;\n        llex.luaX_next(ls);\n        luaK_infix(ls.fs, op, v);\n        /* read sub-expression with higher priority */\n        let nextop = subexpr(ls, v2, priority[op].right);\n        luaK_posfix(ls.fs, op, v, v2, line);\n        op = nextop;\n    }\n    leavelevel(ls);\n    return op;  /* return first untreated operator */\n};\n\nconst expr = function(ls, v) {\n    subexpr(ls, v, 0);\n};\n\n/* }==================================================================== */\n\n\n\n/*\n** {======================================================================\n** Rules for Statements\n** =======================================================================\n*/\n\nconst block = function(ls) {\n    /* block -> statlist */\n    let fs = ls.fs;\n    let bl = new BlockCnt();\n    enterblock(fs, bl, 0);\n    statlist(ls);\n    leaveblock(fs);\n};\n\n/*\n** structure to chain all variables in the left-hand side of an\n** assignment\n*/\nclass LHS_assign {\n    constructor() {\n        this.prev = null;\n        this.v = new expdesc();  /* variable (global, local, upvalue, or indexed) */\n    }\n}\n\n/*\n** check whether, in an assignment to an upvalue/local variable, the\n** upvalue/local variable is begin used in a previous assignment to a\n** table. If so, save original upvalue/local value in a safe place and\n** use this safe copy in the previous assignment.\n*/\nconst check_conflict = function(ls, lh, v) {\n    let fs = ls.fs;\n    let extra = fs.freereg;  /* eventual position to save local variable */\n    let conflict = false;\n    for (; lh; lh = lh.prev) {  /* check all previous assignments */\n        if (lh.v.k === expkind.VINDEXED) {  /* assigning to a table? */\n            /* table is the upvalue/local being assigned now? */\n            if (lh.v.u.ind.vt === v.k && lh.v.u.ind.t === v.u.info) {\n                conflict = true;\n                lh.v.u.ind.vt = expkind.VLOCAL;\n                lh.v.u.ind.t = extra;  /* previous assignment will use safe copy */\n            }\n            /* index is the local being assigned? (index cannot be upvalue) */\n            if (v.k === expkind.VLOCAL && lh.v.u.ind.idx === v.u.info) {\n                conflict = true;\n                lh.v.u.ind.idx = extra;  /* previous assignment will use safe copy */\n            }\n        }\n    }\n    if (conflict) {\n        /* copy upvalue/local value to a temporary (in position 'extra') */\n        let op = v.k === expkind.VLOCAL ? OP_MOVE : OP_GETUPVAL;\n        luaK_codeABC(fs, op, extra, v.u.info, 0);\n        luaK_reserveregs(fs, 1);\n    }\n};\n\nconst assignment = function(ls, lh, nvars) {\n    let e = new expdesc();\n    check_condition(ls, vkisvar(lh.v.k), to_luastring(\"syntax error\", true));\n    if (testnext(ls, 44 /* (',').charCodeAt(0) */)) {  /* assignment -> ',' suffixedexp assignment */\n        let nv = new LHS_assign();\n        nv.prev = lh;\n        suffixedexp(ls, nv.v);\n        if (nv.v.k !== expkind.VINDEXED)\n            check_conflict(ls, lh, nv.v);\n        checklimit(ls.fs, nvars + ls.L.nCcalls, LUAI_MAXCCALLS, to_luastring(\"JS levels\", true));\n        assignment(ls, nv, nvars + 1);\n    } else {  /* assignment -> '=' explist */\n        checknext(ls, 61 /* ('=').charCodeAt(0) */);\n        let nexps = explist(ls, e);\n        if (nexps !== nvars)\n            adjust_assign(ls, nvars, nexps, e);\n        else {\n            luaK_setoneret(ls.fs, e);  /* close last expression */\n            luaK_storevar(ls.fs, lh.v, e);\n            return;  /* avoid default */\n        }\n    }\n    init_exp(e, expkind.VNONRELOC, ls.fs.freereg-1);  /* default assignment */\n    luaK_storevar(ls.fs, lh.v, e);\n};\n\nconst cond = function(ls) {\n    /* cond -> exp */\n    let v = new expdesc();\n    expr(ls, v);  /* read condition */\n    if (v.k === expkind.VNIL) v.k = expkind.VFALSE;  /* 'falses' are all equal here */\n    luaK_goiftrue(ls.fs, v);\n    return v.f;\n};\n\nconst gotostat = function(ls, pc) {\n    let line = ls.linenumber;\n    let label;\n    if (testnext(ls, R.TK_GOTO))\n        label = str_checkname(ls);\n    else {\n        llex.luaX_next(ls);  /* skip break */\n        label = luaS_newliteral(ls.L, \"break\");\n    }\n    let g = newlabelentry(ls, ls.dyd.gt, label, line, pc);\n    findlabel(ls, g);  /* close it if label already defined */\n};\n\n/* check for repeated labels on the same block */\nconst checkrepeated = function(fs, ll, label) {\n    for (let i = fs.bl.firstlabel; i < ll.n; i++) {\n        if (eqstr(label, ll.arr[i].name)) {\n            let msg = lobject.luaO_pushfstring(fs.ls.L,\n                to_luastring(\"label '%s' already defined on line %d\", true),\n                label.getstr(), ll.arr[i].line);\n            semerror(fs.ls, msg);\n        }\n    }\n};\n\n/* skip no-op statements */\nconst skipnoopstat = function(ls) {\n    while (ls.t.token === 59 /* (';').charCodeAt(0) */ || ls.t.token === R.TK_DBCOLON)\n        statement(ls);\n};\n\nconst labelstat = function(ls, label, line) {\n    /* label -> '::' NAME '::' */\n    let fs = ls.fs;\n    let ll = ls.dyd.label;\n    let l;  /* index of new label being created */\n    checkrepeated(fs, ll, label);  /* check for repeated labels */\n    checknext(ls, R.TK_DBCOLON);  /* skip double colon */\n    /* create new entry for this label */\n    l = newlabelentry(ls, ll, label, line, luaK_getlabel(fs));\n    skipnoopstat(ls);  /* skip other no-op statements */\n    if (block_follow(ls, 0)) {  /* label is last no-op statement in the block? */\n        /* assume that locals are already out of scope */\n        ll.arr[l].nactvar = fs.bl.nactvar;\n    }\n    findgotos(ls, ll.arr[l]);\n};\n\nconst whilestat = function(ls, line) {\n    /* whilestat -> WHILE cond DO block END */\n    let fs = ls.fs;\n    let bl = new BlockCnt();\n    llex.luaX_next(ls);  /* skip WHILE */\n    let whileinit = luaK_getlabel(fs);\n    let condexit = cond(ls);\n    enterblock(fs, bl, 1);\n    checknext(ls, R.TK_DO);\n    block(ls);\n    luaK_jumpto(fs, whileinit);\n    check_match(ls, R.TK_END, R.TK_WHILE, line);\n    leaveblock(fs);\n    luaK_patchtohere(fs, condexit);  /* false conditions finish the loop */\n};\n\nconst repeatstat = function(ls, line) {\n    /* repeatstat -> REPEAT block UNTIL cond */\n    let fs = ls.fs;\n    let repeat_init = luaK_getlabel(fs);\n    let bl1 = new BlockCnt();\n    let bl2 = new BlockCnt();\n    enterblock(fs, bl1, 1);  /* loop block */\n    enterblock(fs, bl2, 0);  /* scope block */\n    llex.luaX_next(ls);  /* skip REPEAT */\n    statlist(ls);\n    check_match(ls, R.TK_UNTIL, R.TK_REPEAT, line);\n    let condexit = cond(ls);  /* read condition (inside scope block) */\n    if (bl2.upval)  /* upvalues? */\n        luaK_patchclose(fs, condexit, bl2.nactvar);\n    leaveblock(fs);  /* finish scope */\n    luaK_patchlist(fs, condexit, repeat_init);  /* close the loop */\n    leaveblock(fs);  /* finish loop */\n};\n\nconst exp1 = function(ls) {\n    let e = new expdesc();\n    expr(ls, e);\n    luaK_exp2nextreg(ls.fs, e);\n    lua_assert(e.k === expkind.VNONRELOC);\n    let reg = e.u.info;\n    return reg;\n};\n\nconst forbody = function(ls, base, line, nvars, isnum) {\n    /* forbody -> DO block */\n    let bl = new BlockCnt();\n    let fs = ls.fs;\n    let endfor;\n    adjustlocalvars(ls, 3);  /* control variables */\n    checknext(ls, R.TK_DO);\n    let prep = isnum ? luaK_codeAsBx(fs, OP_FORPREP, base, NO_JUMP) : luaK_jump(fs);\n    enterblock(fs, bl, 0);  /* scope for declared variables */\n    adjustlocalvars(ls, nvars);\n    luaK_reserveregs(fs, nvars);\n    block(ls);\n    leaveblock(fs);  /* end of scope for declared variables */\n    luaK_patchtohere(fs, prep);\n    if (isnum)  /* end of scope for declared variables */\n        endfor = luaK_codeAsBx(fs, OP_FORLOOP, base, NO_JUMP);\n    else {  /* generic for */\n        luaK_codeABC(fs, OP_TFORCALL, base, 0, nvars);\n        luaK_fixline(fs, line);\n        endfor = luaK_codeAsBx(fs, OP_TFORLOOP, base + 2, NO_JUMP);\n    }\n    luaK_patchlist(fs, endfor, prep + 1);\n    luaK_fixline(fs, line);\n};\n\nconst fornum = function(ls, varname, line) {\n    /* fornum -> NAME = exp1,exp1[,exp1] forbody */\n    let fs = ls.fs;\n    let base = fs.freereg;\n    new_localvarliteral(ls, \"(for index)\");\n    new_localvarliteral(ls, \"(for limit)\");\n    new_localvarliteral(ls, \"(for step)\");\n    new_localvar(ls, varname);\n    checknext(ls, 61 /* ('=').charCodeAt(0) */);\n    exp1(ls);  /* initial value */\n    checknext(ls, 44 /* (',').charCodeAt(0) */);\n    exp1(ls);  /* limit */\n    if (testnext(ls, 44 /* (',').charCodeAt(0) */))\n        exp1(ls);  /* optional step */\n    else {  /* default step = 1 */\n        luaK_codek(fs, fs.freereg, luaK_intK(fs, 1));\n        luaK_reserveregs(fs, 1);\n    }\n    forbody(ls, base, line, 1, 1);\n};\n\nconst forlist = function(ls, indexname) {\n    /* forlist -> NAME {,NAME} IN explist forbody */\n    let fs = ls.fs;\n    let e = new expdesc();\n    let nvars = 4;  /* gen, state, control, plus at least one declared var */\n    let base = fs.freereg;\n    /* create control variables */\n    new_localvarliteral(ls, \"(for generator)\");\n    new_localvarliteral(ls, \"(for state)\");\n    new_localvarliteral(ls, \"(for control)\");\n    /* create declared variables */\n    new_localvar(ls, indexname);\n    while (testnext(ls, 44 /* (',').charCodeAt(0) */)) {\n        new_localvar(ls, str_checkname(ls));\n        nvars++;\n    }\n    checknext(ls, R.TK_IN);\n    let line = ls.linenumber;\n    adjust_assign(ls, 3, explist(ls, e), e);\n    luaK_checkstack(fs, 3);  /* extra space to call generator */\n    forbody(ls, base, line, nvars - 3, 0);\n};\n\nconst forstat = function(ls, line) {\n    /* forstat -> FOR (fornum | forlist) END */\n    let fs = ls.fs;\n    let bl = new BlockCnt();\n    enterblock(fs, bl, 1);  /* scope for loop and control variables */\n    llex.luaX_next(ls);  /* skip 'for' */\n    let varname = str_checkname(ls);  /* first variable name */\n    switch (ls.t.token) {\n        case 61 /* ('=').charCodeAt(0) */: fornum(ls, varname, line); break;\n        case 44 /* (',').charCodeAt(0) */: case R.TK_IN: forlist(ls, varname); break;\n        default: llex.luaX_syntaxerror(ls, to_luastring(\"'=' or 'in' expected\", true));\n    }\n    check_match(ls, R.TK_END, R.TK_FOR, line);\n    leaveblock(fs);  /* loop scope ('break' jumps to this point) */\n};\n\nconst test_then_block = function(ls, escapelist) {\n    /* test_then_block -> [IF | ELSEIF] cond THEN block */\n    let bl = new BlockCnt();\n    let fs = ls.fs;\n    let v = new expdesc();\n    let jf;  /* instruction to skip 'then' code (if condition is false) */\n\n    llex.luaX_next(ls);  /* skip IF or ELSEIF */\n    expr(ls, v);  /* read condition */\n    checknext(ls, R.TK_THEN);\n\n    if (ls.t.token === R.TK_GOTO || ls.t.token === R.TK_BREAK) {\n        luaK_goiffalse(ls.fs, v);  /* will jump to label if condition is true */\n        enterblock(fs, bl, false);  /* must enter block before 'goto' */\n        gotostat(ls, v.t);   /* handle goto/break */\n        while (testnext(ls, 59 /* (';').charCodeAt(0) */));  /* skip colons */\n        if (block_follow(ls, 0)) {  /* 'goto' is the entire block? */\n            leaveblock(fs);\n            return escapelist;  /* and that is it */\n        } else  /* must skip over 'then' part if condition is false */\n            jf = luaK_jump(fs);\n    } else {  /* regular case (not goto/break) */\n        luaK_goiftrue(ls.fs, v);  /* skip over block if condition is false */\n        enterblock(fs, bl, false);\n        jf = v.f;\n    }\n\n    statlist(ls);  /* 'then' part */\n    leaveblock(fs);\n    if (ls.t.token === R.TK_ELSE || ls.t.token === R.TK_ELSEIF)  /* followed by 'else'/'elseif'? */\n        escapelist = luaK_concat(fs, escapelist, luaK_jump(fs));  /* must jump over it */\n    luaK_patchtohere(fs, jf);\n\n    return escapelist;\n};\n\nconst ifstat = function(ls, line) {\n    /* ifstat -> IF cond THEN block {ELSEIF cond THEN block} [ELSE block] END */\n    let fs = ls.fs;\n    let escapelist = NO_JUMP;  /* exit list for finished parts */\n    escapelist = test_then_block(ls, escapelist);  /* IF cond THEN block */\n    while (ls.t.token === R.TK_ELSEIF)\n        escapelist = test_then_block(ls, escapelist);  /* ELSEIF cond THEN block */\n    if (testnext(ls, R.TK_ELSE))\n        block(ls);  /* 'else' part */\n    check_match(ls, R.TK_END, R.TK_IF, line);\n    luaK_patchtohere(fs, escapelist);  /* patch escape list to 'if' end */\n};\n\nconst localfunc = function(ls) {\n    let b = new expdesc();\n    let fs = ls.fs;\n    new_localvar(ls, str_checkname(ls));  /* new local variable */\n    adjustlocalvars(ls, 1);  /* enter its scope */\n    body(ls, b, 0, ls.linenumber);  /* function created in next register */\n    /* debug information will only see the variable after this point! */\n    getlocvar(fs, b.u.info).startpc = fs.pc;\n};\n\nconst localstat = function(ls) {\n    /* stat -> LOCAL NAME {',' NAME} ['=' explist] */\n    let nvars = 0;\n    let nexps;\n    let e = new expdesc();\n    do {\n        new_localvar(ls, str_checkname(ls));\n        nvars++;\n    } while (testnext(ls, 44 /* (',').charCodeAt(0) */));\n    if (testnext(ls, 61 /* ('=').charCodeAt(0) */))\n        nexps = explist(ls, e);\n    else {\n        e.k = expkind.VVOID;\n        nexps = 0;\n    }\n    adjust_assign(ls, nvars, nexps, e);\n    adjustlocalvars(ls, nvars);\n};\n\nconst funcname = function(ls, v) {\n    /* funcname -> NAME {fieldsel} [':' NAME] */\n    let ismethod = 0;\n    singlevar(ls, v);\n    while (ls.t.token === 46 /* ('.').charCodeAt(0) */)\n        fieldsel(ls, v);\n    if (ls.t.token === 58 /* (':').charCodeAt(0) */) {\n        ismethod = 1;\n        fieldsel(ls, v);\n    }\n    return ismethod;\n};\n\nconst funcstat = function(ls, line) {\n    /* funcstat -> FUNCTION funcname body */\n    let v = new expdesc();\n    let b = new expdesc();\n    llex.luaX_next(ls);  /* skip FUNCTION */\n    let ismethod = funcname(ls, v);\n    body(ls, b, ismethod, line);\n    luaK_storevar(ls.fs, v, b);\n    luaK_fixline(ls.fs, line);  /* definition \"happens\" in the first line */\n};\n\nconst exprstat= function(ls) {\n    /* stat -> func | assignment */\n    let fs = ls.fs;\n    let v = new LHS_assign();\n    suffixedexp(ls, v.v);\n    if (ls.t.token === 61 /* ('=').charCodeAt(0) */ || ls.t.token === 44 /* (',').charCodeAt(0) */) { /* stat . assignment ? */\n        v.prev = null;\n        assignment(ls, v, 1);\n    }\n    else {  /* stat -> func */\n        check_condition(ls, v.v.k === expkind.VCALL, to_luastring(\"syntax error\", true));\n        SETARG_C(getinstruction(fs, v.v), 1);  /* call statement uses no results */\n    }\n};\n\nconst retstat = function(ls) {\n    /* stat -> RETURN [explist] [';'] */\n    let fs = ls.fs;\n    let e = new expdesc();\n    let first, nret;  /* registers with returned values */\n    if (block_follow(ls, 1) || ls.t.token === 59 /* (';').charCodeAt(0) */)\n        first = nret = 0;  /* return no values */\n    else {\n        nret = explist(ls, e);  /* optional return values */\n        if (hasmultret(e.k)) {\n            luaK_setmultret(fs, e);\n            if (e.k === expkind.VCALL && nret === 1) {  /* tail call? */\n                SET_OPCODE(getinstruction(fs, e), OP_TAILCALL);\n                lua_assert(getinstruction(fs, e).A === fs.nactvar);\n            }\n            first = fs.nactvar;\n            nret = LUA_MULTRET;  /* return all values */\n        } else {\n            if (nret === 1)  /* only one single value? */\n                first = luaK_exp2anyreg(fs, e);\n            else {\n                luaK_exp2nextreg(fs, e);  /* values must go to the stack */\n                first = fs.nactvar;  /* return all active values */\n                lua_assert(nret === fs.freereg - first);\n            }\n        }\n    }\n    luaK_ret(fs, first, nret);\n    testnext(ls, 59 /* (';').charCodeAt(0) */);  /* skip optional semicolon */\n};\n\nconst statement = function(ls) {\n    let line = ls.linenumber;  /* may be needed for error messages */\n    enterlevel(ls);\n    switch(ls.t.token) {\n        case 59 /* (';').charCodeAt(0) */: {  /* stat -> ';' (empty statement) */\n            llex.luaX_next(ls);  /* skip ';' */\n            break;\n        }\n        case R.TK_IF: {  /* stat -> ifstat */\n            ifstat(ls, line);\n            break;\n        }\n        case R.TK_WHILE: {  /* stat -> whilestat */\n            whilestat(ls, line);\n            break;\n        }\n        case R.TK_DO: {  /* stat -> DO block END */\n            llex.luaX_next(ls);  /* skip DO */\n            block(ls);\n            check_match(ls, R.TK_END, R.TK_DO, line);\n            break;\n        }\n        case R.TK_FOR: {  /* stat -> forstat */\n            forstat(ls, line);\n            break;\n        }\n        case R.TK_REPEAT: {  /* stat -> repeatstat */\n            repeatstat(ls, line);\n            break;\n        }\n        case R.TK_FUNCTION: {  /* stat -> funcstat */\n            funcstat(ls, line);\n            break;\n        }\n        case R.TK_LOCAL: {  /* stat -> localstat */\n            llex.luaX_next(ls);  /* skip LOCAL */\n            if (testnext(ls, R.TK_FUNCTION))  /* local function? */\n                localfunc(ls);\n            else\n                localstat(ls);\n            break;\n        }\n        case R.TK_DBCOLON: {  /* stat -> label */\n            llex.luaX_next(ls);  /* skip double colon */\n            labelstat(ls, str_checkname(ls), line);\n            break;\n        }\n        case R.TK_RETURN: {  /* skip double colon */\n            llex.luaX_next(ls);  /* skip RETURN */\n            retstat(ls);\n            break;\n        }\n        case R.TK_BREAK:   /* stat -> breakstat */\n        case R.TK_GOTO: {  /* stat -> 'goto' NAME */\n            gotostat(ls, luaK_jump(ls.fs));\n            break;\n        }\n        default: {  /* stat -> func | assignment */\n            exprstat(ls);\n            break;\n        }\n    }\n    lua_assert(ls.fs.f.maxstacksize >= ls.fs.freereg && ls.fs.freereg >= ls.fs.nactvar);\n    ls.fs.freereg = ls.fs.nactvar;  /* free registers */\n    leavelevel(ls);\n};\n\n/*\n** compiles the main function, which is a regular vararg function with an\n** upvalue named LUA_ENV\n*/\nconst mainfunc = function(ls, fs) {\n    let bl = new BlockCnt();\n    let v = new expdesc();\n    open_func(ls, fs, bl);\n    fs.f.is_vararg = true;  /* main function is always declared vararg */\n    init_exp(v, expkind.VLOCAL, 0);  /* create and... */\n    newupvalue(fs, ls.envn, v);  /* ...set environment upvalue */\n    llex.luaX_next(ls);  /* read first token */\n    statlist(ls);  /* parse main body */\n    check(ls, R.TK_EOS);\n    close_func(ls);\n};\n\nconst luaY_parser = function(L, z, buff, dyd, name, firstchar) {\n    let lexstate = new llex.LexState();\n    let funcstate = new FuncState();\n    let cl = lfunc.luaF_newLclosure(L, 1);  /* create main closure */\n    ldo.luaD_inctop(L);\n    L.stack[L.top-1].setclLvalue(cl);\n    lexstate.h = ltable.luaH_new(L);  /* create table for scanner */\n    ldo.luaD_inctop(L);\n    L.stack[L.top-1].sethvalue(lexstate.h);\n    funcstate.f = cl.p = new Proto(L);\n    funcstate.f.source = luaS_new(L, name);\n    lexstate.buff = buff;\n    lexstate.dyd = dyd;\n    dyd.actvar.n = dyd.gt.n = dyd.label.n = 0;\n    llex.luaX_setinput(L, lexstate, z, funcstate.f.source, firstchar);\n    mainfunc(lexstate, funcstate);\n    lua_assert(!funcstate.prev && funcstate.nups === 1 && !lexstate.fs);\n    /* all scopes should be correctly finished */\n    lua_assert(dyd.actvar.n === 0 && dyd.gt.n === 0 && dyd.label.n === 0);\n    delete L.stack[--L.top];  /* remove scanner's table */\n    return cl;  /* closure is on the stack, too */\n};\n\n\nmodule.exports.Dyndata     = Dyndata;\nmodule.exports.expkind     = expkind;\nmodule.exports.expdesc     = expdesc;\nmodule.exports.luaY_parser = luaY_parser;\nmodule.exports.vkisinreg   = vkisinreg;\n","\"use strict\";\n\nconst {\n    LUA_MINSTACK,\n    LUA_RIDX_GLOBALS,\n    LUA_RIDX_MAINTHREAD,\n    constant_types: {\n        LUA_NUMTAGS,\n        LUA_TNIL,\n        LUA_TTABLE,\n        LUA_TTHREAD\n    },\n    thread_status: {\n        LUA_OK\n    }\n} = require('./defs.js');\nconst lobject              = require('./lobject.js');\nconst ldo                  = require('./ldo.js');\nconst lapi                 = require('./lapi.js');\nconst ltable               = require('./ltable.js');\nconst ltm                  = require('./ltm.js');\n\nconst EXTRA_STACK = 5;\n\nconst BASIC_STACK_SIZE = 2 * LUA_MINSTACK;\n\nclass CallInfo {\n\n    constructor() {\n        this.func = null;\n        this.funcOff = NaN;\n        this.top = NaN;\n        this.previous = null;\n        this.next = null;\n\n        /* only for Lua functions */\n        this.l_base = NaN; /* base for this function */\n        this.l_code = null; /* reference to this.func.p.code */\n        this.l_savedpc = NaN; /* offset into l_code */\n        /* only for JS functions */\n        this.c_k = null;  /* continuation in case of yields */\n        this.c_old_errfunc = null;\n        this.c_ctx = null;  /* context info. in case of yields */\n\n        this.nresults = NaN;\n        this.callstatus = NaN;\n    }\n\n}\n\nclass lua_State {\n\n    constructor(g) {\n        this.id = g.id_counter++;\n\n        this.base_ci = new CallInfo(); /* CallInfo for first level (C calling Lua) */\n        this.top = NaN; /* first free slot in the stack */\n        this.stack_last = NaN; /* last free slot in the stack */\n        this.oldpc = NaN; /* last pc traced */\n\n        /* preinit_thread */\n        this.l_G = g;\n        this.stack = null;\n        this.ci = null;\n        this.errorJmp = null;\n        this.nCcalls = 0;\n        this.hook = null;\n        this.hookmask = 0;\n        this.basehookcount = 0;\n        this.allowhook = 1;\n        this.hookcount = this.basehookcount;\n        this.nny = 1;\n        this.status = LUA_OK;\n        this.errfunc = 0;\n    }\n\n}\n\nclass global_State {\n\n    constructor() {\n        this.id_counter = 1; /* used to give objects unique ids */\n        this.ids = new WeakMap();\n\n        this.mainthread = null;\n        this.l_registry = new lobject.TValue(LUA_TNIL, null);\n        this.panic = null;\n        this.atnativeerror = null;\n        this.version = null;\n        this.tmname = new Array(ltm.TMS.TM_N);\n        this.mt = new Array(LUA_NUMTAGS);\n    }\n\n}\n\nconst luaE_extendCI = function(L) {\n    let ci = new CallInfo();\n    L.ci.next = ci;\n    ci.previous = L.ci;\n    ci.next = null;\n    L.ci = ci;\n    return ci;\n};\n\nconst luaE_freeCI = function(L) {\n    let ci = L.ci;\n    ci.next = null;\n};\n\nconst stack_init = function(L1, L) {\n    L1.stack = new Array(BASIC_STACK_SIZE);\n    L1.top = 0;\n    L1.stack_last = BASIC_STACK_SIZE - EXTRA_STACK;\n    /* initialize first ci */\n    let ci = L1.base_ci;\n    ci.next = ci.previous = null;\n    ci.callstatus = 0;\n    ci.funcOff = L1.top;\n    ci.func = L1.stack[L1.top];\n    L1.stack[L1.top++] = new lobject.TValue(LUA_TNIL, null);\n    ci.top = L1.top + LUA_MINSTACK;\n    L1.ci = ci;\n};\n\nconst freestack = function(L) {\n    L.ci = L.base_ci;\n    luaE_freeCI(L);\n    L.stack = null;\n};\n\n/*\n** Create registry table and its predefined values\n*/\nconst init_registry = function(L, g) {\n    let registry = ltable.luaH_new(L);\n    g.l_registry.sethvalue(registry);\n    ltable.luaH_setint(registry, LUA_RIDX_MAINTHREAD, new lobject.TValue(LUA_TTHREAD, L));\n    ltable.luaH_setint(registry, LUA_RIDX_GLOBALS, new lobject.TValue(LUA_TTABLE, ltable.luaH_new(L)));\n};\n\n/*\n** open parts of the state that may cause memory-allocation errors.\n** ('g->version' !== NULL flags that the state was completely build)\n*/\nconst f_luaopen = function(L) {\n    let g = L.l_G;\n    stack_init(L, L);\n    init_registry(L, g);\n    ltm.luaT_init(L);\n    g.version = lapi.lua_version(null);\n};\n\nconst lua_newthread = function(L) {\n    let g = L.l_G;\n    let L1 = new lua_State(g);\n    L.stack[L.top] = new lobject.TValue(LUA_TTHREAD, L1);\n    lapi.api_incr_top(L);\n    L1.hookmask = L.hookmask;\n    L1.basehookcount = L.basehookcount;\n    L1.hook = L.hook;\n    L1.hookcount = L1.basehookcount;\n    stack_init(L1, L);\n    return L1;\n};\n\nconst luaE_freethread = function(L, L1) {\n    freestack(L1);\n};\n\nconst lua_newstate = function() {\n    let g = new global_State();\n    let L = new lua_State(g);\n    g.mainthread = L;\n\n    if (ldo.luaD_rawrunprotected(L, f_luaopen, null) !== LUA_OK) {\n        L = null;\n    }\n\n    return L;\n};\n\nconst close_state = function(L) {\n    freestack(L);\n};\n\nconst lua_close = function(L) {\n    L = L.l_G.mainthread;  /* only the main thread can be closed */\n    close_state(L);\n};\n\nmodule.exports.lua_State       = lua_State;\nmodule.exports.CallInfo        = CallInfo;\nmodule.exports.CIST_OAH        = (1<<0);  /* original value of 'allowhook' */\nmodule.exports.CIST_LUA        = (1<<1);  /* call is running a Lua function */\nmodule.exports.CIST_HOOKED     = (1<<2);  /* call is running a debug hook */\nmodule.exports.CIST_FRESH      = (1<<3);  /* call is running on a fresh invocation of luaV_execute */\nmodule.exports.CIST_YPCALL     = (1<<4);  /* call is a yieldable protected call */\nmodule.exports.CIST_TAIL       = (1<<5);  /* call was tail called */\nmodule.exports.CIST_HOOKYIELD  = (1<<6);  /* last hook called yielded */\nmodule.exports.CIST_LEQ        = (1<<7);  /* using __lt for __le */\nmodule.exports.CIST_FIN        = (1<<8);   /* call is running a finalizer */\nmodule.exports.EXTRA_STACK     = EXTRA_STACK;\nmodule.exports.lua_close       = lua_close;\nmodule.exports.lua_newstate    = lua_newstate;\nmodule.exports.lua_newthread   = lua_newthread;\nmodule.exports.luaE_extendCI   = luaE_extendCI;\nmodule.exports.luaE_freeCI     = luaE_freeCI;\nmodule.exports.luaE_freethread = luaE_freethread;\n","\"use strict\";\n\nconst {\n    is_luastring,\n    luastring_eq,\n    luastring_from,\n    to_luastring\n} = require('./defs.js');\nconst { lua_assert } = require(\"./llimits.js\");\n\nclass TString {\n\n    constructor(L, str) {\n        this.hash = null;\n        this.realstring = str;\n    }\n\n    getstr() {\n        return this.realstring;\n    }\n\n    tsslen() {\n        return this.realstring.length;\n    }\n\n}\n\nconst luaS_eqlngstr = function(a, b) {\n    lua_assert(a instanceof TString);\n    lua_assert(b instanceof TString);\n    return a == b || luastring_eq(a.realstring, b.realstring);\n};\n\n/* converts strings (arrays) to a consistent map key\n   make sure this doesn't conflict with any of the anti-collision strategies in ltable */\nconst luaS_hash = function(str) {\n    lua_assert(is_luastring(str));\n    let len = str.length;\n    let s = \"|\";\n    for (let i=0; i<len; i++)\n        s += str[i].toString(16);\n    return s;\n};\n\nconst luaS_hashlongstr = function(ts) {\n    lua_assert(ts instanceof TString);\n    if(ts.hash === null) {\n        ts.hash = luaS_hash(ts.getstr());\n    }\n    return ts.hash;\n};\n\n/* variant that takes ownership of array */\nconst luaS_bless = function(L, str) {\n    lua_assert(str instanceof Uint8Array);\n    return new TString(L, str);\n};\n\n/* makes a copy */\nconst luaS_new = function(L, str) {\n    return luaS_bless(L, luastring_from(str));\n};\n\n/* takes a js string */\nconst luaS_newliteral = function(L, str) {\n    return luaS_bless(L, to_luastring(str));\n};\n\nmodule.exports.luaS_eqlngstr    = luaS_eqlngstr;\nmodule.exports.luaS_hash        = luaS_hash;\nmodule.exports.luaS_hashlongstr = luaS_hashlongstr;\nmodule.exports.luaS_bless       = luaS_bless;\nmodule.exports.luaS_new         = luaS_new;\nmodule.exports.luaS_newliteral  = luaS_newliteral;\nmodule.exports.TString          = TString;\n","\"use strict\";\n\nconst { sprintf } = require('sprintf-js');\n\nconst {\n    LUA_INTEGER_FMT,\n    LUA_INTEGER_FRMLEN,\n    LUA_MININTEGER,\n    LUA_NUMBER_FMT,\n    LUA_NUMBER_FRMLEN,\n    frexp,\n    lua_getlocaledecpoint\n} = require('./luaconf.js');\nconst {\n    LUA_TBOOLEAN,\n    LUA_TFUNCTION,\n    LUA_TNIL,\n    LUA_TNUMBER,\n    LUA_TSTRING,\n    LUA_TTABLE,\n    lua_call,\n    lua_createtable,\n    lua_dump,\n    lua_gettable,\n    lua_gettop,\n    lua_isinteger,\n    lua_isstring,\n    lua_pop,\n    lua_pushcclosure,\n    lua_pushinteger,\n    lua_pushlightuserdata,\n    lua_pushliteral,\n    lua_pushlstring,\n    lua_pushnil,\n    lua_pushnumber,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_remove,\n    lua_setfield,\n    lua_setmetatable,\n    lua_settop,\n    lua_toboolean,\n    lua_tointeger,\n    lua_tonumber,\n    lua_tostring,\n    lua_touserdata,\n    lua_type,\n    lua_upvalueindex\n} = require('./lua.js');\nconst {\n    luaL_Buffer,\n    luaL_addchar,\n    luaL_addlstring,\n    luaL_addsize,\n    luaL_addstring,\n    luaL_addvalue,\n    luaL_argcheck,\n    luaL_argerror,\n    luaL_buffinit,\n    luaL_buffinitsize,\n    luaL_checkinteger,\n    luaL_checknumber,\n    luaL_checkstack,\n    luaL_checkstring,\n    luaL_checktype,\n    luaL_error,\n    luaL_newlib,\n    luaL_optinteger,\n    luaL_optstring,\n    luaL_prepbuffsize,\n    luaL_pushresult,\n    luaL_pushresultsize,\n    luaL_tolstring,\n    luaL_typename\n} = require('./lauxlib.js');\nconst lualib = require('./lualib.js');\nconst {\n    luastring_eq,\n    luastring_indexOf,\n    to_jsstring,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\nconst sL_ESC  = '%';\nconst L_ESC   = sL_ESC.charCodeAt(0);\n\n/*\n** maximum number of captures that a pattern can do during\n** pattern-matching. This limit is arbitrary, but must fit in\n** an unsigned char.\n*/\nconst LUA_MAXCAPTURES = 32;\n\n// (sizeof(size_t) < sizeof(int) ? MAX_SIZET : (size_t)(INT_MAX))\nconst MAXSIZE = 2147483647;\n\n/* Give natural (i.e. strings end at the first \\0) length of a string represented by an array of bytes */\nconst strlen = function(s) {\n    let len = luastring_indexOf(s, 0);\n    return len > -1 ? len : s.length;\n};\n\n/* translate a relative string position: negative means back from end */\nconst posrelat = function(pos, len) {\n    if (pos >= 0) return pos;\n    else if (0 - pos > len) return 0;\n    else return len + pos + 1;\n};\n\nconst str_sub = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let start = posrelat(luaL_checkinteger(L, 2), l);\n    let end = posrelat(luaL_optinteger(L, 3, -1), l);\n    if (start < 1) start = 1;\n    if (end > l) end = l;\n    if (start <= end)\n        lua_pushstring(L, s.subarray(start - 1, (start - 1) + (end - start + 1)));\n    else lua_pushliteral(L, \"\");\n    return 1;\n};\n\nconst str_len = function(L) {\n    lua_pushinteger(L, luaL_checkstring(L, 1).length);\n    return 1;\n};\n\nconst str_char = function(L) {\n    let n = lua_gettop(L);  /* number of arguments */\n    let b = new luaL_Buffer();\n    let p = luaL_buffinitsize(L, b, n);\n    for (let i = 1; i <= n; i++) {\n        let c = luaL_checkinteger(L, i);\n        luaL_argcheck(L, c >= 0 && c <= 255, \"value out of range\"); // Strings are 8-bit clean\n        p[i-1] = c;\n    }\n    luaL_pushresultsize(b, n);\n    return 1;\n};\n\nconst writer = function(L, b, size, B) {\n    luaL_addlstring(B, b, size);\n    return 0;\n};\n\nconst str_dump = function(L) {\n    let b = new luaL_Buffer();\n    let strip = lua_toboolean(L, 2);\n    luaL_checktype(L, 1, LUA_TFUNCTION);\n    lua_settop(L, 1);\n    luaL_buffinit(L, b);\n    if (lua_dump(L, writer, b, strip) !== 0)\n        return luaL_error(L, to_luastring(\"unable to dump given function\"));\n    luaL_pushresult(b);\n    return 1;\n};\n\nconst SIZELENMOD = LUA_NUMBER_FRMLEN.length + 1;\n\nconst L_NBFD = 1;\n\nconst num2straux = function(x) {\n    /* if 'inf' or 'NaN', format it like '%g' */\n    if (Object.is(x, Infinity))\n        return to_luastring('inf');\n    else if (Object.is(x, -Infinity))\n        return to_luastring('-inf');\n    else if (Number.isNaN(x))\n        return to_luastring('nan');\n    else if (x === 0) {  /* can be -0... */\n        /* create \"0\" or \"-0\" followed by exponent */\n        let zero = sprintf(LUA_NUMBER_FMT + \"x0p+0\", x);\n        if (Object.is(x, -0))\n            zero = \"-\" + zero;\n        return to_luastring(zero);\n    } else {\n        let buff = \"\";\n        let fe = frexp(x);  /* 'x' fraction and exponent */\n        let m = fe[0];\n        let e = fe[1];\n        if (m < 0) {  /* is number negative? */\n            buff += '-';  /* add signal */\n            m = -m;  /* make it positive */\n        }\n        buff += \"0x\";  /* add \"0x\" */\n        buff += (m * (1<<L_NBFD)).toString(16);\n        e -= L_NBFD;  /* this digit goes before the radix point */\n        buff += sprintf(\"p%+d\", e);  /* add exponent */\n        return to_luastring(buff);\n    }\n};\n\nconst lua_number2strx = function(L, fmt, x) {\n    let buff = num2straux(x);\n    if (fmt[SIZELENMOD] === 65 /* 'A'.charCodeAt(0) */) {\n        for (let i = 0; i < buff.length; i++) {\n            let c = buff[i];\n            if (c >= 97) /* toupper */\n                buff[i] = c & 0xdf;\n        }\n    } else if (fmt[SIZELENMOD] !== 97 /* 'a'.charCodeAt(0) */)\n        luaL_error(L, to_luastring(\"modifiers for format '%%a'/'%%A' not implemented\"));\n    return buff;\n};\n\n/*\n** Maximum size of each formatted item. This maximum size is produced\n** by format('%.99f', -maxfloat), and is equal to 99 + 3 ('-', '.',\n** and '\\0') + number of decimal digits to represent maxfloat (which\n** is maximum exponent + 1). (99+3+1 then rounded to 120 for \"extra\n** expenses\", such as locale-dependent stuff)\n*/\n// const MAX_ITEM   = 120;// TODO: + l_mathlim(MAX_10_EXP);\n\n\n/* valid flags in a format specification */\nconst FLAGS = to_luastring(\"-+ #0\");\n\n/*\n** maximum size of each format specification (such as \"%-099.99d\")\n*/\n// const MAX_FORMAT = 32;\n\nconst isalpha = e => (97 <= e && e <= 122) || (65 <= e && e <= 90);\nconst isdigit = e => 48 <= e && e <= 57;\nconst iscntrl = e => (0x00 <= e && e <= 0x1f) || e === 0x7f;\nconst isgraph = e => 33 <= e && e <= 126;\nconst islower = e => 97 <= e && e <= 122;\nconst isupper = e => 65 <= e && e <= 90;\nconst isalnum = e => (97 <= e && e <= 122) || (65 <= e && e <= 90) || (48 <= e && e <= 57);\nconst ispunct = e => isgraph(e) && !isalnum(e);\nconst isspace = e => e === 32 || (e >= 9 && e <= 13);\nconst isxdigit = e => (48 <= e && e <= 57) || (65 <= e && e <= 70) || (97 <= e && e <= 102);\n\nconst addquoted = function(b, s, len) {\n    luaL_addchar(b, 34 /* '\"'.charCodeAt(0) */);\n    let i = 0;\n    while (len--) {\n        if (s[i] === 34 /* '\"'.charCodeAt(0) */ ||\n            s[i] === 92 /* '\\\\'.charCodeAt(0) */ ||\n            s[i] === 10 /* '\\n'.charCodeAt(0) */) {\n            luaL_addchar(b, 92 /* '\\\\'.charCodeAt(0) */);\n            luaL_addchar(b, s[i]);\n        } else if (iscntrl(s[i])) {\n            let buff = ''+s[i];\n            if (isdigit(s[i+1]))\n                buff = '0'.repeat(3-buff.length) + buff; /* pad to 3 '0's */\n            luaL_addstring(b, to_luastring(\"\\\\\" + buff));\n        } else\n            luaL_addchar(b, s[i]);\n        i++;\n    }\n    luaL_addchar(b, 34 /* '\"'.charCodeAt(0) */);\n};\n\n/*\n** Ensures the 'buff' string uses a dot as the radix character.\n*/\nconst checkdp = function(buff) {\n    if (luastring_indexOf(buff, 46 /* ('.').charCodeAt(0) */) < 0) {  /* no dot? */\n        let point = lua_getlocaledecpoint();  /* try locale point */\n        let ppoint = luastring_indexOf(buff, point);\n        if (ppoint) buff[ppoint] = 46 /* ('.').charCodeAt(0) */;  /* change it to a dot */\n    }\n};\n\nconst addliteral = function(L, b, arg) {\n    switch(lua_type(L, arg)) {\n        case LUA_TSTRING: {\n            let s = lua_tostring(L, arg);\n            addquoted(b, s, s.length);\n            break;\n        }\n        case LUA_TNUMBER: {\n            let buff;\n            if (!lua_isinteger(L, arg)) {  /* float? */\n                let n = lua_tonumber(L, arg);  /* write as hexa ('%a') */\n                buff = lua_number2strx(L, to_luastring(`%${LUA_INTEGER_FRMLEN}a`), n);\n                checkdp(buff);  /* ensure it uses a dot */\n            } else {  /* integers */\n                let n = lua_tointeger(L, arg);\n                let format = (n === LUA_MININTEGER)  /* corner case? */\n                    ? \"0x%\" + LUA_INTEGER_FRMLEN + \"x\"  /* use hexa */\n                    : LUA_INTEGER_FMT;  /* else use default format */\n                buff = to_luastring(sprintf(format, n));\n            }\n            luaL_addstring(b, buff);\n            break;\n        }\n        case LUA_TNIL: case LUA_TBOOLEAN: {\n            luaL_tolstring(L, arg);\n            luaL_addvalue(b);\n            break;\n        }\n        default: {\n            luaL_argerror(L, arg, to_luastring(\"value has no literal form\"));\n        }\n    }\n};\n\nconst scanformat = function(L, strfrmt, i, form) {\n    let p = i;\n    while (strfrmt[p] !== 0 && luastring_indexOf(FLAGS, strfrmt[p]) >= 0) p++;  /* skip flags */\n    if (p - i >= FLAGS.length)\n        luaL_error(L, to_luastring(\"invalid format (repeated flags)\"));\n    if (isdigit(strfrmt[p])) p++;  /* skip width */\n    if (isdigit(strfrmt[p])) p++;  /* (2 digits at most) */\n    if (strfrmt[p] === 46 /* '.'.charCodeAt(0) */) {\n        p++;\n        if (isdigit(strfrmt[p])) p++;  /* skip precision */\n        if (isdigit(strfrmt[p])) p++;  /* (2 digits at most) */\n    }\n    if (isdigit(strfrmt[p]))\n        luaL_error(L, to_luastring(\"invalid format (width or precision too long)\"));\n    form[0] = 37 /* \"%\".charCodeAt(0) */;\n    for (let j = 0; j < p - i + 1; j++)\n        form[j+1] = strfrmt[i+j];\n    return p;\n};\n\n/*\n** add length modifier into formats\n*/\nconst addlenmod = function(form, lenmod) {\n    let l = form.length;\n    let lm = lenmod.length;\n    let spec = form[l - 1];\n    for (let i = 0; i < lm; i++)\n        form[i + l - 1] = lenmod[i];\n    form[l + lm - 1] = spec;\n    // form[l + lm] = 0;\n};\n\nconst str_format = function(L) {\n    let top = lua_gettop(L);\n    let arg = 1;\n    let strfrmt = luaL_checkstring(L, arg);\n    let i = 0;\n    let b = new luaL_Buffer();\n    luaL_buffinit(L, b);\n    while (i < strfrmt.length) {\n        if (strfrmt[i] !== L_ESC) {\n            luaL_addchar(b, strfrmt[i++]);\n        } else if (strfrmt[++i] === L_ESC) {\n            luaL_addchar(b, strfrmt[i++]); /* %% */\n        } else { /* format item */\n            let form = [];  /* to store the format ('%...') */\n            if (++arg > top)\n                luaL_argerror(L, arg, to_luastring(\"no value\"));\n            i = scanformat(L, strfrmt, i, form);\n            switch (String.fromCharCode(strfrmt[i++])) {\n                case 'c': {\n                    // sprintf(String.fromCharCode(...form), luaL_checkinteger(L, arg));\n                    luaL_addchar(b, luaL_checkinteger(L, arg));\n                    break;\n                }\n                case 'd': case 'i':\n                case 'o': case 'u': case 'x': case 'X': {\n                    let n = luaL_checkinteger(L, arg);\n                    addlenmod(form, to_luastring(LUA_INTEGER_FRMLEN, true));\n                    luaL_addstring(b, to_luastring(sprintf(String.fromCharCode(...form), n)));\n                    break;\n                }\n                case 'a': case 'A': {\n                    addlenmod(form, to_luastring(LUA_INTEGER_FRMLEN, true));\n                    luaL_addstring(b, lua_number2strx(L, form, luaL_checknumber(L, arg)));\n                    break;\n                }\n                case 'e': case 'E': case 'f':\n                case 'g': case 'G': {\n                    let n = luaL_checknumber(L, arg);\n                    addlenmod(form, to_luastring(LUA_INTEGER_FRMLEN, true));\n                    luaL_addstring(b, to_luastring(sprintf(String.fromCharCode(...form), n)));\n                    break;\n                }\n                case 'q': {\n                    addliteral(L, b, arg);\n                    break;\n                }\n                case 's': {\n                    let s = luaL_tolstring(L, arg);\n                    if (form.length <= 2 || form[2] === 0) {  /* no modifiers? */\n                        luaL_addvalue(b);  /* keep entire string */\n                    } else {\n                        luaL_argcheck(L, s.length === strlen(s), arg, \"string contains zeros\");\n                        if (luastring_indexOf(form, 46 /* '.'.charCodeAt(0) */) < 0 && s.length >= 100) {\n                            /* no precision and string is too long to be formatted */\n                            luaL_addvalue(b);  /* keep entire string */\n                        } else {  /* format the string into 'buff' */\n                            // TODO: will fail if s is not valid UTF-8\n                            luaL_addstring(b, to_luastring(sprintf(String.fromCharCode(...form), to_jsstring(s))));\n                            lua_pop(L, 1);  /* remove result from 'luaL_tolstring' */\n                        }\n                    }\n                    break;\n                }\n                default: {  /* also treat cases 'pnLlh' */\n                    return luaL_error(L, to_luastring(\"invalid option '%%%c' to 'format'\"), strfrmt[i-1]);\n                }\n            }\n        }\n    }\n    luaL_pushresult(b);\n    return 1;\n};\n\n/* value used for padding */\nconst LUAL_PACKPADBYTE = 0x00;\n\n/* maximum size for the binary representation of an integer */\nconst MAXINTSIZE = 16;\n\nconst SZINT = 4; // Size of lua_Integer\n\n/* number of bits in a character */\nconst NB = 8;\n\n/* mask for one character (NB 1's) */\nconst MC = ((1 << NB) - 1);\n\nconst MAXALIGN = 8;\n\n/*\n** information to pack/unpack stuff\n*/\nclass Header {\n    constructor(L) {\n        this.L = L;\n        this.islittle = true;\n        this.maxalign = 1;\n    }\n}\n\n/*\n** options for pack/unpack\n*/\nconst Kint       = 0; /* signed integers */\nconst Kuint      = 1; /* unsigned integers */\nconst Kfloat     = 2; /* floating-point numbers */\nconst Kchar      = 3; /* fixed-length strings */\nconst Kstring    = 4; /* strings with prefixed length */\nconst Kzstr      = 5; /* zero-terminated strings */\nconst Kpadding   = 6; /* padding */\nconst Kpaddalign = 7; /* padding for alignment */\nconst Knop       = 8; /* no-op (configuration or spaces) */\n\nconst digit = isdigit;\n\nconst getnum = function(fmt, df) {\n    if (fmt.off >= fmt.s.length || !digit(fmt.s[fmt.off]))  /* no number? */\n        return df;  /* return default value */\n    else {\n        let a = 0;\n        do {\n            a = a * 10 + (fmt.s[fmt.off++] - 48 /* '0'.charCodeAt(0) */);\n        } while (fmt.off < fmt.s.length && digit(fmt.s[fmt.off]) && a <= (MAXSIZE - 9)/10);\n        return a;\n    }\n};\n\n/*\n** Read an integer numeral and raises an error if it is larger\n** than the maximum size for integers.\n*/\nconst getnumlimit = function(h, fmt, df) {\n    let sz = getnum(fmt, df);\n    if (sz > MAXINTSIZE || sz <= 0)\n        luaL_error(h.L, to_luastring(\"integral size (%d) out of limits [1,%d]\"), sz, MAXINTSIZE);\n    return sz;\n};\n\n/*\n** Read and classify next option. 'size' is filled with option's size.\n*/\nconst getoption = function(h, fmt) {\n    let r = {\n        opt: fmt.s[fmt.off++],\n        size: 0  /* default */\n    };\n    switch (r.opt) {\n        case 98  /*'b'*/: r.size = 1; r.opt = Kint;   return r; // sizeof(char): 1\n        case 66  /*'B'*/: r.size = 1; r.opt = Kuint;  return r;\n        case 104 /*'h'*/: r.size = 2; r.opt = Kint;   return r; // sizeof(short): 2\n        case 72  /*'H'*/: r.size = 2; r.opt = Kuint;  return r;\n        case 108 /*'l'*/: r.size = 4; r.opt = Kint;   return r; // sizeof(long): 4\n        case 76  /*'L'*/: r.size = 4; r.opt = Kuint;  return r;\n        case 106 /*'j'*/: r.size = 4; r.opt = Kint;   return r; // sizeof(lua_Integer): 4\n        case 74  /*'J'*/: r.size = 4; r.opt = Kuint;  return r;\n        case 84  /*'T'*/: r.size = 4; r.opt = Kuint;  return r; // sizeof(size_t): 4\n        case 102 /*'f'*/: r.size = 4; r.opt = Kfloat; return r; // sizeof(float): 4\n        case 100 /*'d'*/: r.size = 8; r.opt = Kfloat; return r; // sizeof(double): 8\n        case 110 /*'n'*/: r.size = 8; r.opt = Kfloat; return r; // sizeof(lua_Number): 8\n        case 105 /*'i'*/: r.size = getnumlimit(h, fmt, 4); r.opt = Kint;    return r; // sizeof(int): 4\n        case 73  /*'I'*/: r.size = getnumlimit(h, fmt, 4); r.opt = Kuint;   return r;\n        case 115 /*'s'*/: r.size = getnumlimit(h, fmt, 4); r.opt = Kstring; return r;\n        case 99  /*'c'*/: {\n            r.size = getnum(fmt, -1);\n            if (r.size === -1)\n                luaL_error(h.L, to_luastring(\"missing size for format option 'c'\"));\n            r.opt = Kchar;\n            return r;\n        }\n        case 122 /*'z'*/:             r.opt = Kzstr;      return r;\n        case 120 /*'x'*/: r.size = 1; r.opt = Kpadding;   return r;\n        case 88  /*'X'*/:             r.opt = Kpaddalign; return r;\n        case 32  /*' '*/: break;\n        case 60  /*'<'*/: h.islittle = true; break;\n        case 62  /*'>'*/: h.islittle = false; break;\n        case 61  /*'='*/: h.islittle = true; break;\n        case 33  /*'!'*/: h.maxalign = getnumlimit(h, fmt, MAXALIGN); break;\n        default: luaL_error(h.L, to_luastring(\"invalid format option '%c'\"), r.opt);\n    }\n    r.opt = Knop;\n    return r;\n};\n\n/*\n** Read, classify, and fill other details about the next option.\n** 'psize' is filled with option's size, 'notoalign' with its\n** alignment requirements.\n** Local variable 'size' gets the size to be aligned. (Kpadal option\n** always gets its full alignment, other options are limited by\n** the maximum alignment ('maxalign'). Kchar option needs no alignment\n** despite its size.\n*/\nconst getdetails = function(h, totalsize, fmt) {\n    let r = {\n        opt: NaN,\n        size: NaN,\n        ntoalign: NaN\n    };\n\n    let opt = getoption(h, fmt);\n    r.size = opt.size;\n    r.opt = opt.opt;\n    let align = r.size;  /* usually, alignment follows size */\n    if (r.opt === Kpaddalign) {  /* 'X' gets alignment from following option */\n        if (fmt.off >= fmt.s.length || fmt.s[fmt.off] === 0)\n            luaL_argerror(h.L, 1, to_luastring(\"invalid next option for option 'X'\"));\n        else {\n            let o = getoption(h, fmt);\n            align = o.size;\n            o = o.opt;\n            if (o === Kchar || align === 0)\n                luaL_argerror(h.L, 1, to_luastring(\"invalid next option for option 'X'\"));\n        }\n    }\n    if (align <= 1 || r.opt === Kchar)  /* need no alignment? */\n        r.ntoalign = 0;\n    else {\n        if (align > h.maxalign)  /* enforce maximum alignment */\n            align = h.maxalign;\n        if ((align & (align -1)) !== 0)  /* is 'align' not a power of 2? */\n            luaL_argerror(h.L, 1, to_luastring(\"format asks for alignment not power of 2\"));\n        r.ntoalign = (align - (totalsize & (align - 1))) & (align - 1);\n    }\n    return r;\n};\n\n/*\n** Pack integer 'n' with 'size' bytes and 'islittle' endianness.\n** The final 'if' handles the case when 'size' is larger than\n** the size of a Lua integer, correcting the extra sign-extension\n** bytes if necessary (by default they would be zeros).\n*/\nconst packint = function(b, n, islittle, size, neg) {\n    let buff = luaL_prepbuffsize(b, size);\n    buff[islittle ? 0 : size - 1] = n & MC;  /* first byte */\n    for (let i = 1; i < size; i++) {\n        n >>= NB;\n        buff[islittle ? i : size - 1 - i] = n & MC;\n    }\n    if (neg && size > SZINT) {  /* negative number need sign extension? */\n        for (let i = SZINT; i < size; i++)  /* correct extra bytes */\n            buff[islittle ? i : size - 1 - i] = MC;\n    }\n    luaL_addsize(b, size);  /* add result to buffer */\n};\n\nconst str_pack = function(L) {\n    let b = new luaL_Buffer();\n    let h = new Header(L);\n    let fmt = {\n        s: luaL_checkstring(L, 1),  /* format string */\n        off: 0\n    };\n    let arg = 1;  /* current argument to pack */\n    let totalsize = 0;  /* accumulate total size of result */\n    lua_pushnil(L);  /* mark to separate arguments from string buffer */\n    luaL_buffinit(L, b);\n    while (fmt.off < fmt.s.length) {\n        let details = getdetails(h, totalsize, fmt);\n        let opt = details.opt;\n        let size = details.size;\n        let ntoalign = details.ntoalign;\n        totalsize += ntoalign + size;\n        while (ntoalign-- > 0)\n            luaL_addchar(b, LUAL_PACKPADBYTE);  /* fill alignment */\n        arg++;\n        switch (opt) {\n            case Kint: {  /* signed integers */\n                let n = luaL_checkinteger(L, arg);\n                if (size < SZINT) {  /* need overflow check? */\n                    let lim = 1 << (size * 8) - 1;\n                    luaL_argcheck(L, -lim <= n && n < lim, arg, \"integer overflow\");\n                }\n                packint(b, n, h.islittle, size, n < 0);\n                break;\n            }\n            case Kuint: {  /* unsigned integers */\n                let n = luaL_checkinteger(L, arg);\n                if (size < SZINT)\n                    luaL_argcheck(L, (n>>>0) < (1 << (size * NB)), arg, \"unsigned overflow\");\n                packint(b, n>>>0, h.islittle, size, false);\n                break;\n            }\n            case Kfloat: {  /* floating-point options */\n                let buff = luaL_prepbuffsize(b, size);\n                let n = luaL_checknumber(L, arg);  /* get argument */\n                let dv = new DataView(buff.buffer, buff.byteOffset, buff.byteLength);\n                if (size === 4) dv.setFloat32(0, n, h.islittle);\n                else dv.setFloat64(0, n, h.islittle);\n                luaL_addsize(b, size);\n                break;\n            }\n            case Kchar: {  /* fixed-size string */\n                let s = luaL_checkstring(L, arg);\n                let len = s.length;\n                luaL_argcheck(L, len <= size, arg, \"string longer than given size\");\n                luaL_addlstring(b, s, len);  /* add string */\n                while (len++ < size)  /* pad extra space */\n                    luaL_addchar(b, LUAL_PACKPADBYTE);\n                break;\n            }\n            case Kstring: {  /* strings with length count */\n                let s = luaL_checkstring(L, arg);\n                let len = s.length;\n                luaL_argcheck(L,\n                    size >= 4 /* sizeof(size_t) */ || len < (1 << (size * NB)),\n                    arg, \"string length does not fit in given size\");\n                packint(b, len, h.islittle, size, 0);  /* pack length */\n                luaL_addlstring(b, s, len);\n                totalsize += len;\n                break;\n            }\n            case Kzstr: {  /* zero-terminated string */\n                let s = luaL_checkstring(L, arg);\n                let len = s.length;\n                luaL_argcheck(L, luastring_indexOf(s, 0) < 0, arg, \"strings contains zeros\");\n                luaL_addlstring(b, s, len);\n                luaL_addchar(b, 0);  /* add zero at the end */\n                totalsize += len + 1;\n                break;\n            }\n            case Kpadding: luaL_addchar(b, LUAL_PACKPADBYTE); /* fall through */\n            case Kpaddalign: case Knop:\n                arg--;  /* undo increment */\n                break;\n        }\n    }\n    luaL_pushresult(b);\n    return 1;\n};\n\nconst str_reverse = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let r = new Uint8Array(l);\n    for (let i=0; i<l; i++)\n        r[i] = s[l-1-i];\n    lua_pushstring(L, r);\n    return 1;\n};\n\nconst str_lower = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let r = new Uint8Array(l);\n    for (let i=0; i<l; i++) {\n        let c = s[i];\n        if (isupper(c))\n            c = c | 0x20;\n        r[i] = c;\n    }\n    lua_pushstring(L, r);\n    return 1;\n};\n\nconst str_upper = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let r = new Uint8Array(l);\n    for (let i=0; i<l; i++) {\n        let c = s[i];\n        if (islower(c))\n            c = c & 0xdf;\n        r[i] = c;\n    }\n    lua_pushstring(L, r);\n    return 1;\n};\n\nconst str_rep = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let n = luaL_checkinteger(L, 2);\n    let sep = luaL_optstring(L, 3, \"\");\n    let lsep = sep.length;\n    if (n <= 0) lua_pushliteral(L, \"\");\n    else if (l + lsep < l || l + lsep > MAXSIZE / n)  /* may overflow? */\n        return luaL_error(L, to_luastring(\"resulting string too large\"));\n    else {\n        let totallen = n * l + (n - 1) * lsep;\n        let b = new luaL_Buffer();\n        let p = luaL_buffinitsize(L, b, totallen);\n        let pi = 0;\n        while (n-- > 1) {  /* first n-1 copies (followed by separator) */\n            p.set(s, pi);\n            pi += l;\n            if (lsep > 0) {  /* empty 'memcpy' is not that cheap */\n                p.set(sep, pi);\n                pi += lsep;\n            }\n        }\n        p.set(s, pi);  /* last copy (not followed by separator) */\n        luaL_pushresultsize(b, totallen);\n    }\n    return 1;\n};\n\nconst str_byte = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let l = s.length;\n    let posi = posrelat(luaL_optinteger(L, 2, 1), l);\n    let pose = posrelat(luaL_optinteger(L, 3, posi), l);\n\n    if (posi < 1) posi = 1;\n    if (pose > l) pose = l;\n    if (posi > pose) return 0;  /* empty interval; return no values */\n    if (pose - posi >= Number.MAX_SAFE_INTEGER)  /* arithmetic overflow? */\n        return luaL_error(L, \"string slice too long\");\n\n    let n = (pose - posi) + 1;\n    luaL_checkstack(L, n, \"string slice too long\");\n    for (let i = 0; i < n; i++)\n        lua_pushinteger(L, s[posi + i - 1]);\n    return n;\n};\n\nconst str_packsize = function(L) {\n    let h = new Header(L);\n    let fmt = {\n        s: luaL_checkstring(L, 1),\n        off: 0\n    };\n    let totalsize = 0;  /* accumulate total size of result */\n    while (fmt.off < fmt.s.length) {\n        let details = getdetails(h, totalsize, fmt);\n        let opt = details.opt;\n        let size = details.size;\n        let ntoalign = details.ntoalign;\n        size += ntoalign;  /* total space used by option */\n        luaL_argcheck(L, totalsize <= MAXSIZE - size, 1, \"format result too large\");\n        totalsize += size;\n        switch (opt) {\n            case Kstring:  /* strings with length count */\n            case Kzstr:    /* zero-terminated string */\n                luaL_argerror(L, 1, \"variable-length format\");\n                /* call never return, but to avoid warnings: *//* fall through */\n            default:  break;\n        }\n    }\n    lua_pushinteger(L, totalsize);\n    return 1;\n};\n\n/*\n** Unpack an integer with 'size' bytes and 'islittle' endianness.\n** If size is smaller than the size of a Lua integer and integer\n** is signed, must do sign extension (propagating the sign to the\n** higher bits); if size is larger than the size of a Lua integer,\n** it must check the unread bytes to see whether they do not cause an\n** overflow.\n*/\nconst unpackint = function(L, str, islittle, size, issigned) {\n    let res = 0;\n    let limit = size <= SZINT ? size : SZINT;\n    for (let i = limit - 1; i >= 0; i--) {\n        res <<= NB;\n        res |= str[islittle ? i : size - 1 - i];\n    }\n    if (size < SZINT) {  /* real size smaller than lua_Integer? */\n        if (issigned) {  /* needs sign extension? */\n            let mask = 1 << (size * NB - 1);\n            res = ((res ^ mask) - mask);  /* do sign extension */\n        }\n    } else if (size > SZINT) {  /* must check unread bytes */\n        let mask = !issigned || res >= 0 ? 0 : MC;\n        for (let i = limit; i < size; i++) {\n            if (str[islittle ? i : size - 1 - i] !== mask)\n                luaL_error(L, to_luastring(\"%d-byte integer does not fit into Lua Integer\"), size);\n        }\n    }\n    return res;\n};\n\nconst unpacknum = function(L, b, islittle, size) {\n    lualib.lua_assert(b.length >= size);\n\n    let dv = new DataView(new ArrayBuffer(size));\n    for (let i = 0; i < size; i++)\n        dv.setUint8(i, b[i], islittle);\n\n    if (size == 4) return dv.getFloat32(0, islittle);\n    else return dv.getFloat64(0, islittle);\n};\n\nconst str_unpack = function(L) {\n    let h = new Header(L);\n    let fmt = {\n        s: luaL_checkstring(L, 1),\n        off: 0\n    };\n    let data = luaL_checkstring(L, 2);\n    let ld = data.length;\n    let pos = posrelat(luaL_optinteger(L, 3, 1), ld) - 1;\n    let n = 0;  /* number of results */\n    luaL_argcheck(L, pos <= ld && pos >= 0, 3, \"initial position out of string\");\n    while (fmt.off < fmt.s.length) {\n        let details = getdetails(h, pos, fmt);\n        let opt = details.opt;\n        let size = details.size;\n        let ntoalign = details.ntoalign;\n        if (/*ntoalign + size > ~pos ||*/ pos + ntoalign + size > ld)\n            luaL_argerror(L, 2, to_luastring(\"data string too short\"));\n        pos += ntoalign;  /* skip alignment */\n        /* stack space for item + next position */\n        luaL_checkstack(L, 2, \"too many results\");\n        n++;\n        switch (opt) {\n            case Kint:\n            case Kuint: {\n                let res = unpackint(L, data.subarray(pos), h.islittle, size, opt === Kint);\n                lua_pushinteger(L, res);\n                break;\n            }\n            case Kfloat: {\n                let res = unpacknum(L, data.subarray(pos), h.islittle, size);\n                lua_pushnumber(L, res);\n                break;\n            }\n            case Kchar: {\n                lua_pushstring(L, data.subarray(pos, pos + size));\n                break;\n            }\n            case Kstring: {\n                let len = unpackint(L, data.subarray(pos), h.islittle, size, 0);\n                luaL_argcheck(L, pos + len + size <= ld, 2, \"data string too short\");\n                lua_pushstring(L, data.subarray(pos + size, pos + size + len));\n                pos += len;  /* skip string */\n                break;\n            }\n            case Kzstr: {\n                let e = luastring_indexOf(data, 0, pos);\n                if (e === -1) e = data.length - pos;\n                lua_pushstring(L, data.subarray(pos, e));\n                pos = e + 1;  /* skip string plus final '\\0' */\n                break;\n            }\n            case Kpaddalign: case Kpadding: case Knop:\n                n--;  /* undo increment */\n                break;\n        }\n        pos += size;\n    }\n    lua_pushinteger(L, pos + 1);  /* next position */\n    return n + 1;\n};\n\nconst CAP_UNFINISHED = -1;\nconst CAP_POSITION   = -2;\nconst MAXCCALLS      = 200;\nconst SPECIALS       = to_luastring(\"^$*+?.([%-\");\n\nclass MatchState {\n    constructor(L) {\n        this.src = null;  /* unmodified source string */\n        this.src_init = null;  /* init of source string */\n        this.src_end = null;  /* end ('\\0') of source string */\n        this.p = null;  /* unmodified pattern string */\n        this.p_end = null;  /* end ('\\0') of pattern */\n        this.L = L;\n        this.matchdepth = NaN;  /* control for recursive depth */\n        this.level = NaN;  /* total number of captures (finished or unfinished) */\n        this.capture = [];\n    }\n}\n\nconst check_capture = function(ms, l) {\n    l = l - 49 /* '1'.charCodeAt(0) */;\n    if (l < 0 || l >= ms.level || ms.capture[l].len === CAP_UNFINISHED)\n        return luaL_error(ms.L, to_luastring(\"invalid capture index %%%d\"), l + 1);\n    return l;\n};\n\nconst capture_to_close = function(ms) {\n    let level = ms.level;\n    for (level--; level >= 0; level--)\n        if (ms.capture[level].len === CAP_UNFINISHED) return level;\n    return luaL_error(ms.L, to_luastring(\"invalid pattern capture\"));\n};\n\nconst classend = function(ms, p) {\n    switch(ms.p[p++]) {\n        case L_ESC: {\n            if (p === ms.p_end)\n                luaL_error(ms.L, to_luastring(\"malformed pattern (ends with '%%')\"));\n            return p + 1;\n        }\n        case 91 /* '['.charCodeAt(0) */: {\n            if (ms.p[p] === 94 /* '^'.charCodeAt(0) */) p++;\n            do {  /* look for a ']' */\n                if (p === ms.p_end)\n                    luaL_error(ms.L, to_luastring(\"malformed pattern (missing ']')\"));\n                if (ms.p[p++] === L_ESC && p < ms.p_end)\n                    p++;  /* skip escapes (e.g. '%]') */\n            } while (ms.p[p] !== 93 /* ']'.charCodeAt(0) */);\n            return p + 1;\n        }\n        default: {\n            return p;\n        }\n    }\n};\n\nconst match_class = function(c, cl) {\n    switch (cl) {\n        case 97  /* 'a'.charCodeAt(0) */: return  isalpha(c);\n        case 65  /* 'A'.charCodeAt(0) */: return !isalpha(c);\n        case 99  /* 'c'.charCodeAt(0) */: return  iscntrl(c);\n        case 67  /* 'C'.charCodeAt(0) */: return !iscntrl(c);\n        case 100 /* 'd'.charCodeAt(0) */: return  isdigit(c);\n        case 68  /* 'D'.charCodeAt(0) */: return !isdigit(c);\n        case 103 /* 'g'.charCodeAt(0) */: return  isgraph(c);\n        case 71  /* 'G'.charCodeAt(0) */: return !isgraph(c);\n        case 108 /* 'l'.charCodeAt(0) */: return  islower(c);\n        case 76  /* 'L'.charCodeAt(0) */: return !islower(c);\n        case 112 /* 'p'.charCodeAt(0) */: return  ispunct(c);\n        case 80  /* 'P'.charCodeAt(0) */: return !ispunct(c);\n        case 115 /* 's'.charCodeAt(0) */: return  isspace(c);\n        case 83  /* 'S'.charCodeAt(0) */: return !isspace(c);\n        case 117 /* 'u'.charCodeAt(0) */: return  isupper(c);\n        case 85  /* 'U'.charCodeAt(0) */: return !isupper(c);\n        case 119 /* 'w'.charCodeAt(0) */: return  isalnum(c);\n        case 87  /* 'W'.charCodeAt(0) */: return !isalnum(c);\n        case 120 /* 'x'.charCodeAt(0) */: return  isxdigit(c);\n        case 88  /* 'X'.charCodeAt(0) */: return !isxdigit(c);\n        case 122 /* 'z'.charCodeAt(0) */: return (c === 0);  /* deprecated option */\n        case 90  /* 'z'.charCodeAt(0) */: return (c !== 0);  /* deprecated option */\n        default: return (cl === c);\n    }\n};\n\nconst matchbracketclass = function(ms, c, p, ec) {\n    let sig = true;\n    if (ms.p[p + 1] === 94 /* '^'.charCodeAt(0) */) {\n        sig = false;\n        p++;  /* skip the '^' */\n    }\n    while (++p < ec) {\n        if (ms.p[p] === L_ESC) {\n            p++;\n            if (match_class(c, ms.p[p]))\n                return sig;\n        } else if (ms.p[p + 1] === 45 /* '-'.charCodeAt(0) */ && p + 2 < ec) {\n            p += 2;\n            if (ms.p[p - 2] <= c && c <= ms.p[p])\n                return sig;\n        } else if (ms.p[p] === c) return sig;\n    }\n    return !sig;\n};\n\nconst singlematch = function(ms, s, p, ep) {\n    if (s >= ms.src_end)\n        return false;\n    else {\n        let c = ms.src[s];\n        switch (ms.p[p]) {\n            case 46 /* '.'.charCodeAt(0) */: return true;  /* matches any char */\n            case L_ESC: return match_class(c, ms.p[p + 1]);\n            case 91 /* '['.charCodeAt(0) */: return matchbracketclass(ms, c, p, ep - 1);\n            default: return ms.p[p] === c;\n        }\n    }\n};\n\nconst matchbalance = function(ms, s, p) {\n    if (p >= ms.p_end - 1)\n        luaL_error(ms.L, to_luastring(\"malformed pattern (missing arguments to '%%b'\"));\n    if (ms.src[s] !== ms.p[p])\n        return null;\n    else {\n        let b = ms.p[p];\n        let e = ms.p[p + 1];\n        let cont = 1;\n        while (++s < ms.src_end) {\n            if (ms.src[s] === e) {\n                if (--cont === 0) return s + 1;\n            }\n            else if (ms.src[s] === b) cont++;\n        }\n    }\n    return null;  /* string ends out of balance */\n};\n\nconst max_expand = function(ms, s, p, ep) {\n    let i = 0;  /* counts maximum expand for item */\n    while (singlematch(ms, s + i, p, ep))\n        i++;\n    /* keeps trying to match with the maximum repetitions */\n    while (i >= 0) {\n        let res = match(ms, s + i, ep + 1);\n        if (res) return res;\n        i--;  /* else didn't match; reduce 1 repetition to try again */\n    }\n    return null;\n};\n\nconst min_expand = function(ms, s, p, ep) {\n    for (;;) {\n        let res = match(ms, s, ep + 1);\n        if (res !== null)\n            return res;\n        else if (singlematch(ms, s, p, ep))\n            s++;  /* try with one more repetition */\n        else return null;\n    }\n};\n\nconst start_capture = function(ms, s, p, what) {\n    let level = ms.level;\n    if (level >= LUA_MAXCAPTURES) luaL_error(ms.L, to_luastring(\"too many captures\"));\n    ms.capture[level] = ms.capture[level] ? ms.capture[level] : {};\n    ms.capture[level].init = s;\n    ms.capture[level].len = what;\n    ms.level = level + 1;\n    let res;\n    if ((res = match(ms, s, p)) === null)  /* match failed? */\n        ms.level--;  /* undo capture */\n    return res;\n};\n\nconst end_capture = function(ms, s, p) {\n    let l = capture_to_close(ms);\n    ms.capture[l].len = s - ms.capture[l].init;  /* close capture */\n    let res;\n    if ((res = match(ms, s, p)) === null)  /* match failed? */\n        ms.capture[l].len = CAP_UNFINISHED;  /* undo capture */\n    return res;\n};\n\n/* Compare the elements of arrays 'a' and 'b' to see if they contain the same elements */\nconst array_cmp = function(a, ai, b, bi, len) {\n    return luastring_eq(a.subarray(ai, ai+len), b.subarray(bi, bi+len));\n};\n\nconst match_capture = function(ms, s, l) {\n    l = check_capture(ms, l);\n    let len = ms.capture[l].len;\n    if ((ms.src_end-s) >= len && array_cmp(ms.src, ms.capture[l].init, ms.src, s, len))\n        return s+len;\n    else return null;\n};\n\nconst match = function(ms, s, p) {\n    let gotodefault = false;\n    let gotoinit = true;\n\n    if (ms.matchdepth-- === 0)\n        luaL_error(ms.L, to_luastring(\"pattern too complex\"));\n\n    while (gotoinit || gotodefault) {\n        gotoinit = false;\n        if (p !== ms.p_end) {  /* end of pattern? */\n            switch (gotodefault ? void 0 : ms.p[p]) {\n                case 40 /* '('.charCodeAt(0) */: {  /* start capture */\n                    if (ms.p[p + 1] === 41 /* ')'.charCodeAt(0) */)  /* position capture? */\n                        s = start_capture(ms, s, p + 2, CAP_POSITION);\n                    else\n                        s = start_capture(ms, s, p + 1, CAP_UNFINISHED);\n                    break;\n                }\n                case 41 /* ')'.charCodeAt(0) */: {  /* end capture */\n                    s = end_capture(ms, s, p + 1);\n                    break;\n                }\n                case 36 /* '$'.charCodeAt(0) */: {\n                    if (p + 1 !== ms.p_end) {  /* is the '$' the last char in pattern? */\n                        gotodefault = true;  /* no; go to default */\n                        break;\n                    }\n                    s = (ms.src.length - s) === 0 ? s : null;  /* check end of string */\n                    break;\n                }\n                case L_ESC: {  /* escaped sequences not in the format class[*+?-]? */\n                    switch (ms.p[p + 1]) {\n                        case 98 /* 'b'.charCodeAt(0) */: {  /* balanced string? */\n                            s = matchbalance(ms, s, p + 2);\n                            if (s !== null) {\n                                p += 4;\n                                gotoinit = true;\n                            }\n                            break;\n                        }\n                        case 102 /* 'f'.charCodeAt(0) */: {  /* frontier? */\n                            p += 2;\n                            if (ms.p[p] !== 91 /* '['.charCodeAt(0) */)\n                                luaL_error(ms.L, to_luastring(\"missing '[' after '%%f' in pattern\"));\n                            let ep = classend(ms, p);  /* points to what is next */\n                            let previous = s === ms.src_init ? 0 : ms.src[s-1];\n                            if (!matchbracketclass(ms, previous, p, ep - 1) && matchbracketclass(ms, (s===ms.src_end)?0:ms.src[s], p, ep - 1)) {\n                                p = ep; gotoinit = true; break;\n                            }\n                            s = null;  /* match failed */\n                            break;\n                        }\n                        case 48: case 49: case 50: case 51: case 52:\n                        case 53: case 54: case 55: case 56: case 57: {  /* capture results (%0-%9)? */\n                            s = match_capture(ms, s, ms.p[p + 1]);\n                            if (s !== null) {\n                                p += 2; gotoinit = true;\n                            }\n                            break;\n                        }\n                        default: gotodefault = true;\n                    }\n                    break;\n                }\n                default: {  /* pattern class plus optional suffix */\n                    gotodefault = false;\n                    let ep = classend(ms, p);  /* points to optional suffix */\n                    /* does not match at least once? */\n                    if (!singlematch(ms, s, p, ep)) {\n                        if (ms.p[ep] === 42 /* '*'.charCodeAt(0) */ ||\n                            ms.p[ep] === 63 /* '?'.charCodeAt(0) */ ||\n                            ms.p[ep] === 45 /* '-'.charCodeAt(0) */\n                        ) {  /* accept empty? */\n                            p = ep + 1; gotoinit = true; break;\n                        } else  /* '+' or no suffix */\n                            s = null;  /* fail */\n                    } else {  /* matched once */\n                        switch (ms.p[ep]) {  /* handle optional suffix */\n                            case 63 /* '?'.charCodeAt(0) */: {  /* optional */\n                                let res;\n                                if ((res = match(ms, s + 1, ep + 1)) !== null)\n                                    s = res;\n                                else {\n                                    p = ep + 1; gotoinit = true;\n                                }\n                                break;\n                            }\n                            case 43 /* '+'.charCodeAt(0) */:  /* 1 or more repetitions */\n                                s++;  /* 1 match already done */\n                                /* fall through */\n                            case 42 /* '*'.charCodeAt(0) */:  /* 0 or more repetitions */\n                                s = max_expand(ms, s, p, ep);\n                                break;\n                            case 45 /* '-'.charCodeAt(0) */:  /* 0 or more repetitions (minimum) */\n                                s = min_expand(ms, s, p, ep);\n                                break;\n                            default:  /* no suffix */\n                                s++; p = ep; gotoinit = true;\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n    }\n    ms.matchdepth++;\n    return s;\n};\n\nconst push_onecapture = function(ms, i, s, e) {\n    if (i >= ms.level) {\n        if (i === 0)\n            lua_pushlstring(ms.L, ms.src.subarray(s, e), e - s);  /* add whole match */\n        else\n            luaL_error(ms.L, to_luastring(\"invalid capture index %%%d\"), i + 1);\n    } else {\n        let l = ms.capture[i].len;\n        if (l === CAP_UNFINISHED) luaL_error(ms.L, to_luastring(\"unfinished capture\"));\n        if (l === CAP_POSITION)\n            lua_pushinteger(ms.L, ms.capture[i].init - ms.src_init + 1);\n        else\n            lua_pushlstring(ms.L, ms.src.subarray(ms.capture[i].init), l);\n    }\n};\n\nconst push_captures = function(ms, s, e) {\n    let nlevels = ms.level === 0 && ms.src.subarray(s) ? 1 : ms.level;\n    luaL_checkstack(ms.L, nlevels, \"too many captures\");\n    for (let i = 0; i < nlevels; i++)\n        push_onecapture(ms, i, s, e);\n    return nlevels;  /* number of strings pushed */\n};\n\nconst nospecials = function(p, l) {\n    for (let i=0; i<l; i++) {\n        if (luastring_indexOf(SPECIALS, p[i]) !== -1)\n            return false;\n    }\n    return true;\n};\n\nconst prepstate = function(ms, L, s, ls, p, lp) {\n    ms.L = L;\n    ms.matchdepth = MAXCCALLS;\n    ms.src = s;\n    ms.src_init = 0;\n    ms.src_end = ls;\n    ms.p = p;\n    ms.p_end = lp;\n};\n\nconst reprepstate = function(ms) {\n    ms.level = 0;\n    lualib.lua_assert(ms.matchdepth === MAXCCALLS);\n};\n\nconst find_subarray = function(arr, subarr, from_index) {\n    var i = from_index >>> 0,\n        sl = subarr.length;\n\n    if (sl === 0)\n        return i;\n\n    for (; (i = arr.indexOf(subarr[0], i)) !== -1; i++) {\n        if (luastring_eq(arr.subarray(i, i+sl), subarr))\n            return i;\n    }\n\n    return -1;\n};\n\nconst str_find_aux = function(L, find) {\n    let s = luaL_checkstring(L, 1);\n    let p = luaL_checkstring(L, 2);\n    let ls = s.length;\n    let lp = p.length;\n    let init = posrelat(luaL_optinteger(L, 3, 1), ls);\n    if (init < 1) init = 1;\n    else if (init > ls + 1) {  /* start after string's end? */\n        lua_pushnil(L);  /* cannot find anything */\n        return 1;\n    }\n    /* explicit request or no special characters? */\n    if (find && (lua_toboolean(L, 4) || nospecials(p, lp))) {\n        /* do a plain search */\n        let f = find_subarray(s.subarray(init - 1), p, 0);\n        if (f > -1) {\n            lua_pushinteger(L, init + f);\n            lua_pushinteger(L, init + f + lp - 1);\n            return 2;\n        }\n    } else {\n        let ms = new MatchState(L);\n        let s1 = init - 1;\n        let anchor = p[0] === 94 /* '^'.charCodeAt(0) */;\n        if (anchor) {\n            p = p.subarray(1); lp--;  /* skip anchor character */\n        }\n        prepstate(ms, L, s, ls, p, lp);\n        do {\n            let res;\n            reprepstate(ms);\n            if ((res = match(ms, s1, 0)) !== null) {\n                if (find) {\n                    lua_pushinteger(L, s1 + 1);  /* start */\n                    lua_pushinteger(L, res);   /* end */\n                    return push_captures(ms, null, 0) + 2;\n                } else\n                    return push_captures(ms, s1, res);\n            }\n        } while (s1++ < ms.src_end && !anchor);\n    }\n    lua_pushnil(L);  /* not found */\n    return 1;\n};\n\nconst str_find = function(L) {\n    return str_find_aux(L, 1);\n};\n\nconst str_match = function(L) {\n    return str_find_aux(L, 0);\n};\n\n/* state for 'gmatch' */\nclass GMatchState {\n    constructor() {\n        this.src = NaN;  /* current position */\n        this.p = NaN;  /* pattern */\n        this.lastmatch = NaN;  /* end of last match */\n        this.ms = new MatchState();  /* match state */\n    }\n}\n\nconst gmatch_aux = function(L) {\n    let gm = lua_touserdata(L, lua_upvalueindex(3));\n    gm.ms.L = L;\n    for (let src = gm.src; src <= gm.ms.src_end; src++) {\n        reprepstate(gm.ms);\n        let e;\n        if ((e = match(gm.ms, src, gm.p)) !== null && e !== gm.lastmatch) {\n            gm.src = gm.lastmatch = e;\n            return push_captures(gm.ms, src, e);\n        }\n    }\n    return 0;  /* not found */\n};\n\nconst str_gmatch = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let p = luaL_checkstring(L, 2);\n    let ls = s.length;\n    let lp = p.length;\n    lua_settop(L, 2);  /* keep them on closure to avoid being collected */\n    let gm = new GMatchState();\n    lua_pushlightuserdata(L, gm);\n    prepstate(gm.ms, L, s, ls, p, lp);\n    gm.src = 0;\n    gm.p = 0;\n    gm.lastmatch = null;\n    lua_pushcclosure(L, gmatch_aux, 3);\n    return 1;\n};\n\nconst add_s = function(ms, b, s, e) {\n    let L = ms.L;\n    let news = lua_tostring(L, 3);\n    let l = news.length;\n    for (let i = 0; i < l; i++) {\n        if (news[i] !== L_ESC)\n            luaL_addchar(b, news[i]);\n        else {\n            i++;  /* skip ESC */\n            if (!isdigit(news[i])) {\n                if (news[i] !== L_ESC)\n                    luaL_error(L, to_luastring(\"invalid use of '%c' in replacement string\"), L_ESC);\n                luaL_addchar(b, news[i]);\n            } else if (news[i] === 48 /* '0'.charCodeAt(0) */)\n                luaL_addlstring(b, ms.src.subarray(s, e), e - s);\n            else {\n                push_onecapture(ms, news[i] - 49 /* '1'.charCodeAt(0) */, s, e);\n                luaL_tolstring(L, -1);\n                lua_remove(L, -2);  /* remove original value */\n                luaL_addvalue(b);  /* add capture to accumulated result */\n            }\n        }\n    }\n};\n\nconst add_value = function(ms, b, s, e, tr) {\n    let L = ms.L;\n    switch (tr) {\n        case LUA_TFUNCTION: {\n            lua_pushvalue(L, 3);\n            let n = push_captures(ms, s, e);\n            lua_call(L, n, 1);\n            break;\n        }\n        case LUA_TTABLE: {\n            push_onecapture(ms, 0, s, e);\n            lua_gettable(L, 3);\n            break;\n        }\n        default: {  /* LUA_TNUMBER or LUA_TSTRING */\n            add_s(ms, b, s, e);\n            return;\n        }\n    }\n    if (!lua_toboolean(L, -1)) {  /* nil or false? */\n        lua_pop(L, 1);\n        lua_pushlstring(L, ms.src.subarray(s, e), e - s);  /* keep original text */\n    } else if (!lua_isstring(L, -1))\n        luaL_error(L, to_luastring(\"invalid replacement value (a %s)\"), luaL_typename(L, -1));\n    luaL_addvalue(b);  /* add result to accumulator */\n};\n\nconst str_gsub = function(L) {\n    let src = luaL_checkstring(L, 1);  /* subject */\n    let srcl = src.length;\n    let p = luaL_checkstring(L, 2);  /* pattern */\n    let lp = p.length;\n    let lastmatch = null;  /* end of last match */\n    let tr = lua_type(L, 3);  /* replacement type */\n    let max_s = luaL_optinteger(L, 4, srcl + 1);  /* max replacements */\n    let anchor = p[0] === 94 /* '^'.charCodeAt(0) */;\n    let n = 0;  /* replacement count */\n    let ms = new MatchState(L);\n    let b = new luaL_Buffer();\n    luaL_argcheck(L, tr === LUA_TNUMBER || tr === LUA_TSTRING || tr === LUA_TFUNCTION || tr === LUA_TTABLE, 3,\n        \"string/function/table expected\");\n    luaL_buffinit(L, b);\n    if (anchor) {\n        p = p.subarray(1); lp--;  /* skip anchor character */\n    }\n    prepstate(ms, L, src, srcl, p, lp);\n    src = 0; p = 0;\n    while (n < max_s) {\n        let e;\n        reprepstate(ms);\n        if ((e = match(ms, src, p)) !== null && e !== lastmatch) {  /* match? */\n            n++;\n            add_value(ms, b, src, e, tr);  /* add replacement to buffer */\n            src = lastmatch = e;\n        } else if (src < ms.src_end)  /* otherwise, skip one character */\n            luaL_addchar(b, ms.src[src++]);\n        else break;  /* end of subject */\n        if (anchor) break;\n    }\n    luaL_addlstring(b, ms.src.subarray(src, ms.src_end), ms.src_end - src);\n    luaL_pushresult(b);\n    lua_pushinteger(L, n);  /* number of substitutions */\n    return 2;\n};\n\nconst strlib = {\n    \"byte\":     str_byte,\n    \"char\":     str_char,\n    \"dump\":     str_dump,\n    \"find\":     str_find,\n    \"format\":   str_format,\n    \"gmatch\":   str_gmatch,\n    \"gsub\":     str_gsub,\n    \"len\":      str_len,\n    \"lower\":    str_lower,\n    \"match\":    str_match,\n    \"pack\":     str_pack,\n    \"packsize\": str_packsize,\n    \"rep\":      str_rep,\n    \"reverse\":  str_reverse,\n    \"sub\":      str_sub,\n    \"unpack\":   str_unpack,\n    \"upper\":    str_upper\n};\n\nconst createmetatable = function(L) {\n    lua_createtable(L, 0, 1);  /* table to be metatable for strings */\n    lua_pushliteral(L, \"\");  /* dummy string */\n    lua_pushvalue(L, -2);  /* copy table */\n    lua_setmetatable(L, -2);  /* set table as metatable for strings */\n    lua_pop(L, 1);  /* pop dummy string */\n    lua_pushvalue(L, -2);  /* get string library */\n    lua_setfield(L, -2, to_luastring(\"__index\", true));  /* metatable.__index = string */\n    lua_pop(L, 1);  /* pop metatable */\n};\n\nconst luaopen_string = function(L) {\n    luaL_newlib(L, strlib);\n    createmetatable(L);\n    return 1;\n};\n\nmodule.exports.luaopen_string = luaopen_string;\n","\"use strict\";\n\nconst {\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TCCL,\n        LUA_TLCF,\n        LUA_TLCL,\n        LUA_TLIGHTUSERDATA,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR,\n        LUA_TTABLE,\n        LUA_TTHREAD,\n        LUA_TUSERDATA\n    },\n    to_luastring\n} = require('./defs.js');\nconst { lua_assert } = require('./llimits.js');\nconst ldebug  = require('./ldebug.js');\nconst lobject = require('./lobject.js');\nconst {\n    luaS_hashlongstr,\n    TString\n} = require('./lstring.js');\nconst lstate  = require('./lstate.js');\n\n/* used to prevent conflicts with lightuserdata keys */\nlet lightuserdata_hashes = new WeakMap();\nconst get_lightuserdata_hash = function(v) {\n    let hash = lightuserdata_hashes.get(v);\n    if (!hash) {\n        /* Hash should be something unique that is a valid WeakMap key\n           so that it ends up in dead_weak when removed from a table */\n        hash = {};\n        lightuserdata_hashes.set(v, hash);\n    }\n    return hash;\n};\n\nconst table_hash = function(L, key) {\n    switch(key.type) {\n        case LUA_TNIL:\n            return ldebug.luaG_runerror(L, to_luastring(\"table index is nil\", true));\n        case LUA_TNUMFLT:\n            if (isNaN(key.value))\n                return ldebug.luaG_runerror(L, to_luastring(\"table index is NaN\", true));\n            /* fall through */\n        case LUA_TNUMINT: /* takes advantage of floats and integers being same in JS */\n        case LUA_TBOOLEAN:\n        case LUA_TTABLE:\n        case LUA_TLCL:\n        case LUA_TLCF:\n        case LUA_TCCL:\n        case LUA_TUSERDATA:\n        case LUA_TTHREAD:\n            return key.value;\n        case LUA_TSHRSTR:\n        case LUA_TLNGSTR:\n            return luaS_hashlongstr(key.tsvalue());\n        case LUA_TLIGHTUSERDATA: {\n            let v = key.value;\n            switch(typeof v) {\n                case \"string\":\n                    /* possible conflict with LUA_TSTRING.\n                       prefix this string with \"*\" so they don't clash */\n                    return \"*\" + v;\n                case \"number\":\n                    /* possible conflict with LUA_TNUMBER.\n                       turn into string and prefix with \"#\" to avoid clash with other strings */\n                    return \"#\" + v;\n                case \"boolean\":\n                    /* possible conflict with LUA_TBOOLEAN. use strings ?true and ?false instead */\n                    return v?\"?true\":\"?false\";\n                case \"function\":\n                    /* possible conflict with LUA_TLCF.\n                       indirect via a weakmap */\n                    return get_lightuserdata_hash(v);\n                case \"object\":\n                    /* v could be a lua_State, CClosure, LClosure, Table or Userdata from this state as returned by lua_topointer */\n                    if ((v instanceof lstate.lua_State && v.l_G === L.l_G) ||\n                        v instanceof Table ||\n                        v instanceof lobject.Udata ||\n                        v instanceof lobject.LClosure ||\n                        v instanceof lobject.CClosure) {\n                        /* indirect via a weakmap */\n                        return get_lightuserdata_hash(v);\n                    }\n                    /* fall through */\n                default:\n                    return v;\n            }\n        }\n        default:\n            throw new Error(\"unknown key type: \" + key.type);\n    }\n};\n\nclass Table {\n    constructor(L) {\n        this.id = L.l_G.id_counter++;\n        this.strong = new Map();\n        this.dead_strong = new Map();\n        this.dead_weak = void 0; /* initialised when needed */\n        this.f = void 0; /* first entry */\n        this.l = void 0; /* last entry */\n        this.metatable = null;\n        this.flags = ~0;\n    }\n}\n\nconst invalidateTMcache = function(t) {\n    t.flags = 0;\n};\n\nconst add = function(t, hash, key, value) {\n    t.dead_strong.clear();\n    t.dead_weak = void 0;\n    let prev = null;\n    let entry = {\n        key: key,\n        value: value,\n        p: prev = t.l,\n        n: void 0\n    };\n    if (!t.f) t.f = entry;\n    if (prev) prev.n = entry;\n    t.strong.set(hash, entry);\n    t.l = entry;\n};\n\nconst is_valid_weakmap_key = function(k) {\n    return typeof k === 'object' ? k !== null : typeof k === 'function';\n};\n\n/* Move out of 'strong' part and into 'dead' part. */\nconst mark_dead = function(t, hash) {\n    let e = t.strong.get(hash);\n    if (e) {\n        e.key.setdeadvalue();\n        e.value = void 0;\n        let next = e.n;\n        let prev = e.p;\n        e.p = void 0; /* no need to know previous item any more */\n        if(prev) prev.n = next;\n        if(next) next.p = prev;\n        if(t.f === e) t.f = next;\n        if(t.l === e) t.l = prev;\n        t.strong.delete(hash);\n        if (is_valid_weakmap_key(hash)) {\n            if (!t.dead_weak) t.dead_weak = new WeakMap();\n            t.dead_weak.set(hash, e);\n        } else {\n            /* can't be used as key in weakmap */\n            t.dead_strong.set(hash, e);\n        }\n    }\n};\n\nconst luaH_new = function(L) {\n    return new Table(L);\n};\n\nconst getgeneric = function(t, hash) {\n    let v = t.strong.get(hash);\n    return v ? v.value : lobject.luaO_nilobject;\n};\n\nconst luaH_getint = function(t, key) {\n    lua_assert(typeof key == \"number\" && (key|0) === key);\n    return getgeneric(t, key);\n};\n\nconst luaH_getstr = function(t, key) {\n    lua_assert(key instanceof TString);\n    return getgeneric(t, luaS_hashlongstr(key));\n};\n\nconst luaH_get = function(L, t, key) {\n    lua_assert(key instanceof lobject.TValue);\n    if (key.ttisnil() || (key.ttisfloat() && isNaN(key.value)))\n        return lobject.luaO_nilobject;\n    return getgeneric(t, table_hash(L, key));\n};\n\nconst luaH_setint = function(t, key, value) {\n    lua_assert(typeof key == \"number\" && (key|0) === key && value instanceof lobject.TValue);\n    let hash = key; /* table_hash known result */\n    if (value.ttisnil()) {\n        mark_dead(t, hash);\n        return;\n    }\n    let e = t.strong.get(hash);\n    if (e) {\n        let tv = e.value;\n        tv.setfrom(value);\n    } else {\n        let k = new lobject.TValue(LUA_TNUMINT, key);\n        let v = new lobject.TValue(value.type, value.value);\n        add(t, hash, k, v);\n    }\n};\n\nconst luaH_setfrom = function(L, t, key, value) {\n    lua_assert(key instanceof lobject.TValue);\n    let hash = table_hash(L, key);\n    if (value.ttisnil()) { /* delete */\n        mark_dead(t, hash);\n        return;\n    }\n\n    let e = t.strong.get(hash);\n    if (e) {\n        e.value.setfrom(value);\n    } else {\n        let k;\n        let kv = key.value;\n        if ((key.ttisfloat() && (kv|0) === kv)) { /* does index fit in an integer? */\n            /* insert it as an integer */\n            k = new lobject.TValue(LUA_TNUMINT, kv);\n        } else {\n            k = new lobject.TValue(key.type, kv);\n        }\n        let v = new lobject.TValue(value.type, value.value);\n        add(t, hash, k, v);\n    }\n};\n\n/*\n** Try to find a boundary in table 't'. A 'boundary' is an integer index\n** such that t[i] is non-nil and t[i+1] is nil (and 0 if t[1] is nil).\n*/\nconst luaH_getn = function(t) {\n    let i = 0;\n    let j = t.strong.size + 1; /* use known size of Map to bound search */\n    /* now do a binary search between them */\n    while (j - i > 1) {\n        let m = Math.floor((i+j)/2);\n        if (luaH_getint(t, m).ttisnil()) j = m;\n        else i = m;\n    }\n    return i;\n};\n\nconst luaH_next = function(L, table, keyI) {\n    let keyO = L.stack[keyI];\n\n    let entry;\n    if (keyO.type === LUA_TNIL) {\n        entry = table.f;\n        if (!entry)\n            return false;\n    } else {\n        /* First find current key */\n        let hash = table_hash(L, keyO);\n        /* Look in main part of table */\n        entry = table.strong.get(hash);\n        if (entry) {\n            entry = entry.n;\n            if (!entry)\n                return false;\n        } else {\n            /* Try dead keys */\n            entry = (table.dead_weak && table.dead_weak.get(hash)) || table.dead_strong.get(hash);\n            if (!entry)\n                /* item not in table */\n                return ldebug.luaG_runerror(L, to_luastring(\"invalid key to 'next'\"));\n            /* Iterate until either out of keys, or until finding a non-dead key */\n            do {\n                entry = entry.n;\n                if (!entry)\n                    return false;\n            } while (entry.key.ttisdeadkey());\n        }\n    }\n    lobject.setobj2s(L, keyI, entry.key);\n    lobject.setobj2s(L, keyI+1, entry.value);\n    return true;\n};\n\nmodule.exports.invalidateTMcache = invalidateTMcache;\nmodule.exports.luaH_get     = luaH_get;\nmodule.exports.luaH_getint  = luaH_getint;\nmodule.exports.luaH_getn    = luaH_getn;\nmodule.exports.luaH_getstr  = luaH_getstr;\nmodule.exports.luaH_setfrom = luaH_setfrom;\nmodule.exports.luaH_setint  = luaH_setint;\nmodule.exports.luaH_new     = luaH_new;\nmodule.exports.luaH_next    = luaH_next;\nmodule.exports.Table        = Table;\n","\"use strict\";\n\nconst { LUA_MAXINTEGER } = require('./luaconf.js');\nconst {\n    LUA_OPEQ,\n    LUA_OPLT,\n    LUA_TFUNCTION,\n    LUA_TNIL,\n    LUA_TTABLE,\n    lua_call,\n    lua_checkstack,\n    lua_compare,\n    lua_createtable,\n    lua_geti,\n    lua_getmetatable,\n    lua_gettop,\n    lua_insert,\n    lua_isnil,\n    lua_isnoneornil,\n    lua_isstring,\n    lua_pop,\n    lua_pushinteger,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_rawget,\n    lua_setfield,\n    lua_seti,\n    lua_settop,\n    lua_toboolean,\n    lua_type\n} = require('./lua.js');\nconst {\n    luaL_Buffer,\n    luaL_addlstring,\n    luaL_addvalue,\n    luaL_argcheck,\n    luaL_buffinit,\n    luaL_checkinteger,\n    luaL_checktype,\n    luaL_error,\n    luaL_len,\n    luaL_newlib,\n    luaL_opt,\n    luaL_optinteger,\n    luaL_optlstring,\n    luaL_pushresult,\n    luaL_typename\n} = require('./lauxlib.js');\nconst lualib = require('./lualib.js');\nconst { to_luastring } = require(\"./fengaricore.js\");\n\n/*\n** Operations that an object must define to mimic a table\n** (some functions only need some of them)\n*/\nconst TAB_R  = 1;               /* read */\nconst TAB_W  = 2;               /* write */\nconst TAB_L  = 4;               /* length */\nconst TAB_RW = (TAB_R | TAB_W); /* read/write */\n\nconst checkfield = function(L, key, n) {\n    lua_pushstring(L, key);\n    return lua_rawget(L, -n) !== LUA_TNIL;\n};\n\n/*\n** Check that 'arg' either is a table or can behave like one (that is,\n** has a metatable with the required metamethods)\n*/\nconst checktab = function(L, arg, what) {\n    if (lua_type(L, arg) !== LUA_TTABLE) {  /* is it not a table? */\n        let n = 1;\n        if (lua_getmetatable(L, arg) &&  /* must have metatable */\n            (!(what & TAB_R) || checkfield(L, to_luastring(\"__index\", true), ++n)) &&\n            (!(what & TAB_W) || checkfield(L, to_luastring(\"__newindex\", true), ++n)) &&\n            (!(what & TAB_L) || checkfield(L, to_luastring(\"__len\", true), ++n))) {\n            lua_pop(L, n);  /* pop metatable and tested metamethods */\n        }\n        else\n            luaL_checktype(L, arg, LUA_TTABLE);  /* force an error */\n    }\n};\n\nconst aux_getn = function(L, n, w) {\n    checktab(L, n, w | TAB_L);\n    return luaL_len(L, n);\n};\n\nconst addfield = function(L, b, i) {\n    lua_geti(L, 1, i);\n    if (!lua_isstring(L, -1))\n        luaL_error(L, to_luastring(\"invalid value (%s) at index %d in table for 'concat'\"),\n            luaL_typename(L, -1), i);\n\n    luaL_addvalue(b);\n};\n\nconst tinsert = function(L) {\n    let e = aux_getn(L, 1, TAB_RW) + 1;  /* first empty element */\n    let pos;\n    switch (lua_gettop(L)) {\n        case 2:\n            pos = e;\n            break;\n        case 3: {\n            pos = luaL_checkinteger(L, 2);  /* 2nd argument is the position */\n            luaL_argcheck(L, 1 <= pos && pos <= e, 2, \"position out of bounds\");\n            for (let i = e; i > pos; i--) {  /* move up elements */\n                lua_geti(L, 1, i - 1);\n                lua_seti(L, 1, i);  /* t[i] = t[i - 1] */\n            }\n            break;\n        }\n        default: {\n            return luaL_error(L, \"wrong number of arguments to 'insert'\");\n        }\n    }\n\n    lua_seti(L, 1, pos);  /* t[pos] = v */\n    return 0;\n};\n\nconst tremove = function(L) {\n    let size = aux_getn(L, 1, TAB_RW);\n    let pos = luaL_optinteger(L, 2, size);\n    if (pos !== size)  /* validate 'pos' if given */\n        luaL_argcheck(L, 1 <= pos && pos <= size + 1, 1, \"position out of bounds\");\n    lua_geti(L, 1, pos);  /* result = t[pos] */\n    for (; pos < size; pos++) {\n        lua_geti(L, 1, pos + 1);\n        lua_seti(L, 1, pos);  /* t[pos] = t[pos + 1] */\n    }\n    lua_pushnil(L);\n    lua_seti(L, 1, pos);  /* t[pos] = nil */\n    return 1;\n};\n\n/*\n** Copy elements (1[f], ..., 1[e]) into (tt[t], tt[t+1], ...). Whenever\n** possible, copy in increasing order, which is better for rehashing.\n** \"possible\" means destination after original range, or smaller\n** than origin, or copying to another table.\n*/\nconst tmove = function(L) {\n    let f = luaL_checkinteger(L, 2);\n    let e = luaL_checkinteger(L, 3);\n    let t = luaL_checkinteger(L, 4);\n    let tt = !lua_isnoneornil(L, 5) ? 5 : 1;  /* destination table */\n    checktab(L, 1, TAB_R);\n    checktab(L, tt, TAB_W);\n    if (e >= f) {  /* otherwise, nothing to move */\n        luaL_argcheck(L, f > 0 || e < LUA_MAXINTEGER + f, 3, \"too many elements to move\");\n        let n = e - f + 1;  /* number of elements to move */\n        luaL_argcheck(L, t <= LUA_MAXINTEGER - n + 1, 4, \"destination wrap around\");\n\n        if (t > e || t <= f || (tt !== 1 && lua_compare(L, 1, tt, LUA_OPEQ) !== 1)) {\n            for (let i = 0; i < n; i++) {\n                lua_geti(L, 1, f + i);\n                lua_seti(L, tt, t + i);\n            }\n        } else {\n            for (let i = n - 1; i >= 0; i--) {\n                lua_geti(L, 1, f + i);\n                lua_seti(L, tt, t + i);\n            }\n        }\n    }\n\n    lua_pushvalue(L, tt);  /* return destination table */\n    return 1;\n};\n\nconst tconcat = function(L) {\n    let last = aux_getn(L, 1, TAB_R);\n    let sep = luaL_optlstring(L, 2, \"\");\n    let lsep = sep.length;\n    let i = luaL_optinteger(L, 3, 1);\n    last = luaL_optinteger(L, 4, last);\n\n    let b = new luaL_Buffer();\n    luaL_buffinit(L, b);\n\n    for (; i < last; i++) {\n        addfield(L, b, i);\n        luaL_addlstring(b, sep, lsep);\n    }\n\n    if (i === last)\n        addfield(L, b, i);\n\n    luaL_pushresult(b);\n\n    return 1;\n};\n\nconst pack = function(L) {\n    let n = lua_gettop(L);  /* number of elements to pack */\n    lua_createtable(L, n, 1);  /* create result table */\n    lua_insert(L, 1);  /* put it at index 1 */\n    for (let i = n; i >= 1; i--)  /* assign elements */\n        lua_seti(L, 1, i);\n    lua_pushinteger(L, n);\n    lua_setfield(L, 1, to_luastring(\"n\"));  /* t.n = number of elements */\n    return 1;  /* return table */\n};\n\nconst unpack = function(L) {\n    let i = luaL_optinteger(L, 2, 1);\n    let e = luaL_opt(L, luaL_checkinteger, 3, luaL_len(L, 1));\n    if (i > e) return 0;  /* empty range */\n    let n = e - i;  /* number of elements minus 1 (avoid overflows) */\n    if (n >= Number.MAX_SAFE_INTEGER || !lua_checkstack(L, ++n))\n        return luaL_error(L, to_luastring(\"too many results to unpack\"));\n    for (; i < e; i++)  /* push arg[i..e - 1] (to avoid overflows) */\n        lua_geti(L, 1, i);\n    lua_geti(L, 1, e);  /* push last element */\n    return n;\n};\n\nconst l_randomizePivot = function() {\n    return Math.floor(Math.random()*0x100000000);\n};\n\nconst RANLIMIT = 100;\n\nconst set2 = function(L, i, j) {\n    lua_seti(L, 1, i);\n    lua_seti(L, 1, j);\n};\n\nconst sort_comp = function(L, a, b) {\n    if (lua_isnil(L, 2))  /* no function? */\n        return lua_compare(L, a, b, LUA_OPLT);  /* a < b */\n    else {  /* function */\n        lua_pushvalue(L, 2);    /* push function */\n        lua_pushvalue(L, a-1);  /* -1 to compensate function */\n        lua_pushvalue(L, b-2);  /* -2 to compensate function and 'a' */\n        lua_call(L, 2, 1);      /* call function */\n        let res = lua_toboolean(L, -1);  /* get result */\n        lua_pop(L, 1);          /* pop result */\n        return res;\n    }\n};\n\nconst partition = function(L, lo, up) {\n    let i = lo;  /* will be incremented before first use */\n    let j = up - 1;  /* will be decremented before first use */\n    /* loop invariant: a[lo .. i] <= P <= a[j .. up] */\n    for (;;) {\n        /* next loop: repeat ++i while a[i] < P */\n        while (lua_geti(L, 1, ++i), sort_comp(L, -1, -2)) {\n            if (i == up - 1)  /* a[i] < P  but a[up - 1] == P  ?? */\n                luaL_error(L, to_luastring(\"invalid order function for sorting\"));\n            lua_pop(L, 1);  /* remove a[i] */\n        }\n        /* after the loop, a[i] >= P and a[lo .. i - 1] < P */\n        /* next loop: repeat --j while P < a[j] */\n        while (lua_geti(L, 1, --j), sort_comp(L, -3, -1)) {\n            if (j < i)  /* j < i  but  a[j] > P ?? */\n                luaL_error(L, to_luastring(\"invalid order function for sorting\"));\n            lua_pop(L, 1);  /* remove a[j] */\n        }\n        /* after the loop, a[j] <= P and a[j + 1 .. up] >= P */\n        if (j < i) {  /* no elements out of place? */\n            /* a[lo .. i - 1] <= P <= a[j + 1 .. i .. up] */\n            lua_pop(L, 1);  /* pop a[j] */\n            /* swap pivot (a[up - 1]) with a[i] to satisfy pos-condition */\n            set2(L, up - 1, i);\n            return i;\n        }\n        /* otherwise, swap a[i] - a[j] to restore invariant and repeat */\n        set2(L, i, j);\n    }\n};\n\nconst choosePivot = function(lo, up, rnd) {\n    let r4 = Math.floor((up - lo) / 4);  /* range/4 */\n    let p = rnd % (r4 * 2) + (lo + r4);\n    lualib.lua_assert(lo + r4 <= p && p <= up - r4);\n    return p;\n};\n\nconst auxsort = function(L, lo, up, rnd) {\n    while (lo < up) {  /* loop for tail recursion */\n        /* sort elements 'lo', 'p', and 'up' */\n        lua_geti(L, 1, lo);\n        lua_geti(L, 1, up);\n        if (sort_comp(L, -1, -2))  /* a[up] < a[lo]? */\n            set2(L, lo, up);  /* swap a[lo] - a[up] */\n        else\n            lua_pop(L, 2);  /* remove both values */\n        if (up - lo == 1)  /* only 2 elements? */\n            return;  /* already sorted */\n        let p;  /* Pivot index */\n        if (up - lo < RANLIMIT || rnd === 0)  /* small interval or no randomize? */\n            p = Math.floor((lo + up)/2);  /* middle element is a good pivot */\n        else  /* for larger intervals, it is worth a random pivot */\n            p = choosePivot(lo, up, rnd);\n        lua_geti(L, 1, p);\n        lua_geti(L, 1, lo);\n        if (sort_comp(L, -2, -1))  /* a[p] < a[lo]? */\n            set2(L, p, lo);  /* swap a[p] - a[lo] */\n        else {\n            lua_pop(L, 1);  /* remove a[lo] */\n            lua_geti(L, 1, up);\n            if (sort_comp(L, -1, -2))  /* a[up] < a[p]? */\n                set2(L, p, up);  /* swap a[up] - a[p] */\n            else\n                lua_pop(L, 2);\n        }\n        if (up - lo == 2)  /* only 3 elements? */\n            return;  /* already sorted */\n        lua_geti(L, 1, p);  /* get middle element (Pivot) */\n        lua_pushvalue(L, -1);  /* push Pivot */\n        lua_geti(L, 1, up - 1);  /* push a[up - 1] */\n        set2(L, p, up - 1);  /* swap Pivot (a[p]) with a[up - 1] */\n        p = partition(L, lo, up);\n        let n;\n        /* a[lo .. p - 1] <= a[p] == P <= a[p + 1 .. up] */\n        if (p - lo < up - p) {  /* lower interval is smaller? */\n            auxsort(L, lo, p - 1, rnd);  /* call recursively for lower interval */\n            n = p - lo;  /* size of smaller interval */\n            lo = p + 1;  /* tail call for [p + 1 .. up] (upper interval) */\n        } else {\n            auxsort(L, p + 1, up, rnd);  /* call recursively for upper interval */\n            n = up - p;  /* size of smaller interval */\n            up = p - 1;  /* tail call for [lo .. p - 1]  (lower interval) */\n        }\n        if ((up - lo) / 128 > n) /* partition too imbalanced? */\n            rnd = l_randomizePivot();  /* try a new randomization */\n    }  /* tail call auxsort(L, lo, up, rnd) */\n};\n\nconst sort = function(L) {\n    let n = aux_getn(L, 1, TAB_RW);\n    if (n > 1) {  /* non-trivial interval? */\n        luaL_argcheck(L, n < LUA_MAXINTEGER, 1, \"array too big\");\n        if (!lua_isnoneornil(L, 2))  /* is there a 2nd argument? */\n            luaL_checktype(L, 2, LUA_TFUNCTION);  /* must be a function */\n        lua_settop(L, 2);  /* make sure there are two arguments */\n        auxsort(L, 1, n, 0);\n    }\n    return 0;\n};\n\nconst tab_funcs = {\n    \"concat\": tconcat,\n    \"insert\": tinsert,\n    \"move\":   tmove,\n    \"pack\":   pack,\n    \"remove\": tremove,\n    \"sort\":   sort,\n    \"unpack\": unpack\n};\n\nconst luaopen_table = function(L) {\n    luaL_newlib(L, tab_funcs);\n    return 1;\n};\n\nmodule.exports.luaopen_table = luaopen_table;\n","\"use strict\";\n\nconst {\n    constant_types: {\n        LUA_TTABLE,\n        LUA_TUSERDATA\n    },\n    to_luastring\n} = require('./defs.js');\nconst { lua_assert } = require('./llimits.js');\nconst lobject = require('./lobject.js');\nconst ldo     = require('./ldo.js');\nconst lstate  = require('./lstate.js');\nconst {\n    luaS_bless,\n    luaS_new\n} = require('./lstring.js');\nconst ltable  = require('./ltable.js');\nconst ldebug  = require('./ldebug.js');\nconst lvm     = require('./lvm.js');\n\nconst luaT_typenames_ = [\n    \"no value\",\n    \"nil\",\n    \"boolean\",\n    \"userdata\",\n    \"number\",\n    \"string\",\n    \"table\",\n    \"function\",\n    \"userdata\",\n    \"thread\",\n    \"proto\" /* this last case is used for tests only */\n].map(e => to_luastring(e));\n\nconst ttypename = function(t) {\n    return luaT_typenames_[t + 1];\n};\n\n\n/*\n* WARNING: if you change the order of this enumeration,\n* grep \"ORDER TM\" and \"ORDER OP\"\n*/\nconst TMS = {\n    TM_INDEX:    0,\n    TM_NEWINDEX: 1,\n    TM_GC:       2,\n    TM_MODE:     3,\n    TM_LEN:      4,\n    TM_EQ:       5,  /* last tag method with fast access */\n    TM_ADD:      6,\n    TM_SUB:      7,\n    TM_MUL:      8,\n    TM_MOD:      9,\n    TM_POW:     10,\n    TM_DIV:     11,\n    TM_IDIV:    12,\n    TM_BAND:    13 ,\n    TM_BOR:     14,\n    TM_BXOR:    15,\n    TM_SHL:     16,\n    TM_SHR:     17,\n    TM_UNM:     18,\n    TM_BNOT:    19,\n    TM_LT:      20,\n    TM_LE:      21,\n    TM_CONCAT:  22,\n    TM_CALL:    23,\n    TM_N:       24  /* number of elements in the enum */\n};\n\nconst luaT_init = function(L) {\n    L.l_G.tmname[TMS.TM_INDEX]    = new luaS_new(L, to_luastring(\"__index\", true));\n    L.l_G.tmname[TMS.TM_NEWINDEX] = new luaS_new(L, to_luastring(\"__newindex\", true));\n    L.l_G.tmname[TMS.TM_GC]       = new luaS_new(L, to_luastring(\"__gc\", true));\n    L.l_G.tmname[TMS.TM_MODE]     = new luaS_new(L, to_luastring(\"__mode\", true));\n    L.l_G.tmname[TMS.TM_LEN]      = new luaS_new(L, to_luastring(\"__len\", true));\n    L.l_G.tmname[TMS.TM_EQ]       = new luaS_new(L, to_luastring(\"__eq\", true));\n    L.l_G.tmname[TMS.TM_ADD]      = new luaS_new(L, to_luastring(\"__add\", true));\n    L.l_G.tmname[TMS.TM_SUB]      = new luaS_new(L, to_luastring(\"__sub\", true));\n    L.l_G.tmname[TMS.TM_MUL]      = new luaS_new(L, to_luastring(\"__mul\", true));\n    L.l_G.tmname[TMS.TM_MOD]      = new luaS_new(L, to_luastring(\"__mod\", true));\n    L.l_G.tmname[TMS.TM_POW]      = new luaS_new(L, to_luastring(\"__pow\", true));\n    L.l_G.tmname[TMS.TM_DIV]      = new luaS_new(L, to_luastring(\"__div\", true));\n    L.l_G.tmname[TMS.TM_IDIV]     = new luaS_new(L, to_luastring(\"__idiv\", true));\n    L.l_G.tmname[TMS.TM_BAND]     = new luaS_new(L, to_luastring(\"__band\", true));\n    L.l_G.tmname[TMS.TM_BOR]      = new luaS_new(L, to_luastring(\"__bor\", true));\n    L.l_G.tmname[TMS.TM_BXOR]     = new luaS_new(L, to_luastring(\"__bxor\", true));\n    L.l_G.tmname[TMS.TM_SHL]      = new luaS_new(L, to_luastring(\"__shl\", true));\n    L.l_G.tmname[TMS.TM_SHR]      = new luaS_new(L, to_luastring(\"__shr\", true));\n    L.l_G.tmname[TMS.TM_UNM]      = new luaS_new(L, to_luastring(\"__unm\", true));\n    L.l_G.tmname[TMS.TM_BNOT]     = new luaS_new(L, to_luastring(\"__bnot\", true));\n    L.l_G.tmname[TMS.TM_LT]       = new luaS_new(L, to_luastring(\"__lt\", true));\n    L.l_G.tmname[TMS.TM_LE]       = new luaS_new(L, to_luastring(\"__le\", true));\n    L.l_G.tmname[TMS.TM_CONCAT]   = new luaS_new(L, to_luastring(\"__concat\", true));\n    L.l_G.tmname[TMS.TM_CALL]     = new luaS_new(L, to_luastring(\"__call\", true));\n};\n\n/*\n** Return the name of the type of an object. For tables and userdata\n** with metatable, use their '__name' metafield, if present.\n*/\nconst __name = to_luastring('__name', true);\nconst luaT_objtypename = function(L, o) {\n    let mt;\n    if ((o.ttistable() && (mt = o.value.metatable) !== null) ||\n        (o.ttisfulluserdata() && (mt = o.value.metatable) !== null)) {\n        let name = ltable.luaH_getstr(mt, luaS_bless(L, __name));\n        if (name.ttisstring())\n            return name.svalue();\n    }\n    return ttypename(o.ttnov());\n};\n\nconst luaT_callTM = function(L, f, p1, p2, p3, hasres) {\n    let func = L.top;\n\n    lobject.pushobj2s(L, f); /* push function (assume EXTRA_STACK) */\n    lobject.pushobj2s(L, p1); /* 1st argument */\n    lobject.pushobj2s(L, p2); /* 2nd argument */\n\n    if (!hasres)  /* no result? 'p3' is third argument */\n        lobject.pushobj2s(L, p3); /* 3rd argument */\n\n    if (L.ci.callstatus & lstate.CIST_LUA)\n        ldo.luaD_call(L, func, hasres);\n    else\n        ldo.luaD_callnoyield(L, func, hasres);\n\n    if (hasres) {  /* if has result, move it to its place */\n        let tv = L.stack[L.top-1];\n        delete L.stack[--L.top];\n        p3.setfrom(tv);\n    }\n};\n\nconst luaT_callbinTM = function(L, p1, p2, res, event) {\n    let tm = luaT_gettmbyobj(L, p1, event);\n    if (tm.ttisnil())\n        tm = luaT_gettmbyobj(L, p2, event);\n    if (tm.ttisnil()) return false;\n    luaT_callTM(L, tm, p1, p2, res, 1);\n    return true;\n};\n\nconst luaT_trybinTM = function(L, p1, p2, res, event) {\n    if (!luaT_callbinTM(L, p1, p2, res, event)) {\n        switch (event) {\n            case TMS.TM_CONCAT:\n                return ldebug.luaG_concaterror(L, p1, p2);\n            case TMS.TM_BAND: case TMS.TM_BOR: case TMS.TM_BXOR:\n            case TMS.TM_SHL: case TMS.TM_SHR: case TMS.TM_BNOT: {\n                let n1 = lvm.tonumber(p1);\n                let n2 = lvm.tonumber(p2);\n                if (n1 !== false && n2 !== false)\n                    return ldebug.luaG_tointerror(L, p1, p2);\n                else\n                    return ldebug.luaG_opinterror(L, p1, p2, to_luastring(\"perform bitwise operation on\", true));\n            }\n            default:\n                return ldebug.luaG_opinterror(L, p1, p2, to_luastring(\"perform arithmetic on\", true));\n        }\n    }\n};\n\nconst luaT_callorderTM = function(L, p1, p2, event) {\n    let res = new lobject.TValue();\n    if (!luaT_callbinTM(L, p1, p2, res, event))\n        return null;\n    else\n        return !res.l_isfalse();\n};\n\nconst fasttm = function(l, et, e) {\n    return et === null ? null :\n        (et.flags & (1 << e)) ? null : luaT_gettm(et, e, l.l_G.tmname[e]);\n};\n\nconst luaT_gettm = function(events, event, ename) {\n    const tm = ltable.luaH_getstr(events, ename);\n    lua_assert(event <= TMS.TM_EQ);\n    if (tm.ttisnil()) {  /* no tag method? */\n        events.flags |= 1<<event;  /* cache this fact */\n        return null;\n    }\n    else return tm;\n};\n\nconst luaT_gettmbyobj = function(L, o, event) {\n    let mt;\n    switch(o.ttnov()) {\n        case LUA_TTABLE:\n        case LUA_TUSERDATA:\n            mt = o.value.metatable;\n            break;\n        default:\n            mt = L.l_G.mt[o.ttnov()];\n    }\n\n    return mt ? ltable.luaH_getstr(mt, L.l_G.tmname[event]) : lobject.luaO_nilobject;\n};\n\nmodule.exports.fasttm           = fasttm;\nmodule.exports.TMS              = TMS;\nmodule.exports.luaT_callTM      = luaT_callTM;\nmodule.exports.luaT_callbinTM   = luaT_callbinTM;\nmodule.exports.luaT_trybinTM    = luaT_trybinTM;\nmodule.exports.luaT_callorderTM = luaT_callorderTM;\nmodule.exports.luaT_gettm       = luaT_gettm;\nmodule.exports.luaT_gettmbyobj  = luaT_gettmbyobj;\nmodule.exports.luaT_init        = luaT_init;\nmodule.exports.luaT_objtypename = luaT_objtypename;\nmodule.exports.ttypename        = ttypename;\n","\"use strict\";\n\nconst defs   = require(\"./defs.js\");\nconst lapi   = require(\"./lapi.js\");\nconst ldebug = require(\"./ldebug.js\");\nconst ldo    = require(\"./ldo.js\");\nconst lstate = require(\"./lstate.js\");\n\nmodule.exports.LUA_AUTHORS             = defs.LUA_AUTHORS;\nmodule.exports.LUA_COPYRIGHT           = defs.LUA_COPYRIGHT;\nmodule.exports.LUA_ERRERR              = defs.thread_status.LUA_ERRERR;\nmodule.exports.LUA_ERRGCMM             = defs.thread_status.LUA_ERRGCMM;\nmodule.exports.LUA_ERRMEM              = defs.thread_status.LUA_ERRMEM;\nmodule.exports.LUA_ERRRUN              = defs.thread_status.LUA_ERRRUN;\nmodule.exports.LUA_ERRSYNTAX           = defs.thread_status.LUA_ERRSYNTAX;\nmodule.exports.LUA_HOOKCALL            = defs.LUA_HOOKCALL;\nmodule.exports.LUA_HOOKCOUNT           = defs.LUA_HOOKCOUNT;\nmodule.exports.LUA_HOOKLINE            = defs.LUA_HOOKLINE;\nmodule.exports.LUA_HOOKRET             = defs.LUA_HOOKRET;\nmodule.exports.LUA_HOOKTAILCALL        = defs.LUA_HOOKTAILCALL;\nmodule.exports.LUA_MASKCALL            = defs.LUA_MASKCALL;\nmodule.exports.LUA_MASKCOUNT           = defs.LUA_MASKCOUNT;\nmodule.exports.LUA_MASKLINE            = defs.LUA_MASKLINE;\nmodule.exports.LUA_MASKRET             = defs.LUA_MASKRET;\nmodule.exports.LUA_MINSTACK            = defs.LUA_MINSTACK;\nmodule.exports.LUA_MULTRET             = defs.LUA_MULTRET;\nmodule.exports.LUA_NUMTAGS             = defs.constant_types.LUA_NUMTAGS;\nmodule.exports.LUA_OK                  = defs.thread_status.LUA_OK;\nmodule.exports.LUA_OPADD               = defs.LUA_OPADD;\nmodule.exports.LUA_OPBAND              = defs.LUA_OPBAND;\nmodule.exports.LUA_OPBNOT              = defs.LUA_OPBNOT;\nmodule.exports.LUA_OPBOR               = defs.LUA_OPBOR;\nmodule.exports.LUA_OPBXOR              = defs.LUA_OPBXOR;\nmodule.exports.LUA_OPDIV               = defs.LUA_OPDIV;\nmodule.exports.LUA_OPEQ                = defs.LUA_OPEQ;\nmodule.exports.LUA_OPIDIV              = defs.LUA_OPIDIV;\nmodule.exports.LUA_OPLE                = defs.LUA_OPLE;\nmodule.exports.LUA_OPLT                = defs.LUA_OPLT;\nmodule.exports.LUA_OPMOD               = defs.LUA_OPMOD;\nmodule.exports.LUA_OPMUL               = defs.LUA_OPMUL;\nmodule.exports.LUA_OPPOW               = defs.LUA_OPPOW;\nmodule.exports.LUA_OPSHL               = defs.LUA_OPSHL;\nmodule.exports.LUA_OPSHR               = defs.LUA_OPSHR;\nmodule.exports.LUA_OPSUB               = defs.LUA_OPSUB;\nmodule.exports.LUA_OPUNM               = defs.LUA_OPUNM;\nmodule.exports.LUA_REGISTRYINDEX       = defs.LUA_REGISTRYINDEX;\nmodule.exports.LUA_RELEASE             = defs.LUA_RELEASE;\nmodule.exports.LUA_RIDX_GLOBALS        = defs.LUA_RIDX_GLOBALS;\nmodule.exports.LUA_RIDX_LAST           = defs.LUA_RIDX_LAST;\nmodule.exports.LUA_RIDX_MAINTHREAD     = defs.LUA_RIDX_MAINTHREAD;\nmodule.exports.LUA_SIGNATURE           = defs.LUA_SIGNATURE;\nmodule.exports.LUA_TNONE               = defs.constant_types.LUA_TNONE;\nmodule.exports.LUA_TNIL                = defs.constant_types.LUA_TNIL;\nmodule.exports.LUA_TBOOLEAN            = defs.constant_types.LUA_TBOOLEAN;\nmodule.exports.LUA_TLIGHTUSERDATA      = defs.constant_types.LUA_TLIGHTUSERDATA;\nmodule.exports.LUA_TNUMBER             = defs.constant_types.LUA_TNUMBER;\nmodule.exports.LUA_TSTRING             = defs.constant_types.LUA_TSTRING;\nmodule.exports.LUA_TTABLE              = defs.constant_types.LUA_TTABLE;\nmodule.exports.LUA_TFUNCTION           = defs.constant_types.LUA_TFUNCTION;\nmodule.exports.LUA_TUSERDATA           = defs.constant_types.LUA_TUSERDATA;\nmodule.exports.LUA_TTHREAD             = defs.constant_types.LUA_TTHREAD;\nmodule.exports.LUA_VERSION             = defs.LUA_VERSION;\nmodule.exports.LUA_VERSION_MAJOR       = defs.LUA_VERSION_MAJOR;\nmodule.exports.LUA_VERSION_MINOR       = defs.LUA_VERSION_MINOR;\nmodule.exports.LUA_VERSION_NUM         = defs.LUA_VERSION_NUM;\nmodule.exports.LUA_VERSION_RELEASE     = defs.LUA_VERSION_RELEASE;\nmodule.exports.LUA_YIELD               = defs.thread_status.LUA_YIELD;\nmodule.exports.lua_Debug               = defs.lua_Debug;\nmodule.exports.lua_upvalueindex        = defs.lua_upvalueindex;\nmodule.exports.lua_absindex            = lapi.lua_absindex;\nmodule.exports.lua_arith               = lapi.lua_arith;\nmodule.exports.lua_atpanic             = lapi.lua_atpanic;\nmodule.exports.lua_atnativeerror       = lapi.lua_atnativeerror;\nmodule.exports.lua_call                = lapi.lua_call;\nmodule.exports.lua_callk               = lapi.lua_callk;\nmodule.exports.lua_checkstack          = lapi.lua_checkstack;\nmodule.exports.lua_close               = lstate.lua_close;\nmodule.exports.lua_compare             = lapi.lua_compare;\nmodule.exports.lua_concat              = lapi.lua_concat;\nmodule.exports.lua_copy                = lapi.lua_copy;\nmodule.exports.lua_createtable         = lapi.lua_createtable;\nmodule.exports.lua_dump                = lapi.lua_dump;\nmodule.exports.lua_error               = lapi.lua_error;\nmodule.exports.lua_gc                  = lapi.lua_gc;\nmodule.exports.lua_getallocf           = lapi.lua_getallocf;\nmodule.exports.lua_getextraspace       = lapi.lua_getextraspace;\nmodule.exports.lua_getfield            = lapi.lua_getfield;\nmodule.exports.lua_getglobal           = lapi.lua_getglobal;\nmodule.exports.lua_gethook             = ldebug.lua_gethook;\nmodule.exports.lua_gethookcount        = ldebug.lua_gethookcount;\nmodule.exports.lua_gethookmask         = ldebug.lua_gethookmask;\nmodule.exports.lua_geti                = lapi.lua_geti;\nmodule.exports.lua_getinfo             = ldebug.lua_getinfo;\nmodule.exports.lua_getlocal            = ldebug.lua_getlocal;\nmodule.exports.lua_getmetatable        = lapi.lua_getmetatable;\nmodule.exports.lua_getstack            = ldebug.lua_getstack;\nmodule.exports.lua_gettable            = lapi.lua_gettable;\nmodule.exports.lua_gettop              = lapi.lua_gettop;\nmodule.exports.lua_getupvalue          = lapi.lua_getupvalue;\nmodule.exports.lua_getuservalue        = lapi.lua_getuservalue;\nmodule.exports.lua_insert              = lapi.lua_insert;\nmodule.exports.lua_isboolean           = lapi.lua_isboolean;\nmodule.exports.lua_iscfunction         = lapi.lua_iscfunction;\nmodule.exports.lua_isfunction          = lapi.lua_isfunction;\nmodule.exports.lua_isinteger           = lapi.lua_isinteger;\nmodule.exports.lua_islightuserdata     = lapi.lua_islightuserdata;\nmodule.exports.lua_isnil               = lapi.lua_isnil;\nmodule.exports.lua_isnone              = lapi.lua_isnone;\nmodule.exports.lua_isnoneornil         = lapi.lua_isnoneornil;\nmodule.exports.lua_isnumber            = lapi.lua_isnumber;\nmodule.exports.lua_isproxy             = lapi.lua_isproxy;\nmodule.exports.lua_isstring            = lapi.lua_isstring;\nmodule.exports.lua_istable             = lapi.lua_istable;\nmodule.exports.lua_isthread            = lapi.lua_isthread;\nmodule.exports.lua_isuserdata          = lapi.lua_isuserdata;\nmodule.exports.lua_isyieldable         = ldo.lua_isyieldable;\nmodule.exports.lua_len                 = lapi.lua_len;\nmodule.exports.lua_load                = lapi.lua_load;\nmodule.exports.lua_newstate            = lstate.lua_newstate;\nmodule.exports.lua_newtable            = lapi.lua_newtable;\nmodule.exports.lua_newthread           = lstate.lua_newthread;\nmodule.exports.lua_newuserdata         = lapi.lua_newuserdata;\nmodule.exports.lua_next                = lapi.lua_next;\nmodule.exports.lua_pcall               = lapi.lua_pcall;\nmodule.exports.lua_pcallk              = lapi.lua_pcallk;\nmodule.exports.lua_pop                 = lapi.lua_pop;\nmodule.exports.lua_pushboolean         = lapi.lua_pushboolean;\nmodule.exports.lua_pushcclosure        = lapi.lua_pushcclosure;\nmodule.exports.lua_pushcfunction       = lapi.lua_pushcfunction;\nmodule.exports.lua_pushfstring         = lapi.lua_pushfstring;\nmodule.exports.lua_pushglobaltable     = lapi.lua_pushglobaltable;\nmodule.exports.lua_pushinteger         = lapi.lua_pushinteger;\nmodule.exports.lua_pushjsclosure       = lapi.lua_pushjsclosure;\nmodule.exports.lua_pushjsfunction      = lapi.lua_pushjsfunction;\nmodule.exports.lua_pushlightuserdata   = lapi.lua_pushlightuserdata;\nmodule.exports.lua_pushliteral         = lapi.lua_pushliteral;\nmodule.exports.lua_pushlstring         = lapi.lua_pushlstring;\nmodule.exports.lua_pushnil             = lapi.lua_pushnil;\nmodule.exports.lua_pushnumber          = lapi.lua_pushnumber;\nmodule.exports.lua_pushstring          = lapi.lua_pushstring;\nmodule.exports.lua_pushthread          = lapi.lua_pushthread;\nmodule.exports.lua_pushvalue           = lapi.lua_pushvalue;\nmodule.exports.lua_pushvfstring        = lapi.lua_pushvfstring;\nmodule.exports.lua_rawequal            = lapi.lua_rawequal;\nmodule.exports.lua_rawget              = lapi.lua_rawget;\nmodule.exports.lua_rawgeti             = lapi.lua_rawgeti;\nmodule.exports.lua_rawgetp             = lapi.lua_rawgetp;\nmodule.exports.lua_rawlen              = lapi.lua_rawlen;\nmodule.exports.lua_rawset              = lapi.lua_rawset;\nmodule.exports.lua_rawseti             = lapi.lua_rawseti;\nmodule.exports.lua_rawsetp             = lapi.lua_rawsetp;\nmodule.exports.lua_register            = lapi.lua_register;\nmodule.exports.lua_remove              = lapi.lua_remove;\nmodule.exports.lua_replace             = lapi.lua_replace;\nmodule.exports.lua_resume              = ldo.lua_resume;\nmodule.exports.lua_rotate              = lapi.lua_rotate;\nmodule.exports.lua_setallof            = ldo.lua_setallof;\nmodule.exports.lua_setfield            = lapi.lua_setfield;\nmodule.exports.lua_setglobal           = lapi.lua_setglobal;\nmodule.exports.lua_sethook             = ldebug.lua_sethook;\nmodule.exports.lua_seti                = lapi.lua_seti;\nmodule.exports.lua_setlocal            = ldebug.lua_setlocal;\nmodule.exports.lua_setmetatable        = lapi.lua_setmetatable;\nmodule.exports.lua_settable            = lapi.lua_settable;\nmodule.exports.lua_settop              = lapi.lua_settop;\nmodule.exports.lua_setupvalue          = lapi.lua_setupvalue;\nmodule.exports.lua_setuservalue        = lapi.lua_setuservalue;\nmodule.exports.lua_status              = lapi.lua_status;\nmodule.exports.lua_stringtonumber      = lapi.lua_stringtonumber;\nmodule.exports.lua_toboolean           = lapi.lua_toboolean;\nmodule.exports.lua_todataview          = lapi.lua_todataview;\nmodule.exports.lua_tointeger           = lapi.lua_tointeger;\nmodule.exports.lua_tointegerx          = lapi.lua_tointegerx;\nmodule.exports.lua_tojsstring          = lapi.lua_tojsstring;\nmodule.exports.lua_tolstring           = lapi.lua_tolstring;\nmodule.exports.lua_tonumber            = lapi.lua_tonumber;\nmodule.exports.lua_tonumberx           = lapi.lua_tonumberx;\nmodule.exports.lua_topointer           = lapi.lua_topointer;\nmodule.exports.lua_toproxy             = lapi.lua_toproxy;\nmodule.exports.lua_tostring            = lapi.lua_tostring;\nmodule.exports.lua_tothread            = lapi.lua_tothread;\nmodule.exports.lua_touserdata          = lapi.lua_touserdata;\nmodule.exports.lua_type                = lapi.lua_type;\nmodule.exports.lua_typename            = lapi.lua_typename;\nmodule.exports.lua_upvalueid           = lapi.lua_upvalueid;\nmodule.exports.lua_upvaluejoin         = lapi.lua_upvaluejoin;\nmodule.exports.lua_version             = lapi.lua_version;\nmodule.exports.lua_xmove               = lapi.lua_xmove;\nmodule.exports.lua_yield               = ldo.lua_yield;\nmodule.exports.lua_yieldk              = ldo.lua_yieldk;\nmodule.exports.lua_tocfunction         = lapi.lua_tocfunction;\n","\"use strict\";\n\nconst conf = (process.env.FENGARICONF ? JSON.parse(process.env.FENGARICONF) : {});\n\nconst {\n    LUA_VERSION_MAJOR,\n    LUA_VERSION_MINOR,\n    to_luastring\n} = require('./defs.js');\n\n/*\n** LUA_PATH_SEP is the character that separates templates in a path.\n** LUA_PATH_MARK is the string that marks the substitution points in a\n** template.\n** LUA_EXEC_DIR in a Windows path is replaced by the executable's\n** directory.\n*/\nconst LUA_PATH_SEP  = \";\";\nmodule.exports.LUA_PATH_SEP = LUA_PATH_SEP;\n\nconst LUA_PATH_MARK = \"?\";\nmodule.exports.LUA_PATH_MARK = LUA_PATH_MARK;\n\nconst LUA_EXEC_DIR  = \"!\";\nmodule.exports.LUA_EXEC_DIR = LUA_EXEC_DIR;\n\n/*\n@@ LUA_PATH_DEFAULT is the default path that Lua uses to look for\n** Lua libraries.\n@@ LUA_JSPATH_DEFAULT is the default path that Lua uses to look for\n** JS libraries.\n** CHANGE them if your machine has a non-conventional directory\n** hierarchy or if you want to install your libraries in\n** non-conventional directories.\n*/\nconst LUA_VDIR = LUA_VERSION_MAJOR + \".\" + LUA_VERSION_MINOR;\nmodule.exports.LUA_VDIR = LUA_VDIR;\n\nif (typeof process === \"undefined\") {\n    const LUA_DIRSEP = \"/\";\n    module.exports.LUA_DIRSEP = LUA_DIRSEP;\n\n    const LUA_LDIR = \"./lua/\" + LUA_VDIR + \"/\";\n    module.exports.LUA_LDIR = LUA_LDIR;\n\n    const LUA_JSDIR = LUA_LDIR;\n    module.exports.LUA_JSDIR = LUA_JSDIR;\n\n    const LUA_PATH_DEFAULT = to_luastring(\n        LUA_LDIR + \"?.lua;\" + LUA_LDIR + \"?/init.lua;\" +\n        /* LUA_JSDIR excluded as it is equal to LUA_LDIR */\n        \"./?.lua;./?/init.lua\"\n    );\n    module.exports.LUA_PATH_DEFAULT = LUA_PATH_DEFAULT;\n\n    const LUA_JSPATH_DEFAULT = to_luastring(\n        LUA_JSDIR + \"?.js;\" + LUA_JSDIR + \"loadall.js;./?.js\"\n    );\n    module.exports.LUA_JSPATH_DEFAULT = LUA_JSPATH_DEFAULT;\n} else if (require('os').platform() === 'win32') {\n    const LUA_DIRSEP = \"\\\\\";\n    module.exports.LUA_DIRSEP = LUA_DIRSEP;\n\n    /*\n    ** In Windows, any exclamation mark ('!') in the path is replaced by the\n    ** path of the directory of the executable file of the current process.\n    */\n    const LUA_LDIR = \"!\\\\lua\\\\\";\n    module.exports.LUA_LDIR = LUA_LDIR;\n\n    const LUA_JSDIR = \"!\\\\\";\n    module.exports.LUA_JSDIR = LUA_JSDIR;\n\n    const LUA_SHRDIR = \"!\\\\..\\\\share\\\\lua\\\\\" + LUA_VDIR + \"\\\\\";\n    module.exports.LUA_SHRDIR = LUA_SHRDIR;\n\n    const LUA_PATH_DEFAULT = to_luastring(\n        LUA_LDIR + \"?.lua;\" + LUA_LDIR + \"?\\\\init.lua;\" +\n        LUA_JSDIR + \"?.lua;\" + LUA_JSDIR + \"?\\\\init.lua;\" +\n        LUA_SHRDIR + \"?.lua;\" + LUA_SHRDIR + \"?\\\\init.lua;\" +\n        \".\\\\?.lua;.\\\\?\\\\init.lua\"\n    );\n    module.exports.LUA_PATH_DEFAULT = LUA_PATH_DEFAULT;\n\n    const LUA_JSPATH_DEFAULT = to_luastring(\n        LUA_JSDIR + \"?.js;\" +\n        LUA_JSDIR + \"..\\\\share\\\\lua\\\\\" + LUA_VDIR + \"\\\\?.js;\" +\n        LUA_JSDIR + \"loadall.js;.\\\\?.js\"\n    );\n    module.exports.LUA_JSPATH_DEFAULT = LUA_JSPATH_DEFAULT;\n} else {\n    const LUA_DIRSEP = \"/\";\n    module.exports.LUA_DIRSEP = LUA_DIRSEP;\n\n    const LUA_ROOT = \"/usr/local/\";\n    module.exports.LUA_ROOT = LUA_ROOT;\n    const LUA_ROOT2 = \"/usr/\";\n\n    const LUA_LDIR = LUA_ROOT + \"share/lua/\" + LUA_VDIR + \"/\";\n    const LUA_LDIR2 = LUA_ROOT2 + \"share/lua/\" + LUA_VDIR + \"/\";\n    module.exports.LUA_LDIR = LUA_LDIR;\n\n    const LUA_JSDIR = LUA_LDIR;\n    module.exports.LUA_JSDIR = LUA_JSDIR;\n    const LUA_JSDIR2 = LUA_LDIR2;\n\n    const LUA_PATH_DEFAULT = to_luastring(\n        LUA_LDIR + \"?.lua;\" + LUA_LDIR + \"?/init.lua;\" +\n        LUA_LDIR2 + \"?.lua;\" + LUA_LDIR2 + \"?/init.lua;\" +\n        /* LUA_JSDIR(2) excluded as it is equal to LUA_LDIR(2) */\n        \"./?.lua;./?/init.lua\"\n    );\n    module.exports.LUA_PATH_DEFAULT = LUA_PATH_DEFAULT;\n\n    const LUA_JSPATH_DEFAULT = to_luastring(\n        LUA_JSDIR + \"?.js;\" + LUA_JSDIR + \"loadall.js;\" +\n        LUA_JSDIR2 + \"?.js;\" + LUA_JSDIR2 + \"loadall.js;\" +\n        \"./?.js\"\n    );\n    module.exports.LUA_JSPATH_DEFAULT = LUA_JSPATH_DEFAULT;\n}\n\n/*\n@@ LUA_COMPAT_FLOATSTRING makes Lua format integral floats without a\n@@ a float mark ('.0').\n** This macro is not on by default even in compatibility mode,\n** because this is not really an incompatibility.\n*/\nconst LUA_COMPAT_FLOATSTRING = conf.LUA_COMPAT_FLOATSTRING || false;\n\nconst LUA_MAXINTEGER = 2147483647;\nconst LUA_MININTEGER = -2147483648;\n\n/*\n@@ LUAI_MAXSTACK limits the size of the Lua stack.\n** CHANGE it if you need a different limit. This limit is arbitrary;\n** its only purpose is to stop Lua from consuming unlimited stack\n** space (and to reserve some numbers for pseudo-indices).\n*/\nconst LUAI_MAXSTACK = conf.LUAI_MAXSTACK || 1000000;\n\n/*\n@@ LUA_IDSIZE gives the maximum size for the description of the source\n@@ of a function in debug information.\n** CHANGE it if you want a different size.\n*/\nconst LUA_IDSIZE = conf.LUA_IDSIZE || (60-1); /* fengari uses 1 less than lua as we don't embed the null byte */\n\nconst lua_integer2str = function(n) {\n    return String(n); /* should match behaviour of LUA_INTEGER_FMT */\n};\n\nconst lua_number2str = function(n) {\n    return String(Number(n.toPrecision(14))); /* should match behaviour of LUA_NUMBER_FMT */\n};\n\nconst lua_numbertointeger = function(n) {\n    return n >= LUA_MININTEGER && n < -LUA_MININTEGER ? n : false;\n};\n\nconst LUA_INTEGER_FRMLEN = \"\";\nconst LUA_NUMBER_FRMLEN = \"\";\n\nconst LUA_INTEGER_FMT = `%${LUA_INTEGER_FRMLEN}d`;\nconst LUA_NUMBER_FMT  = \"%.14g\";\n\nconst lua_getlocaledecpoint = function() {\n    /* we hard-code the decimal point to '.' as a user cannot change the\n       locale in most JS environments, and in that you can, a multi-byte\n       locale is common.\n    */\n    return 46 /* '.'.charCodeAt(0) */;\n};\n\nconst luai_apicheck = function(l, e) {\n    if (!e) throw Error(e);\n};\n\n/*\n@@ LUAL_BUFFERSIZE is the buffer size used by the lauxlib buffer system.\n*/\nconst LUAL_BUFFERSIZE = conf.LUAL_BUFFERSIZE || 8192;\n\n// See: http://croquetweak.blogspot.fr/2014/08/deconstructing-floats-frexp-and-ldexp.html\nconst frexp = function(value) {\n    if (value === 0) return [value, 0];\n    var data = new DataView(new ArrayBuffer(8));\n    data.setFloat64(0, value);\n    var bits = (data.getUint32(0) >>> 20) & 0x7FF;\n    if (bits === 0) { // denormal\n        data.setFloat64(0, value * Math.pow(2, 64));  // exp + 64\n        bits = ((data.getUint32(0) >>> 20) & 0x7FF) - 64;\n    }\n    var exponent = bits - 1022;\n    var mantissa = ldexp(value, -exponent);\n    return [mantissa, exponent];\n};\n\nconst ldexp = function(mantissa, exponent) {\n    var steps = Math.min(3, Math.ceil(Math.abs(exponent) / 1023));\n    var result = mantissa;\n    for (var i = 0; i < steps; i++)\n        result *= Math.pow(2, Math.floor((exponent + i) / steps));\n    return result;\n};\n\nmodule.exports.LUAI_MAXSTACK          = LUAI_MAXSTACK;\nmodule.exports.LUA_COMPAT_FLOATSTRING = LUA_COMPAT_FLOATSTRING;\nmodule.exports.LUA_IDSIZE             = LUA_IDSIZE;\nmodule.exports.LUA_INTEGER_FMT        = LUA_INTEGER_FMT;\nmodule.exports.LUA_INTEGER_FRMLEN     = LUA_INTEGER_FRMLEN;\nmodule.exports.LUA_MAXINTEGER         = LUA_MAXINTEGER;\nmodule.exports.LUA_MININTEGER         = LUA_MININTEGER;\nmodule.exports.LUA_NUMBER_FMT         = LUA_NUMBER_FMT;\nmodule.exports.LUA_NUMBER_FRMLEN      = LUA_NUMBER_FRMLEN;\nmodule.exports.LUAL_BUFFERSIZE        = LUAL_BUFFERSIZE;\nmodule.exports.frexp                  = frexp;\nmodule.exports.ldexp                  = ldexp;\nmodule.exports.lua_getlocaledecpoint  = lua_getlocaledecpoint;\nmodule.exports.lua_integer2str        = lua_integer2str;\nmodule.exports.lua_number2str         = lua_number2str;\nmodule.exports.lua_numbertointeger    = lua_numbertointeger;\nmodule.exports.luai_apicheck          = luai_apicheck;\n","\"use strict\";\n\nconst {\n    LUA_VERSION_MAJOR,\n    LUA_VERSION_MINOR\n} = require(\"./lua.js\");\n\nconst LUA_VERSUFFIX = \"_\" + LUA_VERSION_MAJOR + \"_\" + LUA_VERSION_MINOR;\nmodule.exports.LUA_VERSUFFIX = LUA_VERSUFFIX;\n\nmodule.exports.lua_assert = function(c) {};\n\nmodule.exports.luaopen_base = require(\"./lbaselib.js\").luaopen_base;\n\nconst LUA_COLIBNAME = \"coroutine\";\nmodule.exports.LUA_COLIBNAME = LUA_COLIBNAME;\nmodule.exports.luaopen_coroutine = require(\"./lcorolib.js\").luaopen_coroutine;\n\nconst LUA_TABLIBNAME = \"table\";\nmodule.exports.LUA_TABLIBNAME = LUA_TABLIBNAME;\nmodule.exports.luaopen_table = require(\"./ltablib.js\").luaopen_table;\n\nif (typeof process !== \"undefined\") {\n    const LUA_IOLIBNAME = \"io\";\n    module.exports.LUA_IOLIBNAME = LUA_IOLIBNAME;\n    module.exports.luaopen_io = require(\"./liolib.js\").luaopen_io;\n}\n\nconst LUA_OSLIBNAME = \"os\";\nmodule.exports.LUA_OSLIBNAME = LUA_OSLIBNAME;\nmodule.exports.luaopen_os = require(\"./loslib.js\").luaopen_os;\n\nconst LUA_STRLIBNAME = \"string\";\nmodule.exports.LUA_STRLIBNAME = LUA_STRLIBNAME;\nmodule.exports.luaopen_string = require(\"./lstrlib.js\").luaopen_string;\n\nconst LUA_UTF8LIBNAME = \"utf8\";\nmodule.exports.LUA_UTF8LIBNAME = LUA_UTF8LIBNAME;\nmodule.exports.luaopen_utf8 = require(\"./lutf8lib.js\").luaopen_utf8;\n\nconst LUA_BITLIBNAME = \"bit32\";\nmodule.exports.LUA_BITLIBNAME = LUA_BITLIBNAME;\n// module.exports.luaopen_bit32 = require(\"./lbitlib.js\").luaopen_bit32;\n\nconst LUA_MATHLIBNAME = \"math\";\nmodule.exports.LUA_MATHLIBNAME = LUA_MATHLIBNAME;\nmodule.exports.luaopen_math = require(\"./lmathlib.js\").luaopen_math;\n\nconst LUA_DBLIBNAME = \"debug\";\nmodule.exports.LUA_DBLIBNAME = LUA_DBLIBNAME;\nmodule.exports.luaopen_debug = require(\"./ldblib.js\").luaopen_debug;\n\nconst LUA_LOADLIBNAME = \"package\";\nmodule.exports.LUA_LOADLIBNAME = LUA_LOADLIBNAME;\nmodule.exports.luaopen_package = require(\"./loadlib.js\").luaopen_package;\n\nconst LUA_FENGARILIBNAME = \"fengari\";\nmodule.exports.LUA_FENGARILIBNAME = LUA_FENGARILIBNAME;\nmodule.exports.luaopen_fengari = require(\"./fengarilib.js\").luaopen_fengari;\n\nconst linit = require('./linit.js');\nmodule.exports.luaL_openlibs = linit.luaL_openlibs;\n","\"use strict\";\n\nconst {\n    LUA_SIGNATURE,\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR\n    },\n    thread_status: { LUA_ERRSYNTAX },\n    is_luastring,\n    luastring_eq,\n    to_luastring\n} = require('./defs.js');\nconst ldo      = require('./ldo.js');\nconst lfunc    = require('./lfunc.js');\nconst lobject  = require('./lobject.js');\nconst {\n    MAXARG_sBx,\n    POS_A,\n    POS_Ax,\n    POS_B,\n    POS_Bx,\n    POS_C,\n    POS_OP,\n    SIZE_A,\n    SIZE_Ax,\n    SIZE_B,\n    SIZE_Bx,\n    SIZE_C,\n    SIZE_OP\n} = require('./lopcodes.js');\nconst { lua_assert } = require(\"./llimits.js\");\nconst { luaS_bless } = require('./lstring.js');\nconst {\n    luaZ_read,\n    ZIO\n} = require('./lzio.js');\n\nlet LUAC_DATA = [0x19, 0x93, 13, 10, 0x1a, 10];\n\nclass BytecodeParser {\n\n    constructor(L, Z, name) {\n        this.intSize = 4;\n        this.size_tSize = 4;\n        this.instructionSize = 4;\n        this.integerSize = 4;\n        this.numberSize = 8;\n\n        lua_assert(Z instanceof ZIO, \"BytecodeParser only operates on a ZIO\");\n        lua_assert(is_luastring(name));\n\n        if (name[0] === 64 /* ('@').charCodeAt(0) */ || name[0] === 61 /* ('=').charCodeAt(0) */)\n            this.name = name.subarray(1);\n        else if (name[0] == LUA_SIGNATURE[0])\n            this.name = to_luastring(\"binary string\", true);\n        else\n            this.name = name;\n\n        this.L = L;\n        this.Z = Z;\n\n        // Used to do buffer to number conversions\n        this.arraybuffer = new ArrayBuffer(\n            Math.max(this.intSize, this.size_tSize, this.instructionSize, this.integerSize, this.numberSize)\n        );\n        this.dv = new DataView(this.arraybuffer);\n        this.u8 = new Uint8Array(this.arraybuffer);\n    }\n\n    read(size) {\n        let u8 = new Uint8Array(size);\n        if(luaZ_read(this.Z, u8, 0, size) !== 0)\n            this.error(\"truncated\");\n        return u8;\n    }\n\n    LoadByte() {\n        if (luaZ_read(this.Z, this.u8, 0, 1) !== 0)\n            this.error(\"truncated\");\n        return this.u8[0];\n    }\n\n    LoadInt() {\n        if (luaZ_read(this.Z, this.u8, 0, this.intSize) !== 0)\n            this.error(\"truncated\");\n        return this.dv.getInt32(0, true);\n    }\n\n    LoadNumber() {\n        if (luaZ_read(this.Z, this.u8, 0, this.numberSize) !== 0)\n            this.error(\"truncated\");\n        return this.dv.getFloat64(0, true);\n    }\n\n    LoadInteger() {\n        if (luaZ_read(this.Z, this.u8, 0, this.integerSize) !== 0)\n            this.error(\"truncated\");\n        return this.dv.getInt32(0, true);\n    }\n\n    LoadSize_t() {\n        return this.LoadInteger();\n    }\n\n    LoadString() {\n        let size = this.LoadByte();\n        if (size === 0xFF)\n            size = this.LoadSize_t();\n        if (size === 0)\n            return null;\n        return luaS_bless(this.L, this.read(size-1));\n    }\n\n    /* creates a mask with 'n' 1 bits at position 'p' */\n    static MASK1(n, p) {\n        return ((~((~0)<<(n)))<<(p));\n    }\n\n    LoadCode(f) {\n        let n = this.LoadInt();\n        let p = BytecodeParser;\n\n        for (let i = 0; i < n; i++) {\n            if (luaZ_read(this.Z, this.u8, 0, this.instructionSize) !== 0)\n                this.error(\"truncated\");\n            let ins = this.dv.getUint32(0, true);\n            f.code[i] = {\n                code:   ins,\n                opcode: (ins >> POS_OP) & p.MASK1(SIZE_OP, 0),\n                A:      (ins >> POS_A)  & p.MASK1(SIZE_A,  0),\n                B:      (ins >> POS_B)  & p.MASK1(SIZE_B,  0),\n                C:      (ins >> POS_C)  & p.MASK1(SIZE_C,  0),\n                Bx:     (ins >> POS_Bx) & p.MASK1(SIZE_Bx, 0),\n                Ax:     (ins >> POS_Ax) & p.MASK1(SIZE_Ax, 0),\n                sBx:    ((ins >> POS_Bx) & p.MASK1(SIZE_Bx, 0)) - MAXARG_sBx\n            };\n        }\n    }\n\n    LoadConstants(f) {\n        let n = this.LoadInt();\n\n        for (let i = 0; i < n; i++) {\n            let t = this.LoadByte();\n\n            switch (t) {\n                case LUA_TNIL:\n                    f.k.push(new lobject.TValue(LUA_TNIL, null));\n                    break;\n                case LUA_TBOOLEAN:\n                    f.k.push(new lobject.TValue(LUA_TBOOLEAN, this.LoadByte() !== 0));\n                    break;\n                case LUA_TNUMFLT:\n                    f.k.push(new lobject.TValue(LUA_TNUMFLT, this.LoadNumber()));\n                    break;\n                case LUA_TNUMINT:\n                    f.k.push(new lobject.TValue(LUA_TNUMINT, this.LoadInteger()));\n                    break;\n                case LUA_TSHRSTR:\n                case LUA_TLNGSTR:\n                    f.k.push(new lobject.TValue(LUA_TLNGSTR, this.LoadString()));\n                    break;\n                default:\n                    this.error(`unrecognized constant '${t}'`);\n            }\n        }\n    }\n\n    LoadProtos(f) {\n        let n = this.LoadInt();\n\n        for (let i = 0; i < n; i++) {\n            f.p[i] = new lfunc.Proto(this.L);\n            this.LoadFunction(f.p[i], f.source);\n        }\n    }\n\n    LoadUpvalues(f) {\n        let n = this.LoadInt();\n\n        for (let i = 0; i < n; i++) {\n            f.upvalues[i] = {\n                name:    null,\n                instack: this.LoadByte(),\n                idx:     this.LoadByte()\n            };\n        }\n    }\n\n    LoadDebug(f) {\n        let n = this.LoadInt();\n        for (let i = 0; i < n; i++)\n            f.lineinfo[i] = this.LoadInt();\n\n        n = this.LoadInt();\n        for (let i = 0; i < n; i++) {\n            f.locvars[i] = {\n                varname: this.LoadString(),\n                startpc: this.LoadInt(),\n                endpc:   this.LoadInt()\n            };\n        }\n\n        n = this.LoadInt();\n        for (let i = 0; i < n; i++) {\n            f.upvalues[i].name = this.LoadString();\n        }\n    }\n\n    LoadFunction(f, psource) {\n        f.source = this.LoadString();\n        if (f.source === null)  /* no source in dump? */\n            f.source = psource;  /* reuse parent's source */\n        f.linedefined = this.LoadInt();\n        f.lastlinedefined = this.LoadInt();\n        f.numparams = this.LoadByte();\n        f.is_vararg = this.LoadByte() !== 0;\n        f.maxstacksize = this.LoadByte();\n        this.LoadCode(f);\n        this.LoadConstants(f);\n        this.LoadUpvalues(f);\n        this.LoadProtos(f);\n        this.LoadDebug(f);\n    }\n\n    checkliteral(s, msg) {\n        let buff = this.read(s.length);\n        if (!luastring_eq(buff, s))\n            this.error(msg);\n    }\n\n    checkHeader() {\n        this.checkliteral(LUA_SIGNATURE.subarray(1), \"not a\"); /* 1st char already checked */\n\n        if (this.LoadByte() !== 0x53)\n            this.error(\"version mismatch in\");\n\n        if (this.LoadByte() !== 0)\n            this.error(\"format mismatch in\");\n\n        this.checkliteral(LUAC_DATA, \"corrupted\");\n\n        this.intSize         = this.LoadByte();\n        this.size_tSize      = this.LoadByte();\n        this.instructionSize = this.LoadByte();\n        this.integerSize     = this.LoadByte();\n        this.numberSize      = this.LoadByte();\n\n        this.checksize(this.intSize, 4, \"int\");\n        this.checksize(this.size_tSize, 4, \"size_t\");\n        this.checksize(this.instructionSize, 4, \"instruction\");\n        this.checksize(this.integerSize, 4, \"integer\");\n        this.checksize(this.numberSize, 8, \"number\");\n\n        if (this.LoadInteger() !== 0x5678)\n            this.error(\"endianness mismatch in\");\n\n        if (this.LoadNumber() !== 370.5)\n            this.error(\"float format mismatch in\");\n\n    }\n\n    error(why) {\n        lobject.luaO_pushfstring(this.L, to_luastring(\"%s: %s precompiled chunk\"), this.name, to_luastring(why));\n        ldo.luaD_throw(this.L, LUA_ERRSYNTAX);\n    }\n\n    checksize(byte, size, tname) {\n        if (byte !== size)\n            this.error(`${tname} size mismatch in`);\n    }\n}\n\nconst luaU_undump = function(L, Z, name) {\n    let S = new BytecodeParser(L, Z, name);\n    S.checkHeader();\n    let cl = lfunc.luaF_newLclosure(L, S.LoadByte());\n    ldo.luaD_inctop(L);\n    L.stack[L.top-1].setclLvalue(cl);\n    cl.p = new lfunc.Proto(L);\n    S.LoadFunction(cl.p, null);\n    lua_assert(cl.nupvalues === cl.p.upvalues.length);\n    /* luai_verifycode */\n    return cl;\n};\n\nmodule.exports.luaU_undump = luaU_undump;\n","\"use strict\";\n\nconst {\n    lua_gettop,\n    lua_pushcfunction,\n    lua_pushfstring,\n    lua_pushinteger,\n    lua_pushnil,\n    lua_pushstring,\n    lua_pushvalue,\n    lua_setfield,\n    lua_tointeger\n} = require('./lua.js');\nconst {\n    luaL_Buffer,\n    luaL_addvalue,\n    luaL_argcheck,\n    luaL_buffinit,\n    luaL_checkinteger,\n    luaL_checkstack,\n    luaL_checkstring,\n    luaL_error,\n    luaL_newlib,\n    luaL_optinteger,\n    luaL_pushresult\n} = require('./lauxlib.js');\nconst {\n    luastring_of,\n    to_luastring\n} = require(\"./fengaricore.js\");\n\nconst MAXUNICODE = 0x10FFFF;\n\nconst iscont = function(p) {\n    let c = p & 0xC0;\n    return c === 0x80;\n};\n\n/* translate a relative string position: negative means back from end */\nconst u_posrelat = function(pos, len) {\n    if (pos >= 0) return pos;\n    else if (0 - pos > len) return 0;\n    else return len + pos + 1;\n};\n\n/*\n** Decode one UTF-8 sequence, returning NULL if byte sequence is invalid.\n*/\nconst limits = [0xFF, 0x7F, 0x7FF, 0xFFFF];\nconst utf8_decode = function(s, pos) {\n    let c = s[pos];\n    let res = 0;  /* final result */\n    if (c < 0x80)  /* ascii? */\n        res = c;\n    else {\n        let count = 0;  /* to count number of continuation bytes */\n        while (c & 0x40) {  /* still have continuation bytes? */\n            let cc = s[pos + (++count)];  /* read next byte */\n            if ((cc & 0xC0) !== 0x80)  /* not a continuation byte? */\n                return null;  /* invalid byte sequence */\n            res = (res << 6) | (cc & 0x3F);  /* add lower 6 bits from cont. byte */\n            c <<= 1;  /* to test next bit */\n        }\n        res |= ((c & 0x7F) << (count * 5));  /* add first byte */\n        if (count > 3 || res > MAXUNICODE || res <= limits[count])\n            return null;  /* invalid byte sequence */\n        pos += count;  /* skip continuation bytes read */\n    }\n\n    return {\n        code: res,\n        pos: pos + 1\n    };\n};\n\n/*\n** utf8len(s [, i [, j]]) --> number of characters that start in the\n** range [i,j], or nil + current position if 's' is not well formed in\n** that interval\n*/\nconst utflen = function(L) {\n    let n = 0;\n    let s = luaL_checkstring(L, 1);\n    let len = s.length;\n    let posi = u_posrelat(luaL_optinteger(L, 2, 1), len);\n    let posj = u_posrelat(luaL_optinteger(L, 3, -1), len);\n\n    luaL_argcheck(L, 1 <= posi && --posi <= len, 2, \"initial position out of string\");\n    luaL_argcheck(L, --posj < len, 3, \"final position out of string\");\n\n    while (posi <= posj) {\n        let dec = utf8_decode(s, posi);\n        if (dec === null) { /* conversion error? */\n            lua_pushnil(L);  /* return nil ... */\n            lua_pushinteger(L, posi + 1);  /* ... and current position */\n            return 2;\n        }\n        posi = dec.pos;\n        n++;\n    }\n    lua_pushinteger(L, n);\n    return 1;\n};\n\nconst p_U = to_luastring(\"%U\");\nconst pushutfchar = function(L, arg) {\n    let code = luaL_checkinteger(L, arg);\n    luaL_argcheck(L, 0 <= code && code <= MAXUNICODE, arg, \"value out of range\");\n    lua_pushfstring(L, p_U, code);\n};\n\n/*\n** utfchar(n1, n2, ...)  -> char(n1)..char(n2)...\n*/\nconst utfchar = function(L) {\n    let n = lua_gettop(L);  /* number of arguments */\n    if (n === 1)  /* optimize common case of single char */\n        pushutfchar(L, 1);\n    else {\n        let b = new luaL_Buffer();\n        luaL_buffinit(L, b);\n        for (let i = 1; i <= n; i++) {\n            pushutfchar(L, i);\n            luaL_addvalue(b);\n        }\n        luaL_pushresult(b);\n    }\n    return 1;\n};\n\n/*\n** offset(s, n, [i])  -> index where n-th character counting from\n**   position 'i' starts; 0 means character at 'i'.\n*/\nconst byteoffset = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let n = luaL_checkinteger(L, 2);\n    let posi = n >= 0 ? 1 : s.length + 1;\n    posi = u_posrelat(luaL_optinteger(L, 3, posi), s.length);\n\n    luaL_argcheck(L, 1 <= posi && --posi <= s.length, 3, \"position out of range\");\n\n    if (n === 0) {\n        /* find beginning of current byte sequence */\n        while (posi > 0 && iscont(s[posi])) posi--;\n    } else {\n        if (iscont(s[posi]))\n            luaL_error(L, \"initial position is a continuation byte\");\n\n        if (n < 0) {\n            while (n < 0 && posi > 0) {  /* move back */\n                do {  /* find beginning of previous character */\n                    posi--;\n                } while (posi > 0 && iscont(s[posi]));\n                n++;\n            }\n        } else {\n            n--;  /* do not move for 1st character */\n            while (n > 0 && posi < s.length) {\n                do {  /* find beginning of next character */\n                    posi++;\n                } while (iscont(s[posi]));  /* (cannot pass final '\\0') */\n                n--;\n            }\n        }\n    }\n\n    if (n === 0)  /* did it find given character? */\n        lua_pushinteger(L, posi + 1);\n    else  /* no such character */\n        lua_pushnil(L);\n\n    return 1;\n};\n\n/*\n** codepoint(s, [i, [j]])  -> returns codepoints for all characters\n** that start in the range [i,j]\n*/\nconst codepoint = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let posi = u_posrelat(luaL_optinteger(L, 2, 1), s.length);\n    let pose = u_posrelat(luaL_optinteger(L, 3, posi), s.length);\n\n    luaL_argcheck(L, posi >= 1, 2, \"out of range\");\n    luaL_argcheck(L, pose <= s.length, 3, \"out of range\");\n\n    if (posi > pose) return 0;  /* empty interval; return no values */\n    if (pose - posi >= Number.MAX_SAFE_INTEGER)\n        return luaL_error(L, \"string slice too long\");\n    let n = (pose - posi) + 1;\n    luaL_checkstack(L, n, \"string slice too long\");\n    n = 0;\n    for (posi -= 1; posi < pose;) {\n        let dec = utf8_decode(s, posi);\n        if (dec === null)\n            return luaL_error(L, \"invalid UTF-8 code\");\n        lua_pushinteger(L, dec.code);\n        posi = dec.pos;\n        n++;\n    }\n    return n;\n};\n\nconst iter_aux = function(L) {\n    let s = luaL_checkstring(L, 1);\n    let len = s.length;\n    let n = lua_tointeger(L, 2) - 1;\n\n    if (n < 0)  /* first iteration? */\n        n = 0;  /* start from here */\n    else if (n < len) {\n        n++;  /* skip current byte */\n        while (iscont(s[n])) n++;  /* and its continuations */\n    }\n\n    if (n >= len)\n        return 0;  /* no more codepoints */\n    else {\n        let dec = utf8_decode(s, n);\n        if (dec === null || iscont(s[dec.pos]))\n            return luaL_error(L, to_luastring(\"invalid UTF-8 code\"));\n        lua_pushinteger(L, n + 1);\n        lua_pushinteger(L, dec.code);\n        return 2;\n    }\n};\n\nconst iter_codes = function(L) {\n    luaL_checkstring(L, 1);\n    lua_pushcfunction(L, iter_aux);\n    lua_pushvalue(L, 1);\n    lua_pushinteger(L, 0);\n    return 3;\n};\n\nconst funcs = {\n    \"char\":      utfchar,\n    \"codepoint\": codepoint,\n    \"codes\":     iter_codes,\n    \"len\":       utflen,\n    \"offset\":    byteoffset\n};\n\n/* pattern to match a single UTF-8 character */\nconst UTF8PATT = luastring_of(91, 0, 45, 127, 194, 45, 244, 93, 91, 128, 45, 191, 93, 42);\n\nconst luaopen_utf8 = function(L) {\n    luaL_newlib(L, funcs);\n    lua_pushstring(L, UTF8PATT);\n    lua_setfield(L, -2, to_luastring(\"charpattern\", true));\n    return 1;\n};\n\nmodule.exports.luaopen_utf8 = luaopen_utf8;\n","\"use strict\";\n\nconst {\n    LUA_MASKLINE,\n    LUA_MASKCOUNT,\n    LUA_MULTRET,\n    constant_types: {\n        LUA_TBOOLEAN,\n        LUA_TLCF,\n        LUA_TLIGHTUSERDATA,\n        LUA_TLNGSTR,\n        LUA_TNIL,\n        LUA_TNUMBER,\n        LUA_TNUMFLT,\n        LUA_TNUMINT,\n        LUA_TSHRSTR,\n        LUA_TTABLE,\n        LUA_TUSERDATA\n    },\n    to_luastring\n} = require('./defs.js');\nconst {\n    INDEXK,\n    ISK,\n    LFIELDS_PER_FLUSH,\n    OpCodesI: {\n        OP_ADD,\n        OP_BAND,\n        OP_BNOT,\n        OP_BOR,\n        OP_BXOR,\n        OP_CALL,\n        OP_CLOSURE,\n        OP_CONCAT,\n        OP_DIV,\n        OP_EQ,\n        OP_EXTRAARG,\n        OP_FORLOOP,\n        OP_FORPREP,\n        OP_GETTABLE,\n        OP_GETTABUP,\n        OP_GETUPVAL,\n        OP_IDIV,\n        OP_JMP,\n        OP_LE,\n        OP_LEN,\n        OP_LOADBOOL,\n        OP_LOADK,\n        OP_LOADKX,\n        OP_LOADNIL,\n        OP_LT,\n        OP_MOD,\n        OP_MOVE,\n        OP_MUL,\n        OP_NEWTABLE,\n        OP_NOT,\n        OP_POW,\n        OP_RETURN,\n        OP_SELF,\n        OP_SETLIST,\n        OP_SETTABLE,\n        OP_SETTABUP,\n        OP_SETUPVAL,\n        OP_SHL,\n        OP_SHR,\n        OP_SUB,\n        OP_TAILCALL,\n        OP_TEST,\n        OP_TESTSET,\n        OP_TFORCALL,\n        OP_TFORLOOP,\n        OP_UNM,\n        OP_VARARG\n    }\n} = require('./lopcodes.js');\nconst {\n    LUA_MAXINTEGER,\n    LUA_MININTEGER,\n    lua_numbertointeger\n} = require('./luaconf.js');\nconst {\n    lua_assert,\n    luai_nummod\n} = require('./llimits.js');\nconst lobject = require('./lobject.js');\nconst lfunc   = require('./lfunc.js');\nconst lstate  = require('./lstate.js');\nconst {\n    luaS_bless,\n    luaS_eqlngstr,\n    luaS_hashlongstr\n} = require('./lstring.js');\nconst ldo     = require('./ldo.js');\nconst ltm     = require('./ltm.js');\nconst ltable  = require('./ltable.js');\nconst ldebug  = require('./ldebug.js');\n\n/*\n** finish execution of an opcode interrupted by an yield\n*/\nconst luaV_finishOp = function(L) {\n    let ci = L.ci;\n    let base = ci.l_base;\n    let inst = ci.l_code[ci.l_savedpc - 1];  /* interrupted instruction */\n    let op = inst.opcode;\n\n    switch (op) {  /* finish its execution */\n        case OP_ADD: case OP_SUB: case OP_MUL: case OP_DIV: case OP_IDIV:\n        case OP_BAND: case OP_BOR: case OP_BXOR: case OP_SHL: case OP_SHR:\n        case OP_MOD: case OP_POW:\n        case OP_UNM: case OP_BNOT: case OP_LEN:\n        case OP_GETTABUP: case OP_GETTABLE: case OP_SELF: {\n            lobject.setobjs2s(L, base + inst.A, L.top-1);\n            delete L.stack[--L.top];\n            break;\n        }\n        case OP_LE: case OP_LT: case OP_EQ: {\n            let res = !L.stack[L.top - 1].l_isfalse();\n            delete L.stack[--L.top];\n            if (ci.callstatus & lstate.CIST_LEQ) {  /* \"<=\" using \"<\" instead? */\n                lua_assert(op === OP_LE);\n                ci.callstatus ^= lstate.CIST_LEQ;  /* clear mark */\n                res = !res;  /* negate result */\n            }\n            lua_assert(ci.l_code[ci.l_savedpc].opcode === OP_JMP);\n            if (res !== (inst.A ? true : false))  /* condition failed? */\n                ci.l_savedpc++;  /* skip jump instruction */\n            break;\n        }\n        case OP_CONCAT: {\n            let top = L.top - 1;  /* top when 'luaT_trybinTM' was called */\n            let b = inst.B;  /* first element to concatenate */\n            let total = top - 1 - (base + b);  /* yet to concatenate */\n            lobject.setobjs2s(L, top - 2, top);  /* put TM result in proper position */\n            if (total > 1) {  /* are there elements to concat? */\n                L.top = top - 1;  /* top is one after last element (at top-2) */\n                luaV_concat(L, total);  /* concat them (may yield again) */\n            }\n            /* move final result to final position */\n            lobject.setobjs2s(L, ci.l_base + inst.A, L.top - 1);\n            ldo.adjust_top(L, ci.top);  /* restore top */\n            break;\n        }\n        case OP_TFORCALL: {\n            lua_assert(ci.l_code[ci.l_savedpc].opcode === OP_TFORLOOP);\n            ldo.adjust_top(L, ci.top);  /* correct top */\n            break;\n        }\n        case OP_CALL: {\n            if (inst.C - 1 >= 0)  /* nresults >= 0? */\n                ldo.adjust_top(L, ci.top);  /* adjust results */\n            break;\n        }\n    }\n};\n\nconst RA = function(L, base, i) {\n    return base + i.A;\n};\n\nconst RB = function(L, base, i) {\n    return base + i.B;\n};\n\n// const RC = function(L, base, i) {\n//     return base + i.C;\n// };\n\nconst RKB = function(L, base, k, i) {\n    return ISK(i.B) ? k[INDEXK(i.B)] : L.stack[base + i.B];\n};\n\nconst RKC = function(L, base, k, i) {\n    return ISK(i.C) ? k[INDEXK(i.C)] : L.stack[base + i.C];\n};\n\nconst luaV_execute = function(L) {\n    let ci = L.ci;\n\n    ci.callstatus |= lstate.CIST_FRESH;\n    newframe:\n    for (;;) {\n        lua_assert(ci === L.ci);\n        let cl = ci.func.value;\n        let k = cl.p.k;\n        let base = ci.l_base;\n\n        let i = ci.l_code[ci.l_savedpc++];\n\n        if (L.hookmask & (LUA_MASKLINE | LUA_MASKCOUNT)) {\n            ldebug.luaG_traceexec(L);\n        }\n\n        let ra = RA(L, base, i);\n        let opcode = i.opcode;\n\n        switch (opcode) {\n            case OP_MOVE: {\n                lobject.setobjs2s(L, ra, RB(L, base, i));\n                break;\n            }\n            case OP_LOADK: {\n                let konst = k[i.Bx];\n                lobject.setobj2s(L, ra, konst);\n                break;\n            }\n            case OP_LOADKX: {\n                lua_assert(ci.l_code[ci.l_savedpc].opcode === OP_EXTRAARG);\n                let konst = k[ci.l_code[ci.l_savedpc++].Ax];\n                lobject.setobj2s(L, ra, konst);\n                break;\n            }\n            case OP_LOADBOOL: {\n                L.stack[ra].setbvalue(i.B !== 0);\n\n                if (i.C !== 0)\n                    ci.l_savedpc++; /* skip next instruction (if C) */\n\n                break;\n            }\n            case OP_LOADNIL: {\n                for (let j = 0; j <= i.B; j++)\n                    L.stack[ra + j].setnilvalue();\n                break;\n            }\n            case OP_GETUPVAL: {\n                let b = i.B;\n                lobject.setobj2s(L, ra, cl.upvals[b]);\n                break;\n            }\n            case OP_GETTABUP: {\n                let upval = cl.upvals[i.B];\n                let rc = RKC(L, base, k, i);\n                luaV_gettable(L, upval, rc, ra);\n                break;\n            }\n            case OP_GETTABLE: {\n                let rb = L.stack[RB(L, base, i)];\n                let rc = RKC(L, base, k, i);\n                luaV_gettable(L, rb, rc, ra);\n                break;\n            }\n            case OP_SETTABUP: {\n                let upval = cl.upvals[i.A];\n                let rb = RKB(L, base, k, i);\n                let rc = RKC(L, base, k, i);\n                settable(L, upval, rb, rc);\n                break;\n            }\n            case OP_SETUPVAL: {\n                let uv = cl.upvals[i.B];\n                uv.setfrom(L.stack[ra]);\n                break;\n            }\n            case OP_SETTABLE: {\n                let table = L.stack[ra];\n                let key = RKB(L, base, k, i);\n                let v = RKC(L, base, k, i);\n\n                settable(L, table, key, v);\n                break;\n            }\n            case OP_NEWTABLE: {\n                L.stack[ra].sethvalue(ltable.luaH_new(L));\n                break;\n            }\n            case OP_SELF: {\n                let rb = RB(L, base, i);\n                let rc = RKC(L, base, k, i);\n                lobject.setobjs2s(L, ra + 1, rb);\n                luaV_gettable(L, L.stack[rb], rc, ra);\n                break;\n            }\n            case OP_ADD: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if (op1.ttisinteger() && op2.ttisinteger()) {\n                    L.stack[ra].setivalue((op1.value + op2.value)|0);\n                } else if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(numberop1 + numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_ADD);\n                }\n                break;\n            }\n            case OP_SUB: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if (op1.ttisinteger() && op2.ttisinteger()) {\n                    L.stack[ra].setivalue((op1.value - op2.value)|0);\n                } else if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(numberop1 - numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_SUB);\n                }\n                break;\n            }\n            case OP_MUL: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if (op1.ttisinteger() && op2.ttisinteger()) {\n                    L.stack[ra].setivalue(luaV_imul(op1.value, op2.value));\n                } else if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(numberop1 * numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_MUL);\n                }\n                break;\n            }\n            case OP_MOD: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if (op1.ttisinteger() && op2.ttisinteger()) {\n                    L.stack[ra].setivalue(luaV_mod(L, op1.value, op2.value));\n                } else if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(luai_nummod(L, numberop1, numberop2));\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_MOD);\n                }\n                break;\n            }\n            case OP_POW: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(Math.pow(numberop1, numberop2));\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_POW);\n                }\n                break;\n            }\n            case OP_DIV: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(numberop1 / numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_DIV);\n                }\n                break;\n            }\n            case OP_IDIV: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if (op1.ttisinteger() && op2.ttisinteger()) {\n                    L.stack[ra].setivalue(luaV_div(L, op1.value, op2.value));\n                } else if ((numberop1 = tonumber(op1)) !== false && (numberop2 = tonumber(op2)) !== false) {\n                    L.stack[ra].setfltvalue(Math.floor(numberop1 / numberop2));\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_IDIV);\n                }\n                break;\n            }\n            case OP_BAND: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tointeger(op1)) !== false && (numberop2 = tointeger(op2)) !== false) {\n                    L.stack[ra].setivalue(numberop1 & numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_BAND);\n                }\n                break;\n            }\n            case OP_BOR: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tointeger(op1)) !== false && (numberop2 = tointeger(op2)) !== false) {\n                    L.stack[ra].setivalue(numberop1 | numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_BOR);\n                }\n                break;\n            }\n            case OP_BXOR: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tointeger(op1)) !== false && (numberop2 = tointeger(op2)) !== false) {\n                    L.stack[ra].setivalue(numberop1 ^ numberop2);\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_BXOR);\n                }\n                break;\n            }\n            case OP_SHL: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tointeger(op1)) !== false && (numberop2 = tointeger(op2)) !== false) {\n                    L.stack[ra].setivalue(luaV_shiftl(numberop1, numberop2));\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_SHL);\n                }\n                break;\n            }\n            case OP_SHR: {\n                let op1 = RKB(L, base, k, i);\n                let op2 = RKC(L, base, k, i);\n                let numberop1, numberop2;\n\n                if ((numberop1 = tointeger(op1)) !== false && (numberop2 = tointeger(op2)) !== false) {\n                    L.stack[ra].setivalue(luaV_shiftl(numberop1, -numberop2));\n                } else {\n                    ltm.luaT_trybinTM(L, op1, op2, L.stack[ra], ltm.TMS.TM_SHR);\n                }\n                break;\n            }\n            case OP_UNM: {\n                let op = L.stack[RB(L, base, i)];\n                let numberop;\n\n                if (op.ttisinteger()) {\n                    L.stack[ra].setivalue((-op.value)|0);\n                } else if ((numberop = tonumber(op)) !== false) {\n                    L.stack[ra].setfltvalue(-numberop);\n                } else {\n                    ltm.luaT_trybinTM(L, op, op, L.stack[ra], ltm.TMS.TM_UNM);\n                }\n                break;\n            }\n            case OP_BNOT: {\n                let op = L.stack[RB(L, base, i)];\n\n                if (op.ttisinteger()) {\n                    L.stack[ra].setivalue(~op.value);\n                } else {\n                    ltm.luaT_trybinTM(L, op, op, L.stack[ra], ltm.TMS.TM_BNOT);\n                }\n                break;\n            }\n            case OP_NOT: {\n                let op = L.stack[RB(L, base, i)];\n                L.stack[ra].setbvalue(op.l_isfalse());\n                break;\n            }\n            case OP_LEN: {\n                luaV_objlen(L, L.stack[ra], L.stack[RB(L, base, i)]);\n                break;\n            }\n            case OP_CONCAT: {\n                let b = i.B;\n                let c = i.C;\n                L.top = base + c + 1; /* mark the end of concat operands */\n                luaV_concat(L, c - b + 1);\n                let rb = base + b;\n                lobject.setobjs2s(L, ra, rb);\n                ldo.adjust_top(L, ci.top); /* restore top */\n                break;\n            }\n            case OP_JMP: {\n                dojump(L, ci, i, 0);\n                break;\n            }\n            case OP_EQ: {\n                if (luaV_equalobj(L, RKB(L, base, k, i), RKC(L, base, k, i)) !== i.A)\n                    ci.l_savedpc++;\n                else\n                    donextjump(L, ci);\n                break;\n            }\n            case OP_LT: {\n                if (luaV_lessthan(L, RKB(L, base, k, i), RKC(L, base, k, i)) !== i.A)\n                    ci.l_savedpc++;\n                else\n                    donextjump(L, ci);\n                break;\n            }\n            case OP_LE: {\n                if (luaV_lessequal(L, RKB(L, base, k, i), RKC(L, base, k, i)) !== i.A)\n                    ci.l_savedpc++;\n                else\n                    donextjump(L, ci);\n                break;\n            }\n            case OP_TEST: {\n                if (i.C ? L.stack[ra].l_isfalse() : !L.stack[ra].l_isfalse())\n                    ci.l_savedpc++;\n                else\n                    donextjump(L, ci);\n                break;\n            }\n            case OP_TESTSET: {\n                let rbIdx = RB(L, base, i);\n                let rb = L.stack[rbIdx];\n                if (i.C ? rb.l_isfalse() : !rb.l_isfalse())\n                    ci.l_savedpc++;\n                else {\n                    lobject.setobjs2s(L, ra, rbIdx);\n                    donextjump(L, ci);\n                }\n                break;\n            }\n            case OP_CALL: {\n                let b = i.B;\n                let nresults = i.C - 1;\n                if (b !== 0) ldo.adjust_top(L, ra+b);  /* else previous instruction set top */\n                if (ldo.luaD_precall(L, ra, nresults)) {\n                    if (nresults >= 0)\n                        ldo.adjust_top(L, ci.top);  /* adjust results */\n                } else {\n                    ci = L.ci;\n                    continue newframe;\n                }\n\n                break;\n            }\n            case OP_TAILCALL: {\n                let b = i.B;\n                if (b !== 0) ldo.adjust_top(L, ra+b);  /* else previous instruction set top */\n                if (ldo.luaD_precall(L, ra, LUA_MULTRET)) { // JS function\n                } else {\n                    /* tail call: put called frame (n) in place of caller one (o) */\n                    let nci = L.ci;\n                    let oci = nci.previous;\n                    let nfunc = nci.func;\n                    let nfuncOff = nci.funcOff;\n                    let ofuncOff = oci.funcOff;\n                    let lim = nci.l_base + nfunc.value.p.numparams;\n                    if (cl.p.p.length > 0) lfunc.luaF_close(L, oci.l_base);\n                    for (let aux = 0; nfuncOff + aux < lim; aux++)\n                        lobject.setobjs2s(L, ofuncOff + aux, nfuncOff + aux);\n                    oci.l_base = ofuncOff + (nci.l_base - nfuncOff);\n                    oci.top = ofuncOff + (L.top - nfuncOff);\n                    ldo.adjust_top(L, oci.top);  /* correct top */\n                    oci.l_code = nci.l_code;\n                    oci.l_savedpc = nci.l_savedpc;\n                    oci.callstatus |= lstate.CIST_TAIL;\n                    oci.next = null;\n                    ci = L.ci = oci;\n\n                    lua_assert(L.top === oci.l_base + L.stack[ofuncOff].value.p.maxstacksize);\n\n                    continue newframe;\n                }\n                break;\n            }\n            case OP_RETURN: {\n                if (cl.p.p.length > 0) lfunc.luaF_close(L, base);\n                let b = ldo.luaD_poscall(L, ci, ra, (i.B !== 0 ? i.B - 1 : L.top - ra));\n\n                if (ci.callstatus & lstate.CIST_FRESH)\n                    return; /* external invocation: return */\n                /* invocation via reentry: continue execution */\n                ci = L.ci;\n                if (b) ldo.adjust_top(L, ci.top);\n                lua_assert(ci.callstatus & lstate.CIST_LUA);\n                lua_assert(ci.l_code[ci.l_savedpc - 1].opcode === OP_CALL);\n                continue newframe;\n            }\n            case OP_FORLOOP: {\n                if (L.stack[ra].ttisinteger()) { /* integer loop? */\n                    let step = L.stack[ra + 2].value;\n                    let idx = (L.stack[ra].value + step)|0;\n                    let limit = L.stack[ra + 1].value;\n\n                    if (0 < step ? idx <= limit : limit <= idx) {\n                        ci.l_savedpc += i.sBx;\n                        L.stack[ra].chgivalue(idx);  /* update internal index... */\n                        L.stack[ra + 3].setivalue(idx);\n                    }\n                } else { /* floating loop */\n                    let step = L.stack[ra + 2].value;\n                    let idx = L.stack[ra].value + step;\n                    let limit = L.stack[ra + 1].value;\n\n                    if (0 < step ? idx <= limit : limit <= idx) {\n                        ci.l_savedpc += i.sBx;\n                        L.stack[ra].chgfltvalue(idx);  /* update internal index... */\n                        L.stack[ra + 3].setfltvalue(idx);\n                    }\n                }\n                break;\n            }\n            case OP_FORPREP: {\n                let init = L.stack[ra];\n                let plimit = L.stack[ra + 1];\n                let pstep = L.stack[ra + 2];\n                let forlim;\n\n                if (init.ttisinteger() && pstep.ttisinteger() && (forlim = forlimit(plimit, pstep.value))) {\n                    /* all values are integer */\n                    let initv = forlim.stopnow ? 0 : init.value;\n                    plimit.value = forlim.ilimit;\n                    init.value = (initv - pstep.value)|0;\n                } else { /* try making all values floats */\n                    let nlimit, nstep, ninit;\n                    if ((nlimit = tonumber(plimit)) === false)\n                        ldebug.luaG_runerror(L, to_luastring(\"'for' limit must be a number\", true));\n                    L.stack[ra + 1].setfltvalue(nlimit);\n                    if ((nstep = tonumber(pstep)) === false)\n                        ldebug.luaG_runerror(L, to_luastring(\"'for' step must be a number\", true));\n                    L.stack[ra + 2].setfltvalue(nstep);\n                    if ((ninit = tonumber(init)) === false)\n                        ldebug.luaG_runerror(L, to_luastring(\"'for' initial value must be a number\", true));\n                    L.stack[ra].setfltvalue(ninit - nstep);\n                }\n\n                ci.l_savedpc += i.sBx;\n                break;\n            }\n            case OP_TFORCALL: {\n                let cb = ra + 3; /* call base */\n                lobject.setobjs2s(L, cb+2, ra+2);\n                lobject.setobjs2s(L, cb+1, ra+1);\n                lobject.setobjs2s(L, cb, ra);\n                ldo.adjust_top(L, cb+3);  /* func. + 2 args (state and index) */\n                ldo.luaD_call(L, cb, i.C);\n                ldo.adjust_top(L, ci.top);\n                /* go straight to OP_TFORLOOP */\n                i = ci.l_code[ci.l_savedpc++];\n                ra = RA(L, base, i);\n                lua_assert(i.opcode === OP_TFORLOOP);\n            }\n            /* fall through */\n            case OP_TFORLOOP: {\n                if (!L.stack[ra + 1].ttisnil()) { /* continue loop? */\n                    lobject.setobjs2s(L, ra, ra + 1); /* save control variable */\n                    ci.l_savedpc += i.sBx; /* jump back */\n                }\n                break;\n            }\n            case OP_SETLIST: {\n                let n = i.B;\n                let c = i.C;\n\n                if (n === 0) n = L.top - ra - 1;\n\n                if (c === 0) {\n                    lua_assert(ci.l_code[ci.l_savedpc].opcode === OP_EXTRAARG);\n                    c = ci.l_code[ci.l_savedpc++].Ax;\n                }\n\n                let h = L.stack[ra].value;\n                let last = ((c - 1) * LFIELDS_PER_FLUSH) + n;\n\n                for (; n > 0; n--) {\n                    ltable.luaH_setint(h, last--, L.stack[ra + n]);\n                }\n                ldo.adjust_top(L, ci.top);  /* correct top (in case of previous open call) */\n                break;\n            }\n            case OP_CLOSURE: {\n                let p = cl.p.p[i.Bx];\n                let ncl = getcached(p, cl.upvals, L.stack, base);  /* cached closure */\n                if (ncl === null)  /* no match? */\n                    pushclosure(L, p, cl.upvals, base, ra);  /* create a new one */\n                else\n                    L.stack[ra].setclLvalue(ncl);\n                break;\n            }\n            case OP_VARARG: {\n                let b = i.B - 1;\n                let n = base - ci.funcOff - cl.p.numparams - 1;\n                let j;\n\n                if (n < 0) /* less arguments than parameters? */\n                    n = 0; /* no vararg arguments */\n\n                if (b < 0) {\n                    b = n;  /* get all var. arguments */\n                    ldo.luaD_checkstack(L, n);\n                    ldo.adjust_top(L, ra + n);\n                }\n\n                for (j = 0; j < b && j < n; j++)\n                    lobject.setobjs2s(L, ra + j, base - n + j);\n\n                for (; j < b; j++) /* complete required results with nil */\n                    L.stack[ra + j].setnilvalue();\n                break;\n            }\n            case OP_EXTRAARG: {\n                throw Error(\"invalid opcode\");\n            }\n        }\n    }\n};\n\nconst dojump = function(L, ci, i, e) {\n    let a = i.A;\n    if (a !== 0) lfunc.luaF_close(L, ci.l_base + a - 1);\n    ci.l_savedpc += i.sBx + e;\n};\n\nconst donextjump = function(L, ci) {\n    dojump(L, ci, ci.l_code[ci.l_savedpc], 1);\n};\n\n\nconst luaV_lessthan = function(L, l, r) {\n    if (l.ttisnumber() && r.ttisnumber())\n        return LTnum(l, r) ? 1 : 0;\n    else if (l.ttisstring() && r.ttisstring())\n        return l_strcmp(l.tsvalue(), r.tsvalue()) < 0 ? 1 : 0;\n    else {\n        let res = ltm.luaT_callorderTM(L, l, r, ltm.TMS.TM_LT);\n        if (res === null)\n            ldebug.luaG_ordererror(L, l, r);\n        return res ? 1 : 0;\n    }\n};\n\nconst luaV_lessequal = function(L, l, r) {\n    let res;\n\n    if (l.ttisnumber() && r.ttisnumber())\n        return LEnum(l, r) ? 1 : 0;\n    else if (l.ttisstring() && r.ttisstring())\n        return l_strcmp(l.tsvalue(), r.tsvalue()) <= 0 ? 1 : 0;\n    else {\n        res = ltm.luaT_callorderTM(L, l, r, ltm.TMS.TM_LE);\n        if (res !== null)\n            return res ? 1 : 0;\n    }\n    /* try 'lt': */\n    L.ci.callstatus |= lstate.CIST_LEQ; /* mark it is doing 'lt' for 'le' */\n    res = ltm.luaT_callorderTM(L, r, l, ltm.TMS.TM_LT);\n    L.ci.callstatus ^= lstate.CIST_LEQ; /* clear mark */\n    if (res === null)\n        ldebug.luaG_ordererror(L, l, r);\n    return res ? 0 : 1; /* result is negated */\n};\n\nconst luaV_equalobj = function(L, t1, t2) {\n    if (t1.ttype() !== t2.ttype()) { /* not the same variant? */\n        if (t1.ttnov() !== t2.ttnov() || t1.ttnov() !== LUA_TNUMBER)\n            return 0; /* only numbers can be equal with different variants */\n        else { /* two numbers with different variants */\n            /* OPTIMIZATION: instead of calling luaV_tointeger we can just let JS do the comparison */\n            return (t1.value === t2.value) ? 1 : 0;\n        }\n    }\n\n    let tm;\n\n    /* values have same type and same variant */\n    switch(t1.ttype()) {\n        case LUA_TNIL:\n            return 1;\n        case LUA_TBOOLEAN:\n            return t1.value == t2.value ? 1 : 0; // Might be 1 or true\n        case LUA_TLIGHTUSERDATA:\n        case LUA_TNUMINT:\n        case LUA_TNUMFLT:\n        case LUA_TLCF:\n            return t1.value === t2.value ? 1 : 0;\n        case LUA_TSHRSTR:\n        case LUA_TLNGSTR: {\n            return luaS_eqlngstr(t1.tsvalue(), t2.tsvalue()) ? 1 : 0;\n        }\n        case LUA_TUSERDATA:\n        case LUA_TTABLE:\n            if (t1.value === t2.value) return 1;\n            else if (L === null) return 0;\n\n            tm = ltm.fasttm(L, t1.value.metatable, ltm.TMS.TM_EQ);\n            if (tm === null)\n                tm = ltm.fasttm(L, t2.value.metatable, ltm.TMS.TM_EQ);\n            break;\n        default:\n            return t1.value === t2.value ? 1 : 0;\n    }\n\n    if (tm === null) /* no TM? */\n        return 0;\n\n    let tv = new lobject.TValue(); /* doesn't use the stack */\n    ltm.luaT_callTM(L, tm, t1, t2, tv, 1);\n    return tv.l_isfalse() ? 0 : 1;\n};\n\nconst luaV_rawequalobj = function(t1, t2) {\n    return luaV_equalobj(null, t1, t2);\n};\n\nconst forlimit = function(obj, step) {\n    let stopnow = false;\n    let ilimit = luaV_tointeger(obj, step < 0 ? 2 : 1);\n    if (ilimit === false) {\n        let n = tonumber(obj);\n        if (n === false)\n            return false;\n\n        if (0 < n) {\n            ilimit = LUA_MAXINTEGER;\n            if (step < 0) stopnow = true;\n        } else {\n            ilimit = LUA_MININTEGER;\n            if (step >= 0) stopnow = true;\n        }\n    }\n\n    return {\n        stopnow: stopnow,\n        ilimit: ilimit\n    };\n};\n\n/*\n** try to convert a value to an integer, rounding according to 'mode':\n** mode === 0: accepts only integral values\n** mode === 1: takes the floor of the number\n** mode === 2: takes the ceil of the number\n*/\nconst luaV_tointeger = function(obj, mode) {\n    if (obj.ttisfloat()) {\n        let n = obj.value;\n        let f = Math.floor(n);\n\n        if (n !== f) { /* not an integral value? */\n            if (mode === 0)\n                return false;  /* fails if mode demands integral value */\n            else if (mode > 1)  /* needs ceil? */\n                f += 1;  /* convert floor to ceil (remember: n !== f) */\n        }\n\n        return lua_numbertointeger(f);\n    } else if (obj.ttisinteger()) {\n        return obj.value;\n    } else if (cvt2num(obj)) {\n        let v = new lobject.TValue();\n        if (lobject.luaO_str2num(obj.svalue(), v) === (obj.vslen() + 1))\n            return luaV_tointeger(v, mode);\n    }\n\n    return false;\n};\n\nconst tointeger = function(o) {\n    return o.ttisinteger() ? o.value : luaV_tointeger(o, 0);\n};\n\nconst tonumber = function(o) {\n    if (o.ttnov() === LUA_TNUMBER)\n        return o.value;\n\n    if (cvt2num(o)) {  /* string convertible to number? */\n        let v = new lobject.TValue();\n        if (lobject.luaO_str2num(o.svalue(), v) === (o.vslen() + 1))\n            return v.value;\n    }\n\n    return false;\n};\n\n/*\n** Return 'l < r', for numbers.\n** As fengari uses javascript numbers for both floats and integers and has\n** correct semantics, we can just compare values.\n*/\nconst LTnum = function(l, r) {\n    return l.value < r.value;\n};\n\n/*\n** Return 'l <= r', for numbers.\n*/\nconst LEnum = function(l, r) {\n    return l.value <= r.value;\n};\n\n/*\n** Compare two strings 'ls' x 'rs', returning an integer smaller-equal-\n** -larger than zero if 'ls' is smaller-equal-larger than 'rs'.\n*/\nconst l_strcmp = function(ls, rs) {\n    let l = luaS_hashlongstr(ls);\n    let r = luaS_hashlongstr(rs);\n    /* In fengari we assume string hash has same collation as byte values */\n    if (l === r)\n        return 0;\n    else if (l < r)\n        return -1;\n    else\n        return 1;\n};\n\n/*\n** Main operation 'ra' = #rb'.\n*/\nconst luaV_objlen = function(L, ra, rb) {\n    let tm;\n    switch(rb.ttype()) {\n        case LUA_TTABLE: {\n            let h = rb.value;\n            tm = ltm.fasttm(L, h.metatable, ltm.TMS.TM_LEN);\n            if (tm !== null) break; /* metamethod? break switch to call it */\n            ra.setivalue(ltable.luaH_getn(h)); /* else primitive len */\n            return;\n        }\n        case LUA_TSHRSTR:\n        case LUA_TLNGSTR:\n            ra.setivalue(rb.vslen());\n            return;\n        default: {\n            tm = ltm.luaT_gettmbyobj(L, rb, ltm.TMS.TM_LEN);\n            if (tm.ttisnil())\n                ldebug.luaG_typeerror(L, rb, to_luastring(\"get length of\", true));\n            break;\n        }\n    }\n\n    ltm.luaT_callTM(L, tm, rb, rb, ra, 1);\n};\n\n/* Shim taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul */\nconst luaV_imul = Math.imul || function(a, b) {\n    let aHi = (a >>> 16) & 0xffff;\n    let aLo = a & 0xffff;\n    let bHi = (b >>> 16) & 0xffff;\n    let bLo = b & 0xffff;\n    /*\n    ** the shift by 0 fixes the sign on the high part\n    ** the final |0 converts the unsigned value into a signed value\n    */\n    return ((aLo * bLo) + (((aHi * bLo + aLo * bHi) << 16) >>> 0) | 0);\n};\n\nconst luaV_div = function(L, m, n) {\n    if (n === 0)\n        ldebug.luaG_runerror(L, to_luastring(\"attempt to divide by zero\"));\n    return Math.floor(m / n)|0;\n};\n\n// % semantic on negative numbers is different in js\nconst luaV_mod = function(L, m, n) {\n    if (n === 0)\n        ldebug.luaG_runerror(L, to_luastring(\"attempt to perform 'n%%0'\"));\n    return (m - Math.floor(m / n) * n)|0;\n};\n\nconst NBITS = 32;\n\nconst luaV_shiftl = function(x, y) {\n    if (y < 0) {  /* shift right? */\n        if (y <= -NBITS) return 0;\n        else return x >>> -y;\n    }\n    else {  /* shift left */\n        if (y >= NBITS) return 0;\n        else return x << y;\n    }\n};\n\n/*\n** check whether cached closure in prototype 'p' may be reused, that is,\n** whether there is a cached closure with the same upvalues needed by\n** new closure to be created.\n*/\nconst getcached = function(p, encup, stack, base) {\n    let c = p.cache;\n    if (c !== null) {  /* is there a cached closure? */\n        let uv = p.upvalues;\n        let nup = uv.length;\n        for (let i = 0; i < nup; i++) {  /* check whether it has right upvalues */\n            let v = uv[i].instack ? stack[base + uv[i].idx] : encup[uv[i].idx];\n            if (c.upvals[i] !== v)\n                return null;  /* wrong upvalue; cannot reuse closure */\n        }\n    }\n    return c;  /* return cached closure (or NULL if no cached closure) */\n};\n\n/*\n** create a new Lua closure, push it in the stack, and initialize\n** its upvalues.\n*/\nconst pushclosure = function(L, p, encup, base, ra) {\n    let nup = p.upvalues.length;\n    let uv = p.upvalues;\n    let ncl = new lobject.LClosure(L, nup);\n    ncl.p = p;\n    L.stack[ra].setclLvalue(ncl);\n    for (let i = 0; i < nup; i++) {\n        if (uv[i].instack)\n            ncl.upvals[i] = lfunc.luaF_findupval(L, base + uv[i].idx);\n        else\n            ncl.upvals[i] = encup[uv[i].idx];\n    }\n    p.cache = ncl;  /* save it on cache for reuse */\n};\n\nconst cvt2str = function(o) {\n    return o.ttisnumber();\n};\n\nconst cvt2num = function(o) {\n    return o.ttisstring();\n};\n\nconst tostring = function(L, i) {\n    let o = L.stack[i];\n\n    if (o.ttisstring()) return true;\n\n    if (cvt2str(o)) {\n        lobject.luaO_tostring(L, o);\n        return true;\n    }\n\n    return false;\n};\n\nconst isemptystr = function(o) {\n    return o.ttisstring() && o.vslen() === 0;\n};\n\n/* copy strings in stack from top - n up to top - 1 to buffer */\nconst copy2buff = function(L, top, n, buff) {\n    let tl = 0;  /* size already copied */\n    do {\n        let tv = L.stack[top-n];\n        let l = tv.vslen();  /* length of string being copied */\n        let s = tv.svalue();\n        buff.set(s, tl);\n        tl += l;\n    } while (--n > 0);\n};\n\n/*\n** Main operation for concatenation: concat 'total' values in the stack,\n** from 'L->top - total' up to 'L->top - 1'.\n*/\nconst luaV_concat = function(L, total) {\n    lua_assert(total >= 2);\n    do {\n        let top = L.top;\n        let n = 2; /* number of elements handled in this pass (at least 2) */\n\n        if (!(L.stack[top-2].ttisstring() || cvt2str(L.stack[top-2])) || !tostring(L, top - 1)) {\n            ltm.luaT_trybinTM(L, L.stack[top-2], L.stack[top-1], L.stack[top-2], ltm.TMS.TM_CONCAT);\n        } else if (isemptystr(L.stack[top-1])) {\n            tostring(L, top - 2);\n        } else if (isemptystr(L.stack[top-2])) {\n            lobject.setobjs2s(L, top - 2, top - 1);\n        } else {\n            /* at least two non-empty string values; get as many as possible */\n            let tl = L.stack[top-1].vslen();\n            /* collect total length and number of strings */\n            for (n = 1; n < total && tostring(L, top - n - 1); n++) {\n                let l = L.stack[top - n - 1].vslen();\n                tl += l;\n            }\n            let buff = new Uint8Array(tl);\n            copy2buff(L, top, n, buff);\n            let ts = luaS_bless(L, buff);\n            lobject.setsvalue2s(L, top - n, ts);\n        }\n        total -= n - 1; /* got 'n' strings to create 1 new */\n        /* popped 'n' strings and pushed one */\n        for (; L.top > top-(n-1);)\n            delete L.stack[--L.top];\n    } while (total > 1); /* repeat until only 1 result left */\n};\n\nconst MAXTAGLOOP = 2000;\n\nconst luaV_gettable = function(L, t, key, ra) {\n    for (let loop = 0; loop < MAXTAGLOOP; loop++) {\n        let tm;\n\n        if (!t.ttistable()) {\n            tm = ltm.luaT_gettmbyobj(L, t, ltm.TMS.TM_INDEX);\n            if (tm.ttisnil())\n                ldebug.luaG_typeerror(L, t, to_luastring('index', true)); /* no metamethod */\n            /* else will try the metamethod */\n        } else {\n            let slot = ltable.luaH_get(L, t.value, key);\n            if (!slot.ttisnil()) {\n                lobject.setobj2s(L, ra, slot);\n                return;\n            } else { /* 't' is a table */\n                tm = ltm.fasttm(L, t.value.metatable, ltm.TMS.TM_INDEX);  /* table's metamethod */\n                if (tm === null) { /* no metamethod? */\n                    L.stack[ra].setnilvalue(); /* result is nil */\n                    return;\n                }\n            }\n            /* else will try the metamethod */\n        }\n        if (tm.ttisfunction()) { /* is metamethod a function? */\n            ltm.luaT_callTM(L, tm, t, key, L.stack[ra], 1); /* call it */\n            return;\n        }\n        t = tm;  /* else try to access 'tm[key]' */\n    }\n\n    ldebug.luaG_runerror(L, to_luastring(\"'__index' chain too long; possible loop\", true));\n};\n\nconst settable = function(L, t, key, val) {\n    for (let loop = 0; loop < MAXTAGLOOP; loop++) {\n        let tm;\n        if (t.ttistable()) {\n            let h = t.value; /* save 't' table */\n            let slot = ltable.luaH_get(L, h, key);\n            if (!slot.ttisnil() || (tm = ltm.fasttm(L, h.metatable, ltm.TMS.TM_NEWINDEX)) === null) {\n                ltable.luaH_setfrom(L, h, key, val);\n                ltable.invalidateTMcache(h);\n                return;\n            }\n            /* else will try the metamethod */\n        } else { /* not a table; check metamethod */\n            if ((tm = ltm.luaT_gettmbyobj(L, t, ltm.TMS.TM_NEWINDEX)).ttisnil())\n                ldebug.luaG_typeerror(L, t, to_luastring('index', true));\n        }\n        /* try the metamethod */\n        if (tm.ttisfunction()) {\n            ltm.luaT_callTM(L, tm, t, key, val, 0);\n            return;\n        }\n        t = tm;  /* else repeat assignment over 'tm' */\n    }\n\n    ldebug.luaG_runerror(L, to_luastring(\"'__newindex' chain too long; possible loop\", true));\n};\n\n\nmodule.exports.cvt2str          = cvt2str;\nmodule.exports.cvt2num          = cvt2num;\nmodule.exports.luaV_gettable    = luaV_gettable;\nmodule.exports.luaV_concat      = luaV_concat;\nmodule.exports.luaV_div         = luaV_div;\nmodule.exports.luaV_equalobj    = luaV_equalobj;\nmodule.exports.luaV_execute     = luaV_execute;\nmodule.exports.luaV_finishOp    = luaV_finishOp;\nmodule.exports.luaV_imul        = luaV_imul;\nmodule.exports.luaV_lessequal   = luaV_lessequal;\nmodule.exports.luaV_lessthan    = luaV_lessthan;\nmodule.exports.luaV_mod         = luaV_mod;\nmodule.exports.luaV_objlen      = luaV_objlen;\nmodule.exports.luaV_rawequalobj = luaV_rawequalobj;\nmodule.exports.luaV_shiftl      = luaV_shiftl;\nmodule.exports.luaV_tointeger   = luaV_tointeger;\nmodule.exports.settable         = settable;\nmodule.exports.tointeger        = tointeger;\nmodule.exports.tonumber         = tonumber;\n","\"use strict\";\n\nconst { lua_assert } = require(\"./llimits.js\");\n\nclass MBuffer {\n    constructor() {\n        this.buffer = null;\n        this.n = 0;\n    }\n}\n\nconst luaZ_buffer = function(buff) {\n    return buff.buffer.subarray(0, buff.n);\n};\n\nconst luaZ_buffremove = function(buff, i) {\n    buff.n -= i;\n};\n\nconst luaZ_resetbuffer = function(buff) {\n    buff.n = 0;\n};\n\nconst luaZ_resizebuffer = function(L, buff, size) {\n    let newbuff = new Uint8Array(size);\n    if (buff.buffer)\n        newbuff.set(buff.buffer);\n    buff.buffer = newbuff;\n};\n\nclass ZIO {\n    constructor(L, reader, data) {\n        this.L = L;           /* Lua state (for reader) */\n        lua_assert(typeof reader == \"function\", \"ZIO requires a reader\");\n        this.reader = reader; /* reader function */\n        this.data = data;     /* additional data */\n        this.n = 0;           /* bytes still unread */\n        this.buffer = null;\n        this.off = 0;         /* current position in buffer */\n    }\n\n    zgetc () {\n        return ((this.n--) > 0) ? this.buffer[this.off++] : luaZ_fill(this);\n    }\n}\n\nconst EOZ = -1;\n\nconst luaZ_fill = function(z) {\n    let buff = z.reader(z.L, z.data);\n    if (buff === null)\n        return EOZ;\n    lua_assert(buff instanceof Uint8Array, \"Should only load binary of array of bytes\");\n    let size = buff.length;\n    if (size === 0)\n        return EOZ;\n    z.buffer = buff;\n    z.off = 0;\n    z.n = size - 1;\n    return z.buffer[z.off++];\n};\n\n/* b should be an array-like that will be set to bytes\n * b_offset is the offset at which to start filling */\nconst luaZ_read = function(z, b, b_offset, n) {\n    while (n) {\n        if (z.n === 0) { /* no bytes in buffer? */\n            if (luaZ_fill(z) === EOZ)\n                return n; /* no more input; return number of missing bytes */\n            else {\n                z.n++;  /* luaZ_fill consumed first byte; put it back */\n                z.off--;\n            }\n        }\n        let m = (n <= z.n) ? n : z.n; /* min. between n and z->n */\n        for (let i=0; i<m; i++) {\n            b[b_offset++] = z.buffer[z.off++];\n        }\n        z.n -= m;\n        if (z.n === 0) // remove reference to input so it can get freed\n            z.buffer = null;\n        n -= m;\n    }\n\n    return 0;\n};\n\nmodule.exports.EOZ               = EOZ;\nmodule.exports.luaZ_buffer       = luaZ_buffer;\nmodule.exports.luaZ_buffremove   = luaZ_buffremove;\nmodule.exports.luaZ_fill         = luaZ_fill;\nmodule.exports.luaZ_read         = luaZ_read;\nmodule.exports.luaZ_resetbuffer  = luaZ_resetbuffer;\nmodule.exports.luaZ_resizebuffer = luaZ_resizebuffer;\nmodule.exports.MBuffer           = MBuffer;\nmodule.exports.ZIO               = ZIO;\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?][\\\\s\\\\S]*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 ''.toLowerCase() === '', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if (''.toLowerCase() === '') {\n    str = str.replace(//g, '');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // , , , , ,  - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (), U+03f4 () and lowercase U+03b8 (), U+03d1 ()\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change  (it's already lowercase),\n  // and .toUpperCase() doesn't change  (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  // `text_join` finds `text_special` tokens (for escape sequences)\n  // and joins them with the rest of the text\n  [ 'text_join',      require('./rules_core/text_join')      ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'linkify',         require('./rules_inline/linkify') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  // rules for pairs separate '**' into its own text tokens, which may be left unused,\n  // rule below merges unused segments back with the rest of the text\n  [ 'fragments_join',  require('./rules_inline/fragments_join') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      isOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // set offset past spaces and \">\"\n  initial = offset = state.sCount[startLine] + 1;\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    isOutdented = state.sCount[nextLine] < state.blkIndent;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      initial = offset = state.sCount[nextLine] + 1;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n';\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1);\n    }\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","// GFM table, https://github.github.com/gfm/#tables-extension-\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  return state.src.slice(pos, max);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      isEscaped = false,\n      lastPos = 0,\n      current = '';\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x7c/* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos));\n        current = '';\n        lastPos = pos + 1;\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1);\n        lastPos = pos;\n      }\n    }\n\n    isEscaped = (ch === 0x5c/* \\ */);\n    pos++;\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(current + str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, l, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines, oldParentType, terminate,\n      terminatorRules, firstCh, secondCh;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  firstCh = state.src.charCodeAt(pos++);\n  if (firstCh !== 0x7C/* | */ && firstCh !== 0x2D/* - */ && firstCh !== 0x3A/* : */) { return false; }\n\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  secondCh = state.src.charCodeAt(pos++);\n  if (secondCh !== 0x7C/* | */ && secondCh !== 0x2D/* - */ && secondCh !== 0x3A/* : */ && !isSpace(secondCh)) {\n    return false;\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D/* - */ && isSpace(secondCh)) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText);\n  if (columns.length && columns[0] === '') columns.shift();\n  if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  columnCount = columns.length;\n  if (columnCount === 0 || columnCount !== aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'table';\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) { break; }\n    lineText = getLine(state, nextLine).trim();\n    if (!lineText) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText);\n    if (columns.length && columns[0] === '') columns.shift();\n    if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n    if (nextLine === startLine + 2) {\n      token     = state.push('tbody_open', 'tbody', 1);\n      token.map = tbodyLines = [ startLine + 2, 0 ];\n    }\n\n    token     = state.push('tr_open', 'tr', 1);\n    token.map = [ nextLine, nextLine + 1 ];\n\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n\n  if (tbodyLines) {\n    token = state.push('tbody_close', 'tbody', -1);\n    tbodyLines[1] = nextLine;\n  }\n\n  token = state.push('table_close', 'table', -1);\n  tableLines[1] = nextLine;\n\n  state.parentType = oldParentType;\n  state.line = nextLine;\n  return true;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 &&\n            links[0].index === 0 &&\n            i > 0 &&\n            tokens[i - 1].type === 'text_special') {\n          links = links.slice(1);\n        }\n\n        for (ln = 0; ln < links.length; ln++) {\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","// Simple typographic replacements\n//\n// (c) (C)  \n// (tm) (TM)  \n// (r) (R)  \n// +-  \n// (p) (P) -> \n// ...   (also ?....  ?.., !....  !..)\n// ????????  ???, !!!!!  !!!, `,,`  `,`\n// --  &ndash;, ---  &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - multiplications 2 x 4 -> 2  4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '',\n  r: '',\n  tm: ''\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '')\n          // .., ..., ....... -> \n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /*  */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n'use strict';\n\n\nmodule.exports = function text_join(state) {\n  var j, l, tokens, curr, max, last,\n      blockTokens = state.tokens;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue;\n\n    tokens = blockTokens[j].children;\n    max = tokens.length;\n\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text';\n      }\n    }\n\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' &&\n          curr + 1 < max &&\n          tokens[curr + 1].type === 'text') {\n\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n      } else {\n        if (curr !== last) { tokens[last] = tokens[curr]; }\n\n        last++;\n      }\n    }\n\n    if (curr !== last) {\n      tokens.length = last;\n    }\n  }\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;\nvar AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var url, fullUrl, token, ch, start, max,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  start = state.pos;\n  max = state.posMax;\n\n  for (;;) {\n    if (++pos >= max) return false;\n\n    ch = state.src.charCodeAt(pos);\n\n    if (ch === 0x3C /* < */) return false;\n    if (ch === 0x3E /* > */) break;\n  }\n\n  url = state.src.slice(start + 1, pos);\n\n  if (AUTOLINK_RE.test(url)) {\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  if (EMAIL_RE.test(url)) {\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  return false;\n};\n","// Parse backticks\n\n'use strict';\n\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, token, matchStart, matchEnd, openerLength, closerLength,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n  openerLength = marker.length;\n\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker;\n    state.pos += openerLength;\n    return true;\n  }\n\n  matchStart = matchEnd = pos;\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    closerLength = matchEnd - matchStart;\n\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        token     = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart;\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true;\n\n  if (!silent) state.pending += marker;\n  state.pos += openerLength;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  if (!max) return;\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  var headerIdx = 0;\n  var lastTokenIdx = -2; // needs any value lower than -1\n  var jumps = [];\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    jumps.push(0);\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx;\n    }\n\n    lastTokenIdx = closer.token;\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1, -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length % 3)];\n\n    openerIdx = headerIdx - jumps[headerIdx] - 1;\n\n    newMinOpenerIdx = openerIdx;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (opener.open && opener.end < 0) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            jumps[openerIdx - 1] + 1 :\n            0;\n\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump;\n          jumps[openerIdx] = lastJump;\n\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + ((closer.length || 0) % 3)] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               // check that first two markers match and adjacent\n               delimiters[i - 1].marker === startDelim.marker &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               // check that last two markers are adjacent (we can safely assume they match)\n               delimiters[startDelim.end + 1].token === endDelim.token + 1;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) return false;\n\n  if (pos + 1 >= max) return false;\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x23 /* # */) {\n    match = state.src.slice(pos).match(DIGITAL_RE);\n    if (match) {\n      if (!silent) {\n        code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n\n        token         = state.push('text_special', '', 0);\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        token.markup  = match[0];\n        token.info    = 'entity';\n      }\n      state.pos += match[0].length;\n      return true;\n    }\n  } else {\n    match = state.src.slice(pos).match(NAMED_RE);\n    if (match) {\n      if (has(entities, match[1])) {\n        if (!silent) {\n          token         = state.push('text_special', '', 0);\n          token.content = entities[match[1]];\n          token.markup  = match[0];\n          token.info    = 'entity';\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch1, ch2, origStr, escapedStr, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false;\n  pos++;\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false;\n\n  ch1 = state.src.charCodeAt(pos);\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0);\n    }\n\n    pos++;\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos);\n      if (!isSpace(ch1)) break;\n      pos++;\n    }\n\n    state.pos = pos;\n    return true;\n  }\n\n  escapedStr = state.src[pos];\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    ch2 = state.src.charCodeAt(pos + 1);\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1];\n      pos++;\n    }\n  }\n\n  origStr = '\\\\' + escapedStr;\n\n  if (!silent) {\n    token = state.push('text_special', '', 0);\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr;\n    } else {\n      token.content = origStr;\n    }\n\n    token.markup = origStr;\n    token.info   = 'escape';\n  }\n\n  state.pos = pos + 1;\n  return true;\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function fragments_join(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n\n    if (isLinkOpen(token.content))  state.linkLevel++;\n    if (isLinkClose(token.content)) state.linkLevel--;\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      token,\n      href = '',\n      title = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos;\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str;\n        pos = res.pos;\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos);\n          if (!isSpace(code) && code !== 0x0A) { break; }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.linkLevel++;\n    state.md.inline.tokenize(state);\n    state.linkLevel--;\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process links like https://example.org/\n\n'use strict';\n\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nvar SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;\n\n\nmodule.exports = function linkify(state, silent) {\n  var pos, max, match, proto, link, url, fullUrl, token;\n\n  if (!state.md.options.linkify) return false;\n  if (state.linkLevel > 0) return false;\n\n  pos = state.pos;\n  max = state.posMax;\n\n  if (pos + 3 > max) return false;\n  if (state.src.charCodeAt(pos) !== 0x3A/* : */) return false;\n  if (state.src.charCodeAt(pos + 1) !== 0x2F/* / */) return false;\n  if (state.src.charCodeAt(pos + 2) !== 0x2F/* / */) return false;\n\n  match = state.pending.match(SCHEME_RE);\n  if (!match) return false;\n\n  proto = match[1];\n\n  link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));\n  if (!link) return false;\n\n  url = link.url;\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '');\n\n  fullUrl = state.md.normalizeLink(url);\n  if (!state.md.validateLink(fullUrl)) return false;\n\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length);\n\n    token         = state.push('link_open', 'a', 1);\n    token.attrs   = [ [ 'href', fullUrl ] ];\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n\n    token         = state.push('text', '', 0);\n    token.content = state.md.normalizeLinkText(url);\n\n    token         = state.push('link_close', 'a', -1);\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n  }\n\n  state.pos += url.length - proto.length;\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, ws, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        ws = pmax - 1;\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--;\n\n        state.pending = state.pending.slice(0, ws);\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n\n  // backtick length => last seen position\n  this.backticks = {};\n  this.backticksScanned = false;\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0;\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","/* global window, exports, define */\n\n!function() {\n    'use strict'\n\n    var re = {\n        not_string: /[^s]/,\n        not_bool: /[^t]/,\n        not_type: /[^T]/,\n        not_primitive: /[^v]/,\n        number: /[diefg]/,\n        numeric_arg: /[bcdiefguxX]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[+-]/\n    }\n\n    function sprintf(key) {\n        // `arguments` is not an array, but should be fine for this call\n        return sprintf_format(sprintf_parse(key), arguments)\n    }\n\n    function vsprintf(fmt, argv) {\n        return sprintf.apply(null, [fmt].concat(argv || []))\n    }\n\n    function sprintf_format(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, arg, output = '', i, k, ph, pad, pad_character, pad_length, is_positive, sign\n        for (i = 0; i < tree_length; i++) {\n            if (typeof parse_tree[i] === 'string') {\n                output += parse_tree[i]\n            }\n            else if (typeof parse_tree[i] === 'object') {\n                ph = parse_tree[i] // convenience purposes only\n                if (ph.keys) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < ph.keys.length; k++) {\n                        if (arg == undefined) {\n                            throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k-1]))\n                        }\n                        arg = arg[ph.keys[k]]\n                    }\n                }\n                else if (ph.param_no) { // positional argument (explicit)\n                    arg = argv[ph.param_no]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (re.not_type.test(ph.type) && re.not_primitive.test(ph.type) && arg instanceof Function) {\n                    arg = arg()\n                }\n\n                if (re.numeric_arg.test(ph.type) && (typeof arg !== 'number' && isNaN(arg))) {\n                    throw new TypeError(sprintf('[sprintf] expecting number but found %T', arg))\n                }\n\n                if (re.number.test(ph.type)) {\n                    is_positive = arg >= 0\n                }\n\n                switch (ph.type) {\n                    case 'b':\n                        arg = parseInt(arg, 10).toString(2)\n                        break\n                    case 'c':\n                        arg = String.fromCharCode(parseInt(arg, 10))\n                        break\n                    case 'd':\n                    case 'i':\n                        arg = parseInt(arg, 10)\n                        break\n                    case 'j':\n                        arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0)\n                        break\n                    case 'e':\n                        arg = ph.precision ? parseFloat(arg).toExponential(ph.precision) : parseFloat(arg).toExponential()\n                        break\n                    case 'f':\n                        arg = ph.precision ? parseFloat(arg).toFixed(ph.precision) : parseFloat(arg)\n                        break\n                    case 'g':\n                        arg = ph.precision ? String(Number(arg.toPrecision(ph.precision))) : parseFloat(arg)\n                        break\n                    case 'o':\n                        arg = (parseInt(arg, 10) >>> 0).toString(8)\n                        break\n                    case 's':\n                        arg = String(arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 't':\n                        arg = String(!!arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'T':\n                        arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'u':\n                        arg = parseInt(arg, 10) >>> 0\n                        break\n                    case 'v':\n                        arg = arg.valueOf()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'x':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16)\n                        break\n                    case 'X':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase()\n                        break\n                }\n                if (re.json.test(ph.type)) {\n                    output += arg\n                }\n                else {\n                    if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\n                        sign = is_positive ? '+' : '-'\n                        arg = arg.toString().replace(re.sign, '')\n                    }\n                    else {\n                        sign = ''\n                    }\n                    pad_character = ph.pad_char ? ph.pad_char === '0' ? '0' : ph.pad_char.charAt(1) : ' '\n                    pad_length = ph.width - (sign + arg).length\n                    pad = ph.width ? (pad_length > 0 ? pad_character.repeat(pad_length) : '') : ''\n                    output += ph.align ? sign + arg + pad : (pad_character === '0' ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output\n    }\n\n    var sprintf_cache = Object.create(null)\n\n    function sprintf_parse(fmt) {\n        if (sprintf_cache[fmt]) {\n            return sprintf_cache[fmt]\n        }\n\n        var _fmt = fmt, match, parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree.push(match[0])\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree.push('%')\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1])\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else {\n                                throw new SyntaxError('[sprintf] failed to parse named argument key')\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError('[sprintf] failed to parse named argument key')\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported')\n                }\n\n                parse_tree.push(\n                    {\n                        placeholder: match[0],\n                        param_no:    match[1],\n                        keys:        match[2],\n                        sign:        match[3],\n                        pad_char:    match[4],\n                        align:       match[5],\n                        width:       match[6],\n                        precision:   match[7],\n                        type:        match[8]\n                    }\n                )\n            }\n            else {\n                throw new SyntaxError('[sprintf] unexpected placeholder')\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return sprintf_cache[fmt] = parse_tree\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    /* eslint-disable quote-props */\n    if (typeof exports !== 'undefined') {\n        exports['sprintf'] = sprintf\n        exports['vsprintf'] = vsprintf\n    }\n    if (typeof window !== 'undefined') {\n        window['sprintf'] = sprintf\n        window['vsprintf'] = vsprintf\n\n        if (typeof define === 'function' && define['amd']) {\n            define(function() {\n                return {\n                    'sprintf': sprintf,\n                    'vsprintf': vsprintf\n                }\n            })\n        }\n    }\n    /* eslint-enable quote-props */\n}(); // eslint-disable-line\n","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// LUA mode. Ported to CodeMirror 2 from Franciszek Wawrzak's\n// CodeMirror 1 mode.\n// highlights keywords, strings, comments (no leveling supported! (\"[==[\")), tokens, basic indenting\n\n(function(mod) {\n    if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n      mod(require(\"../../lib/codemirror\"));\n    else if (typeof define == \"function\" && define.amd) // AMD\n      define([\"../../lib/codemirror\"], mod);\n    else // Plain browser env\n      mod(CodeMirror);\n  })(function(CodeMirror) {\n  \"use strict\";\n  \n  CodeMirror.defineMode(\"lua\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit;\n  \n    function prefixRE(words) {\n      return new RegExp(\"^(?:\" + words.join(\"|\") + \")\");\n    }\n    function wordRE(words) {\n      return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\");\n    }\n    var specials = wordRE(parserConfig.specials || []);\n  \n    // long list of standard functions from lua manual\n    var builtins = wordRE([\n      \"_G\",\"_VERSION\",\"assert\",\"collectgarbage\",\"dofile\",\"error\",\"getfenv\",\"getmetatable\",\"ipairs\",\"load\",\n      \"loadfile\",\"loadstring\",\"module\",\"next\",\"pairs\",\"pcall\",\"print\",\"rawequal\",\"rawget\",\"rawset\",\"require\",\n      \"select\",\"setfenv\",\"setmetatable\",\"tonumber\",\"tostring\",\"type\",\"unpack\",\"xpcall\",\n  \n      \"coroutine.create\",\"coroutine.resume\",\"coroutine.running\",\"coroutine.status\",\"coroutine.wrap\",\"coroutine.yield\",\n  \n      \"debug.debug\",\"debug.getfenv\",\"debug.gethook\",\"debug.getinfo\",\"debug.getlocal\",\"debug.getmetatable\",\n      \"debug.getregistry\",\"debug.getupvalue\",\"debug.setfenv\",\"debug.sethook\",\"debug.setlocal\",\"debug.setmetatable\",\n      \"debug.setupvalue\",\"debug.traceback\",\n  \n      \"close\",\"flush\",\"lines\",\"read\",\"seek\",\"setvbuf\",\"write\",\n  \n      \"io.close\",\"io.flush\",\"io.input\",\"io.lines\",\"io.open\",\"io.output\",\"io.popen\",\"io.read\",\"io.stderr\",\"io.stdin\",\n      \"io.stdout\",\"io.tmpfile\",\"io.type\",\"io.write\",\n  \n      \"math.abs\",\"math.acos\",\"math.asin\",\"math.atan\",\"math.atan2\",\"math.ceil\",\"math.cos\",\"math.cosh\",\"math.deg\",\n      \"math.exp\",\"math.floor\",\"math.fmod\",\"math.frexp\",\"math.huge\",\"math.ldexp\",\"math.log\",\"math.log10\",\"math.max\",\n      \"math.min\",\"math.modf\",\"math.pi\",\"math.pow\",\"math.rad\",\"math.random\",\"math.randomseed\",\"math.sin\",\"math.sinh\",\n      \"math.sqrt\",\"math.tan\",\"math.tanh\",\n  \n      \"os.clock\",\"os.date\",\"os.difftime\",\"os.execute\",\"os.exit\",\"os.getenv\",\"os.remove\",\"os.rename\",\"os.setlocale\",\n      \"os.time\",\"os.tmpname\",\n  \n      \"package.cpath\",\"package.loaded\",\"package.loaders\",\"package.loadlib\",\"package.path\",\"package.preload\",\n      \"package.seeall\",\n  \n      \"string.byte\",\"string.char\",\"string.dump\",\"string.find\",\"string.format\",\"string.gmatch\",\"string.gsub\",\n      \"string.len\",\"string.lower\",\"string.match\",\"string.rep\",\"string.reverse\",\"string.sub\",\"string.upper\",\n  \n      \"table.concat\",\"table.insert\",\"table.maxn\",\"table.remove\",\"table.sort\"\n    ]);\n    var keywords = wordRE([\"and\",\"break\",\"elseif\",\"false\",\"nil\",\"not\",\"or\",\"return\",\n                           \"true\",\"function\", \"end\", \"if\", \"then\", \"else\", \"do\",\n                           \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\" ]);\n  \n    var indentTokens = wordRE([\"function\", \"if\",\"repeat\",\"do\", \"\\\\(\", \"{\"]);\n    var dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\n    var dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\n  \n    function readBracket(stream) {\n      var level = 0;\n      while (stream.eat(\"=\")) ++level;\n      stream.eat(\"[\");\n      return level;\n    }\n  \n    function normal(stream, state) {\n      var ch = stream.next();\n      if (ch == \"-\" && stream.eat(\"-\")) {\n        if (stream.eat(\"[\") && stream.eat(\"[\"))\n          return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n        stream.skipToEnd();\n        return \"comment\";\n      }\n      if (ch == \"\\\"\" || ch == \"'\")\n        return (state.cur = string(ch))(stream, state);\n      if (ch == \"[\" && /[\\[=]/.test(stream.peek()))\n        return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w.%]/);\n        return \"number\";\n      }\n      if (/[\\w_]/.test(ch)) {\n        stream.eatWhile(/[\\w\\\\\\-_.]/);\n        return \"variable\";\n      }\n      return null;\n    }\n  \n    function bracketed(level, style) {\n      return function(stream, state) {\n        var curlev = null, ch;\n        while ((ch = stream.next()) != null) {\n          if (curlev == null) {if (ch == \"]\") curlev = 0;}\n          else if (ch == \"=\") ++curlev;\n          else if (ch == \"]\" && curlev == level) { state.cur = normal; break; }\n          else curlev = null;\n        }\n        return style;\n      };\n    }\n  \n    function string(quote) {\n      return function(stream, state) {\n        var escaped = false, ch;\n        while ((ch = stream.next()) != null) {\n          if (ch == quote && !escaped) break;\n          escaped = !escaped && ch == \"\\\\\";\n        }\n        if (!escaped) state.cur = normal;\n        return \"string\";\n      };\n    }\n  \n    return {\n      startState: function(basecol) {\n        return {basecol: basecol || 0, indentDepth: 0, cur: normal};\n      },\n  \n      token: function(stream, state) {\n        if (stream.eatSpace()) return null;\n        var style = state.cur(stream, state);\n        var word = stream.current();\n        if (style == \"variable\") {\n          if (keywords.test(word)) style = \"keyword\";\n          else if (builtins.test(word)) style = \"builtin\";\n          else if (specials.test(word)) style = \"variable-2\";\n        }\n        if ((style != \"comment\") && (style != \"string\")){\n          if (indentTokens.test(word)) ++state.indentDepth;\n          else if (dedentTokens.test(word)) --state.indentDepth;\n        }\n        return style;\n      },\n  \n      indent: function(state, textAfter) {\n        var closing = dedentPartial.test(textAfter);\n        return state.basecol + indentUnit * (state.indentDepth - (closing ? 1 : 0));\n      },\n  \n      electricInput: /^\\s*(?:end|until|else|\\)|\\})$/,\n      lineComment: \"--\",\n      blockCommentStart: \"--[[\",\n      blockCommentEnd: \"]]\"\n    };\n  });\n  \n  CodeMirror.defineMIME(\"text/x-lua\", \"lua\");\n  \n  });\n  ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2533);\n"],"names":["md","inline","block","core","options","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","highlight","maxNesting","parse","src","env","Error","state","this","State","process","tokens","rules","ruler","escape","input","replace","renderOne","output","add","str","push","repeat","level","content","changer","attrGet","href","type","child","children","length","isWhiteSpace","charCodeAt","links","nesting","tag","markdownToLua","outputBuffer","startLevel","token","preprocess","idx","out","search","start","i1","indexOf","i2","substring","end","disable","story","startNode","getAttribute","startNodeName","buf","i","node","tagName","toLowerCase","tags","split","map","t","join","textContent","enc","TextEncoder","errorPattern","doLua","L","pos","lauxlib","luaL_dostring","encode","errorStr","lua","lua_tojsstring","lua_gettop","_","line","msg","match","from","ch","Number","to","severity","message","lintOne","parent","getLineAndChar","lastLineAt","meta","extraLines","undoPreprocess","pendingExtraLines","charCode","count","countChars","lib","passages","luaL_newstate","lualib","luaL_openlibs","fname","lua_register","concat","filter","x","includes","outbuf","text","getLintingContext","a","silent","prevToken","splice","attrs","startsWith","endMarker","endBlock","endSyntax","tok","slice","startPos","srcEnd","posMax","target","endPos","ltrLink","rtlLink","trim","tokenize","isLetter","code","isLetterOrNumber","propertyExpression","callExpression","begin","lambdaExpression","found","loadExtraCss","id","styleContainer","document","querySelector","createElement","setAttribute","head","appendChild","innerHTML","window","CodeMirror","defineMode","modeFactory","config","modeObj","simpleMode","regex","mode","spec","persistent","expression","sol","pop","next","cm","undefined","setOption","f","_handlers","change","registerHelper","makeLinter","__vue__","GUTTER_ID","rm","elt","parentNode","removeChild","showTooltipFor","e","tooltip","tt","position","off","style","top","Math","max","clientY","offsetHeight","left","clientX","className","theme","cloneNode","lint","selfContain","getWrapperElement","body","on","opacity","showTooltip","hide","setTimeout","poll","setInterval","n","nodeType","host","clearInterval","LintState","conf","hasGutter","prop","marked","Function","getAnnotations","linterOptions","defaults","hasOwnProperty","timeout","onMouseOver","srcElement","test","box","getBoundingClientRect","right","y","bottom","spans","findMarksAt","coordsChar","annotations","ann","__annotation","createDocumentFragment","annotationTooltip","popupTooltips","waitingFor","highlightLines","tooltips","delay","lintOnChange","async","formatAnnotation","onUpdateLinting","clearMarks","clearGutter","eachLine","has","wrapClass","exec","removeLineClass","clearErrorLines","clear","makeMarker","labels","multiple","marker","inner","tip","messageHTML","createTextNode","startLinting","getHelper","Pos","abort","getValue","arg2","operation","updateLinting","lintAsync","then","issues","annotationsNotSorted","b","lines","groupByLine","anns","item","maxSeverity","tipLabel","markText","setGutterMarker","addLineClass","onChange","clearTimeout","defineOption","val","old","Init","gutters","getOption","hasLintGutter","defineExtension","mod","multiplexingMode","outer","others","Array","prototype","call","arguments","string","pattern","returnEnd","m","index","startState","innerActive","startingInner","copyState","stream","curInner","oldContent","close","parseDelimiters","delimStyle","innerToken","innerStyle","cutOff","Infinity","other","open","outerIndent","indent","possibleOuterIndent","Pass","outerToken","textAfter","blankLine","electricChars","innerMode","overlayMode","base","overlay","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","min","combineTokens","baseToken","overlayToken","ensureState","states","name","toRegex","caret","flags","RegExp","ignoreCase","unicode","source","String","Rule","data","apply","result","asToken","tokenFunction","pending","pend","shift","local","endToken","localState","endScan","current","curState","rule","matches","stack","enterLocalMode","indentation","indentUnit","dedent","j","backUp","cmp","props","pers","p","persistentStates","getMode","lState","forceEnd","indentFunction","dontIndentStates","arr","scan","dedentIfLineStart","defineSimpleMode","states_","hasIndentation","list","orig","s","cmCfg","modeCfg","htmlMode","htmlModeMissing","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","quote","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","switchInline","switchBlock","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","context","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","column","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","localMode","findModeByName","mime","mimes","lookAhead","charAt","peek","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","matchCh","previousFormatting","eatWhile","formattingEscape","atts","len","before","after","leftFlanking","rightFlanking","setEm","setStrong","retType","endChar","returnState","linkRE","footnoteLinkInside","footnoteUrl","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","luastring_from","luastring_indexOf","luastring_of","Uint8Array","bind","r","v","array_indexOf","of","is_luastring","unicode_error_message","uri_allowed","reduce","c","to_luastring_cache","to_luastring","cache","TypeError","cached","outU8Array","outIdx","u","module","exports","luastring_eq","to_jsstring","value","replacement_char","u0","fromCharCode","RangeError","u1","u2","s1","s2","u3","to_uristring","toString","from_userstring","LUA_SIGNATURE","LUA_VERSION_MAJOR","LUA_VERSION_MINOR","LUA_VERSION_NUM","LUA_VERSION_RELEASE","LUA_VERSION","LUA_RELEASE","LUA_COPYRIGHT","LUA_AUTHORS","constant_types","LUA_TNONE","LUA_TNIL","LUA_TBOOLEAN","LUA_TLIGHTUSERDATA","LUA_TNUMBER","LUA_TSTRING","LUA_TTABLE","LUA_TFUNCTION","LUA_TUSERDATA","LUA_TTHREAD","LUA_NUMTAGS","LUA_TSHRSTR","LUA_TLNGSTR","LUA_TNUMFLT","LUA_TNUMINT","LUA_TLCL","LUA_TLCF","LUA_TCCL","LUAI_MAXSTACK","LUA_REGISTRYINDEX","LUA_HOOKCALL","LUA_HOOKCOUNT","LUA_HOOKLINE","LUA_HOOKRET","LUA_HOOKTAILCALL","LUA_MASKCALL","LUA_MASKCOUNT","LUA_MASKLINE","LUA_MASKRET","LUA_MINSTACK","LUA_MULTRET","LUA_OPADD","LUA_OPBAND","LUA_OPBNOT","LUA_OPBOR","LUA_OPBXOR","LUA_OPDIV","LUA_OPEQ","LUA_OPIDIV","LUA_OPLE","LUA_OPLT","LUA_OPMOD","LUA_OPMUL","LUA_OPPOW","LUA_OPSHL","LUA_OPSHR","LUA_OPSUB","LUA_OPUNM","LUA_RIDX_GLOBALS","LUA_RIDX_LAST","LUA_RIDX_MAINTHREAD","lua_Debug","constructor","event","NaN","namewhat","what","currentline","linedefined","lastlinedefined","nups","nparams","isvararg","istailcall","short_src","i_ci","lua_upvalueindex","thread_status","LUA_OK","LUA_YIELD","LUA_ERRRUN","LUA_ERRSYNTAX","LUA_ERRMEM","LUA_ERRGCMM","LUA_ERRERR","FENGARI_AUTHORS","FENGARI_COPYRIGHT","FENGARI_RELEASE","FENGARI_VERSION","FENGARI_VERSION_MAJOR","FENGARI_VERSION_MINOR","FENGARI_VERSION_NUM","FENGARI_VERSION_RELEASE","luaconf","defs","lua_pushinteger","lua_pushliteral","lua_setfield","luaL_newlib","luaopen_fengari","api_check","ldebug","ldo","luaU_dump","lfunc","lobject","lstate","luaS_bless","luaS_new","luaS_newliteral","ltm","lvm","ltable","ZIO","TValue","CClosure","api_incr_top","ci","api_checknelems","funcOff","fengari_argcheck","fengari_argcheckinteger","isvalid","o","luaO_nilobject","index2addr","l_G","l_registry","MAXUPVAL","func","ttislcf","nupvalues","upvalue","index2addr_","lua_settop","newtop","stack_last","adjust_top","lua_pop","reverse","fromtv","temp","setobjs2s","setobj2s","lua_rotate","pIdx","lua_copy","fromidx","toidx","setfrom","lua_pushcclosure","fn","cl","setclCvalue","lua_pushjsclosure","lua_pushcfunction","lua_pushjsfunction","auxsetstr","k","pushsvalue2s","settable","lua_setglobal","luaH_getint","auxgetstr","luaV_gettable","ttnov","lua_rawgeti","ttistable","pushobj2s","lua_createtable","narray","nrec","luaH_new","aux_upvalue","fi","ttype","upvalues","getstr","upvals","lua_tolstring","ttisstring","cvt2str","luaO_tostring","svalue","lua_tostring","lua_tointegerx","tointeger","lua_tonumberx","tonumber","seen","WeakMap","f_call","ud","luaD_callnoyield","nresults","lua_type","default_chunkname","checkresults","na","nr","lua_callk","nargs","ctx","callstatus","CIST_LUA","status","nny","c_k","c_ctx","luaD_call","lua_pcallk","errfunc","luaD_pcall","extra","c_old_errfunc","CIST_OAH","allowhook","CIST_YPCALL","getupvalref","fidx","ttisLclosure","lua_absindex","lua_arith","op","luaO_arith","lua_atpanic","panicf","panic","lua_atnativeerror","errorf","atnativeerror","lua_call","lua_checkstack","res","EXTRA_STACK","luaD_growstack","lua_compare","index1","index2","o1","o2","luaV_equalobj","luaV_lessthan","luaV_lessequal","lua_concat","luaV_concat","lua_dump","writer","strip","lua_error","luaG_errormsg","lua_gc","lua_getallocf","console","warn","lua_getextraspace","lua_getfield","lua_getglobal","lua_geti","lua_getmetatable","objindex","mt","obj","metatable","lua_gettable","lua_getupvalue","funcindex","up","lua_getuservalue","ttisfulluserdata","uv","uservalue","lua_insert","lua_isboolean","lua_iscfunction","ttisCclosure","lua_isfunction","lua_isinteger","ttisinteger","lua_islightuserdata","lua_isnil","lua_isnone","lua_isnoneornil","lua_isnumber","lua_isproxy","G","get","lua_isstring","lua_istable","lua_isthread","lua_isuserdata","ttislightuserdata","lua_len","tv","luaV_objlen","lua_load","reader","chunkname","z","luaD_protectedparser","gt","lua_newtable","lua_newuserdata","size","Udata","luaS_newudata","lua_next","luaH_next","lua_pcall","lua_pushboolean","lua_pushfstring","fmt","argp","luaO_pushvfstring","lua_pushglobaltable","lua_pushlightuserdata","ts","lua_pushlstring","subarray","lua_pushnil","lua_pushnumber","lua_pushstring","lua_pushthread","mainthread","lua_pushvalue","lua_pushvfstring","lua_rawequal","lua_rawget","luaH_get","lua_rawgetp","lua_rawlen","vslen","luaH_getn","lua_rawset","luaH_setfrom","invalidateTMcache","lua_rawseti","luaH_setint","lua_rawsetp","lua_remove","lua_replace","lua_setallocf","lua_seti","lua_setmetatable","ttisnil","lua_settable","lua_setupvalue","aux","lua_setuservalue","lua_status","lua_stringtonumber","sz","luaO_str2num","lua_toboolean","l_isfalse","lua_tocfunction","lua_todataview","u8","DataView","buffer","byteOffset","byteLength","lua_tointeger","jsstring","lua_tonumber","lua_topointer","lua_toproxy","proxy","lua_State","set","create_proxy","lua_tothread","ttisthread","lua_touserdata","lua_typename","ttypename","lua_upvalueid","ref","lua_upvaluejoin","fidx1","n1","fidx2","n2","ref1","ref2","up2","lua_version","version","lua_xmove","LUAL_BUFFERSIZE","lua_getinfo","lua_getstack","lua_newstate","LUA_ERRFILE","LUA_LOADED_TABLE","LUA_PRELOAD_TABLE","LUA_FILEHANDLE","__name","__tostring","empty","luaL_Buffer","findfield","objidx","pushglobalfuncname","ar","pushfuncname","luaL_argerror","arg","extramsg","luaL_error","typeerror","tname","typearg","luaL_getmetafield","luaL_typename","luaL_where","luaL_fileresult","stat","errno","luaL_getmetatable","luaL_testudata","tag_error","luaL_checklstring","luaL_checkstring","luaL_optlstring","def","luaL_optstring","luaL_checknumber","d","luaL_checkinteger","interror","luaL_prepbuffsize","B","newend","newsize","newbuff","luaL_buffinit","luaL_addlstring","l","luaL_addsize","luaL_addstring","luaL_pushresult","luaL_opt","getS","luaL_loadbufferx","buff","luaL_loadbuffer","luaL_loadstring","luaL_callmeta","p_I","p_f","find_subarray","subarr","from_index","sl","loop","luaL_getsubtable","luaL_setfuncs","nup","luaL_checkstack","space","errfile","fnameindex","error","serr","filename","getc","utf8_bom","luaL_loadfilex","LoadF","err","getF","lf","bytes","path","xhr","XMLHttpRequest","responseType","send","statusText","response","com","skipBOM","skipped","skipcomment","readstatus","luaL_loadfile","luaL_checkversion_","ver","LUA_NOREF","LUA_REFNIL","luaL_addchar","luaL_addvalue","luaL_argcheck","cond","luaL_buffinitsize","luaL_checkany","luaL_checkoption","lst","luaL_checktype","luaL_checkudata","luaL_checkversion","luaL_dofile","luaL_execresult","signal","luaL_gsub","wild","luaL_len","luaL_newlibtable","luaL_newmetatable","luaL_optinteger","luaL_optnumber","luaL_prepbuffer","luaL_pushresultsize","luaL_ref","luaL_requiref","modname","openf","glb","luaL_setmetatable","luaL_tolstring","kind","luaL_traceback","L1","last","li","le","floor","lastlevel","LEVELS1","luaL_unref","lua_writestringerror","lua_writestring","lua_writeline","TextDecoder","decoder","decode","log","copy","opts","luaB_next","ipairsaux","luaB_error","finishpcall","load_aux","envidx","generic_reader","dofilecont","d1","d2","base_funcs","method","iszero","iter","pairsmeta","parseInt","isNaN","b_str2int","luaopen_base","lua_assert","llex","lopcodes","lparser","OpCodesI","NO_JUMP","BinOpr","OPR_ADD","OPR_SUB","OPR_MUL","OPR_MOD","OPR_POW","OPR_DIV","OPR_IDIV","OPR_BAND","OPR_BOR","OPR_BXOR","OPR_SHL","OPR_SHR","OPR_CONCAT","OPR_EQ","OPR_LT","OPR_LE","OPR_NE","OPR_GT","OPR_GE","OPR_AND","OPR_OR","OPR_NOBINOPR","UnOpr","OPR_MINUS","OPR_BNOT","OPR_NOT","OPR_LEN","OPR_NOUNOPR","hasjumps","tonumeral","make_tvalue","ek","expkind","VKINT","ival","VKFLT","nval","luaK_nil","fs","previous","pc","lasttarget","opcode","OP_LOADNIL","pfrom","A","pl","SETARG_A","SETARG_B","luaK_codeABC","getinstruction","info","getjump","offset","sBx","fixjump","dest","jmp","abs","MAXARG_sBx","luaX_syntaxerror","ls","SETARG_sBx","luaK_concat","l1","l2","luaK_jump","jpc","luaK_codeAsBx","OP_JMP","condjump","C","luaK_getlabel","getjumpcontroloffset","testTMode","getjumpcontrol","patchtestreg","reg","OP_TESTSET","NO_REG","CREATE_ABC","OP_TEST","removevalues","patchlistaux","vtarget","dtarget","luaK_patchtohere","luaK_patchlist","luaK_code","dischargejpc","lineinfo","lastline","getOpMode","iABC","getBMode","OpArgN","getCMode","MAXARG_A","MAXARG_B","MAXARG_C","luaK_codeABx","bc","iABx","iAsBx","MAXARG_Bx","CREATE_ABx","codeextraarg","MAXARG_Ax","CREATE_Ax","OP_EXTRAARG","luaK_codek","OP_LOADK","OP_LOADKX","luaK_checkstack","newstack","freereg","maxstacksize","luaK_reserveregs","ISK","nactvar","freeexp","VNONRELOC","freeexps","e1","e2","r1","r2","addk","key","h","nk","luaK_intK","luaK_numberK","boolK","luaK_setreturns","VCALL","SETARG_C","VVARARG","luaK_setoneret","VRELOCABLE","luaK_dischargevars","VLOCAL","VUPVAL","OP_GETUPVAL","VINDEXED","ind","vt","OP_GETTABLE","OP_GETTABUP","code_loadbool","jump","OP_LOADBOOL","discharge2reg","VNIL","VFALSE","VTRUE","VK","OP_MOVE","VJMP","discharge2anyreg","need_value","exp2reg","final","p_t","fj","luaK_exp2nextreg","luaK_exp2anyreg","luaK_exp2val","luaK_exp2RK","vk","nilK","MAXINDEXRK","RKASK","negatecondition","jumponcond","ie","OP_NOT","luaK_goiftrue","luaK_goiffalse","constfolding","v1","v2","validop","codebinexpval","rk2","rk1","luaK_fixline","luaK_exp2anyregup","luaK_indexed","vkisinreg","luaK_infix","luaK_jumpto","luaK_patchclose","ins","luaK_posfix","OP_CONCAT","OP_ADD","opr","OP_EQ","codecomp","luaK_prefix","ef","expdesc","codeunexpval","OP_UNM","codenot","luaK_ret","first","nret","OP_RETURN","luaK_self","ereg","OP_SELF","luaK_setlist","nelems","tostore","LFIELDS_PER_FLUSH","OP_SETLIST","luaK_setmultret","luaK_storevar","vr","ex","OP_SETUPVAL","OP_SETTABLE","OP_SETTABUP","luaK_stringK","lua_isyieldable","lua_newthread","lua_resume","lua_yield","getco","co","auxresume","narg","nres","luaB_auxwrap","luaB_cocreate","NL","co_funcs","luaopen_coroutine","lua_gethook","lua_gethookcount","lua_gethookmask","lua_getlocal","lua_sethook","lua_setlocal","checkstack","getthread","thread","settabss","settabsi","settabsb","treatstackoption","auxupvalue","checkupval","argf","argnup","HOOKKEY","hooknames","hookf","dblib","mask","hook","smask","unmakemask","nvar","hooktable","makemask","getinput","prompt","debug","luaopen_debug","LUA_IDSIZE","lapi","currentpc","l_savedpc","swapextra","upvalname","findlocal","numparams","l_base","findvararg","luaF_getlocalname","funcinfo","luaO_chunkid","getfuncname","funcname","CIST_FIN","CIST_TAIL","funcnamefromcode","kname","kvalue","INDEXK","getobjname","filterpc","jmptarget","lastpc","setreg","OCi","OP_TFORCALL","OP_CALL","OP_TAILCALL","testAMode","findsetreg","vn","LUA_ENV","Bx","Ax","tm","CIST_HOOKED","TMS","TM_INDEX","TM_NEWINDEX","TM_ADD","OP_SUB","TM_SUB","OP_MUL","TM_MUL","OP_MOD","TM_MOD","OP_POW","TM_POW","OP_DIV","TM_DIV","OP_IDIV","TM_IDIV","OP_BAND","TM_BAND","OP_BOR","TM_BOR","OP_BXOR","TM_BXOR","OP_SHL","TM_SHL","OP_SHR","TM_SHR","TM_UNM","OP_BNOT","TM_BNOT","OP_LEN","TM_LEN","TM_CONCAT","TM_EQ","OP_LT","TM_LT","OP_LE","TM_LE","tmname","varinfo","getupvalname","stkid","isinstack","luaO_pushfstring","luaG_typeerror","luaT_objtypename","luaG_runerror","luaG_addinfo","luaD_throw","luaG_concaterror","p1","p2","luaG_opinterror","luaG_ordererror","t1","t2","luaG_tointerror","luaG_traceexec","hookmask","counthook","hookcount","basehookcount","CIST_HOOKYIELD","luaD_hook","npc","newline","oldpc","ttisfunction","ttisclosure","is_vararg","auxgetinfo","collectvalidlines","base_ci","LUAI_MAXCCALLS","lundump","MBuffer","seterrorobj","errcode","oldtop","current_top","setsvalue2s","ERRORSTACKSIZE","luaD_reallocstack","needed","luaD_checkstack","luaD_shrinkstack","inuse","lim","stackinuse","goodsize","luaE_freeCI","luaD_precall","luaE_extendCI","luaD_poscall","fsize","adjust_varargs","l_code","callhook","tryfuncTM","firstResult","wanted","moveresults","setnilvalue","ci_top","actual","nfixargs","fixed","luaT_gettmbyobj","TM_CALL","nResults","nCcalls","stackerror","luaV_execute","errorJmp","g","luaD_rawrunprotected","oldnCcalls","lj","finishCcall","unroll","luaV_finishOp","recover","findpcall","luaF_close","resume_error","resume","firstArg","lua_yieldk","old_top","old_ci","old_allowhooks","old_nny","old_errfunc","SParser","dyd","Dyndata","checkmode","f_parser","zgetc","luaU_undump","luaY_parser","luaF_initupvals","luaD_inctop","oldnny","LUAC_DATA","LUAC_VERSION","DumpState","write","DumpBlock","D","DumpByte","DumpInt","ab","ArrayBuffer","setInt32","DumpInteger","DumpNumber","setFloat64","DumpString","tsslen","DumpFunction","psource","DumpCode","tsvalue","DumpConstants","instack","DumpUpvalues","DumpProtos","locvars","varname","startpc","endpc","DumpDebug","w","DumpHeader","Proto","id_counter","luaF_findupval","local_number","luaF_newLclosure","LClosure","loadedlibs","luaopen_math","luaopen_package","luaopen_os","luaopen_string","luaopen_table","luaopen_utf8","LUA_LOADLIBNAME","LUA_COLIBNAME","LUA_TABLIBNAME","LUA_OSLIBNAME","LUA_STRLIBNAME","LUA_MATHLIBNAME","LUA_UTF8LIBNAME","LUA_DBLIBNAME","LUA_FENGARILIBNAME","luai_ctype_","lisdigit","lislalnum","lislalpha","lisprint","lisspace","lisxdigit","LUA_MINBUFFER","MAX_INT","luaS_hash","luaS_hashlongstr","EOZ","luaZ_buffer","luaZ_buffremove","luaZ_resetbuffer","luaZ_resizebuffer","FIRST_RESERVED","TK_EOS","TK_FLT","TK_STRING","RESERVED","luaX_tokens","SemInfo","Token","seminfo","save","lexerror","luaX_token2str","currIsNewline","save_and_next","TVtrue","luaX_newstring","tpair","inclinenumber","linenumber","check_next1","check_next2","read_numeral","expo","ttisfloat","txtToken","skip_sep","read_long_string","sep","skip","esccheck","gethexa","luaO_hexavalue","readhexaesc","utf8esc","UTF8BUFFSZ","luaO_utf8esc","readutf8desc","readdecesc","read_string","del","will","token_to_index","Object","create","forEach","kidx","LexState","lookahead","envn","isreserved","luaX_lookahead","luaX_next","luaX_setinput","firstchar","luai_apicheck","luai_nummod","MIN_INT","LUA_MAXINTEGER","LUA_MININTEGER","lua_numbertointeger","rand_state","l_rand","pushnumint","mathlib","acos","asin","atan2","ceil","cos","PI","exp","log2","log10","imax","imin","ip","low","random","sin","sqrt","tan","LUA_DIRSEP","LUA_EXEC_DIR","LUA_JSPATH_DEFAULT","LUA_PATH_DEFAULT","LUA_PATH_MARK","LUA_PATH_SEP","fengari","global_env","WorkerGlobalScope","self","eval","JSLIBS","LUA_CSUBSEP","LUA_LSUBSEP","LUA_POF","LUA_OFSEP","AUXMARK","lsys_load","readable","seeglb","lookforfunc","sym","checkjslib","addtojslib","lsys_sym","setpath","fieldname","envname","dft","nver","LUA_VERSUFFIX","noenv","plib","pushnexttemplate","searchpath","dirsep","findfile","pname","checkload","searcher_Lua","loadfunc","openfunc","mark","searcher_C","searcher_Croot","searcher_preload","findloader_cont","ll_require_cont","ll_require_cont2","pk_funcs","init","ll_funcs","findloader","createjslibstable","searchers","createsearcherstable","LUA_COMPAT_FLOATSTRING","ldexp","lua_integer2str","lua_number2str","LUA_TPROTO","LUA_TDEADKEY","checktag","checktype","ttisnumber","ttisboolean","ttisshrstring","ttislngstring","ttisdeadkey","setfltvalue","chgfltvalue","setivalue","chgivalue","setfvalue","setpvalue","setbvalue","setsvalue","setuvalue","setthvalue","setclLvalue","sethvalue","setdeadvalue","newidx","freeze","RETS","PRE","POS","mfb","SIGILS","modes","MAXBY10","MAXLASTD","pushstr","Table","JSON","stringify","ids","intarith","luaV_imul","luaV_mod","luaV_div","luaV_shiftl","numarith","pow","LocVar","p3","luaT_trybinTM","bufflen","nli","out_i","luaO_int2fb","s2i","neg","l_str2int","pmode","sigdig","nosigdig","hasdot","neg1","exp1","lua_strx2number","flt","parseFloat","lua_str2number","l_str2dloc","l_str2d","oldidx","oldtv","luaP_opmodes","SIZE_Bx","POS_C","POS_Bx","MASK1","MASK0","setarg","fullins","SETARG_Bx","BITRK","GET_OPCODE","GETARG_A","GETARG_B","GETARG_C","GETARG_Bx","GETARG_Ax","GETARG_sBx","OpArgK","OpArgR","OpArgU","OpCodes","OP_NEWTABLE","OP_FORLOOP","OP_FORPREP","OP_TFORLOOP","OP_CLOSURE","OP_VARARG","POS_A","POS_Ax","POS_B","POS_OP","SETARG_Ax","SET_OPCODE","SIZE_A","SIZE_Ax","SIZE_B","SIZE_C","SIZE_OP","iAx","lua_close","LUA_STRFTIMEOPTIONS","setfield","setallfields","time","utc","getUTCSeconds","getSeconds","getUTCMinutes","getMinutes","getUTCHours","getHours","getUTCDate","getDate","getUTCMonth","getMonth","getUTCFullYear","getFullYear","getUTCDay","getDay","Date","L_MAXDATEFIELD","MAX_SAFE_INTEGER","getfield","delta","locale","days","shortDays","months","shortMonths","AM","PM","am","pm","formats","F","R","T","X","week_number","date","start_of_week","weekday","yday","push_pad_2","pad","strftime","checkoption","tzString","day","getTimezoneOffset","conv","option","oplen","l_checktime","syslib","stm","performance","now","luaS_eqlngstr","hasmultret","eqstr","BlockCnt","firstlabel","firstgoto","upval","isloop","VVOID","FuncState","prev","bl","np","firstlocal","nlocvars","Vardesc","Labeldesc","Labellist","semerror","error_expected","checklimit","limit","where","errorlimit","testnext","check","checknext","check_condition","check_match","who","str_checkname","TK_NAME","init_exp","codestring","checkname","new_localvar","registerlocalvar","actvar","new_localvarliteral","getlocvar","adjustlocalvars","nvars","newupvalue","singlevaraux","searchvar","markupval","searchupvalue","singlevar","adjust_assign","nexps","enterlevel","leavelevel","closegoto","label","gl","vname","findlabel","lb","newlabelentry","findgotos","enterblock","open_func","leaveblock","breaklabel","tolevel","removevars","movegotosout","undefgoto","close_func","block_follow","withuntil","TK_ELSE","TK_ELSEIF","TK_END","TK_UNTIL","statlist","TK_RETURN","statement","fieldsel","yindex","expr","ConsControl","nh","recfield","cc","rkkey","closelistfield","listfield","field","lastlistfield","ismethod","new_fs","clp","addprototype","TK_DOTS","parlist","TK_FUNCTION","codeclosure","explist","funcargs","args","suffixedexp","primaryexp","priority","subexpr","uop","TK_NOT","getunopr","TK_INT","TK_NIL","TK_TRUE","TK_FALSE","simpleexp","TK_IDIV","TK_SHL","TK_SHR","TK_CONCAT","TK_NE","TK_EQ","TK_LE","TK_GE","TK_AND","TK_OR","getbinopr","nextop","LHS_assign","assignment","lh","nv","conflict","check_conflict","gotostat","TK_GOTO","forbody","isnum","endfor","TK_DO","prep","test_then_block","escapelist","jf","TK_THEN","TK_BREAK","TK_IF","ifstat","TK_WHILE","whileinit","condexit","whilestat","TK_FOR","fornum","TK_IN","indexname","forlist","forstat","TK_REPEAT","repeat_init","bl1","bl2","repeatstat","funcstat","TK_LOCAL","localfunc","localstat","TK_DBCOLON","ll","checkrepeated","skipnoopstat","labelstat","retstat","exprstat","lexstate","funcstate","mainfunc","BASIC_STACK_SIZE","CallInfo","global_State","TM_N","stack_init","freestack","f_luaopen","registry","init_registry","luaT_init","CIST_FRESH","CIST_LEQ","close_state","luaE_freethread","TString","hash","realstring","sprintf","LUA_INTEGER_FMT","LUA_INTEGER_FRMLEN","LUA_NUMBER_FMT","LUA_NUMBER_FRMLEN","frexp","lua_getlocaledecpoint","L_ESC","MAXSIZE","strlen","posrelat","SIZELENMOD","lua_number2strx","is","zero","fe","num2straux","FLAGS","isalpha","isdigit","iscntrl","isgraph","islower","isupper","isalnum","ispunct","isspace","isxdigit","addliteral","addquoted","point","ppoint","checkdp","scanformat","strfrmt","form","addlenmod","lenmod","lm","MC","Header","islittle","maxalign","digit","getnum","df","getnumlimit","getoption","opt","getdetails","totalsize","ntoalign","align","packint","unpackint","issigned","unpacknum","dv","setUint8","getFloat32","getFloat64","SPECIALS","MatchState","src_init","src_end","p_end","matchdepth","capture","classend","ms","match_class","matchbracketclass","ec","sig","singlematch","ep","matchbalance","cont","max_expand","min_expand","start_capture","end_capture","capture_to_close","match_capture","check_capture","ai","bi","array_cmp","gotodefault","gotoinit","push_onecapture","push_captures","nlevels","prepstate","lp","reprepstate","str_find_aux","find","nospecials","anchor","GMatchState","lastmatch","gmatch_aux","gm","add_value","tr","news","add_s","strlib","posi","pose","srcl","max_s","details","setFloat32","lsep","totallen","pi","ld","createmetatable","lightuserdata_hashes","get_lightuserdata_hash","table_hash","Map","dead_strong","dead_weak","entry","mark_dead","delete","getgeneric","luaH_getstr","kv","table","keyI","keyO","checkfield","checktab","aux_getn","addfield","set2","sort_comp","partition","lo","choosePivot","rnd","r4","auxsort","tab_funcs","luaT_typenames_","TM_GC","TM_MODE","luaT_callTM","hasres","luaT_callbinTM","luaT_gettm","events","ename","fasttm","et","luaT_callorderTM","lua_setallof","LUA_VDIR","LUA_LDIR","LUA_JSDIR","mantissa","exponent","steps","bits","getUint32","toPrecision","LUA_BITLIBNAME","linit","luaZ_read","BytecodeParser","Z","intSize","size_tSize","instructionSize","integerSize","numberSize","arraybuffer","read","LoadByte","LoadInt","getInt32","LoadNumber","LoadInteger","LoadSize_t","LoadString","static","LoadCode","LoadConstants","LoadProtos","LoadFunction","LoadUpvalues","LoadDebug","checkliteral","checkHeader","checksize","why","byte","S","MAXUNICODE","iscont","u_posrelat","limits","utf8_decode","p_U","pushutfchar","iter_aux","dec","funcs","posj","UTF8PATT","RA","RB","RKB","RKC","dojump","donextjump","LTnum","l_strcmp","LEnum","forlimit","step","stopnow","ilimit","luaV_tointeger","cvt2num","rs","ra","rb","imul","aLo","bLo","getcached","encup","pushclosure","ncl","tostring","isemptystr","copy2buff","tl","total","slot","newframe","konst","rc","numberop1","numberop2","op1","op2","numberop","rbIdx","nci","oci","nfunc","nfuncOff","ofuncOff","forlim","plimit","pstep","initv","nlimit","nstep","ninit","cb","inst","luaV_rawequalobj","luaZ_fill","b_offset","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","_hasOwnProperty","object","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","DIGITAL_ENTITY_TEST_RE","entities","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","REGEXP_ESCAPE_RE","UNICODE_PUNCT_RE","mdurl","ucmicro","assign","sources","keys","isString","_class","unescapeMd","unescapeAll","escaped","entity","replaceEntityPattern","escapeHtml","arrayReplaceAt","newElements","isSpace","isMdAsciiPunct","isPunctChar","escapeRE","normalizeReference","toUpperCase","Ruler","_rules","ParserBlock","alt","startLine","endLine","getRules","hasEmptyLines","skipEmptyLines","sCount","blkIndent","tight","isEmpty","outTokens","lineMax","Core","_rules2","ParserInline","ruler2","skipToken","ok","pushPending","__rules__","__cache__","__find__","__compile__","chains","enabled","altName","chain","at","beforeName","ruleName","afterName","enable","ignoreInvalid","isArray","enableOnly","chainName","adjustTab","initial","lastLineEmpty","nextLine","oldBMarks","oldBSCount","oldIndent","oldParentType","oldSCount","oldTShift","spaceAfterMarker","terminate","terminatorRules","isOutdented","oldLineMax","bMarks","tShift","eMarks","bsCount","parentType","markup","getLines","params","mem","haveEndMarker","skipChars","skipSpaces","tmp","skipSpacesBack","skipCharsBack","cnt","block_names","HTML_SEQUENCES","lineText","skipBulletListMarker","skipOrderedListMarker","contentStart","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldListIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","listIndent","hidden","markTightParagraphs","_endLine","destEndPos","destEndLineNo","labelEnd","title","helpers","parseLinkDestination","normalizeLink","validateLink","parseLinkTitle","references","StateBlock","indent_found","ddIndent","keepLastLF","lineIndent","queue","lineStart","getLine","escapedSplit","isEscaped","lastPos","columns","columnCount","aligns","tableLines","tbodyLines","firstCh","secondCh","inlineMode","isLinkClose","currentToken","nodes","ln","htmlLinkLevel","url","fullUrl","urlText","blockTokens","pretest","schema","normalizeLinkText","lastIndex","NEWLINES_RE","NULL_RE","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","blkIdx","QUOTE_TEST_RE","QUOTE_RE","replaceAt","process_inlines","thisLevel","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","openQuote","closeQuote","OUTER","single","StateCore","curr","EMAIL_RE","AUTOLINK_RE","matchStart","matchEnd","openerLength","closerLength","backticksScanned","backticks","processDelimiters","delimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","headerIdx","lastTokenIdx","jumps","tokens_meta","postProcess","startDelim","endDelim","isStrong","scanned","scanDelims","can_open","can_close","DIGITAL_RE","NAMED_RE","ESCAPED","ch1","ch2","origStr","escapedStr","lc","linkLevel","labelStart","oldPos","parseLinkLabel","parseReference","SCHEME_RE","proto","link","matchAtStart","pmax","ws","StateInline","pendingLevel","_prev_delimiters","token_meta","canSplitWord","left_flanking","right_flanking","loneMarkers","isTerminatorChar","attrIndex","attrPush","attrData","attrSet","attrJoin","re","not_string","not_bool","not_type","not_primitive","number","numeric_arg","json","not_json","modulo","placeholder","key_access","index_access","sign","sprintf_format","sprintf_parse","parse_tree","argv","ph","pad_character","pad_length","is_positive","cursor","tree_length","param_no","width","precision","toExponential","toFixed","valueOf","pad_char","sprintf_cache","_fmt","arg_names","SyntaxError","field_list","replacement_field","field_match","Any","Cc","Cf","P","parserConfig","wordRE","words","specials","builtins","keywords","indentTokens","dedentTokens","dedentPartial","readBracket","normal","cur","bracketed","curlev","basecol","indentDepth","word","closing","electricInput","lineComment","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}